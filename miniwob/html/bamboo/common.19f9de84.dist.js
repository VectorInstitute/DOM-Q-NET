/*! For license information please see common.19f9de84.dist.js.LICENSE.txt */
try{(()=>{var __webpack_modules__={314464:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(402436);var i=a(774548);var o=a(273641);var s=c(a(866309));var l=r(a(497821));function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}let u=new WeakMap;let f=new WeakMap;class p extends n.Component{static get className(){return"BhrTabs"}static get themes(){return s}static get mainTmpl(){return l.default}static setup(e){let{$element:t}=e;t.on("BhrTabs:rendered",(function(){u.set(e,t.find(".js-BhrTabs__tabContentWrapper"));f.set(e,t.find(".js-BhrTabs__tabList"));p.setupTabs(e)})).on("BhrTabs:init",(function(){e.navigateTo(e.activeTab)})).on("BhrTabs:navigate",(function(t,a){if(!a||a.disabled||e.isProcessing){return}e.$tabs.removeClass("BhrTabs__tab--active BhrTabs__tab--processing");a.$tab=e.$tabs.filter(`[data-tab-name="${a.name}"]`);a.$tab.addClass("BhrTabs__tab--active BhrTabs__tab--processing");e.$tabContentWrapper.addClass("BhrTabs__tabContentWrapper--processing").children().removeClass("BhrTabs__tabContent--active");e.$element.triggerHandler("BhrTabs:startProcessing");e.renderTab(a).done((t=>{t.$tab.removeClass("BhrTabs__tab--processing").addClass("BhrTabs__tab--active");e.$element.triggerHandler("BhrTabs:stopProcessing");if(e.config.collapseTabs){t.$tab.find("> a").addClass("active")}t.$tabContent.addClass("BhrTabs__tabContent--active");e.$tabContentWrapper.removeClass("BhrTabs__tabContentWrapper--processing");$("ul.bhrCollapseTab").trigger("collapse:redraw");if(e.config.load==="sequential"){e.renderTab(e.activeTabNumber+1)}}))})).on("click.BhrTabs",".js-BhrTabs__tab",(function(t){t.preventDefault();if(!e.config.clickable){return}var a=$(this);if(!a.hasClass("BhrTabs__tab--active")){e.navigateTo(a.attr("data-tab-name"))}}));return p}static setupTabs(e){let{$element:t,$tabs:a,$tabContentWrapper:r}=e;e.config.tabs=e.config.tabs.map((t=>{t.$tab=a.filter(`[data-tab-name="${t.name}"]`);t.$tabContent=$(`<div class="BhrTabs__tabContent" data-tab-name="${t.name}"/>`).appendTo(r);if(e.config.load==="preload"){e.renderTab(t)}return t}));if(e.config.collapseTabs){if((0,o.isUndefined)($.fn.collapseTabs)){$.getScript(window.Res.get("/js/jquery.collapseTabs.js"),(function(){e.$tabList.collapseTabs()}))}else{e.$tabList.collapseTabs()}}return p}get $tabContentWrapper(){return u.get(this)}get $tabs(){return this.$tabList.find(".js-BhrTabs__tab[data-tab-name]")}get $tabList(){return f.get(this)}get $activeTab(){return $(this.$tabs.filter(".BhrTabs__tab--active")[0]||this.$tabs[0])}get activeTab(){return this.getTab(this.$activeTab.attr("data-tab-name"))}get activeTabName(){return this.$activeTab.attr("data-tab-name")}get activeTabNumber(){return this.$activeTab.index()+1}get tabCount(){return this.config.tabs.length}get isFirstTabActive(){return this.activeTabNumber===1}get isLastTabActive(){return this.activeTabNumber===this.tabCount}get mainTmplData(){this.config.tabs=(this.config.tabs||[]).map((e=>{e.name=(0,o.snakeCase)(e.name||e.label);return e}));this.config.collapseTabs=!!(this.config.collapseTabs||this.Theme.collapseTabs);return this.config}get isProcessing(){return this.$element.find(".BhrTabs__tab--processing").length>0}navigateTo(e){this.$element.triggerHandler("BhrTabs:navigate",[this.getTab(e)]);return this}nextTab(){this.navigateTo(this.activeTabNumber+1);return this}prevTab(){this.navigateTo(this.activeTabNumber-1);return this}getTab(e){if((0,o.isString)(e)){e=(0,o.find)(this.config.tabs,{name:e})}else if(!isNaN(e)){e=parseInt(e);if(e>this.config.tabs.length){e=(0,o.last)(this.config.tabs)}else if(e<1){e=(0,o.first)(this.config.tabs)}else{e=this.config.tabs[e-1]}}if((0,o.isPlainObject)(e)&&(0,i.isJqueryElement)(e.$tab)){return e}}renderTab(e){e=this.getTab(e);var t=$.Deferred();if(!e){t.reject(e);return t.promise()}if(e.rendered&&this.config.load!=="always"){t.resolve(e);return t.promise()}let a=e.html||this.config.html||this.Theme.tabHtml||this.tabHtml;let r=e.data||this.config.data||this.Theme.tabData||this.tabData;if((0,o.isString)(a)){if((0,o.startsWith)(a,"/")||(0,o.startsWith)(a,"http")){a=$.get(a)}if((0,o.startsWith)(a,"#")){a=$(a).html()}}r=(0,i.fnResult)(r,this,e);(0,i.when)(a,r).done(((a,r)=>{if((0,o.isArray)(a)&&a[1]==="success"){a=a[0]}if((0,o.isArray)(r)&&r[1]==="success"){r=r[0]}e.tmpl=a||"";let n=e.tmpl;if(this.config.microTemplate){let{microTemplate:t}=this.config;if(!(0,o.isFunction)(t)){t=window.microTemplate}e.tmplData=(0,o.defaults)({},r,{tab:e});n=t(e.tmpl,e.tmplData)}e.$tabContent.html(n);e.rendered=true;setTimeout((()=>{e.$tabContent.initializeElements();e.$tabContent.find("select:not(.chzn-ignore):not([multiple]):not(ba-select select)").chosen(bhrChosenOptions);if($.fn.multiselect){e.$tabContent.find("select[multiple]:not(ba-select select)").each((function(){let e=$(this);e.multiselect({header:false,minWidth:"auto",noneSelectedText:e.data("placeholder"),selectedText:e.data("selected-text")})}))}this.$element.triggerHandler("BhrTabs:tabRendered",[e]);this.$element.triggerHandler(`BhrTabs:tabRendered:${e.name}`,[e]);$("ul.bhrCollapseTab").trigger("collapse:redraw");t.resolve(e)}),0)}));return t.promise()}}t.default=p;p.stylePath="/css/BhrTabs.dist.css";p.defaultConfig={theme:"horizontal",load:"once",clickable:true,extraClasses:{},microTemplate:true}},866309:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"HorizontalTheme",{enumerable:true,get:function(){return r.HorizontalTheme}});Object.defineProperty(t,"LargeTheme",{enumerable:true,get:function(){return n.LargeTheme}});Object.defineProperty(t,"SmallTheme",{enumerable:true,get:function(){return i.SmallTheme}});Object.defineProperty(t,"SidebarTheme",{enumerable:true,get:function(){return o.SidebarTheme}});Object.defineProperty(t,"WizardTheme",{enumerable:true,get:function(){return s.WizardTheme}});Object.defineProperty(t,"BannerTheme",{enumerable:true,get:function(){return l.BannerTheme}});t.DEFAULT=void 0;var r=a(614177);var n=a(910934);var i=a(130243);var o=a(826443);var s=a(779833);var l=a(685778);const d="HorizontalTheme";t.DEFAULT=d},685778:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BannerTheme=void 0;const a=`<svg class="BhrTabs__tabArrow js-BhrTabs__tabArrow" width="37" height="17" viewBox="0 0 37 17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t<defs>\n\t\t<path d="M1 2h35L19.565 14.637c-.623.48-1.578.478-2.198 0" id="BannerArrow"/>\n\t\t<filter y="-19.2%" height="153.9%" filterUnits="objectBoundingBox" id="BannerArrowShadow">\n\t\t\t<feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"/>\n\t\t\t<feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>\n\t\t\t<feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" in="shadowBlurOuter1"/>\n\t\t</filter>\n\t</defs>\n\t<use filter="url(#BannerArrowShadow)" xlink:href="#BannerArrow"/>\n\t<use xlink:href="#BannerArrow"/>\n\t<path d="M17.978 13.845c.26.201.714.202.976 0L37 0H0l17.978 13.845z" fill="#FFF"/>\n</svg>`;class r{static get className(){return"BannerTheme"}constructor(e,t){const{$element:r}=t;r.on("BhrTabs:rendered",(()=>{r.find(".js-BhrTabs__tab").append(a)}))}}t.BannerTheme=r},614177:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.HorizontalTheme=void 0;class a{static get className(){return"HorizontalTheme"}constructor(e,t){this.collapseTabs=true;let{$element:a}=t;a.on("BhrTabs:rendered",(()=>{a.find(".BhrTabs__tabList").addClass("clearfix")}))}}t.HorizontalTheme=a},910934:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LargeTheme=void 0;class a{static get className(){return"LargeTheme"}}t.LargeTheme=a},826443:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SidebarTheme=void 0;class a{static get className(){return"SidebarTheme"}constructor(e,t){t.$element.addClass("clearfix")}}t.SidebarTheme=a},130243:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SmallTheme=void 0;class a{static get className(){return"SmallTheme"}}t.SmallTheme=a},779833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.WizardTheme=void 0;class a{static get className(){return"WizardTheme"}constructor(e,t){e.clickable=false;e.extraClasses={tab:"baseColor baseColorBg-before"}}}t.WizardTheme=a},976933:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AcaStatusSelect=c;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));var s=a(651745);var l=a(403811);var d=a(539425);a(658990);function c(e){const{allowedAcaStatuses:t,hasError:a=false,id:r,onSelect:c,onChange:u,selectedValue:f,showLabel:p=false}=e;const m=f?d.ACA_TYPES[f]:null;return(0,n.default)(i.default.Fragment,{},void 0,p&&(0,n.default)("label",{className:(0,o.default)("fab-Label fab-Label--required",{"fab-Label--error":a}),htmlFor:r},void 0,$.__("ACA Status")),(0,n.default)(s.Select,{condition:a?"error":"",id:r,isClearable:false,items:(0,l.generateAcaStatusSelectItems)(t),onChange:u,onSelect:c,selectedValues:[f],width:"9"}),m&&(0,n.default)("div",{className:"AcaStatusSelect__description"},void 0,m.description,m.url&&(0,n.default)("a",{href:m.url,rel:"noopener noreferrer",target:"_blank"},void 0,(0,n.default)("span",{className:"AcaStatusSelect__descriptionUrl"},void 0,$.__("See here for more details.")))))}},539425:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.ACA_TYPES=void 0;const r={contractor:{label:$.__("Contractor (1099)"),shortLabel:$.__("Contractor"),description:$.__("A person receiving a 1099 is not considered an employee and will not be included in the ACA reporting."),url:"https://www.irs.gov/businesses/small-businesses-self-employed/independent-contractor-defined"},"full-time":{label:$.__("Full-Time"),shortLabel:$.__("Full-Time"),description:$.__("A full-time employee is, for a calendar month, an employee employed on average at least 30 hours of service per week, or 130 hours of service per month."),url:"https://www.irs.gov/affordable-care-act/employers/identifying-full-time-employees"},"intern-compensated":{label:$.__("Intern (Eligible for benefits)"),shortLabel:$.__("Intern Eligible"),description:$.__("A temporary employee who receives compensation and therefore will be included in the ACA reporting."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-on-employer-shared-responsibility-provisions-under-the-affordable-care-act"},"intern-not-compensated":{label:$.__("Intern (Ineligible for benefits)"),shortLabel:$.__("Intern Ineligible"),description:$.__("A temporary employee who receives no compensation and therefore will not be included in ACA reporting."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-on-employer-shared-responsibility-provisions-under-the-affordable-care-act"},"part-time-eligible":{label:$.__("Part-Time/Variable Hour (eligible for benefits)"),shortLabel:$.__("Part-Time Eligible"),description:$.__("Any employee who was treated as a full-time employee for one or more months of the calendar year under the look-back measurement method."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-about-information-reporting-by-employers-on-form-1094-c-and-form-1095-c"},"part-time-ineligible":{label:$.__("Part-Time/Variable Hour (ineligible for benefits)"),shortLabel:$.__("Part-Time Ineligible"),description:$.__("Any employee who was not treated as a full-time employee for one or more months of the calendar year under the look-back measurement method."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-about-information-reporting-by-employers-on-form-1094-c-and-form-1095-c"},seasonal:{label:$.__("Seasonal"),shortLabel:$.__("Seasonal"),description:$.__("An employee who is hired to a position for which the annual employment is generally six months or less and begins approximately the same part of the year, such as summer or winter."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-on-employer-shared-responsibility-provisions-under-the-affordable-care-act"}};t.ACA_TYPES=r},162067:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AcaStatusSelect",{enumerable:true,get:function(){return r.AcaStatusSelect}});Object.defineProperty(t,"ACA_TYPES",{enumerable:true,get:function(){return n.ACA_TYPES}});var r=a(976933);var n=a(539425)},403811:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.generateAcaStatusSelectItems=void 0;var r=a(539425);const n=e=>{if(e){return e.reduce(((e,t)=>{if(r.ACA_TYPES[t]){const a=r.ACA_TYPES[t];const n={text:a.label,value:t};e.push(n)}return e}),[])}return[]};t.generateAcaStatusSelectItems=n},635638:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=m(a(573674));var o=a(121198);var s=a(489889);var l=m(a(479706));var d=a(273641);var c=r(a(656855));var u=a(651745);a(555017);var f=m(a(985944));function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=p(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const h=new WeakMap;const v=new WeakMap;const g=new WeakMap;const y=new WeakMap;const b=new WeakMap;const w=new WeakMap;const S=new WeakMap;const O=new WeakMap;const T=new WeakMap;const C=new WeakMap;class P extends i.Component{static get className(){return"BaTabs"}get Theme(){return g.get(this)}set theme(e){if(this.Theme){return}if(e&&!(0,d.isString)(e)){throw new Error(`Invalid theme (${e})`)}let t;[e,...t]=(e||f.DEFAULT).split(":");e=f[(0,d.camelCase)(e)]||f[f.DEFAULT];const a=new f.BaTabsTheme(e);g.set(this,a);const r=new o.BEM([this.constructor.className,...this.props.id?[this.props.id]:[]],[`${this.Theme.name}-theme`,()=>({loading:this.loading}),...t.filter((e=>a.variants.includes(e))).map((e=>`${this.Theme.name}-theme_${e}`))],[...l.isEnabled("jade")?[{tab:({active:e,disabled:t,loading:a})=>({baseColor:e,baseColorHover:!(e||t||a),baseFillColor:e,baseFillColorHover:!(e||t||a)})}]:[],a.extraClasses,this.extraClasses]);y.set(this,r)}get tabs(){return h.get(this)}get overflowOnlyTabs(){return v.get(this)}get tabLength(){return this.tabs.length}set tabs(e){if(this.tabs){return}if(!Array.isArray(e)){throw new Error('"tabs" prop is required for BaTabs')}const[t,a]=(0,s.splitOnCondition)(e,(e=>e.showOnlyInOverflow));let r=0;h.set(this,a.map((e=>new c.default(e,r++,this))));v.set(this,t.map((e=>new c.default(e,r++,this))))}set extraClasses(e){w.set(this,e)}get extraClasses(){return w.get(this)||{}}get hasPath(){return!!(this.path.pathname||this.tabs.map((e=>e.hasPath)).includes(true))}get path(){let{pathname:e=null,query:t=null,sync:a}=b.get(this)||{};return{pathname:e,query:t,sync:a}}get visibleTabs(){return this.tabs.slice(0,this.state.overflowIndex)}get overflowTabs(){const{overflowIndex:e}=this.state;return this.tabs.slice(e).concat(v.get(this)||[])}get hasOverflowTabs(){return this.state.overflowIndex>=0}set tabWrapper(e){if(e instanceof Element&&e!==this.tabWrapper){O.set(this,e);this._recalcOverflowIndex()}}get tabWrapper(){return O.get(this)}get _tabWrapperWidth(){const e=O.get(this);if(!e||!e.offsetParent){return 0}const{width:t}=window.getComputedStyle(e);return parseInt(t||"0")}get tabWrapperWidth(){return T.get(this)}set tabWrapperWidth(e){if(!e||e===this.tabWrapperWidth){return}T.set(this,e);const{overflowIndex:t}=this;if(t===this.state.overflowIndex&&this.state.hasInitCollapseTabs){return}this.setState({overflowIndex:t,hasInitCollapseTabs:true})}get tabWrapperMinWidth(){return this.tabs.reduce(((e,{width:t})=>e+t),0)}get overflowTab(){return S.get(this)}set overflowTab(e){if(e instanceof Element&&e!==this.overflowTab){S.set(this,e);this._recalcOverflowIndex()}}get overflowTabWidth(){const e=S.get(this);if(!e||!e.offsetParent){return 0}return parseInt(e.getBoundingClientRect().width)}get collapseTabs(){return!!(!this.hasGroups&&this.props.collapseTabs||this.Theme.collapseTabs)}get overflowIndex(){const e=this._tabWrapperWidth;let t=0;let a;if(e<this.tabWrapperMinWidth){t+=this.overflowTabWidth;this.tabs.some((({width:r},n)=>{t+=r;a=n;return t>e}))}return a}get overflowText(){return this.props.overflowText||this.Theme.overflowText}get firstTab(){return this.tabs[0]}get isFirstTab(){return this.activeTab===this.firstTab}get lastTabIndex(){return this.tabs.length-1}get lastTab(){return this.tabs[this.lastTabIndex]}get isLastTab(){return this.activeTab===this.lastTab}get prevTabIndex(){return(0,d.clamp)(this.activeTabIndex-1,0,this.lastTabIndex)}get prevTab(){return this.tabs[this.prevTabIndex]}get nextTabIndex(){return(0,d.clamp)(this.activeTabIndex+1,0,this.lastTabIndex)}get nextTab(){return this.tabs[this.nextTabIndex]}get loading(){return this.state.loading}get load(){return this.props.load||this.Theme.load}get activeTab(){return this.state.activeTab}set activeTab(e){if(!isNaN(e)){const t=parseInt(e)-1;e=this.tabs[(0,d.clamp)(t,0,this.lastTabIndex)]}else if((0,d.isString)(e)){e=this[`${e}Tab`]||this.tabs.find((({key:t}={})=>t===e))}if(!(e instanceof c.default)){throw new Error(`Invalid value for activeTab (${e})`)}if(e.data&&typeof e.data.tabType==="string"&&e.data.tabType==="reorder"){e=this.activeTab}if(e===this.activeTab){return}if(this.hasPath&&this.path.sync.up){let{pathname:t}=e;if(t){window.history.pushState({},null,t);return}}this.setState({activeTab:e,loading:e.shouldResolveContent},this._resolveTabs)}get activeTabIndex(){return this.tabs.indexOf(this.activeTab)}get activeTabNumber(){return this.activeTabIndex+1}get hasGroups(){const{groups:e}=this;return Array.isArray(e)&&e.length>0}get groups(){return C.get(this)}set groups(e){if(Array.isArray(C.get(this))){return}if((0,d.isPlainObject)(e)){Object.keys(e).forEach((t=>{let a=e[t];if(!(0,d.isPlainObject)(a)){a={name:t}}else{a.name=t}e[t]=a}))}if(!Array.isArray(e)){e=[...this.tabs.reduce(((e,{group:t})=>{if(!(0,d.isUndefined)(t)){e.add(t)}return e}),new Set)].sort()}e=e.map((e=>{if(!(0,d.isPlainObject)(e)){e={name:e}}return e}));C.set(this,e)}get _subcomponents(){return Object.keys(f.subcomponents).reduce(((e,t)=>({...e,[t]:this[t]||this.props[t]||this.Theme[t]})),{})}constructor(e){super(e);this.next=()=>{this.activeTab="next";return this};this.prev=()=>{this.activeTab="prev";return this};this._renderTabs=()=>{const e=this;const{hasInitCollapseTabs:t}=this.state;const a=this.collapseTabs&&!t;const{_createBEM:r,hasGroups:o,groups:s,_subcomponents:d}=this;const{title:c,icon:f}=this.props;const{TabWrapper:p,TabWrapperHeader:m,TabWrapperHeaderActions:h,TabWrapperFooter:v,TabWrapperFooterActions:g,TabGroup:y,TabGroupLabel:b,TabGroupIcon:w,TabGroupHeader:S,TabGroupFooter:O,Tab:T}=d;const C=e=>i.default.createElement("div",{className:r("tabWrapper",{hidden:a}),ref:e=>{this.tabWrapper=e}},(m||h)&&(0,n.default)("div",{className:r("tabWrapperHeader")},void 0,m&&i.default.createElement(m,e,null),h&&(0,n.default)("div",{className:r("tabWrapperHeaderActions")},void 0,i.default.createElement(h,e,null))),i.default.createElement(p,e),(v||g)&&(0,n.default)("div",{className:r("tabWrapperFooter")},void 0,v&&i.default.createElement(v,e,null),g&&(0,n.default)("div",{className:r("tabWrapperFooterActions")},void 0,i.default.createElement(g,e,null))));const P=e=>(0,n.default)("div",{className:r("tabGroup",[name,{empty:e.tabs.length<1}])},void 0,S&&(0,n.default)("div",{className:r("tabGroupHeader")},void 0,i.default.createElement(S,e)),i.default.createElement(y,e),O&&(0,n.default)("div",{className:r("tabGroupFooter")},void 0,i.default.createElement(O,e)));const E=()=>{const e=[];this.overflowTabs.forEach((t=>{const a={tab:t,key:t.key};if(typeof t.group==="string"){const r=e.find((e=>e.key===e.group));if(r){r.items.push(a)}else{e.push({key:t.group,type:"group",items:[a]})}}else{e.push(a)}}));return(0,n.default)(u.Dropdown,{buttonSettings:{className:r("textButton")},items:e,type:"text",renderOptionContent:({key:t})=>{const a=e=>e.items?e.items.find(a):e.key===t;const r=e.find(a);const{tab:n}=r.tab?r:r.items.find(a);return n.renderTab({overflow:true})}},void 0,(0,n.default)("span",{className:r("tabLabel",["primary"])},void 0,this.overflowText))};const M=()=>(0,n.default)(i.Fragment,{},void 0,(0,n.default)("span",{className:r("tabLabel",["primary"])},void 0,this.overflowText),this.hasOverflowTabs&&(0,n.default)("div",{className:r("tabOverflowWrapper")},void 0,this.overflowTabs.map((e=>e.renderTab()))));return i.default.createElement(C,{_createBEM:r,get tabs(){return e.tabs},_subcomponents:d,title:c,icon:f},o&&s.map((t=>{const{name:a}=t;const n=e.tabs.filter((e=>e.group==a));return i.default.createElement(P,{key:a,_createBEM:r,group:t,tabs:n,_subcomponents:d})})),!o&&(0,n.default)(i.Fragment,{},void 0,this.visibleTabs.map((e=>e.renderTab())),this.collapseTabs&&(this.hasOverflowTabs||!t)&&i.default.createElement("div",{className:r("tab","overflow"),ref:e=>{this.overflowTab=e}},l.isEnabled("jade")?E():M())))};this._renderBody=()=>{const{_createBEM:e,_subcomponents:t}=this;const{TabContentWrapper:a}=t;return(0,n.default)("div",{className:e("tabContentWrapper")},void 0,i.default.createElement(a,{_createBEM:e,_subcomponents:t},this.tabs.map((e=>e.renderBody()))))};this._findTabFromPath=()=>this.tabs.find((e=>e.testURL()));this._onHistoryChange=e=>{const t=this._findTabFromPath();if(!t){return}this.setState({activeTab:t,loading:t.shouldResolveContent},this._resolveTabs)};this._onNavBtnClick=({target:e})=>{if(!e.matches(`\n\t\t\t[data-tab-action*=":"],\n\t\t\t[data-tab-action*=":"] *\n\t\t`)){return}const{tabAction:t=""}=e.dataset||{};const[a,r=1]=t.split(":");if(a===this.props.id){this.activeTab=r}};this._updateNavBtns=(e=false)=>{const{activeTab:t,tabLength:a,isLastTab:r,isFirstTab:n}=this;$(`[data-tab-action^="${this.props.id}:"]`).each((function(){let[i,o=1]=this.dataset.tabAction.split(":");switch(o){case"next":case"last":$(this).toggleDisabled(e||r);break;case"prev":case"first":$(this).toggleDisabled(e||n);break;default:o=isNaN(o)?o:(0,d.clamp)(parseInt(o),1,a);$(this).toggleDisabled(e||[t.key,t.number].indexOf(o)>=0);break}}))};this._resolveTabs=()=>{const{activeTab:e}=this;return e.resolveContent().then((()=>{this._onTabChange(e);this._updateNavBtns(true);this.setState({loading:false},(()=>{if(this.props.id){$((()=>{setTimeout((()=>{this._updateNavBtns()}),0)}))}if(e.load.preload==="next"&&!this.isLastTab){const{nextTab:e}=this;if(!e.hasBody||!e.hasData){e.resolveContent().then((()=>{this.setState({loaded:e.key})}))}}if(!this.state.loaded&&e.load.preload==="all"){this.tabs.reduce(((e,t)=>e.then((()=>t.resolveContent()))),Promise.resolve()).then((()=>{this.setState({loaded:true})}))}}))}))};this._onTabChange=e=>{const t=this.props.onTabChange;if((0,d.isFunction)(t)){t.call(this,e)}document.dispatchEvent(new CustomEvent("BaTabs:change",{detail:e}))};this._createBEM=(...e)=>y.get(this).elem(...e);this._initCollapseTabs=()=>{if(!this.collapseTabs){return}window.addEventListener("resize",(0,d.debounce)(this._recalcOverflowIndex,100));document.addEventListener("BaTabs:change",this._recalcOverflowIndex);this._recalcOverflowIndex()};this._recalcOverflowIndex=(0,d.debounce)((()=>{if(!this.collapseTabs){return}this.tabWrapperWidth=this._tabWrapperWidth}),0);const{tabs:t,activeTab:a,theme:r,extraClasses:o,tabGroups:s}=e;let{path:c,pathSync:f}=e;let p,m;if((0,d.isString)(c)){[p,...m]=c.split("?");p="/"+(0,d.trimStart)(p,"/");m=m.join("?")||null;c={pathname:p,query:m}}if((0,d.isPlainObject)(c)){f=c.sync||f;if((0,d.isString)(f)){f=f.toLowerCase().replace(/\s+/g,"").split(/[^a-z!]+/g)}if(!Array.isArray(f)||(0,d.isEmpty)(f)){f=["all"]}c.sync={get all(){return this.load&&this.up&&this.down},get none(){return!this.load&&!this.up&&!this.down},load:!f.includes("none")&&!f.includes("!all")&&!f.includes("!load")&&f.includes("all")||f.includes("load"),up:!f.includes("none")&&!f.includes("!all")&&!f.includes("!up")&&f.includes("all")||f.includes("up"),down:!f.includes("none")&&!f.includes("!all")&&!f.includes("!down")&&f.includes("all")||f.includes("down")};b.set(this,c)}this.tabs=t;this.groups=s;if(o){this.extraClasses=o}if(this.hasPath&&this.path.sync.down){window.addEventListener("history:load",(0,d.debounce)(this._onHistoryChange,100));window.addEventListener("history:change",(0,d.debounce)(this._onHistoryChange,100))}this.state={activeTab:a,hasInitCollapseTabs:false};this.theme=r}componentDidMount(){document.addEventListener("click",this._onNavBtnClick);if(this.hasPath&&this.path.sync.load&&this.path.sync.down){this.activeTab=this.state.activeTab||this._findTabFromPath()||this.firstTab}else{this.activeTab=this.state.activeTab||this.firstTab}this._initCollapseTabs()}componentWillUnmount(){window.removeEventListener("history:load",this._onHistoryChange);window.removeEventListener("history:change",this._onHistoryChange)}shouldComponentUpdate(e,t){return t.activeTab!==this.state.activeTab||t.overflowIndex!==this.state.overflowIndex||t.hasInitCollapseTabs!==this.state.hasInitCollapseTabs||t.loading!==this.state.loading||t.loaded!==this.state.loaded}render(){return(0,n.default)("div",{className:this._createBEM(null)},void 0,this._renderTabs(),this._renderBody())}}t.default=P},656855:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(368652));var o=m(a(573674));var s=r(a(635638));var l=a(985944);var d=a(273641);var c=a(36029);var u=a(121198);var f=r(a(417842));function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=p(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const h=new WeakMap;const v=new WeakMap;const g=new WeakMap;const y=new WeakMap;const b=new WeakMap;function w(e,t){const a=h.get(e);return!(0,d.isUndefined)(a)&&!(0,d.isUndefined)(a[t])}function S(e,t,a){const r=h.get(e);if(!w(e,t)){return a}return r[t]}function O(e,t,a){h.get(e)[t]=a;return a}function T(e,t){delete h.get(e)[t]}function C(e,t,a){const r=(0,d.find)([S(e,t),e.BaTabs[t],e.BaTabs.props[t],e.Theme[t]],(e=>!(0,d.isUndefined)(e)));return(0,d.isUndefined)(r)?a:r}class P{static get className(){return"Tab"}get BaTabs(){return v.get(this)}get Theme(){return this.BaTabs.Theme}get index(){return S(this,"index")}get number(){return S(this,"number")}get key(){return S(this,"key")}get group(){return S(this,"group")}get href(){return S(this,"href")}get isLink(){return!!this.href}get hasPath(){return!!this._pathname}get path(){const{pathname:e=null,query:t=null,hash:a=null}=S(this,"path")||{};return{pathname:e,query:t,hash:a}}get _pathname(){const e=this.BaTabs.path;const t=this.path;if(!e.pathname&&!t.pathname){return}let{pathname:a}=t;let{pathname:r}=e;if((0,d.isFunction)(r)){r=r.call(this,{...this.props,...this.data})}if((0,d.isFunction)(a)){a=a.call(this,{...this.props,...this.data})}if((0,d.isString)(r)){a=(0,c.resolveURL)(r,a)}if(!(0,d.isEmpty)(a)){return a}}get _query(){const e=this.BaTabs.path;const t=this.path;let{query:a}=t;let{query:r}=e;if((0,d.isFunction)(r)){r=r.call(this,{...this.props,...this.data})}if((0,d.isFunction)(a)){a=a.call(this,{...this.props,...this.data})}if((0,d.isPlainObject)(r)){a={...r,...a||{}}}if(!(0,d.isEmpty)(a)){return a}}get pathname(){const{data:e,props:t}=this;const{_pathname:a,_query:r}=this;if((0,d.isEmpty)(a)){return}return(0,c.compileURL)(a,{...t,...e},r||{})}get active(){return this.number===this.BaTabs.activeTabNumber}get disabled(){return!!S(this,"disabled")}get tabElem(){return g.get(this)}set tabElem(e){if(e instanceof Element&&e!==this.tabElem){g.set(this,e);T(this,"width")}}get width(){if(w(this,"width")){return S(this,"width")}const{tabElem:e}=this;if(!e||!e.offsetParent){return 0}const{marginLeft:t,marginRight:a}=window.getComputedStyle(e);const{width:r}=e.getBoundingClientRect();return O(this,"width",r+parseInt(t||"0")+parseInt(a||"0"))}get tabContentElem(){return y.get(this)}set tabContentElem(e){if(e instanceof Element&&e!==this.tabContentElem){y.set(this,e)}}get primaryText(){return S(this,"primaryText")}get secondaryText(){return S(this,"secondaryText")}get icon(){return S(this,"icon")}get loading(){return this.BaTabs.loading}get load(){let e=S(this,"load",this.BaTabs.load);if((0,d.isString)(e)){switch(e){case"once":e={render:"all"};break;case"preload":e={render:"all",preload:"all"};break;case"sequential":e={render:"all",preload:"next"};break;case"always":e={render:"all",resolve:"always"};break}}if(!(0,d.isPlainObject)(e)){e={}}return{render:"active",resolve:"once",preload:"none",...e}}get isAsync(){const e=C(this,"getData");const t=C(this,"getBody");return!(0,d.isUndefined)(e)||!(0,d.isUndefined)(t)}get data(){return S(this,"data",{})}set data(e){O(this,"data",e)}get hasData(){return!!S(this,"data")}get body(){if(!this.active&&this.load.render==="active"){return null}const{props:{children:e}}=v.get(this);return S(this,"body")||e||C(this,"body")}set body(e){O(this,"body",e)}get hasBody(){return!!S(this,"body")}get caret(){return C(this,"caret",false)}get hiddenParts(){return C(this,"hiddenParts")}get shouldResolveContent(){return this.isAsync&&(this.load.resolve==="always"||!this.isResolved)}get isResolved(){return!this.loading&&S(this,"resolved",false)}get props(){const e=this;return{get tab(){return e},get index(){return e.index},get number(){return e.number},get key(){return e.key},get active(){return e.active},get disabled(){return e.disabled},get caret(){return e.caret},get primaryText(){return e.primaryText},get secondaryText(){return e.secondaryText},get icon(){return e.icon},get body(){return e.body},get onTabClick(){return e.onTabClick},get Theme(){return e.Theme},get hiddenParts(){return e.hiddenParts},get _createBEM(){return e._createBEM},get _subcomponents(){return e._subcomponents}}}constructor(e,t,a){this._createBEM=(...e)=>this.BaTabs._createBEM(...e);this.onTabClick=(...e)=>{const{Theme:t,props:a}=this.BaTabs;if(this.loading||this.disabled||C(this,"disableTabClick")||this.active||S(this,"onClick",d.noop)(this,...e)===false||(a.onTabClick||d.noop)(this,...e)===false||(t.onTabClick||d.noop)(this,...e)===false){return}this.BaTabs.activeTab=this};if(e.body&&e.getBody){throw new Error("A tab cannot have both body and getBody defined")}if(e.data&&e.getData){throw new Error("A tab cannot have both data and getData defined")}let{path:r}=e;let n;let i;if((0,d.isString)(r)){[n,...i]=r.split("?");i=i.join("?")||null;r={pathname:n,query:i}}h.set(this,{key:`tab${t+1}`,...e,index:t,number:t+1,primaryText:(0,d.isPlainObject)(e.label)?e.label.primary:e.label,secondaryText:(0,d.isPlainObject)(e.label)?e.label.secondary||null:null,icon:(0,d.isString)(e.icon)?{name:e.icon}:e.icon,path:(0,d.isPlainObject)(r)?r:null});v.set(this,a);this._subcomponents={};Object.defineProperties(this._subcomponents,Object.keys(l.subcomponents).reduce(((e,t)=>({...e,[t]:{get:()=>C(this,t)}})),{}))}renderTab({overflow:e=false}={}){const t=this;const{key:a}=this;return o.default.createElement(M,{key:a,tab:t,overflow:e})}renderBody(){const e=this;const{key:t}=this;return o.default.createElement(x,{key:t,tab:e})}getBody(){if(this.shouldResolveContent){const e=C(this,"getBody");if((0,d.isString)(e)){return f.default.get((0,c.compileURL)(e,this.props)).then((({data:e})=>e))}if((0,d.isFunction)(e)){return e.call(this.BaTabs,this)||this.body}}return this.body}getData(){if(this.shouldResolveContent){const e=C(this,"getData");if((0,d.isString)(e)){return f.default.get((0,c.compileURL)(e,this.props)).then((({data:e})=>e))}if((0,d.isFunction)(e)){return e.call(this.BaTabs,this)||this.data}}return this.data}resolveContent(){return Promise.all([this.getData(),this.getBody()]).then((([e,t])=>{this.data=e||this.data;this.body=t||this.body;O(this,"resolved",true);if(typeof this.BaTabs.props.onTabResolve==="function"){setTimeout((()=>{this.BaTabs.props.onTabResolve(this)}),0)}return this}))}testURL(){const{_pathname:e,_query:t}=this;if((0,d.isEmpty)(e)){return}const{params:a=null,query:r=null}=(0,c.testURL)(e,t||{})||{};const n={...this.props,...this.data};return a!==null&&r!==null&&![...Object.keys(a||{}).map((e=>(0,d.isUndefined)(n[e])||n[e]==a[e])),...Object.keys(t||{}).map((e=>(0,d.isUndefined)(r[e])||t[e]==r[e]))].includes(false)}}t.default=P;function E(e,t,a={}){if((0,d.isFunction)(t)){t=o.default.createElement(t,(0,i.default)({tab:e},a))}else if((0,d.isString)(t)){t=(0,n.default)("div",{dangerouslySetInnerHTML:{__html:t}})}return t}function M({tab:e,overflow:t}){const{data:a,data:{trackingAction:r},index:s,isLink:l,href:d,number:c,props:u,_subcomponents:{Tab:f}}=e;const{_createBEM:p,active:m,disabled:h,key:v,onTabClick:g}=u;const y=E(e,f,{...u,...a});const b=t=>l?o.default.createElement("a",(0,i.default)({},t,{ref:t=>{e.tabElem=t},href:d})):o.default.createElement("div",(0,i.default)({},t,{ref:t=>{e.tabElem=t},onClick:g}));const w=p(t?"overflowTab":"tab",[v,{active:m,disabled:h,"^fab-Link--inherit":l&&t,link:l}],e);return(0,n.default)(b,{className:w,"data-bi-id":`access-level-${r}-header-step`,"data-tab-index":s,"data-tab-number":c},void 0,y)}function x({tab:e}){const{props:{key:t,...a},loading:r,load:s,data:l,isAsync:d,isResolved:c}=e;const{_createBEM:u,active:f,disabled:p,_subcomponents:{TabContentHeader:m,TabContentHeaderActions:h,TabContentFooter:v,TabContentFooterActions:g,TabContent:y,TabLoadingContent:b}}=a;if(p||!f&&s.render==="active"){return null}let w=null;if(f&&r){w=E(e,b,{...a,...l})}else if(!d||!r&&c){w=E(e,e.body,{...a,...l});if(y){w=o.default.createElement(y,(0,i.default)({},a,l),w)}w=(0,n.default)(o.Fragment,{},void 0,(m||h)&&(0,n.default)("div",{className:u("tabContentHeader")},void 0,m&&o.default.createElement(m,(0,i.default)({},a,l),null),h&&(0,n.default)("div",{className:u("tabContentHeaderActions")},void 0,o.default.createElement(h,(0,i.default)({},a,l),null))),w,(v||g)&&(0,n.default)("div",{className:u("tabContentFooter")},void 0,v&&o.default.createElement(v,(0,i.default)({},a,l),null),g&&(0,n.default)("div",{className:u("tabContentFooterActions")},void 0,o.default.createElement(g,(0,i.default)({},a,l),null))))}return o.default.createElement("div",{ref:t=>{e.tabContentElem=t},className:u("tabContent",[t,{active:f}],e)},w)}},985944:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.subcomponents=t.BaTabsTheme=t.DEFAULT=void 0;var n=r(a(573674));var i=a(273641);var o=u(a(479706));var s=u(a(247831));var l=u(a(10193));var d=u(a(226927));t.subcomponents=d;function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f="basic";t.DEFAULT=f;Object.assign(e.exports,{...s,...o.isEnabled("jade")&&l});const p=new WeakMap;function m(e,t,a){const r=p.get(e);if(!t){return r}return(0,i.isUndefined)(r[t])?a:r[t]}function h(e,t){return m(e,t,d[t])}class v{static get className(){return"BaTabsTheme"}get name(){return m(this,"name")}get variants(){return m(this,"variants",[])}get body(){return m(this,"body")}get caret(){return m(this,"caret")}get hiddenParts(){return m(this,"hiddenParts")}get disableTabClick(){return m(this,"disableTabClick")}get extraClasses(){return m(this,"extraClasses")}get collapseTabs(){return m(this,"collapseTabs")}get overflowText(){return m(this,"overflowText")}get load(){return m(this,"load")}constructor(e){p.set(this,{...e,name:(0,i.kebabCase)(e.name),hiddenParts:(e.hiddenParts||[]).reduce(((e,t)=>{e[t]=true;return e}),{}),load:(0,i.camelCase)(e.load||null)||"active",overflowText:e.overflowText||$.__("More"),collapseTabs:!!e.collapseTabs,extraClasses:(0,i.isPlainObject)(e.extraClasses)?e.extraClasses:{},disableTabClick:!!e.disableTabClick});Object.defineProperties(this,Object.keys(d).reduce(((e,t)=>({...e,[t]:{get:()=>h(this,t)}})),{}))}}t.BaTabsTheme=v},10193:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(80942);Object.keys(r).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===r[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return r[e]}})}));var n=a(432541);Object.keys(n).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===n[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return n[e]}})}));var i=a(427257);Object.keys(i).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===i[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return i[e]}})}));var o=a(269106);Object.keys(o).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===o[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return o[e]}})}));var s=a(989155);Object.keys(s).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===s[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return s[e]}})}))},427257:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.large=void 0;a(309979);const r={name:"fab-large",extraClasses:{tab:({icon:e})=>({"--withIcon":e}),tabIcon:({active:e})=>({baseFillColor:e})}};t.large=r},432541:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.medium=void 0;a(472567);const r={name:"fab-medium",variants:["light","dark","header"],hiddenParts:["secondaryText"]};t.medium=r},269106:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.side=void 0;a(626406);const r={name:"fab-side",variants:["sub"],hiddenParts:["secondaryText"]};t.side=r},80942:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.small=void 0;a(489730);const r={name:"fab-small",variants:["light","large","icons","tight"],extraClasses:{tab:({active:e})=>({"branded-border-bottom":e})},hiddenParts:["secondaryText"]};t.small=r},989155:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.wizard=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);a(720032);const s={name:"fab-wizard",load:"sequential",disableTabClick:true,hiddenParts:["icon","secondaryText"],extraClasses:{tab({index:e,BaTabs:{activeTabIndex:t}}){return{"--done":e<t}}},TabCaret({className:e,tab:{index:t,number:a,BaTabs:{activeTabIndex:r}}}){return(0,n.default)("div",{className:e},void 0,t<r?(0,n.default)(o.Icon,{name:"fab-check-14x14"}):(0,n.default)("span",{},void 0,a))}};t.wizard=s},336013:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.banner=void 0;a(764208);const r={name:"banner",caret:`\n\t\t\t<svg width="37" height="17"\n\t\t\t\t\tviewBox="0 0 37 17" xmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\txmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t\t\t<defs>\n\t\t\t\t\t<path d="M1 2h35L19.565 14.637c-.623.48-1.578.478-2.198 0" id="BannerArrow"/>\n\t\t\t\t\t<filter y="-19.2%" height="153.9%" filterUnits="objectBoundingBox" id="BannerArrowShadow">\n\t\t\t\t\t\t<feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"/>\n\t\t\t\t\t\t<feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>\n\t\t\t\t\t\t<feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" in="shadowBlurOuter1"/>\n\t\t\t\t\t</filter>\n\t\t\t\t</defs>\n\t\t\t\t<use filter="url(#BannerArrowShadow)" xlink:href="#BannerArrow"/>\n\t\t\t\t<use xlink:href="#BannerArrow"/>\n\t\t\t\t<path d="M17.978 13.845c.26.201.714.202.976 0L37 0H0l17.978 13.845z" fill="#FFF"/>\n\t\t\t</svg>\n\t\t`,extraClasses:{tab:({active:e})=>({baseBorderColor:e}),tabIcon:({active:e})=>({baseFillColor:e}),tabCaret:({active:e})=>({baseFillColor:e})}};t.banner=r},79160:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.basic=void 0;a(676759);const r={name:"basic",hiddenParts:["secondaryText"],extraClasses:{tabIcon:({active:e})=>({baseFillColor:e})}};t.basic=r},226269:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.horizontal=void 0;a(724027);const r={name:"horizontal",collapseTabs:true,hiddenParts:["icon","secondaryText"],extraClasses:{tabLabel:({active:e})=>({baseColor:e})}};t.horizontal=r},247831:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(336013);Object.keys(r).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===r[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return r[e]}})}));var n=a(79160);Object.keys(n).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===n[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return n[e]}})}));var i=a(226269);Object.keys(i).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===i[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return i[e]}})}));var o=a(561305);Object.keys(o).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===o[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return o[e]}})}));var s=a(369975);Object.keys(s).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===s[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return s[e]}})}));var l=a(598371);Object.keys(l).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===l[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return l[e]}})}));var d=a(282340);Object.keys(d).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===d[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return d[e]}})}));var c=a(429990);Object.keys(c).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===c[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return c[e]}})}));var u=a(629038);Object.keys(u).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===u[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return u[e]}})}))},561305:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.large=void 0;a(290221);const r={name:"large",extraClasses:{tab:({icon:e})=>({"--withIcon":e}),tabIcon:({active:e})=>({baseFillColor:e})}};t.large=r},369975:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mini=void 0;a(215012);const r={name:"mini",hiddenParts:["secondaryText","icon"]};t.mini=r},598371:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.minimal=void 0;a(111733);const r={name:"minimal",extraClasses:{tabIcon:()=>"baseFillColor",tabLabel:()=>"baseColor",tab:()=>"baseColorBg-after baseColor baseFillColor"}};t.minimal=r},629038:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.settingsSubnav=void 0;var n=r(a(856075));var i=l(a(573674));var o=a(273641);a(700184);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d={name:"settings-subnav",extraClasses:{tabWrapper:"branded-border",tabWrapperTitle:"baseColor",tabWrapperIcon:"baseFillColor",tabIcon:({active:e})=>({baseFillColor:e})},TabWrapperTitle(e){const{className:t,title:a}=e;return i.default.createElement("h3",{className:t},a)},TabContentHeader(e){const{_createBEM:t,primaryText:a,secondaryText:r}=e;return(0,n.default)("h3",{className:t("tabContentTitle")},void 0,a,r&&(0,n.default)("span",{className:t("tabContentSubtitle")},void 0,r))}};t.settingsSubnav=d},282340:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.sidebar=void 0;var n=r(a(856075));var i=r(a(368652));var o=d(a(573674));var s=a(226927);a(38547);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const c={name:"sidebar",caret:true,hiddenParts:["icon","secondaryText"],extraClasses:{tabIcon:"baseFillColor",tabLabel:({active:e})=>({linkColor:!e})},TabContent:e=>{const{_createBEM:t,primaryText:a,children:r}=e;return(0,n.default)(o.Fragment,{},void 0,(0,n.default)("h4",{className:t("tabHeading",null,e)},void 0,o.default.createElement(s.TabIcon,(0,i.default)({className:t("tabIcon",null,e)},e)),a),r)}};t.sidebar=c},429990:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.wizard=void 0;a(686070);const r={name:"wizard",load:"sequential",disableTabClick:true,hiddenParts:["icon","secondaryText"],extraClasses:{tab:({active:e})=>({"baseBgColor-before":e}),tabLabel:({active:e})=>({baseColor:e})}};t.wizard=r},226927:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.TabIcon=f;t.TabPrimaryText=p;t.TabSecondaryText=m;t.TabCaret=h;t.NotifyCaret=v;t.Tab=g;t.TabGroup=y;t.TabGroupHeader=b;t.TabGroupIcon=w;t.TabGroupLabel=S;t.TabWrapper=T;t.TabWrapperHeader=C;t.TabWrapperTitle=E;t.TabWrapperIcon=M;t.TabContentWrapper=A;t.TabLoadingContent=L;t.TabContentFooterActions=t.TabContentFooter=t.TabContentHeaderActions=t.TabContentHeader=t.TabContent=t.TabWrapperFooterActions=t.TabWrapperFooter=t.TabWrapperHeaderActions=t.TabGroupFooter=void 0;var n=r(a(368652));var i=r(a(856075));var o=u(a(573674));var s=a(273641);var l=a(651745);var d=r(a(600702));function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function f(e){const{icon:t,className:a}=e;return t?(0,i.default)("span",{className:a},void 0,o.default.createElement(l.Icon,t)):null}function p(e){const{primaryText:t,className:a}=e;return t?o.default.createElement("span",{className:a},t):null}function m(e){const{secondaryText:t,className:a}=e;return t?o.default.createElement("span",{className:a},t):null}function h(e){const{caret:t,className:a}=e;if(!t){return null}if((0,s.isFunction)(t)){const r=t;return o.default.createElement(r,(0,n.default)({className:a},e))}else if((0,s.isString)(t)){return o.default.createElement("div",{className:a,dangerouslySetInnerHTML:{__html:t}})}else if(t===true){return o.default.createElement("div",{className:a})}return t}function v(e){let{_createBEM:t,active:a,disabled:r,notifyText:n}=e;if(!n||!isNaN(n)&&parseFloat(n)===0){n=null}return n&&(0,i.default)("span",{className:t("tabCaret",["notify",{active:a,disabled:r}],e)},void 0,n)}function g(e){const{_createBEM:t,_subcomponents:{TabIcon:a,TabPrimaryText:r,TabSecondaryText:s,TabCaret:l},hiddenParts:d,active:c,disabled:u}=e;return(0,i.default)(o.Fragment,{},void 0,!d.icon&&o.default.createElement(a,(0,n.default)({className:t("tabIcon",{active:c,disabled:u},e)},e)),!d.primaryText&&o.default.createElement(r,(0,n.default)({className:t("tabLabel",["primary",{active:c,disabled:u}],e)},e)),!d.secondaryText&&o.default.createElement(s,(0,n.default)({className:t("tabLabel",["secondary",{active:c,disabled:u}],e)},e)),!d.caret&&o.default.createElement(l,(0,n.default)({className:t("tabCaret",{active:c,disabled:u},e)},e)))}function y(e){const{_createBEM:t,group:a,tabs:r,className:n}=e;if(a.TabGroup){return a.TabGroup(e)}if(r.length<1){return null}return(0,i.default)(o.Fragment,{},void 0,r.map((e=>e.renderTab())))}function b(e){const{_createBEM:t,group:a,_subcomponents:{TabGroupIcon:r,TabGroupLabel:l}}=e;let{icon:d}=a;if(d&&!(0,s.isPlainObject)(d)){d={name:d}}return(0,i.default)(o.Fragment,{},void 0,d&&r&&(0,i.default)(r,{className:t("tabGroupIcon",a),icon:d}),a.label&&o.default.createElement(l,(0,n.default)({},a,{className:t("tabGroupLabel",a)})))}function w(e){return o.default.createElement(f,e)}function S(e){const{label:t,className:a}=e;return o.default.createElement("span",{className:a},t)}const O=null;t.TabGroupFooter=O;function T({children:e}){return(0,i.default)(o.Fragment,{},void 0,e)}function C(e){const{_createBEM:t,title:a,icon:r,_subcomponents:{TabWrapperTitle:l,TabWrapperIcon:d}}=e;if(!a&&!r){return null}return(0,i.default)("div",{className:t("tabWrapperTitleWrapper")},void 0,r&&d&&o.default.createElement(d,(0,n.default)({},e,{className:t("tabWrapperIcon"),icon:(0,s.isPlainObject)(r)?r:{name:r}})),a&&l&&o.default.createElement(l,(0,n.default)({},e,{className:t("tabWrapperTitle")})))}const P=null;t.TabWrapperHeaderActions=P;function E(e){const{title:t,className:a}=e;return(0,i.default)("span",{className:a},void 0,t)}function M(e){return o.default.createElement(f,e)}const x=null;t.TabWrapperFooter=x;const k=null;t.TabWrapperFooterActions=k;const j=null;t.TabContent=j;const I=null;t.TabContentHeader=I;const F=null;t.TabContentHeaderActions=F;const D=null;t.TabContentFooter=D;const N=null;t.TabContentFooterActions=N;function A(e){const{children:t}=e;return t}function L(e){return(0,i.default)(d.default,{blockName:"BaTabs",type:"dot"})}},258674:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=o;var n=r(a(368652));var i=r(a(573674));var _=r(a(64937));function o(e){const{SESSION_COMPANY:{id:t,name:a}}=window;return i.default.createElement(_.default,(0,n.default)({imageIcon:"fab-company-circle-30x30",isModalHeader:false,subTitle:$.__(`Company ID: %1$s`,t),title:a},e))}},64937:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.convertHTMLEntitiesInString=c;t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));var s=a(651745);a(525777);var l=a(845382);const d=e=>{const{children:t,imageJSX:a,imageAlt:r="",imageSrc:i="",imageIcon:l="",isModalHeader:d=true,noPadding:u=false,theme:f,title:p="",subTitle:m=""}=e;const h=(0,o.default)("Badge",{"Badge--modalHeader":d,"Badge--noPadding":u});const v=f?`BadgeContainer--${f}`:"";const g=(0,o.default)("BadgeContainer",v,{"BadgeContainer--modalHeader":d});let y=null;if(i&&typeof i==="string"){y=(0,n.default)("img",{alt:r,className:"BadgeImage__image",src:c(i)})}else if(a){y=(0,n.default)("div",{},void 0,a)}else if(l&&typeof l==="string"){y=(0,n.default)(s.Icon,{name:l})}return(0,n.default)("div",{className:g},void 0,(0,n.default)("div",{className:h},void 0,y&&(0,n.default)("div",{className:"BadgeImage"},void 0,y),(0,n.default)("div",{className:"BadgeText"},void 0,p&&(0,n.default)("div",{className:"BadgeText__title"},void 0,c(p)),m&&(0,n.default)("div",{className:"BadgeText__subTitle"},void 0,c(m)),t)))};function c(e){return(0,l.convertHTMLEntitiesInString)(e)}var u=d;t.default=u},26387:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmploymentSubtitles=s;var n=r(a(856075));var i=r(a(573674));var o=a(69231);a(515478);function s(e){const{jobTitle:t="",location:a=""}=e;const r=(0,n.default)("div",{className:"BadgeText__subTitle"},void 0,(0,n.default)(o.ColoredIcon,{classes:"EmploymentSubtitles__subTitleIcon",fabricColorName:"gray7",iconName:"fab-location-11x14"}),(0,n.default)("span",{className:"EmploymentSubtitles__subTitleText"},void 0,a));const i=(0,n.default)("div",{className:"BadgeText__subTitle"},void 0,(0,n.default)(o.ColoredIcon,{classes:"EmploymentSubtitles__subTitleIcon",fabricColorName:"gray7",iconName:"fab-employees-14x12"}),(0,n.default)("span",{className:"EmploymentSubtitles__subTitleText"},void 0,t));return(0,n.default)("div",{},void 0,t!==""&&i,a!==""&&r)}},453833:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EmploymentSubtitles",{enumerable:true,get:function(){return r.EmploymentSubtitles}});var r=a(26387)},301512:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);const s=({isLoading:e,onSubmit:t})=>(0,n.default)(o.StandardModal.Footer,{actions:[(0,n.default)(o.Button,{clickAction:t,isDisabled:e,type:"button"},"primary",$._("Save & Continue to Payment"))]});s.defaultProps={isLoading:false,onSubmit:()=>{}};var l=s;t.default=l},432410:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(419974));const s=()=>{const e=(0,o.default)();return(0,n.default)("div",{className:e.view},void 0,(0,n.default)("p",{className:e.title},void 0,$.__("Adding a credit card will replace ACH deposit as your primary method of payment in the future.")),(0,n.default)("p",{},void 0,$.__("If you would like to switch your primary payment method back to ACH after processing this payment, please contact our billing team.")))};s.defaultProps={};var l=s;t.default=l},419974:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(651745);var n=(0,r.makeStyles)((({palette:e,typography:t})=>({view:{backgroundColor:e.gray[100],borderBottom:`1px solid ${e.gray[400]}`,color:e.gray[1e3],marginTop:"18px",padding:"16px"},title:{fontSize:t.h4.fontSize,lineHeight:t.h4.lineHeight,marginBottom:"2px"}})));t.default=n},249905:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Footer",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"ReplaceAchWarning",{enumerable:true,get:function(){return i.default}});var n=r(a(301512));var i=r(a(432410))},268226:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=p(a(573674));var o=a(651745);var s=a(926533);var l=a(641049);var d=a(610315);var c=a(249905);var u=r(a(570412));function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=f(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const m=({customProcessingOverlays:e,renderHeader:t,store:a})=>{var r,f;const p=()=>{};const m=e=>{a.actions.setHasAch(false);a.actions.setZuoraRefId(e);a.actions.setStep((e=>e+1))};const{contentIframeRef:h,handleCardUpdateOpen:v,handleCardUpdateSubmit:g,isError:y,isLoading:b,isProcessing:w,source:S}=(0,l.useCardUpdate)(m,p,a.state.prepopulatedForm);const O=()=>window.location.reload();(0,i.useEffect)((()=>{v()}),[]);return i.default.createElement(i.default.Fragment,null,(0,n.default)(o.StandardModal.Body,{renderFooter:!y&&(0,n.default)(c.Footer,{isLoading:b||w,onSubmit:g}),renderHeader:t},void 0,!y&&!b&&(0,n.default)(o.StandardModal.StandardHeadline,{icon:"fab-credit-card-18x14",text:$.__("Preview and Submit Payment")}),a.state.hasAch&&!b&&!y&&(0,n.default)(c.ReplaceAchWarning,{}),(0,n.default)(o.StandardModal.Constraint,{},void 0,y&&(0,n.default)(d.Error,{onClick:O,style:u.default.error}),b&&!y&&(0,n.default)(s.Loader,{style:u.default.loader}),i.default.createElement(s.UpdateCardContent,{isError:y,isLoading:b,ref:h,source:S}))),w&&!y&&(0,n.default)(d.ProcessingOverlay,{subtitle:(e===null||e===void 0?void 0:(r=e.addCreditCardInformation)===null||r===void 0?void 0:r.subtitle)||$.__("Next step is to review and process your payment"),title:(e===null||e===void 0?void 0:(f=e.addCreditCardInformation)===null||f===void 0?void 0:f.title)||$.__("Saving your credit card information...")}))};m.defaultProps={customProcessingOverlays:{addCreditCardInformation:{subtitle:null,title:null}},renderHeader:null,store:{actions:{},state:{}}};var h=m;t.default=h},570412:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={error:{alignItems:"center",bottom:0,display:"flex",left:0,justifyContent:"center",position:"absolute",right:0,top:0,zIndex:20},loader:{bottom:0,left:0,position:"absolute",right:0,top:0}};t.default=a},425483:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(417842));var i=e=>n.default.get(`/settings/account/billing/cc/${e}`).then((({data:e})=>e));t.default=i},403299:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(425483));var i={get:n.default};t.default=i},303007:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(403299));var i=r(a(99591));var o=r(a(84272));var s={cc:n.default,pastDueInvoices:i.default,payInvoices:o.default};t.default=s},680621:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(417842));var i=()=>n.default.get("/settings/account/billing/past_due_invoices").then((({data:e})=>e));t.default=i},99591:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(680621));var i={get:n.default};t.default=i},84272:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(342569));var i={post:n.default};t.default=i},342569:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(417842));var i=e=>n.default.post("/settings/account/billing/pay_invoices",e).then((({data:e})=>e));t.default=i},999080:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(303007));var i={billing:n.default};t.default=i},98498:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(796941);var s=r(a(885404));const l=({maskedAccountNumber:e})=>(0,n.default)("div",{style:s.default.view},void 0,(0,n.default)(o.Label,{style:s.default.label},void 0,$._("ACH Information")),(0,n.default)("div",{},void 0,e));l.defaultProps={maskedAccountNumber:""};var d=l;t.default=d},885404:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={view:{marginBottom:"20px"},label:{marginBottom:"5px"}};t.default=a},431230:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=e=>`00${e}`.slice(-2);t.default=a},971338:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"formatExpirationMonth",{enumerable:true,get:function(){return n.default}});var n=r(a(431230))},682511:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(796941);var s=a(971338);var l=r(a(77075));const d=({info:e,style:t})=>{const{cardHolderInfo:a,cardLastFour:r,cardType:i,expirationMonth:d,expirationYear:c}=e;const u=(0,s.formatExpirationMonth)(d);const f=c.slice(-2);const p=`************${r}`;return(0,n.default)("div",{style:{...l.default.view,...t}},void 0,(0,n.default)(o.Label,{},void 0,$._("Credit Card Information")),(0,n.default)("p",{style:l.default.row},void 0,a.cardHolderName),(0,n.default)("p",{style:l.default.row},void 0,i),(0,n.default)("p",{style:l.default.row},void 0,p),(0,n.default)("p",{style:l.default.row},void 0,$._("Expiration:")," ",`${u}/${f}`))};d.defaultProps={info:{cardHolderInfo:{cardHolderName:""},cardLastFour:"0000",cardType:"",expirationMonth:"00",expirationYear:"00"},style:{}};var c=d;t.default=c},77075:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(641947);var n={view:{display:"flex",flexDirection:"column"},row:{color:r.colors.gray10,fontSize:`${r.textSizes.medium.size}px`,fontWeigt:r.textWeights.semibold,lineHeight:"15px",paddingTop:"8px"}};t.default=n},902582:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=r(a(972445));var l=r(a(357464));const d=({style:e})=>(0,n.default)("div",{style:{...l.default.view,...e}},void 0,(0,n.default)("p",{style:l.default.text},void 0,$._("Which invoices would you like to pay?")),(0,n.default)("div",{style:l.default.tooltipContainer},void 0,(0,n.default)(s.default,{settings:{template:{name:"tooltip-standard",data:{content:$.__("Invoices 22 days past due must be paid"),textAlign:"center"}}}},void 0,(0,n.default)(o.Icon,{name:"fab-info-circle-13x13"}))));d.defaultProps={style:{}};var c=d;t.default=c},357464:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(641947);var n={view:{alignItems:"center",display:"flex",fill:r.colors.gray6,height:"15px"},text:{color:r.colors.gray10,fontSize:`${r.textSizes.medium.size}px`,fontWeight:r.textWeights.semibold,lineHeight:"15px",marginRight:"5px"},tooltipContainer:{paddingTop:"2px"}};t.default=n},858339:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(625491);var s=r(a(695867));const l=({invoice:e,isDisabled:t,isSelected:a,style:r})=>(0,n.default)("div",{style:{...s.default.view,...r}},void 0,(0,n.default)(o.InvoiceDetails,{invoice:e,isDisabled:t,isSelected:a}));l.defaultProps={invoice:{},isDisabled:false,isSelected:false,style:{}};var d=l;t.default=d},695867:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(641947);var n={view:{border:`1px solid ${r.colors.gray5}`,padding:"18px 32px 18px 18px"}};t.default=n},800066:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(625491);var l=r(a(868782));const d=({onChange:e,invoice:t,isDisabled:a,isSelected:r,style:i})=>{const d=(0,l.default)();const{id:c}=t;return(0,n.default)("div",{className:d.view,style:i},void 0,(0,n.default)(o.SelectableBox,{boxWidth:"100%",inputId:c,isChecked:r,isDisabled:a,name:c,onChange:e,type:"checkbox"},void 0,(0,n.default)(s.InvoiceDetails,{invoice:t,isDisabled:a,isSelected:r})))};d.defaultProps={onChange:()=>{},invoice:{},isDisabled:false,isSelected:false,style:{}};var c=d;t.default=c},868782:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(651745);var n=(0,r.makeStyles)({view:{"& div:first-child label":{maxWidth:"none"},"& div:first-child":{width:"100%"}}});t.default=n},478067:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"NonSelectableBox",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"SelectableBox",{enumerable:true,get:function(){return i.default}});var n=r(a(858339));var i=r(a(800066))},328581:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(478067);var s=r(a(813207));const l=({invoice:e,isMultiSelectEnabled:t,isSelected:a,onToggle:r,style:i})=>{const l=e.pastDueDays>=22&&t;return(0,n.default)("div",{style:{...s.default.view,...i}},void 0,t?(0,n.default)(o.SelectableBox,{invoice:e,isDisabled:l,isSelected:a,onChange:r}):(0,n.default)(o.NonSelectableBox,{invoice:e,isDisabled:l,isSelected:a}))};l.defaultProps={invoice:{},isMultiSelectEnabled:false,isSelected:false,onToggle:()=>{},style:{}};var d=l;t.default=d},158474:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(341757));var s=a(288015);var l=a(307764);var d=r(a(118107));const c=({invoice:e,isDisabled:t,isSelected:a,style:r})=>{const{dueDate:i,invoiceNumber:c,pastDueDays:u,remainingBalance:f}=e;const p={isDisabled:t,isSelected:a};return(0,n.default)("div",{style:{...d.default.view(p),...r}},void 0,(0,n.default)("div",{style:d.default.icon},void 0,(0,n.default)(s.MoneyCircle20x20,{})),(0,n.default)("div",{style:{...d.default.column,...d.default.content}},void 0,(0,n.default)("p",{style:d.default.dueDate(p)},void 0,(0,o.default)(i).format("MMMM D, YYYY")),(0,n.default)("div",{style:d.default.details},void 0,(0,n.default)("div",{style:{...d.default.column,...d.default.leftColumn}},void 0,(0,n.default)("p",{style:d.default.invoiceNumber},void 0,$._("Invoice Number:")," ",c),(0,n.default)("p",{},void 0,u," ",$.__("days past due"))),(0,n.default)("div",{style:d.default.column},void 0,(0,n.default)("p",{style:d.default.amountDue},void 0,$._("Amount Due:")),(0,n.default)("p",{style:d.default.balance(p)},void 0,(0,l.toDollarFormat)(f))))))};c.defaultProps={invoice:{},isDisabled:false,isSelected:false,style:{}};var u=c;t.default=u},118107:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(641947);const n=(e,t)=>{if(e){return r.colors.gray6}if(!t){return r.colors.gray8}return r.brandTheme.base};var i={view:({isDisabled:e,isSelected:t})=>({color:n(e,t),display:"flex",fill:n(e,t),fontSize:`${r.textSizes.teenie.size}px`,lineHeight:"15px"}),icon:{marginRight:"12px",width:"20px"},column:{display:"flex",flexDirection:"column"},content:{flex:1},dueDate:({isDisabled:e,isSelected:t})=>({color:n(e,t),fontSize:`${r.textSizes.medium.size}px`,lineHeight:`${r.textSizes.medium.line}px`,fontWeight:r.textWeights.bold}),details:{display:"flex"},leftColumn:{flex:1},invoiceNumber:{paddingBottom:"2px"},amountDue:{paddingBottom:"4px"},balance:({isDisabled:e,isSelected:t})=>({color:n(e,t),fontSize:`${r.textSizes.medium.size}px`,fontWeight:r.textWeights.semibold,lineHeight:"15px"})};t.default=i},625491:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"InvoiceDetails",{enumerable:true,get:function(){return n.default}});var n=r(a(158474))},813207:()=>{"use strict"},350609:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"InfoHeader",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"Invoice",{enumerable:true,get:function(){return i.default}});var n=r(a(902582));var i=r(a(328581))},594072:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(350609);var s=r(a(508469));const l=({invoices:e,onToggle:t,selectedById:a,style:r})=>{const i=e.length>1;return(0,n.default)("div",{style:{...s.default.view,...r}},void 0,i&&(0,n.default)(o.InfoHeader,{style:s.default.infoHeader}),e.map(((r,l)=>{const{id:d}=r;const c=e.length===l+1;const u=a[d];return(0,n.default)(o.Invoice,{invoice:r,isMultiSelectEnabled:i,isSelected:u,onToggle:t,style:s.default.invoice(c)},`INVOICE_${d}`)})))};l.defaultProps={invoices:[],onToggle:()=>{},selectedById:{},style:{}};var d=l;t.default=d},508469:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={view:{display:"flex",flexDirection:"column"},infoHeader:{marginBottom:"16px"},invoice:e=>!e&&{marginBottom:"18px"}};t.default=a},847338:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(307764);var s=r(a(866242));const l=({style:e,total:t})=>(0,n.default)("p",{style:{...s.default.view,...e}},void 0,$._("Payment Amount:")," ",(0,o.toDollarFormat)(t));l.defaultProps={style:{},total:""};var d=l;t.default=d},866242:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(641947);var n={view:{color:r.brandTheme.base,fontSize:`${r.headlineSizes.h4.size}px`,fontWeight:r.textWeights.semibold,lineHeight:`${r.headlineSizes.h4.line}px`,marginTop:"11px"}};t.default=n},327315:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Invoices",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"PaymentAmount",{enumerable:true,get:function(){return i.default}});var n=r(a(594072));var i=r(a(847338))},962132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=({invoices:e,selectedInvoicesById:t})=>e.reduce(((e,a)=>{if(t[a.id]){e+=a.remainingBalance}return e}),0);t.default=a},725490:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"calculatePaymentAmount",{enumerable:true,get:function(){return n.default}});var n=r(a(962132))},916421:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(796941);var s=a(327315);var l=a(725490);var d=r(a(270829));const c=({invoices:e,onInvoiceToggle:t,selectedInvoicesById:a,style:r})=>{const i=(0,l.calculatePaymentAmount)({invoices:e,selectedInvoicesById:a});return(0,n.default)("div",{style:{...d.default.view,...r}},void 0,(0,n.default)(o.Label,{style:d.default.label},void 0,$._("Payment Information")),(0,n.default)(s.Invoices,{invoices:e,onToggle:t,selectedById:a,style:d.default.invoices}),(0,n.default)(s.PaymentAmount,{style:d.default.paymentAmount,total:i}))};c.defaultProps={invoices:[],onInvoiceToggle:()=>{},selectedInvoicesById:{},style:{}};var u=c;t.default=u},307764:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"toDollarFormat",{enumerable:true,get:function(){return n.default}});var n=r(a(2020))},2020:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);t.default=a},270829:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={view:{display:"flex",flexDirection:"column"},label:{marginBottom:"8px"},invoices:{marginBottom:"13px"},paymentAmount:{marginBottom:"34px"}};t.default=a},438813:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AchInformation",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"CreditCardInformation",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"PaymentInformation",{enumerable:true,get:function(){return o.default}});var n=r(a(98498));var i=r(a(682511));var o=r(a(916421))},588034:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(438813);var s=r(a(221033));const l=({achInfo:e,creditCardInfo:t,hasAch:a,invoices:r,onInvoiceToggle:l,selectedInvoicesById:d,style:c})=>(0,n.default)("div",{style:{...s.default.view,...c}},void 0,a?i.default.createElement(o.AchInformation,e):(0,n.default)(o.CreditCardInformation,{info:t,style:s.default.creditCardInformation}),(0,n.default)(o.PaymentInformation,{invoices:r,onInvoiceToggle:l,selectedInvoicesById:d}));l.defaultProps={achInfo:{maskedAccountNumber:""},creditCardInfo:{},invoices:[],onInvoiceToggle:()=>{},selectedInvoicesById:{},style:{}};var d=l;t.default=d},492994:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(136009));const s=({children:e,style:t})=>(0,n.default)("p",{style:{...o.default.label,...t}},void 0,e);s.defaultProps={children:null,style:{}};var l=s;t.default=l},136009:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(641947);var n={label:{color:"#777",fontSize:`${r.textSizes.teenie.size}px`,lineHeight:"15px"}};t.default=n},796941:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Label",{enumerable:true,get:function(){return n.default}});var n=r(a(492994))},221033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={view:{display:"flex",flexDirection:"column"},creditCardInformation:{marginBottom:"24px"}};t.default=a},327983:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);const s=({isLoading:e,onPrevStep:t,onSubmit:a,secondaryText:r})=>(0,n.default)(o.StandardModal.Footer,{actions:[(0,n.default)(o.Button,{clickAction:a,isDisabled:e,type:"button"},"primary",$._("Submit Payment")),(0,n.default)(o.TextButton,{clickAction:t,isDisabled:e,type:"button"},"secondary",r)]});s.defaultProps={isLoading:false,onPrevStep:()=>{},onSubmit:()=>{},secondaryText:""};var l=s;t.default=l},757490:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Content",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"Footer",{enumerable:true,get:function(){return i.default}});var n=r(a(588034));var i=r(a(327983))},407505:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.PAYMENT_ERROR=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(837803);var s=a(753134);const l=(0,o.renderToStaticMarkup)((0,n.default)(s.Message,{link:(0,s.InternalLink)(window.location.href,"fab-Link fab-Link--inherit"),text:$.__("Hmm... it looks like we had some trouble processing your payment. Please [refresh the page] to try again.")}));t.PAYMENT_ERROR=l},369615:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=e=>Object.entries(e).reduce(((e,[t,a])=>a?[...e,t]:e),[]);t.default=a},179890:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=({cardHolderInfo:e={}})=>{const{addressLine1:t,addressLine2:a,cardHolderName:r,city:n,countryCode:i,state:o,zipCode:s}=e;return JSON.stringify({creditCardHolderName:r,creditCardCountry:i,creditCardState:o,creditCardAddress1:t,creditCardAddress2:a,creditCardCity:n,creditCardPostalCode:s})};t.default=a},841698:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"formatInvoicesPayload",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"formatPrepopulatedForm",{enumerable:true,get:function(){return i.default}});var n=r(a(369615));var i=r(a(179890))},454662:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"useSelectedInvoices",{enumerable:true,get:function(){return n.default}});var n=r(a(89228))},89228:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(573674);var i=r(a(291254));var o=(e=[])=>{const[t,a]=(0,n.useState)({});const r=(0,n.useCallback)((e=>{a((t=>({...t,[e]:!t[e]})))}),[a]);(0,n.useEffect)((()=>{a((0,i.default)(e))}),[e]);return{handleToggle:r,selectedInvoicesById:t}};t.default=o},291254:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=(e=[])=>e.reduce(((e,t)=>{e[t.id]=true;return e}),{});t.default=a},103440:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(368652));var o=b(a(573674));var s=a(651745);var l=a(479706);var d=a(610315);var c=a(159417);var u=a(375180);var f=a(757490);var p=a(407505);var m=a(841698);var h=a(454662);var v=a(273454);var g=r(a(267943));function y(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(y=function(e){return e?a:t})(e)}function b(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=y(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const w=({continueLoaderOnSuccess:e,customProcessingOverlays:t,footerProps:a,onSuccess:r,renderHeader:y,store:b})=>{var w,S;const[O,T]=(0,o.useState)(false);const{onCancel:C,cancelText:P}=a;const{data:{creditCardInfo:E,invoices:M},execute:x,isError:k,isPending:j}=(0,c.useAsyncCallback)((e=>(0,u.delayAsync)((()=>(0,v.initAsync)(b.state.hasAch,e).then((e=>{if(!b.state.hasAch){b.actions.setCreditCardInfo(e.creditCardInfo)}return e}))),600)),{creditCardInfo:{},invoices:[]},{isPending:true});const I=()=>x(b.state.zuoraRefId);const{handleToggle:F,selectedInvoicesById:D}=(0,h.useSelectedInvoices)(M);const N=()=>{b.actions.setPrepopulatedForm((0,m.formatPrepopulatedForm)(E));b.actions.setStep((e=>e-1))};const A=()=>{T(true);(0,u.delayAsync)((()=>(0,v.payInvoicesAsync)((0,m.formatInvoicesPayload)(D))),800).then((()=>{if(!e){T(false)}r(b.state)})).catch((({response:e})=>{const{error:t}=e.data;T(false);if((0,l.isEnabled)("ia-cc-banners")){window.setMessage(t.length?t:p.PAYMENT_ERROR,"error")}else{window.setMessage(p.PAYMENT_ERROR,"error")}}))};(0,o.useEffect)((()=>{I()}),[]);const L={onPrevStep:C||N,secondaryText:P||$._("Previous")};return o.default.createElement(o.default.Fragment,null,(0,n.default)(s.StandardModal.Body,{renderFooter:!k&&o.default.createElement(f.Footer,(0,i.default)({isLoading:j,onSubmit:A},L)),renderHeader:y},void 0,!k&&!j&&(0,n.default)(s.StandardModal.StandardHeadline,{icon:"fab-credit-card-18x14",text:$.__("Preview and Submit Payment")}),(0,n.default)(s.StandardModal.Constraint,{},void 0,k&&(0,n.default)(d.Error,{buttonText:$.__("Try Again"),onClick:I,style:g.default.error,subtitle:$.__("We had trouble getting your past due payment information.")}),j&&(0,n.default)(d.Loader,{style:g.default.loader}),!k&&!j&&(0,n.default)(f.Content,{achInfo:b.state.achInfo,creditCardInfo:E,hasAch:b.state.hasAch,invoices:M,onInvoiceToggle:F,selectedInvoicesById:D}))),O&&(0,n.default)(d.ProcessingOverlay,{subtitle:(t===null||t===void 0?void 0:(w=t.previewAndSubmitPayment)===null||w===void 0?void 0:w.subtitle)||$.__("Once this goes through you'll have full access to your account!"),title:(t===null||t===void 0?void 0:(S=t.previewAndSubmitPayment)===null||S===void 0?void 0:S.title)||$.__("Processing your payment...")}))};w.defaultProps={continueLoaderOnSuccess:false,customProcessingOverlays:{previewAndSubmitPayment:{subtitle:null,title:null}},footerProps:{onCancel:null,cancelText:null},onSuccess:()=>{},renderHeader:null,store:{actions:{},state:{}}};var S=w;t.default=S},273454:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"initAsync",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"payInvoicesAsync",{enumerable:true,get:function(){return i.default}});var n=r(a(81327));var i=r(a(950819))},366551:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(999080));var i=a(615798);var o=(e,t)=>{if(e){return}return n.default.billing.cc.get(t).then((e=>(0,i.creditCardInfo)(e)))};t.default=o},823919:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(999080));var i=a(615798);const o=(e,t)=>t.pastDueDays-e.pastDueDays;var s=()=>n.default.billing.pastDueInvoices.get().then((e=>{const t=(0,i.invoices)(e);return t.sort(o)}));t.default=s},81327:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(366551));var i=r(a(823919));var o=(e,t)=>Promise.all([(0,n.default)(e,t),(0,i.default)()]).then((([e,t])=>({creditCardInfo:e,invoices:t})));t.default=o},950819:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(999080));var i=e=>n.default.billing.payInvoices.post({invoices:e});t.default=i},521759:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(365567));var i=(e={})=>({addressLine1:(0,n.default)(e===null||e===void 0?void 0:e.addressLine1),addressLine2:(0,n.default)(e===null||e===void 0?void 0:e.addressLine2),cardHolderName:(0,n.default)(e===null||e===void 0?void 0:e.cardHolderName),city:(0,n.default)(e===null||e===void 0?void 0:e.city),countryCode:(0,n.default)(e===null||e===void 0?void 0:e.countryCode),state:(0,n.default)(e===null||e===void 0?void 0:e.state),zipCode:(0,n.default)(e===null||e===void 0?void 0:e.zipCode)});t.default=i},487995:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(365567));var i=r(a(521759));var o=(e={})=>({cardHolderInfo:(0,i.default)(e===null||e===void 0?void 0:e.cardHolderInfo),cardLastFour:(0,n.default)(e===null||e===void 0?void 0:e.cardLastFour),cardType:(0,n.default)(e===null||e===void 0?void 0:e.cardType),expirationMonth:(0,n.default)(e===null||e===void 0?void 0:e.expirationMonth),expirationYear:(0,n.default)(e===null||e===void 0?void 0:e.expirationYear),id:(0,n.default)(e===null||e===void 0?void 0:e.zuoraId)});t.default=o},615798:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"creditCardInfo",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"invoices",{enumerable:true,get:function(){return i.default}});var n=r(a(487995));var i=r(a(923192))},923192:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(963796));var i=(e=[])=>(e===null||e===void 0?void 0:e.map((e=>(0,n.default)(e))))||[];t.default=i},705280:(e,t,a)=>{"use strict";var moment=a(496406);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=e=>e?moment().diff(moment(e),"days"):0;t.default=r},963796:(e,t,a)=>{"use strict";var moment=a(496406);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(491936));var i=r(a(365567));var o=r(a(705280));var s=(e={})=>({dueDate:e!==null&&e!==void 0&&e.dueDate?moment(e.dueDate).format("MM/DD/YYYY"):"",id:(0,i.default)(e===null||e===void 0?void 0:e.zuoraInvoiceId),invoiceNumber:(0,i.default)(e===null||e===void 0?void 0:e.invoiceNumber),pastDueDays:(0,o.default)(e===null||e===void 0?void 0:e.dueDate),remainingBalance:(0,n.default)(e===null||e===void 0?void 0:e.remainingBalance)});t.default=s},267943:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={error:{margin:"55px 0 82px 0"},loader:{height:"280px"}};t.default=a},499413:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AddCreditCardInformation",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"PreviewAndSubmitPayment",{enumerable:true,get:function(){return i.default}});var n=r(a(268226));var i=r(a(103440))},33299:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(499413);const s={1:o.AddCreditCardInformation,2:o.PreviewAndSubmitPayment};const l=({continueLoaderOnSuccess:e,customProcessingOverlays:t,onSuccess:a,renderHeader:r,store:i})=>{const o=s[i.state.step];return(0,n.default)(o,{continueLoaderOnSuccess:e,customProcessingOverlays:t,onSuccess:a,renderHeader:r,store:i})};l.defaultProps={continueLoaderOnSuccess:false,customProcessingOverlays:{},onSuccess:()=>{},renderHeader:null,store:{actions:{},state:{}}};var d=l;t.default=d},104391:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(651745);const l=({buttonText:e,onClick:t,subtitle:a,title:r,style:i})=>(0,n.default)("div",{style:{...i}},void 0,(0,n.default)(s.BlankState,{icon:"fab-file-sad-60x72",subtitle:a,title:r},void 0,(0,n.default)(o.Button,{clickAction:t,outline:true,text:e,type:"button"})));l.defaultProps={buttonText:$.__("Refresh Page"),onClick:()=>{},subtitle:$.__("It looks like the information on this page didn't load."),title:$.__("Nothing to see here"),style:{}};var d=l;t.default=d},776099:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=r(a(744735));const l=({style:e})=>(0,n.default)("div",{style:{...s.default.view,...e}},void 0,(0,n.default)(o.Loader,{small:true}));l.defaultProps={style:{}};var d=l;t.default=d},744735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={view:{alignItems:"center",display:"flex",justifyContent:"center"}};t.default=a},47535:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(970185);const s=({style:e})=>{const t=(0,o.createClasses)();return(0,n.default)("div",{className:t.view,style:{...e}},void 0,(0,n.default)("div",{className:t.loader}))};s.defaultProps={style:{}};var l=s;t.default=l},492447:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(651745);var n=a(641947);var i=(0,r.makeStyles)({view:{display:"flex",justifyContent:"space-around",alignItems:"center",flexDirection:"column"},loader:{animation:"$load 1.8s linear infinite",border:"5.6px solid #d8d8d8",borderRadius:"50%",borderTop:`5.6px solid ${n.brandTheme.base}`,height:"78px",width:"78px"},"@keyframes load":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}});t.default=i},970185:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createClasses",{enumerable:true,get:function(){return n.default}});var n=r(a(492447))},580456:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Spinner",{enumerable:true,get:function(){return n.default}});var n=r(a(47535))},949976:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(604928);var s=a(580456);var l=r(a(218067));const d=({style:e,subtitle:t,title:a})=>{const r=window.document.body;return(0,o.createPortal)((0,n.default)("div",{style:{...l.default.view,...e}},void 0,(0,n.default)(s.Spinner,{style:l.default.spinner}),(0,n.default)("p",{style:l.default.title},void 0,a),(0,n.default)("p",{style:l.default.subtitle},void 0,t)),r)};d.defaultProps={style:{},subtitle:$.__("Next step is to review and process"),title:$.__("Processing...")};var c=d;t.default=c},218067:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(641947);var n={view:{alignItems:"center",backgroundColor:"rgba(235, 235, 235, .96)",bottom:0,display:"flex",flexDirection:"column",justifyContent:"center",left:0,position:"absolute",right:0,top:0,zIndex:2147483647},spinner:{marginBottom:"19px"},title:{color:r.colors.gray10,fontSize:`${r.headlineSizes.h3.size}px`,fontWeight:r.textWeights.semibold,lineHeight:`${r.headlineSizes.h3.line}px`,marginBottom:"8px"},subtitle:{fontSize:`${r.headlineSizes.h4.size}px`,fontWeight:r.textWeights.regular,lineHeight:"20px"}};t.default=n},610315:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Error",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"Loader",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"ProcessingOverlay",{enumerable:true,get:function(){return o.default}});var n=r(a(104391));var i=r(a(776099));var o=r(a(949976))},556571:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=l(a(573674));var o=r(a(549355));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=({step:e,style:t,totalSteps:a})=>(0,n.default)("div",{style:{...o.default.view,...t}},void 0,[...Array(a)].map(((_,t)=>{const a=t+1===e;return(0,n.default)(i.Fragment,{},`STEP_BUBBLE_${a}`,t!==0&&(0,n.default)("div",{style:o.default.separator}),(0,n.default)("div",{style:o.default.bubble(a)}))})));d.defaultProps={step:1,style:{},totalSteps:1};var c=d;t.default=c},549355:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(641947);var n={view:{alignItems:"center",display:"flex"},separator:{backgroundColor:r.colors.gray4,margin:"0 3px",height:"2px",width:"6px"},bubble:e=>({backgroundColor:e?r.brandTheme.base:r.colors.gray4,borderRadius:"50%",height:e?"11px":"9px",width:e?"11px":"9px"})};t.default=n},178010:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(813304));const s=({style:e})=>(0,n.default)("div",{style:{...o.default.view,...e}});s.defaultProps={style:{}};var l=s;t.default=l},813304:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(641947);var n={view:{backgroundColor:r.colors.gray3,height:"26px",width:"2px"}};t.default=n},755776:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(753134);var s=r(a(143926));const l=({step:e,style:t,totalSteps:a})=>(0,n.default)("div",{style:{...s.default.view,...t}},void 0,(0,n.default)(o.Message,{params:[e,a],text:$._("Step {1} of {2}")}));l.defaultProps={step:1,style:{},totalSteps:1};var d=l;t.default=d},143926:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(641947);var n={view:{color:r.colors.gray7,fontSize:`${r.textSizes.teenie.size}px`,lineHeight:`${r.textSizes.teenie.line}px`,fontWeight:r.textWeights.regular}};t.default=n},625089:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ProgressBubbles",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"Separator",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"StepLabel",{enumerable:true,get:function(){return o.default}});var n=r(a(556571));var i=r(a(178010));var o=r(a(755776))},837028:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(625089);var s=r(a(234127));const l=({isProcessing:e,step:t,totalSteps:a,style:r})=>(0,n.default)("div",{style:{...s.default.view,...r}},void 0,(0,n.default)(o.StepLabel,{step:t,style:s.default.stepLabel,totalSteps:a}),(0,n.default)(o.ProgressBubbles,{step:t,totalSteps:a}),!e&&(0,n.default)(o.Separator,{style:s.default.separator}));l.defaultProps={isProcessing:false,step:1,totalSteps:1,style:{}};var d=l;t.default=d},234127:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={view:{display:"flex",alignItems:"center"},stepLabel:{marginRight:"12px"},separator:{margin:"0 12px"}};t.default=a},989694:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ProgressIndicator",{enumerable:true,get:function(){return n.default}});var n=r(a(837028))},352071:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(989694);var l=r(a(781245));const d=({isProcessing:e,step:t})=>(0,n.default)(o.StandardModal.Header,{hasCloseButton:true},void 0,(0,n.default)("div",{style:l.default.view},void 0,(0,n.default)(o.StandardModal.Header.Title,{text:$.__("BambooHR Payment Center")}),(0,n.default)(s.ProgressIndicator,{isProcessing:e,step:t,totalSteps:2})));d.defaultProps={isProcessing:false,step:1};var c=d;t.default=c},781245:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={view:{alignItems:"center",display:"flex",justifyContent:"space-between"}};t.default=a},338088:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Body",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"Header",{enumerable:true,get:function(){return i.default}});var n=r(a(33299));var i=r(a(352071))},641397:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"useLocalStore",{enumerable:true,get:function(){return n.default}});var n=r(a(730443))},730443:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(573674);var n=(e={})=>{const[t,a]=(0,r.useState)({maskedAccountNumber:""});const[n,i]=(0,r.useState)({});const[o,s]=(0,r.useState)(e.hasAch);const[l,d]=(0,r.useState)(JSON.stringify({}));const[c,u]=(0,r.useState)(e.step);const[f,p]=(0,r.useState)(e.zuoraRefId);return{actions:{setAchInfo:a,setCreditCardInfo:i,setHasAch:s,setPrepopulatedForm:d,setStep:u,setZuoraRefId:p},state:{achInfo:t,creditCardInfo:n,hasAch:o,prepopulatedForm:l,step:c,zuoraRefId:f}}};t.default=n},535580:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(338088);var l=a(641397);const d=({continueLoaderOnSuccess:e,customProcessingOverlays:t,hasAch:a,isOpen:r,onCancel:i,onCloseComplete:d,onSuccess:c,step:u,zuoraRefId:f})=>{const p=(0,l.useLocalStore)({hasAch:a,step:u,zuoraRefId:f});const m=()=>i(p.state);return(0,n.default)(o.StandardModal,{isOpen:r,onCloseComplete:d,onRequestClose:m},void 0,(0,n.default)(s.Body,{continueLoaderOnSuccess:e,customProcessingOverlays:t,onSuccess:c,renderHeader:(0,n.default)(s.Header,{step:p.state.step}),store:p}))};d.defaultProps={continueLoaderOnSuccess:false,customProcessingOverlays:{},hasAch:false,isOpen:false,onCancel:()=>{},onCloseComplete:()=>{},onSuccess:()=>{},step:1,zuoraRefId:""};var c=d;t.default=c},159417:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"useAsyncCallback",{enumerable:true,get:function(){return n.default}});var n=r(a(284916))},284916:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(573674);var n=(e,t,a={})=>{const n=(0,r.useRef)(false);const i=(0,r.useRef)(null);const o=t===undefined?null:t;const s={data:o,error:null,isError:false,isPending:false};const[l,d]=(0,r.useState)({...s,...a});const c=t=>{if(!n.current){const a=(new Date).getTime();i.current=a;d({...s,isPending:true});e(t).then((e=>{if(i.current===a&&!n.current){d({...s,data:e})}})).catch((e=>{if(i.current===a&&!n.current){d({...s,isError:true,error:e});throw e}}))}};const u=(e={})=>{i.current=null;d({...s,...e})};(0,r.useEffect)((()=>()=>n.current=true),[]);return{...l,execute:c,reset:u}};t.default=n},641947:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"colors",{enumerable:true,get:function(){return r.colors}});Object.defineProperty(t,"pageWidths",{enumerable:true,get:function(){return n.pageWidths}});Object.defineProperty(t,"themeColors",{enumerable:true,get:function(){return i.themeColors}});Object.defineProperty(t,"headlineSizes",{enumerable:true,get:function(){return o.headlineSizes}});Object.defineProperty(t,"textSizes",{enumerable:true,get:function(){return o.textSizes}});Object.defineProperty(t,"textWeights",{enumerable:true,get:function(){return o.textWeights}});Object.defineProperty(t,"heights",{enumerable:true,get:function(){return s.heights}});Object.defineProperty(t,"widths",{enumerable:true,get:function(){return s.widths}});t.brandTheme=void 0;var r=a(169937);var n=a(34998);var i=a(802773);var o=a(433207);var s=a(862847);var l=a(774548);const d=(0,l.getBrandColor)();const c=i.themeColors.find((e=>e.name===d||`#${e.name}`===d));t.brandTheme=c},374747:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;const a=({data:e,minDelay:t,shouldResolve:a,startTime:r})=>{const n=(new Date).getTime();const i=t-(n-r);return new Promise(((t,r)=>{if(i>0){setTimeout((()=>a?t(e):r(e)),i)}else{return a?t(e):r(e)}}))};var r=(e,t)=>{const r=(new Date).getTime();return e().then((e=>a({data:e,minDelay:t,shouldResolve:true,startTime:r}))).catch((e=>a({data:e,minDelay:t,shouldResolve:false,startTime:r})))};t.default=r},375180:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"delayAsync",{enumerable:true,get:function(){return n.default}});var n=r(a(374747))},624850:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(273641);var s=a(651745);const l=({isLoading:e=true,primaryAction:t=(()=>o.noop),cancelAction:a=(()=>o.noop)})=>(0,n.default)(s.StandardModal.Footer,{actions:[(0,n.default)(s.Button,{clickAction:t,isDisabled:e,type:"button"},"done",$.__("Save")),(0,n.default)(s.TextButton,{clickAction:a,type:"button"},"cancel",$.__("Cancel"))]});var d=l;t.default=d},104042:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Footer",{enumerable:true,get:function(){return n.default}});var n=r(a(624850))},898317:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(273641);var s=a(774548);var l=a(651745);var d=a(104042);var c=a(926533);var u=a(641049);var f=a(828889);const p=({isInGracePeriod:e=false,nextBillRunDate:t=null,onClose:a=o.noop,onCloseComplete:r=o.noop,showModal:p=false})=>{const{SAVE_CARD_ERROR:m,SAVE_CARD_SUCCESS:h,SAVE_CARD_SUCCESS_GRACE_PERIOD:v}=f.MESSAGES;const g=()=>window.setMessage(m,"error");const y=()=>{const a=window.location.href;const r=e?v(t):h;const n=e?"info":"success";(0,s.redirect)(a,r,n)};const{contentIframeRef:b,handleCardUpdateClose:w,handleCardUpdateOpen:S,handleCardUpdateSubmit:O,isError:T,isLoading:C,isProcessing:P,source:E}=(0,u.useCardUpdate)(y,g);const M=()=>{w();a()};return(0,n.default)(l.StandardModal,{isOpen:p,isProcessing:P,onCloseComplete:r,onOpenComplete:S,onRequestClose:M},void 0,(0,n.default)(l.StandardModal.Body,{renderFooter:T?null:(0,n.default)(d.Footer,{cancelAction:M,isLoading:C,primaryAction:O}),renderHeader:(0,n.default)(l.StandardModal.Header,{title:$.__("BambooHR Payment Center")})},void 0,T?null:(0,n.default)(l.StandardModal.StandardHeadline,{icon:"fab-credit-card-18x14",text:$.__("Add Payment Info")}),(0,n.default)(l.StandardModal.Constraint,{},void 0,T&&(0,n.default)(c.Error,{}),C&&!T&&(0,n.default)(c.Loader,{}),i.default.createElement(c.UpdateCardContent,{isError:T,isLoading:C,ref:b,source:E}))))};var m=p;t.default=m},866486:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ProcessCreditCardModal",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"UpdateCreditCardModal",{enumerable:true,get:function(){return i.default}});var n=r(a(535580));var i=r(a(898317))},157057:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EXPIRATION_DATE=t.ATTEMPTS_LIMIT=void 0;const a="Attempt exceed the limitation, refresh page to try again.";t.ATTEMPTS_LIMIT=a;const r="Expiration date must be a future date.";t.EXPIRATION_DATE=r},828889:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ZUORA=t.MESSAGES=t.ERRORS=void 0;var r=s(a(157057));t.ERRORS=r;var n=s(a(898749));t.MESSAGES=n;var i=s(a(544975));t.ZUORA=i;function o(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(o=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=o(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;if(s&&(s.get||s.set)){Object.defineProperty(r,i,s)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}},898749:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.SAVE_CARD_SUCCESS_GRACE_PERIOD=t.SAVE_CARD_SUCCESS=t.GENERIC_ERROR=t.SAVE_CARD_ERROR=t.INVALID_EXPIRATION_ERROR=t.FORM_ERROR=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(341757));var s=a(837803);var l=a(753134);const d=(0,l.InternalLink)(window.location.href,"fab-Link fab-Link--inherit");const c=$.__("Let's try this again. Please check your payment details.");t.FORM_ERROR=c;const u=$.__("Let's try this again. Your expiration date must be in the future.");t.INVALID_EXPIRATION_ERROR=u;const f=(0,s.renderToStaticMarkup)((0,n.default)(l.Message,{link:d,text:$.__("Oops! It looks like we had some trouble saving your card information. Please [refresh the page] to try again.")}));t.SAVE_CARD_ERROR=f;const p=(0,s.renderToStaticMarkup)((0,n.default)(l.Message,{link:d,text:$.__("Oops! It looks like the information on this page didn't load. Please [refresh the page] to try again.")}));t.GENERIC_ERROR=p;const m="Success! Your card on file has been updated.";t.SAVE_CARD_SUCCESS=m;const h=e=>{const t=$.__("This means your account may still be suspended. Contact us at 1-866-387-9595 or billing@bamboohr.com to process your payment now and avoid suspension.");if(e!==null){return $.__("Your card on file has been updated, but won't run until %s. ",(0,o.default)(e).format("MMMM Do"))+t}return $.__("Your card on file has been updated, but won't run until your next scheduled payment date. ")+t};t.SAVE_CARD_SUCCESS_GRACE_PERIOD=h},544975:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IFRAME_URL=t.IFRAME_DOMAIN=void 0;var r=a(776653);const n=(0,r.getBillingDomain)();t.IFRAME_DOMAIN=n;const i=`${(0,r.getBillingDomain)()}/webhooks/zuora/cc_iframe`;t.IFRAME_URL=i},886873:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=()=>{let e;if(window.BambooHR&&window.BambooHR.env&&window.BambooHR.env.val){e=window.BambooHR.env.val}switch(e){case"prod":return"https://app.bamboohr.com";case"stage":return"https://app.bamboostage.com";default:return window.location.origin.includes(".bamboolocal.com")?"https://app.bamboolocal.com":"https://app.local.bamboohr.com"}};t.default=a},776653:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"getBillingDomain",{enumerable:true,get:function(){return n.default}});var n=r(a(886873))},301385:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(651745);var l=r(a(368295));const d=()=>{const{error:e}=(0,l.default)();const t=()=>window.location.reload();return(0,n.default)("div",{className:e},void 0,(0,n.default)(s.BlankState,{icon:"fab-file-sad-60x72",subtitle:$.__("It looks like the information on this page didn't load."),title:$.__("Nothing to see here")},void 0,(0,n.default)(o.Button,{clickAction:t,outline:true,text:$.__("Refresh Page"),type:"button"})))};var c=d;t.default=c},368295:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(651745);var n=(0,r.makeStyles)((({palette:e})=>({error:{backgroundColor:e.common.white,position:"absolute",zIndex:"20",top:"0",bottom:"0",left:"0",right:"0",alignItems:"center",justifyContent:"center",display:"flex"}})));t.default=n},600225:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=r(a(439420));const l=()=>{const{loader:e}=(0,s.default)();return(0,n.default)("div",{className:e},void 0,(0,n.default)(o.Loader,{small:true}))};var d=l;t.default=d},439420:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(651745);var n=(0,r.makeStyles)((({palette:e})=>({loader:{backgroundColor:e.common.white,position:"absolute",top:"0",bottom:"0",left:"0",right:"0",display:"flex",alignItems:"center"}})));t.default=n},92419:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=l(a(573674));var o=r(a(705685));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=(0,i.forwardRef)((({isError:e=false,isLoading:t=false,source:a=""},r)=>{const{iframeContent:s,iframeWrapper:l,modalContent:d}=(0,o.default)({isError:e,isLoading:t});const c=a.length>0;return(0,n.default)("div",{className:d},void 0,c&&(0,n.default)("div",{className:l,id:"bamboo_cc_iframe"},void 0,i.default.createElement("iframe",{className:s,ref:r,src:a,title:"BambooHR Billing Update"})))}));var c=d;t.default=c},705685:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(651745);var n=(0,r.makeStyles)({modalContent:{alignItems:"center",display:"flex",justifyContent:"center",height:"54vh"},iframeContent:({isError:e,isLoading:t})=>({boxSizing:"border-box",height:e||t?"0":"810px",overflow:"hidden",width:"100%"}),iframeWrapper:{height:"100%",width:"100%",zIndex:"1"}});t.default=n},926533:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Error",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"Loader",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"UpdateCardContent",{enumerable:true,get:function(){return o.default}});var n=r(a(301385));var i=r(a(600225));var o=r(a(92419))},641049:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"useCardUpdate",{enumerable:true,get:function(){return n.default}});var n=r(a(213051))},876508:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(417842));var i=()=>n.default.get("/settings/account/billing/hosted_signature");t.default=i},923303:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"getSignatureAsync",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"postCardUpdateAsync",{enumerable:true,get:function(){return i.default}});var n=r(a(876508));var i=r(a(253994))},253994:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(417842));var i=e=>n.default.post("/settings/account/billing/complete_cc_update",{zuoraCcId:e});t.default=i},275593:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(828889);var n=({key:e,pageId:t,prepopulateFields:a,signature:n,tenantId:i,token:o,uri:s,zuoraAccountId:l})=>{try{const d=encodeURIComponent(e);const c=encodeURIComponent(i);const u=encodeURIComponent(n);const f=encodeURIComponent(o);const p=encodeURIComponent(s);const m=encodeURIComponent(l);const h=encodeURIComponent(t);const v=encodeURIComponent(a);return`${r.ZUORA.IFRAME_URL}?key=${d}&tenantId=${c}&signature=${u}&token=${f}&url=${p}&field_accountId=${m}&id=${h}&prepopulateFields=${v}`}catch(e){window.Rollbar.error("IA: Unable to construct Zuora signature request url",e)}};t.default=n},366807:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(828889);var n=(e,t)=>{if(r.ZUORA.IFRAME_DOMAIN!==e.origin){return}const{action:a}=e.data;if(a&&Object.prototype.hasOwnProperty.call(t,a)&&typeof t[a]==="function"){t[a](e.data)}};t.default=n},667701:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"getIframeUrl",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"handleMessage",{enumerable:true,get:function(){return i.default}});var n=r(a(275593));var i=r(a(366807))},213051:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(573674);var n=a(273641);var i=a(479706);var o=a(923303);var s=a(828889);var l=a(667701);var d=(e=(()=>n.noop),t=(()=>n.noop),a=JSON.stringify({}))=>{const[d,c]=(0,r.useState)(false);const[u,f]=(0,r.useState)(true);const[p,m]=(0,r.useState)(false);const[h,v]=(0,r.useState)("");const{IFRAME_DOMAIN:g}=s.ZUORA;const{FORM_ERROR:y,GENERIC_ERROR:b,INVALID_EXPIRATION_ERROR:w}=s.MESSAGES;const{ATTEMPTS_LIMIT:S,EXPIRATION_DATE:O}=s.ERRORS;const T=(0,r.createRef)();const C=()=>(0,o.getSignatureAsync)().then((({data:e})=>{const t=(0,l.getIframeUrl)({...e,prepopulateFields:a});v(t);m(false)})).catch((()=>c(true)));const P=e=>{switch(e){case O:C();setMessage(w,"error");break;case S:C();break;case undefined:break;default:c(true);if((0,i.isEnabled)("ia-cc-banners")){setMessage(e,"error")}else{setMessage(b,"error")}}};const E=(e=null)=>{c(true);t(e)};const M=()=>{c(false);f(true)};const x=(t,a,r)=>{if(t){f(true);(0,o.postCardUpdateAsync)(a).then((()=>e(a))).catch((()=>E(r)))}else{P(r)}};const k=()=>{const{contentWindow:e}=T.current;e.postMessage({action:"submit"},g)};const j=e=>(0,l.handleMessage)(e,{error:({error:e})=>P(e),invalid:()=>window.setMessage(y,"error"),rendered:()=>f(false),saved:({success:e,refId:t,error:a})=>x(e,t,a),valid:()=>m(true)});(0,r.useEffect)((()=>{window.addEventListener("message",j);return()=>window.removeEventListener("message",j)}),[]);return{contentIframeRef:T,handleCardUpdateClose:M,handleCardUpdateOpen:C,handleCardUpdateSubmit:k,isError:d,isLoading:u,isProcessing:p,source:h}};t.default=d},109473:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=r(a(60042));a(239762);const l=e=>{const{className:t,button:a,icon:r="fab-sasquatch-153x192",subtitle:i,title:l=$.__(`There's nothing to see here...`)}=e;return(0,n.default)("div",{className:(0,s.default)("ba-BlankState",t)},void 0,(0,n.default)("div",{className:"ba-BlankState__icon"},void 0,(0,n.default)(o.Icon,{name:r})),(0,n.default)("h3",{className:"ba-BlankState__title"},void 0,l),i&&(0,n.default)("p",{className:"ba-BlankState__subtitle"},void 0,i),a?(0,n.default)("div",{className:"ba-BlankState__button"},void 0,a):null)};var d=l;t.default=d},242895:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=p(a(573674));var s=a(273641);var l=a(121198);var d=a(577193);var c=a(479706);var u=a(845382);function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=f(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class m extends o.Component{constructor(...e){super(...e);this._handleFocus=()=>{const{onFocus:e}=this.props;if((0,s.isFunction)(e)){e()}};this._ref=(0,o.createRef)()}static get className(){return"CalendarPicker"}_isRange(){const{type:e=""}=this.props;return(0,s.endsWith)(e,"-range")}_getApi(e){const t="[calendar-picker]";const a=e.querySelector(t)||e.closest(t);return a.__calendarPicker}_getRangePlaceholder(e){const{placeholder:t={},label:a={}}=e;return{end:a.end?"":$.__("End"),start:a.start?"":$.__("Start"),...t}}_getUniqueName(e){return e||(0,s.uniqueId)("calendarPicker")}_triggerChange(e){const{onChange:t}=this.props;if((0,s.isFunction)(t)){t(e)}}_triggerComplete(e,t){const{onComplete:a}=this.props;if((0,s.isFunction)(a)){a(e,t)}}_triggerIncomplete(e){const{onIncomplete:t}=this.props;if((0,s.isFunction)(t)){t(e)}}_renderLabel(e,t){const{required:a}=this.props;if((0,c.isEnabled)("jade")){return(0,i.default)("label",{className:(0,l.classNameFromObject)({"fab-Label":true,"fab-Label--required":a}),htmlFor:e},void 0,t)}return(0,i.default)("label",{htmlFor:e},void 0,t)}_renderRange(e,t){const a=this._getRangePlaceholder(t);let r,s;let l,d;const{id:u,name:f,noFacade:p,required:m,type:h}=this.props;if(typeof f==="object"){s=f.start;r=f.end}else{const e=this._getUniqueName(f);s=`${e}Start`;r=`${e}End`}if(typeof u==="object"){d=u.start;l=u.end}const v={};if(m){v.required=true}if(p){v["no-facade"]=""}if((0,c.isEnabled)("jade")){return o.default.createElement("div",(0,n.default)({},v,{"calendar-picker":h,"calendar-picker-options":JSON.stringify(t),className:`${e.range} CalendarPicker__rangeRow`}),(0,i.default)("div",{className:"CalendarPicker__rangeColumn"},void 0,!!t.label&&!!t.label.start&&this._renderLabel(s,t.label.start),(0,i.default)("div",{className:"fab-InputWrapper"},void 0,(0,i.default)("input",{className:`${e.rangeStart} fab-TextInput CalendarPicker CalendarPicker__input`,disabled:!!t.disabled,id:d,name:s,onFocus:this._handleFocus,placeholder:a.start,"range-start":"",required:m,type:"text"}))),(0,i.default)("div",{className:"CalendarPicker__rangeColumn"},void 0,!!t.label&&!!t.label.end&&this._renderLabel(r,t.label.end),(0,i.default)("div",{className:"fab-InputWrapper"},void 0,(0,i.default)("div",{className:"CalendarPicker__rangeSeparator"},void 0,""),(0,i.default)("input",{className:`${e.rangeEnd} fab-TextInput CalendarPicker CalendarPicker__input`,disabled:!!t.disabled,id:l,name:r,onFocus:this._handleFocus,placeholder:a.end,"range-end":"",required:m,type:"text"}))))}return o.default.createElement("div",(0,n.default)({},v,{"calendar-picker":h,"calendar-picker-options":JSON.stringify(t),className:e.range}),(0,i.default)("div",{className:"fieldBox"},void 0,(0,i.default)("div",{className:"fieldDiv"},void 0,!!t.label&&!!t.label.start&&this._renderLabel(s,t.label.start),(0,i.default)("input",{className:e.rangeStart,disabled:!!t.disabled,name:s,onFocus:this._handleFocus,placeholder:a.start,"range-start":"",required:m,type:"text"}))),(0,i.default)("div",{className:"fieldBox"},void 0,(0,i.default)("div",{className:"fieldDiv",style:{lineHeight:"28px"}},void 0,"")),(0,i.default)("div",{className:"fieldBox"},void 0,(0,i.default)("div",{className:"fieldDiv"},void 0,!!t.label&&!!t.label.end&&this._renderLabel(r,t.label.end),(0,i.default)("input",{className:e.rangeEnd,disabled:!!t.disabled,name:r,onFocus:this._handleFocus,placeholder:a.end,"range-end":"",required:m,type:"text"}))))}_renderSingle(e,t){const{id:a,name:r,noFacade:s,required:l,type:d,unsafeProps:f={},biId:p}=this.props;const m=this._getUniqueName(r);const{placeholder:h=""}=t;const v={};if(l){v.required=true}if(h){t.placeholder=(0,u.replaceXmlEntities)(h);v["data-placeholder-trigger"]="focus"}if(s){v["no-facade"]=""}const g=`${e.single} fab-TextInput CalendarPicker CalendarPicker__input`;if(f.className){f.className=`${g} ${f.className}`}if((0,c.isEnabled)("jade")){return o.default.createElement("input",(0,n.default)({},v,{"data-bi-id":p,"calendar-picker":d,"calendar-picker-options":JSON.stringify(t),className:g,disabled:!!t.disabled,id:a,name:m,onFocus:this._handleFocus,placeholder:h,required:l,type:"text"},f))}return(0,i.default)("div",{className:"fieldBox"},void 0,!!t.label&&this._renderLabel(m,t.label),o.default.createElement("input",(0,n.default)({},v,{"data-bi-id":p,"calendar-picker":d,"calendar-picker-options":JSON.stringify(t),className:e.single,disabled:!!t.disabled,name:m,onFocus:this._handleFocus,placeholder:h,required:l,type:"text"})))}componentDidMount(){const e=$(this._ref.current);const t=e.find("[calendar-picker]");(0,d.createCalendarPickers)(t);$(e).on("inputmask:complete",'input[type="text"]',(e=>{const t=this._getApi(e.currentTarget);if(t){const a=t.getValue();const r=e.currentTarget.value;this._triggerChange(a);this._triggerComplete(r,a)}})).on("inputmask:incomplete",'input[type="text"]',(e=>{const t=this._getApi(e.currentTarget);if(t){const t=e.currentTarget.value;this._triggerIncomplete(t)}})).on("calendarPicker:rangeSet",((e,t)=>this._triggerChange(t)))}componentDidUpdate(e){const{disabled:t,settings:a}=this.props;const r=this._ref.current;const n=this._getApi(r);if(!(0,s.isEqual)(a,e.settings)||t!==e.disabled){n.setOptions({disabled:t,...a});$.placeholder.check(n.$start);if(n.$end){$.placeholder.check(n.$end)}}}componentWillUnmount(){const e=this._ref.current;const t=this._getApi(e);t._hidePopoverImmediately()}render(){const{cssClasses:e,disabled:t,name:a,settings:r,type:n}=this.props;const l={...r||{},disabled:t};const d=(0,s.defaultsDeep)({},m.defaultProps,e);const u=this._getUniqueName(a);let f=["BhrForms","BhrForms--noClear","BhrForms--noSpace",d.component];let p=null;if((0,c.isEnabled)("jade")){let e="fab-InputWrapper";if((0,s.endsWith)(n,"-range")){e="fab-FormSection fab-FormSection--noBorder"}else{p=!!r.label&&this._renderLabel(u,r.label)}f=d?[e,d.component]:null}return(0,i.default)(o.Fragment,{},void 0,p,o.default.createElement("div",{className:f.join(" "),ref:this._ref},(0,s.endsWith)(n,"-range")?this._renderRange(d,l):this._renderSingle(d,l)))}}t.default=m;m.defaultProps={cssClasses:{component:"",range:"",rangeEnd:"ReportPageFilter__input",rangeStart:"ReportPageFilter__input",single:""},disabled:false,noFacade:false,settings:{},type:"date-range",unsafeProps:{}}},829715:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=l(a(573674));var n=a(273641);var i=a(676955);var o=a(51298);a(835328);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class d extends r.Component{constructor(...e){super(...e);this._element=(0,r.createRef)()}static get className(){return"AreaChartComponent"}_setupListeners(){const{onMouseOver:e}=this.props;if(typeof e==="function"){this._element.current.addEventListener(o.MOUSE_OVER,(t=>{e(t)}))}}componentDidMount(){const{data:e,settings:t}=this.props;this._settings=t;this._areaChart=new i.AreaChart(this._element.current,t);this._areaChart.draw(e);this._setupListeners()}shouldComponentUpdate(e){const{data:t}=this.props;return!(0,n.isEqual)(t,e.data)}componentDidUpdate(){const{data:e}=this.props;this._areaChart.draw(e)}render(){return r.default.createElement("div",{ref:this._element})}}t.default=d},259589:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(829715));var i=n.default;t.default=i},28844:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=s(a(573674));var n=a(273641);var i=a(676955);function o(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(o=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=o(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;if(s&&(s.get||s.set)){Object.defineProperty(r,i,s)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class l extends r.Component{constructor(...e){super(...e);this._onSliceEnter=e=>{this.props.onSliceEnter(e.detail)};this._onSliceLeave=e=>{this.props.onSliceLeave(e.detail)}}static get className(){return"Donut"}componentDidMount(){const{data:e,settings:t}=this.props;this._donutChart=new i.DonutChart(this._element,t);this._donutChart.draw(e);if(typeof this.props.onSliceEnter==="function"){this._element.addEventListener("ba:donutSliceEnter",this._onSliceEnter)}if(typeof this.props.onSliceLeave==="function"){this._element.addEventListener("ba:donutSliceLeave",this._onSliceLeave)}}componentWillUnmount(){if(typeof this.props.onSliceEnter==="function"){this._element.removeEventListener("ba:donutSliceEnter",this._onSliceEnter)}if(typeof this.props.onSliceLeave==="function"){this._element.removeEventListener("ba:donutSliceLeave",this._onSliceLeave)}}componentDidUpdate(){const{data:e}=this.props;this._donutChart.draw(e)}render(){return r.default.createElement("div",{ref:e=>this._element=e})}shouldComponentUpdate(e){return!(0,n.isEqual)(this.props.settings,e.settings)||!(0,n.isEqual)(this.props.data,e.data)}}t.default=l},148535:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=s(a(573674));var n=a(273641);var i=a(676955);function o(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(o=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=o(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;if(s&&(s.get||s.set)){Object.defineProperty(r,i,s)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class l extends r.Component{constructor(...e){super(...e);this._onSliceEnter=e=>{this.props.onSliceEnter(e.detail)};this._onSliceLeave=e=>{this.props.onSliceLeave(e.detail)}}static get className(){return"DonutPercentage"}componentDidMount(){const{data:e,settings:t}=this.props;this._donutChart=new i.DonutPercentageChart(this._element,t);this._donutChart.draw(e);if(typeof this.props.onSliceEnter==="function"){this._element.addEventListener("ba:donutSliceEnter",this._onSliceEnter)}if(typeof this.props.onSliceLeave==="function"){this._element.addEventListener("ba:donutSliceLeave",this._onSliceLeave)}}componentDidUpdate(){const{data:e}=this.props;this._donutChart.draw(e)}componentWillUnmount(){if(typeof this.props.onSliceEnter==="function"){this._element.removeEventListener("ba:donutSliceEnter",this._onSliceEnter)}if(typeof this.props.onSliceLeave==="function"){this._element.removeEventListener("ba:donutSliceLeave",this._onSliceLeave)}}render(){return r.default.createElement("div",{ref:e=>this._element=e})}shouldComponentUpdate(e){return!(0,n.isEqual)(this.props.settings,e.settings)||!(0,n.isEqual)(this.props.data,e.data)}}t.default=l},297251:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=l(a(573674));var n=a(121198);var i=a(676955);var o=a(273641);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class d extends r.Component{static get className(){return"GroupedSlice"}componentDidMount(){const{data:e,settings:t}=this.props;this._groupedSlice=new i.GroupedSliceChart(this._element,t);this._groupedSlice.draw(e)}componentDidUpdate(){const{data:e,settings:t}=this.props;(0,n.empty)(this._element);this._groupedSlice=new i.GroupedSliceChart(this._element,t);this._groupedSlice.draw(e)}shouldComponentUpdate(e,t){return!(0,o.isEqual)(this.props.data,e.data)}render(){return r.default.createElement("div",{ref:e=>this._element=e})}}t.default=d},425230:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=l(a(573674));var n=a(273641);var i=a(676955);var o=a(51298);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class d extends r.Component{static get className(){return"HorizontalBarChartComponent"}constructor(){super();this._barChartElem=(0,r.createRef)();this._chart=null}_setupListeners(){const{onMouseClick:e,onMouseOver:t,onMouseLeave:a}=this.props;if(typeof e==="function"){this._barChartElem.current.addEventListener(o.MOUSE_CLICK,e)}if(typeof t==="function"){this._barChartElem.current.addEventListener(o.MOUSE_OVER,t)}if(typeof a==="function"){this._barChartElem.current.addEventListener(o.MOUSE_LEAVE,a)}}componentDidMount(){let{data:e,settings:t}=this.props;this._chart=new i.HorizontalBarChart(this._barChartElem.current,t);this._chart.draw(e);this._setupListeners()}shouldComponentUpdate(e){const{data:t}=this.props;return!(0,n.isEqual)(t,e.data)}componentDidUpdate(){const{data:e}=this.props;this._chart.draw(e)}render(){return r.default.createElement("div",{ref:this._barChartElem})}}t.default=d},653235:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(425230));a(797573);var i=n.default;t.default=i},853450:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(839877));var i=n.default;t.default=i},839877:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=l(a(573674));var n=a(676955);var i=a(51298);var o=a(273641);a(329252);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class d extends r.Component{constructor(...e){super(...e);this._lineChartElem=(0,r.createRef)();this._lineChart=void 0;this._settings=void 0}static get className(){return"LineChartComponent"}_setupListeners(){const{onMouseOver:e}=this.props;if(typeof e==="function"){this._lineChartElem.current.addEventListener(i.MOUSE_OVER,e)}}componentDidMount(){const{data:e,settings:t}=this.props;this._settings=t;this._lineChart=new n.LineChart(this._lineChartElem.current,t);this._lineChart.draw(e);this._setupListeners()}shouldComponentUpdate(e){const{data:t,settings:a}=this.props;return!(0,o.isEqual)(t,e.data)||!(0,o.isEqual)(a,e.settings)}componentDidUpdate(){const{data:e,settings:t}=this.props;if(!(0,o.isEqual)(this._settings,t)){this._settings=t;this._lineChart.updateSettings(t)}this._lineChart.draw(e)}render(){return r.default.createElement("div",{ref:this._lineChartElem})}}t.default=d},448090:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=l;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));var s=a(479706);a(168893);function l({percentDone:e,radius:t,width:a,height:r,displayText:i,strokeWidth:l,animate:d,stroke:c}){const u=100-e;const f=2*Math.PI*t+1;const p=f*(1-e/100);const m=f*(1-u/100);const h={strokeDasharray:f,strokeDashoffset:p,strokeWidth:l};const v={strokeDasharray:`${m}, 2, ${p-5}, 2`,strokeWidth:l};const g=(0,s.isEnabled)("jade")?"MinimalDonut__circle--themeStrokeColor":"baseStrokeColor";const y=c;return(0,n.default)("svg",{className:"MinimalDonut",height:r,width:a},void 0,(0,n.default)("g",{transform:`translate(${a/2},${r/2})`},void 0,(0,n.default)("circle",{className:"MinimalDonut__circle MinimalDonut__circle--percentLeft",r:t,style:v,transform:"rotate(270.1)"}),(0,n.default)("circle",{className:`MinimalDonut__circle ${y?null:g} ${d?"MinimalDonut__circle--animate":""}`,r:t,stroke:y,style:h,transform:"rotate(270.1)"}),i&&(0,n.default)("text",{className:(0,o.default)("MinimalDonut__text fontSemibold",{baseFillColor:!(0,s.isEnabled)("jade"),"MinimalDonut__circle--themeFillColor":(0,s.isEnabled)("jade")}),dy:".3em",textAnchor:"middle"},void 0,i,"%")))}},979933:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(670903));a(994609);var i=n.default;t.default=i},670903:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=l(a(573674));var n=a(273641);var i=a(676955);var o=a(51298);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class d extends r.Component{constructor(...e){super(...e);this._chart=null;this._radialChartElem=(0,r.createRef)()}static get className(){return"RadialProgressChartComponent"}_setupListeners(){const{onMouseClick:e,onMouseOver:t,onMouseLeave:a}=this.props;if(typeof e==="function"){this._radialChartElem.current.addEventListener(o.MOUSE_CLICK,(t=>{e(t)}))}if(typeof t==="function"){this._radialChartElem.current.addEventListener(o.MOUSE_OVER,(e=>{t(e)}))}if(typeof a==="function"){this._radialChartElem.current.addEventListener(o.MOUSE_LEAVE,(e=>{a(e)}))}}componentDidMount(){let{data:e,settings:t}=this.props;this._chart=new i.RadialProgressChart(this._radialChartElem.current,t);this._chart.draw(e);this._setupListeners()}shouldComponentUpdate(e){const{data:t}=this.props;return!(0,n.isEqual)(t,e.data)}componentDidUpdate(){const{data:e}=this.props;this._chart.draw(e)}render(){return r.default.createElement("div",{ref:this._radialChartElem})}}t.default=d},559319:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=l(a(573674));var n=a(121198);var i=a(273641);var o=a(676955);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class d extends r.Component{static get className(){return"Slice"}componentDidMount(){const{data:e,settings:t}=this.props;this._slice=new o.SliceChart(this._element,t);this._slice.draw(e)}componentDidUpdate(){const{data:e,settings:t}=this.props;(0,n.empty)(this._element);this._slice=new o.SliceChart(this._element,t);this._slice.draw(e)}shouldComponentUpdate(e){return!(0,i.isEqual)(this.props.data,e.data)}render(){return r.default.createElement("div",{ref:e=>this._element=e})}}t.default=d},593844:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Collapse=void 0;var r=o(a(573674));var n=a(115971);function i(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(i=function(e){return e?a:t})(e)}function o(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=i(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;if(s&&(s.get||s.set)){Object.defineProperty(r,o,s)}else{r[o]=e[o]}}}r.default=e;if(a){a.set(e,r)}return r}const s=e=>{const{children:t,accordian:a}=e;const[n,i]=(0,r.useState)([]);const o=e=>{if(a){if(n.includes(e)){i([])}else{i([e])}}else{const t=n.findIndex((t=>t===e));if(t===-1){i((t=>[...t,e]))}else{i((e=>{const a=[...e];a.splice(t,1);return a}))}}};return r.default.createElement(r.default.Fragment,null,r.Children.map(t,(e=>{if((0,r.isValidElement)(e)){return(0,r.cloneElement)(e,{openKeys:n,handlePanelChange:o})}return e})))};t.Collapse=s;s.Panel=n.Panel},199919:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Panel=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(193956);var s=a(288015);var l=r(a(484966));var d=r(a(60042));function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=e=>{const t=(0,i.useRef)(null);const a=(0,o.panelPropCheck)(e);if(!a){throw new Error("Panel must appear as child of Collapse component.")}const{panelKey:r,openKeys:c,classes:u={},handlePanelChange:f,icon:p,title:m,children:h,endElement:v,disabled:g,onClose:y,onOpen:b}=a;const w=(0,l.default)();const S=c.includes(r);(0,i.useEffect)((()=>{if(!t.current){if(S&&b&&!g){b(r)}t.current=true}else if(t.current&&S&&b&&!g){b(r)}else if(t.current&&!S&&y&&!g){y(r)}}),[S,r]);const O=e=>{if(e.key==="Enter"&&!g){f(r)}};return(0,n.default)("div",{className:(0,d.default)(w.root,u.root,{[u.rootOpen]:S})},void 0,(0,n.default)("div",{className:(0,d.default)(w.header,u.header,{[u.headerOpen]:S,[u.headerDisabled]:g}),onClick:g?()=>null:()=>f(r),onKeyDown:O,role:"button",tabIndex:0},void 0,(0,n.default)("span",{className:(0,d.default)(w.icon,u.icon,{[w.iconOpen]:S&&!g,[u.iconOpen]:S})},void 0,p?p:(0,n.default)(s.CaretRight5x9,{})),(0,n.default)("p",{className:(0,d.default)(u.headerText,{[u.headerTextOpen]:S,[u.headerTextDisabled]:g})},void 0,m),v?v:null),S?(0,n.default)("div",{className:(0,d.default)(u.content,{[w.closed]:!S,[u.contentOpen]:S})},void 0,h):null)};t.Panel=f},115971:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Panel",{enumerable:true,get:function(){return r.Panel}});var r=a(199919)},854092:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Collapse",{enumerable:true,get:function(){return r.Collapse}});var r=a(593844)},193956:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.panelPropCheck=void 0;const a=e=>{if(e.openKeys&&e.handlePanelChange){return true}return false};const r=e=>{if(a(e)){return e}return null};t.panelPropCheck=r},69231:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ColoredIcon=l;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(169937);function l(e){const{classes:t="",fabricColorName:a="",iconName:r=""}=e;const i=s.colors[a]||s.colors.gray10;const l={fill:i};return(0,n.default)("span",{className:t,style:l},void 0,(0,n.default)(o.Icon,{name:r}))}},945989:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AmountInput=u;var n=r(a(856075));var i=c(a(573674));var o=a(93659);var s=a(982167);var l=a(273641);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function u(e){const{defaultValue:t,name:a,selectedCurrencyItem:r,handleValueChange:d=l.noop,inputProps:c={}}=e;const[u,f]=(0,i.useState)(t?(0,s.formatAmountWithCurrency)(t,r,window.GLOBAL_THOUSANDS_SEPARATOR,window.GLOBAL_DECIMAL_CHAR):"");const p=(0,s.usePrevious)(r);const m=e=>{if(d&&typeof d==="function"){d(e)}};const h=(0,i.useCallback)(((e,t)=>{const a=(0,s.formatAmountWithCurrency)(e,t,window.GLOBAL_THOUSANDS_SEPARATOR,window.GLOBAL_DECIMAL_CHAR);f(a);m(a)}),[]);const v=e=>{h(e.target.value,r)};const g=e=>{f(e.target.value)};(0,i.useEffect)((()=>{if(p&&p.code!==r.code){h(u,r)}}),[r,p,u,h]);return(0,n.default)(o.ControlledAmountInput,{inputProps:c,name:a,onAmountBlur:v,onAmountChange:g,value:u})}},366547:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AmountInput",{enumerable:true,get:function(){return r.AmountInput}});var r=a(945989)},673245:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ControlledAmountInput=o;var n=r(a(368652));var i=r(a(573674));function o(e){const{name:t,onAmountChange:a,onAmountBlur:r,value:o,inputProps:s={}}=e;const l={paddingRight:"45px"};return i.default.createElement("input",(0,n.default)({className:"required requiredWhenVisible CurrencyPicker__input fab-TextInput fab-TextInput--width4",name:t,onBlur:r,onChange:a,style:l,type:"text"},s,{value:o}))}},93659:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ControlledAmountInput",{enumerable:true,get:function(){return r.ControlledAmountInput}});var r=a(673245)},396027:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ControlledCurrencyPickerMenu=u;var n=r(a(856075));var i=c(a(573674));var o=a(273641);var s=r(a(60042));var l=a(651745);a(380733);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function u(e){const{currencyCollection:t,disabled:a,name:r,onCurrencyCodeSelect:d,value:c,onMenuOpen:u=o.noop,onMenuClose:f=o.noop,renderToggle:p}=e;const[m,h]=(0,i.useState)(false);const v=()=>{h(true);if(u&&typeof u==="function"){u.call()}};const g=()=>{h(false);if(f&&typeof f==="function"){f.call()}};const y=({isFocused:e})=>{if(p&&typeof p==="function"){return p()}return(0,n.default)("button",{className:(0,s.default)("fab-TextInput__button fab-TextInput__button--text fab-TextInput__button--right",{"fab-TextInput__button--focused":e}),disabled:a,tabIndex:"-1",type:"button"},void 0,c)};const b=4;const w=(0,i.useMemo)((()=>{if(!m){return[]}const e=[{items:[],type:"group",key:"most_common"},{items:[],type:"group",key:"rest"}];t.forEach(((t,a)=>{const r=a<b?0:1;e[r].items.push({key:t.code,text:t.text||`${t.code} - ${t.name}`,value:t.code,isDisabled:t.isDisabled||false,data:t})}));return e}),[t,m]);return(0,n.default)(i.Fragment,{},void 0,(0,n.default)("div",{className:"ControlledCurrency__Menu--wrapper","data-currency-code":c},void 0,(0,n.default)(l.Menu,{isDisabled:a,isOpen:m,items:w,onClose:g,onOpen:v,onSelect:d,placement:{align:"start",side:"bottom"},renderToggle:y,showSearch:"never"})),r&&(0,n.default)("input",{className:"currencyType js-currency-picker-type",name:r,type:"hidden",value:c}))}},16333:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ControlledCurrencyPickerMenu",{enumerable:true,get:function(){return r.ControlledCurrencyPickerMenu}});var r=a(396027)},969193:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.CurrencyPickerWrapper=o;var n=r(a(856075));var i=r(a(573674));function o(e){const{children:t,note:a}=e;return(0,n.default)("div",{className:"fieldDiv"},void 0,(0,n.default)("div",{className:"fab-InputWrapper"},void 0,t),a&&(0,n.default)("span",{className:"fab-FormNote"},void 0,a))}},967934:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"CurrencyPickerWrapper",{enumerable:true,get:function(){return r.CurrencyPickerWrapper}});var r=a(969193)},469507:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.CurrencyPickerField=u;var n=r(a(856075));var i=c(a(573674));var o=a(16333);var s=a(366547);var l=a(967934);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function u(e){const{currencyCollection:t,inputNames:a,note:r,defaultValues:d}=e;const[c,u]=(0,i.useState)({code:d.currencyCode||"",symbol:d.currencySymbol||"",symbolPosition:0});const f=e=>{const a=t.find((t=>t.code===e.value));if(a){u(a)}};return(0,n.default)(l.CurrencyPickerWrapper,{note:r},void 0,(0,n.default)(s.AmountInput,{defaultValue:d.amount,name:a.amount,selectedCurrencyItem:c}),(0,n.default)(o.ControlledCurrencyPickerMenu,{currencyCollection:t,name:a.currency,onCurrencyCodeSelect:f,value:c.code}))}},464170:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"CurrencyPickerWrapper",{enumerable:true,get:function(){return r.CurrencyPickerWrapper}});Object.defineProperty(t,"AmountInput",{enumerable:true,get:function(){return n.AmountInput}});Object.defineProperty(t,"ControlledAmountInput",{enumerable:true,get:function(){return i.ControlledAmountInput}});Object.defineProperty(t,"ControlledCurrencyPickerMenu",{enumerable:true,get:function(){return o.ControlledCurrencyPickerMenu}});Object.defineProperty(t,"CurrencyPickerField",{enumerable:true,get:function(){return s.CurrencyPickerField}});var r=a(967934);var n=a(366547);var i=a(93659);var o=a(16333);var s=a(469507)},982167:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.formatAmountWithCurrency=o;t.usePrevious=s;var r=a(573674);function n(e){let t=e%100;if(t<10){t="0"+t}return t}function i(e,t){for(let a=0;a<Math.floor((e.length-(1+a))/3);a++){e=e.substring(0,e.length-(4*a+3))+t+e.substring(e.length-(4*a+3))}return e}function o(e,t,a,r){if(!a){a=","}if(!r){r="."}function o(e){const n=new RegExp("[^-0-9.,]+","gi");let i="";if(a!==""){i=new RegExp("\\"+a,"gi")}e=e.replace(t.symbol,"").replace(n,"").replace(i,"");if(r===e[0]){e="0"+e}return Number(e.replace(",",".").replace(/^(-?)([^0-9-]+)/,"$1"))}if(e===""){return e}e=o(e);if(isNaN(e)){e="0"}const s=e==(e=Math.abs(e));e=Math.floor(e*100+.50000000001);const l=n(e);e=Math.floor(e/100).toString();e=i(e,a);const d=t.symbolPosition?(s?"":"-")+e+r+l+t.symbol:(s?"":"-")+t.symbol+e+r+l;return d}function s(e){const t=(0,r.useRef)();(0,r.useEffect)((()=>{t.current=e}));return t.current}},242993:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(764680));var i=a(751916);var o=a(774548);var s=a(273641);a(604905);a(218047);a(276401);var l=a(479706);var d,c,u,f,p,m,h,v,g,y,b,w,S;let O=new WeakMap,T=new WeakMap,C=new WeakMap,P=new WeakMap,E=new WeakMap,M;function x(e,t,a,r){var n=r.settings.aoColumns[r.col];switch(n.type){case"ba-html":e=e.html;break;case"escaped":case undefined:e=(0,o.htmlentities)(e);break}if(n.data==="employeeName"){return`<span class="js-employeeName" data-employeeId="${a.employeeId}">${e}</span>`}return e}function k(e,t,a,r){var n=r.settings.aoColumns[r.col];switch(n.type){case"ba-html":e=e.value;break}return e}function j(e,t,a,r){var n=r.settings.aoColumns[r.col];e=k.call(this,e,"filter",a,r);if((0,s.isString)(n.data)&&!(0,s.isUndefined)(a[n.data+"__sort"])){return a[n.data+"__sort"]}return e}let I=(d=(0,i.on)("liszt:ready","td select"),c=(0,i.on)("DataTable:draw"),u=(0,i.on)("DataTable:activateFilters"),f=(0,i.on)("DataTable:changeFilters"),p=(0,i.on)("DataTable:applyFilters"),m=(0,i.on)("DataTable:resetFilters"),h=(0,i.on)("DataTable:showChildren"),v=(0,i.on)("DataTable:hideChildren"),g=(0,i.onResized)(),y=(0,i.onReady)(),b=(0,i.onFocus)("tbody td :input"),w=(0,i.onBlur)("tbody td :input"),S=class e{static get className(){return"DataTable"}static get className(){return"DataTable"}static get className(){return"DataTable"}onChosenReady(e,t){clearTimeout(M);M=setTimeout((function(){t.adjustColumns()}),10)}get config(){return C.get(this)}get DataTable(){return this.$container.DataTable()}constructor(e,t){this.$filters=this.$elem.find(".DataTable__filters");this.$filterButtons=this.$filters.find(".DataTable__filter-buttons");this.$container=this.$elem.find(".DataTable__container");this.$elem.trigger("DataTable:config",this);const a=this.$elem.data("DataTable:config")||{};var r=(0,s.defaultsDeep)({headerCallback:(e,...t)=>{if((0,l.isEnabled)("jade")){$("th",e).each(((e,t)=>{const a=$(t);const r=this.config.columns[e];const n=r.orderable!==false;a.addClass("fab-Table__header").toggleClass("fab-Table__header--sortable",n).removeClass("fab-Table__cell").removeAttr("style");if(n){setTimeout((()=>{const e=a.hasClass("sorting_asc");const r=a.hasClass("sorting_desc");a.removeClass("sorting sorting_asc sorting_desc");const n=$(t.querySelector(".js-DataTable__sortWrap")||a.wrapInner('<span class="js-DataTable__sortWrap" />')[0].firstChild);n.toggleClass(`fab-Table__sorted`,e||r).toggleClass(`fab-Table__sorted--asc`,e)}),0)}}));$(e).removeAttr("style")}if(typeof a.headerCellCallback==="function"){Array.from(e.querySelectorAll("th")).forEach(((e,t)=>{const r=this.config.columns[t];a.headerCellCallback(e,r,this.config)}))}if(typeof a.headerCallback==="function"){return a.headerCallback(e,...t,this.config)}}},a,{paging:false,pagingType:"simple_numbers",pageLength:250,data:this.$elem.data("DataTable:data")||(0,o.getJsonScriptVar)("data",t),columns:this.$elem.data("DataTable:columns")||(0,o.getJsonScriptVar)("columns",t),ajax:null,scrollX:true,scrollCollapse:true,searching:true,info:false,ordering:false,orderClasses:!(0,l.isEnabled)("jade"),autoWidth:false,dom:'tr<"DataTable__pagination"ip>',columnDefs:[],cellPlaceholder:"-",deferRender:true,infoCallback:(e,t,a,r,n,i)=>(0,l.isEnabled)("jade")?$.__(`%1$s-%2$s of %3$s`,t,a,n):$.__("%1$s %2$s of %3$s",t,a,n),language:{paginate:{previous:"&laquo; "+$.__("Prev"),next:$.__("Next")+" &raquo;"}}});var n=r.initComplete;var i=r.ajax;var d=r.rowCallback;r.columnDefs.push({targets:"_all",render:{display:x.bind(this),filter:k.bind(this),sort:j.bind(this)}});r.initComplete=()=>{E.set(this,this.DataTable.order());if((0,s.isFunction)(n)&&n.call(this)===false){return}let e=this.$elem.find(".dataTables_scrollBody");e.on("scroll",((...t)=>{let a=e[0].scrollLeft,r=e[0].scrollTop,n=a/(e[0].scrollWidth-e[0].clientWidth),i=r/(e[0].scrollHeight-e[0].clientHeight);this.$elem.toggleClass("DataTable--scrolled-left",a>0);this.$elem.toggleClass("DataTable--scrolled-right",n<1);this.$elem.trigger("DataTable:scroll",t)}));let t=[];this.$filters.find(":input").each((function(){let e=$(this);t.push({$elem:e,val:e.val()})}));P.set(this,t)};r.columns=r.columns.map(((e,t)=>{if((0,s.isUndefined)(e.title)&&(0,s.isString)(e.label)){e.title=e.label}if((0,s.isUndefined)(e.name)&&(0,s.isString)(e.data)){e.name=e.data}else if((0,s.isString)(e.name)&&(0,s.isUndefined)(e.data)){e.data=e.name}if((0,s.isFunction)(r.processColumn)){e=r.processColumn.call(this,e,t,r.columns)||e}e.className=(0,s.uniq)((e.className||"").split(" ").map((e=>"DataTable__cell--"+e.replace(/^DataTable__cell--/,""))).concat(["DataTable__cell fab-Table__cell"]).concat((0,s.isString)(e.name)?[`DataTable__cell--${e.name}`]:[]).concat((0,s.isString)(e.data)?[`DataTable__cell--${e.data}`]:[]).concat((0,s.isString)(e.type)?[`DataTable__cell--${e.type}`]:[]).filter((e=>e!=="DataTable__cell--"))).join(" ");return e}));r.ajax={};if((0,s.isString)(i)){r.ajax.url=i}else if((0,s.isPlainObject)(i)){r.ajax.url=i.url}if((0,s.isString)(r.ajax.url)){r.ajax.dataSrc=e=>{if((0,s.isFunction)(i.dataSrc)){e=i.dataSrc(e)}if((0,s.isArray)(e.activeColumns)){this.DataTable.columns().every((function(){this.visible((0,s.includes)(e.activeColumns,this.dataSrc()))}));this.toggleProcessing(false)}return e.data}}else{r.ajax=null}r.rowCallback=(e,t,a)=>{if((0,l.isEnabled)("jade")){$(e).addClass("fab-Table__row").removeClass("even odd").removeAttr("style")}if((0,s.isFunction)(d)&&d.call(this,e,t,a)===false){return}let r=this.DataTable.row(e);let n=(t.children||[]).map((e=>{let t=$('<tr class="DataTable__row--child"/>'),a=this.config.cellPlaceholder;this.DataTable.columns().every((function(){if(this.visible()){t.append(`<td>${e[this.dataSrc()]||a}</td>`)}}));return t}));r.child(n).show()};if(!r.scrollX&&!r.scrollY){this.$elem.addClass("DataTable--noScroll")}C.set(this,r);this.$elem.data("DataTable:config",this.config);["draw","error","init","order","preInit","column-sizing","length"].forEach((e=>{this.$container.on(`${e}.dt`,((t,...a)=>{this.$elem.trigger(`DataTable:${e}`,a)}))}));this.$filters.on("click.DataTable:activateFilters",((e,...t)=>{if($(e.target).closest(".DataTable__filter-buttons").length<1){this.$elem.trigger("DataTable:activateFilters",t)}})).on("change.DataTable:changeFilters",":input",((e,...t)=>{this.$elem.trigger("DataTable:changeFilters",t)})).on("click.DataTable:applyFilters",".DataTable__apply-filters",((e,...t)=>{this.$elem.trigger("DataTable:applyFilters",t);this.draw()})).on("click.DataTable:resetFilters",".DataTable__reset-filters",((e,...t)=>{this.$elem.trigger("DataTable:resetFilters",t)})).on("EmployeeFilters:update",((e,...t)=>{this.$elem.trigger("DataTable:changeFilters",t)}));this.$elem.on("DataTable:preInit DataTable:length",(()=>{let{pages:e}=this.DataTable.page.info();this.$elem.toggleClass("DataTable--singlePage",e<=1)}));this.$container.dataTable(this.config);if((0,l.isEnabled)("jade")){$(".fab-Table--zebra").removeAttr("style")}else{BambooHR.subscribe("chosen:open:before",(e=>{if(e.closest(this.$elem).length){const t=$(window).add(this.$elem.find(".dataTables_scrollBody"));t.on("wheel.DataTable__chosen scroll.DataTable__chosen",(a=>{if(a.eventPhase!==2){e.closest(".chzn-container").prev("select").trigger("liszt:close");t.off(".DataTable__chosen")}}))}}))}}onDrawTable(e,t,a){var r=a._oFixedColumns&&a._oFixedColumns.s&&a._oFixedColumns.s.iLeftColumns>0;var n=a._oFixedColumns&&a._oFixedColumns.s&&a._oFixedColumns.s.iRightColumns>0;t.$elem.toggleClass("DataTable--hasLeftColumns",r);t.$elem.toggleClass("DataTable--hasRightColumns",n);if(!n){t.$elem.find(".DTFC_ScrollWrapper .DTFC_RightHeadBlocker").css({height:t.$elem.find(".dataTables_scrollHead thead").height()-2});var i=t.$elem.find(".dataTables_scrollBody");if(i.length>0&&i[0].scrollHeight<=i[0].clientHeight){t.$elem.find(".DTFC_RightWrapper").css({width:0,"max-width":0})}}}onActivateFilters(e,t){t.$filters.addClass("DataTable__filters--active")}onChangeFilters(e,t){t.$filters.addClass("DataTable__filters--active")}onApplyFilters(e,t){t.toggleProcessing(true);t.$filters.find(':input[name^="DataTable:"]').each(((e,a)=>{let r=$(a),n=t.getColumn(r.attr("name")),i=$.fn.dataTable.util.escapeRegex(r.val());n.search(i?`^${i}$`:"",true,false)}));t.$filters.removeClass("DataTable__filters--active")}onResetFilters(e,t){t.toggleProcessing(true);(0,s.each)(P.get(t),(e=>{e.$elem.val(e.val).trigger("liszt:updated")}));t.$filters.find(".EmployeeFilters").trigger("EmployeeFilters:clear");t.$elem.trigger("DataTable:applyFilters",t)}onShowChildren(e,t){t.disableSort();t.$elem.addClass("DataTable--show-children")}onHideChildren(e,t){t.enableSort();t.$elem.removeClass("DataTable--show-children")}windowResized(e,t){t.adjustColumns()}onReady(e,t){t.adjustColumns()}onFieldFocus(e,t){var a=$(this).closest("tr").index();t.$elem.find("tbody tr").each(((e,t)=>{$(t).toggleClass("DataTable__row--active",$(t).index()==a)}))}onFieldBlur(e,t){t.$elem.find("tbody tr").removeClass("DataTable__row--active")}getColumns(){return this.DataTable.columns()}getColumn(e){if((0,s.isString)(e)&&!(0,s.includes)(e,":")){e+=":name"}return this.DataTable.column(e)}getRowDataFromElem(e){var t=$(e).closest("tr"),a=this.DataTable.row(t);return a.data()}adjustColumns(){this.DataTable.columns.adjust();this.draw();return this}enableSort(){this.resetSort();this.$elem.removeClass("DataTable--no-sort");return this}disableSort(){let e=this.getColumns().toArray()[0].map((e=>[e,"asc"]));this.DataTable.order.fixed({pre:e,post:e});this.draw();this.$elem.addClass("DataTable--no-sort");return this}resetSort(){this.DataTable.order.fixed({});this.DataTable.order(E.get(this));this.draw();return this}toggleProcessing(e){var t="DataTable--processing",a=this.$elem.hasClass(t),r;this.$elem.toggleClass(t,e);r=this.$elem.hasClass(t);if(r!==a){this.$elem.trigger(`DataTable:process${r?"ing":"ed"}`)}}draw(){this.DataTable.draw();return this}reloadData(e,t,a){this.DataTable.ajax.url(e||this.DataTable.ajax.url()).load(t,a);return this}order(){if(arguments.length<1){return this.DataTable.order().map((e=>this.config.columns[e[0]].name+":"+e[1]))}this.DataTable.order(...arguments)}},(0,n.default)(S.prototype,"onChosenReady",[d],Object.getOwnPropertyDescriptor(S.prototype,"onChosenReady"),S.prototype),(0,n.default)(S.prototype,"onDrawTable",[c],Object.getOwnPropertyDescriptor(S.prototype,"onDrawTable"),S.prototype),(0,n.default)(S.prototype,"onActivateFilters",[u],Object.getOwnPropertyDescriptor(S.prototype,"onActivateFilters"),S.prototype),(0,n.default)(S.prototype,"onChangeFilters",[f],Object.getOwnPropertyDescriptor(S.prototype,"onChangeFilters"),S.prototype),(0,n.default)(S.prototype,"onApplyFilters",[p],Object.getOwnPropertyDescriptor(S.prototype,"onApplyFilters"),S.prototype),(0,n.default)(S.prototype,"onResetFilters",[m],Object.getOwnPropertyDescriptor(S.prototype,"onResetFilters"),S.prototype),(0,n.default)(S.prototype,"onShowChildren",[h],Object.getOwnPropertyDescriptor(S.prototype,"onShowChildren"),S.prototype),(0,n.default)(S.prototype,"onHideChildren",[v],Object.getOwnPropertyDescriptor(S.prototype,"onHideChildren"),S.prototype),(0,n.default)(S.prototype,"windowResized",[g],Object.getOwnPropertyDescriptor(S.prototype,"windowResized"),S.prototype),(0,n.default)(S.prototype,"onReady",[y],Object.getOwnPropertyDescriptor(S.prototype,"onReady"),S.prototype),(0,n.default)(S.prototype,"onFieldFocus",[b],Object.getOwnPropertyDescriptor(S.prototype,"onFieldFocus"),S.prototype),(0,n.default)(S.prototype,"onFieldBlur",[w],Object.getOwnPropertyDescriptor(S.prototype,"onFieldBlur"),S.prototype),S);t.default=I},229875:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Dropdown=l;t.default=void 0;var n=r(a(368652));var i=r(a(573674));var o=a(651745);var s=a(778874);function l(e){const{data:t,fabricSettings:a,onHide:r,onSelect:l,onShow:d,settings:c={}}=e;if(a){return i.default.createElement(o.Dropdown,a)}const{anchor:u,disabled:f,listPosition:p=""}=c;const m={anchor:u,isDisabled:f,onSelect:(e,{item:t})=>l(e,t),onOpen:d,onClose:r,showSearch:"auto",placement:(0,s.placementOldToNew)(p)};return i.default.createElement(o.Dropdown,(0,n.default)({},m,{buttonSettings:{icon:t.icon?t.icon.name:"",text:t.displayText?t.displayText:""},items:t.items.map(s.convertOldItemToNew)}))}var d=l;t.default=d},194691:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.deleteEmployeeEducation=i;t.deleteEmergencyContact=o;t.deleteEmployeeDependent=s;var n=r(a(417842));function i(e,t){const a=new FormData;a.append("id",e);a.append("employeeId",t);return n.default.post("/ajax/employees/delete_employee_education_item.php",a)}function o(e,t){return n.default.delete(`/employees/contacts.php?id=${e}&e=${e}&c=${t}`)}function s(e,t){const a=new FormData;a.append("id",e);a.append("d",t);return n.default.post("/ajax/dialog/delete_dependent.php",a)}},331586:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));a(990121);const s=({fieldBoxClasses:e="",children:t,id:a=null,isRequired:r=null})=>{const i=r===null?e:e.replace(/(?:^|\s)required(?!\S)/,"");const s=(0,o.default)("fieldBox","DynamicForm__fieldBox",{required:r},i);return(0,n.default)("div",{className:s,id:a},void 0,t)};var l=s;t.default=l},765926:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));const o=({customClasses:e="",isObfuscated:t=false,type:a,children:r})=>{if(t){e+=`js-input-obfuscated FormInputObfuscated FormInputObfustcated--${a}`}return(0,n.default)("div",{className:`fieldDiv ${e}`},void 0,r)};var s=o;t.default=s},441667:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=u(a(573674));var s=r(a(60042));var l=a(774548);var d=a(470116);a(468906);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f="oneEmailRequiredGroup";const p=({props:e,children:t,context:a})=>{var r;const{className:c=""}=e;const{validation:{register:u,setValue:p,formState:{errors:m},getValues:h,clearErrors:v},controls:{Label:g}}=a;const y=(0,d.getField)(a,d.newEmployeeForm.employeeAccess);const b=(0,d.filterFieldsMemoized)(a,{selector:"props.className",value:"oneEmailRequired"});const w=Object.keys(b);const S=(y===null||y===void 0?void 0:(r=y.props)===null||r===void 0?void 0:r.value)==="enabled"||(0,l.hasTrax)();const O=w.length==2;const T=w.some((e=>{var t,a,r;return(t=b[e])===null||t===void 0?void 0:(a=t.settings)===null||a===void 0?void 0:(r=a.validation)===null||r===void 0?void 0:r.requiredWhenVisible}));const C=w.map((e=>{var t,a;return((t=b[e])===null||t===void 0?void 0:(a=t.props)===null||a===void 0?void 0:a.value)||""})).join("");const P=(0,d.hasErrors)(m,f);const E=S&&O&&!T;u(f,{required:E});(0,o.useEffect)((()=>{p(f,"")}),[]);(0,o.useEffect)((()=>{if(!E&&P){v(f)}}),[E]);(0,o.useEffect)((()=>{if(h(f)!==C){p(f,C,{shouldValidate:true})}}),[C]);const M=(0,s.default)("fieldGroup",c,{"DynamicForm__OneEmailRequired--error":P,"DynamicForm__OneEmailRequired--required":E});return o.default.createElement("div",(0,n.default)({},e,{className:M}),E&&(0,i.default)(g,{error:P,label:$.__("Email"),required:E},void 0,(0,i.default)("span",{},void 0,"",$.__("(One Email Required)"))),(0,i.default)("div",{className:"DynamicForm__OneEmailRequired__wrapper"},void 0,t))};var m=p;t.default=m},659698:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(573674));const o=({props:e,children:t})=>{const{className:a=""}=e;return i.default.createElement("div",(0,n.default)({},e,{className:`fieldGroup ${a}`}),t)};var s=o;t.default=s},731493:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=r(a(573674));var s=a(470116);a(735875);const l=({props:e,settings:t,context:a,children:r})=>{const{className:l="",id:d}=e;const{controls:{Label:c},validation:{formState:{errors:u}}}=a;const{label:f}=t;const p=l.includes("required")||l.includes("requiredWhenVisible");const m=Object.keys(u).length?(0,s.getFieldRowError)(a,u,d):null;return o.default.createElement("div",(0,n.default)({},e,{className:`fieldRow DynamicForm__FieldRow ${l}`}),(0,i.default)(c,{label:f,required:p}),r,!!m&&(0,i.default)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,m.message))};var d=l;t.default=d},263881:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=l(a(573674));var o=a(470116);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=e=>{const{props:t,children:a,context:r}=e;const{setFormData:s,formData:l,validation:{trigger:d}}=r;const{className:c="",id:u}=t;const[f,p]=(0,i.useState)(false);const m=(0,i.useRef)([]);const{current:h}=m;(0,i.useEffect)((()=>{const e=(0,o.findChildren)(r,u,{selector:"key",value:"field"});m.current=Object.keys(e)}),[]);const v=h.map((e=>{var t;const a=l[e];return(a===null||a===void 0?void 0:(t=a.props)===null||t===void 0?void 0:t.value)||(0,o.getSelectedValue)(a)||""})).join("");(0,i.useEffect)((()=>{if(v.length){p(true)}else{p(false)}}),[v]);(0,i.useEffect)((()=>{if(h.length){const e=[];const t={};h.forEach((a=>{const r=l[a];if(!r.settings.validation)r.settings.validation={};r.settings.validation.requiredWhenVisible=f;e.push(r.props.name);t[r.props.id]=r}));s((e=>({...e,...t})));if(!f&&e.length){setTimeout((()=>{d(e)}),10)}}}),[f]);return i.default.createElement("fieldset",(0,n.default)({},t,{className:`fab-FormSection ${c}`}),a)};var c=d;t.default=c},558776:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=l(a(573674));var o=a(470116);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=3;const c=e=>{const{props:t,children:a,context:r}=e;const{className:s=""}=t;const[l,c]=(0,i.useState)(false);const u=(0,o.isSelectedPSSyncing)(r);const f=(0,o.getField)(r,o.Fields.employeeTaxType);const p=(0,o.getSelectedValue)(f);(0,i.useEffect)((()=>{if(u){if(p&&p!==d.toString()){c(true);return}}c(false)}),[u,p]);(0,i.useEffect)((()=>{if(l){setTimeout((()=>{(0,o.forceFormRender)(r)}),10)}}),[l]);return i.default.createElement("fieldset",(0,n.default)({},t,{className:`fab-FormSection ${s} ${l?"":"hidden"}`}),a)};var u=c;t.default=u},828740:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=r(a(573674));var s=r(a(708109));var l=r(a(86846));const d=e=>{const{props:t,children:a,settings:r}=e;const{className:d=""}=t;return o.default.createElement("fieldset",(0,n.default)({},t,{className:`fab-FormSection ${d}`}),a,r.isObfuscated===true&&(0,i.default)(s.default,{}),r.isObfuscated!==true&&(0,i.default)(l.default,{}))};var c=d;t.default=c},378464:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(573674));const o=e=>{const{props:t,children:a}=e;const{className:r=""}=t;return i.default.createElement("fieldset",(0,n.default)({},t,{className:`fab-FormSection ${r}`}),a)};var s=o;t.default=s},613503:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FieldSet",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"FieldRow",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"FieldGroup",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"FieldDiv",{enumerable:true,get:function(){return s.default}});Object.defineProperty(t,"FieldBox",{enumerable:true,get:function(){return l.default}});Object.defineProperty(t,"PayrollFieldSet",{enumerable:true,get:function(){return d.default}});Object.defineProperty(t,"PassportFieldSet",{enumerable:true,get:function(){return c.default}});Object.defineProperty(t,"OneEmailRequiredFieldGroup",{enumerable:true,get:function(){return u.default}});Object.defineProperty(t,"TaxDocumentDeliveryFieldSet",{enumerable:true,get:function(){return f.default}});var n=r(a(378464));var i=r(a(731493));var o=r(a(659698));var s=r(a(765926));var l=r(a(331586));var d=r(a(558776));var c=r(a(263881));var u=r(a(441667));var f=r(a(828740))},549271:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.debugValidation=t.setupDynamicFormDebug=void 0;var r=a(774548);const n=()=>!window.BambooHR.env.prod||(0,r.getParameterByName)("debugdf");const i=e=>{if(n()){window.debugDynamicForm={downloadFormData:()=>{const t=`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(e.formData))}`;const a=document.createElement("a");a.setAttribute("href",t);a.setAttribute("download",`dynamicFormData.json`);a.click();a.remove()},validationObjects:{},context:e};const t=e=>{e.stopPropagation();e.preventDefault()};const a=e=>{t(e);const a=e.dataTransfer;const{files:n}=a;r(n)};const r=async t=>{const a=t[0];const r=new FileReader(a);r.readAsText(a);r.onload=async t=>{const a=t.target.result;try{const t=await JSON.parse(a);e.setFormData(t)}catch(t){console.warn("unable to upload data",t)}}};const n=document.querySelector(".PageHeader");if(n){n.addEventListener("dragenter",t,false);n.addEventListener("dragover",t,false);n.addEventListener("drop",a,false)}}};t.setupDynamicFormDebug=i;const o=(e,t)=>{var a;if(n()&&window.debugDynamicForm&&e!==null&&e!==void 0&&(a=e.props)!==null&&a!==void 0&&a.id){var r;window.debugDynamicForm.validationObjects[e===null||e===void 0?void 0:(r=e.props)===null||r===void 0?void 0:r.id]=t}};t.debugValidation=o},641710:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=t.controls=void 0;var n=r(a(368652));var i=h(a(573674));var o=a(651745);var s=a(985620);var l=a(549271);var d=h(a(613503));var c=h(a(246770));var u=h(a(192207));var f=h(a(764457));var p=a(943337);function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=m(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const v={...c,...d,...u,...f};t.controls=v;const g=({data:e,controls:t={},isAddEmployeeForm:a=false,additionalOptions:r={}})=>{const[n,s]=(0,i.useState)(e);const d=(0,o.useForm)([],{mode:"onBlur",shouldFocusError:false,shouldUnregister:false});const{root:c}=n;const u=n[c];let f=true;(0,i.useEffect)((()=>{(0,p.initializeScrollableTable)()}),[]);if(u&&u.settings&&Object.prototype.hasOwnProperty.call(u.settings,"isClickToEdit")){f=false}const[m,h]=(0,i.useState)(f);const g={...v,...t};const{employeeId:y,showPayrollFederal:b=false,showPayrollState:w=false,isNHPPacket:S=false}=r;const O={controls:g,formData:n,setFormData:s,formOptions:{employeeId:y,isNHPPacket:S,showPayrollFederal:b,showPayrollState:w},form:{isAddEmployeeForm:a,isEditable:m,setIsEditable:h},validation:d};(0,l.setupDynamicFormDebug)(O);const T=e=>{const t=n[e];const{props:a,settings:r,type:o,children:s}=t;let l=o;if(typeof t==="undefined"||typeof a==="undefined"){console.error(`Dynamic Form: Unable to find element id: ${e}`);return null}if(l.includes("upload_covid_documents")){l="Documents"}let d=[];if(Array.isArray(s)&&s.length>0){d=s.map((e=>e===null||e===undefined?null:T(e)))}const c=g[l]||g.FallbackDiv;return(0,i.createElement)(c,{key:a.id,context:O,props:a,settings:r,type:l},d)};return c?T(c):null};const y=e=>{const t=(0,s.overrideFieldData)(e.data);return i.default.createElement(g,(0,n.default)({},e,{data:t}))};var b=y;t.default=b},651973:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=d(a(573674));var o=r(a(60042));var s=a(470116);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const c=e=>{const{settings:t,context:a,children:r,props:l}=e;const{id:d,name:c}=l;const{label:u,fieldBoxClasses:f}=t;const{controls:{Legend:p,FieldBox:m},validation:{register:h,setValue:v}}=a;const g=`checkbox_${c}`;(0,i.useEffect)((()=>{v(g,"")}),[]);const y=(0,s.isRequired)(a,e);const b=r.findIndex((e=>{var t,a;return(e===null||e===void 0?void 0:(t=e.props)===null||t===void 0?void 0:(a=t.props)===null||a===void 0?void 0:a.checked)===true}))===-1;h(g,{required:y&&b});const w=(0,o.default)("fab-CheckboxGroup__legend",{"fab-CheckboxGroup__legend--required":y,"fab-CheckboxGroup__legend--error":y&&b});const S={className:w,id:`${d}-checkbox-legend`};return(0,n.default)(m,{fieldBoxClasses:f,id:d},void 0,(0,n.default)("fieldset",{className:"fab-CheckboxGroup"},void 0,u&&(0,n.default)(p,{context:a,props:S,settings:{label:u}}),r))};var u=c;t.default=u},774716:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=c(a(573674));var s=r(a(60042));var l=a(470116);a(515385);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const u=e=>{const{props:t,settings:a,context:r}=e;const{id:d,className:c,"data-checkbox_id":u,name:f,checked:p}=t;const{label:m,fieldBoxClasses:h,withContainer:v=false,inCheckboxGroup:g,labelProps:y={}}=a;const{controls:{Label:b,FieldBox:w,FieldDiv:S,PendingRequest:O},validation:{setValue:T,getValues:C,register:P,formState:{errors:E}}}=r;const M=(0,l.fixValidationRegisterName)(f);const x=(0,l.hasErrors)(E,M);P(M,{...(0,l.getClassBasedValidation)(r,e)});(0,o.useEffect)((()=>{T(M,p)}),[]);const k=e=>{let t=C(u)||"";t=t.replace(f,"");if(e){t+=f}T(u,t,{shouldValidate:true,shouldDirty:true})};const j=e=>{(0,l.handleControlledInput)("checkbox",d,e.target.checked,r);if(g&&u){k(e.target.checked)}T(M,e.target.checked)};const I=(0,s.default)(c,"fab-Checkbox__input",{"fab-Checkbox__input--error":x});const F=(0,s.default)("fab-Checkbox__label",{"fab-Checkbox__label--error":x});const D=(0,i.default)("div",{className:"fab-Checkbox js-formField DynamicForm__Checkbox"},void 0,(0,i.default)(O,{context:r,props:t,settings:a}),o.default.createElement("input",(0,n.default)({type:"checkbox"},t,{className:I,onChange:j})),(0,i.default)(b,{inputId:d,label:m,labelClasses:F,labelProps:y}));const N=(0,i.default)(w,{fieldBoxClasses:h},void 0,(0,i.default)(S,{},void 0,D));const A=()=>{if(v){return N}if(g){return D}return(0,i.default)(w,{fieldBoxClasses:h},void 0,D)};return A()};var f=u;t.default=f},793251:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(470116);const s=e=>{const{props:t,settings:a,context:r}=e;const{controls:{CurrencyField:i}}=r;const{[o.Fields.overtimeRate]:{note:s,show:l}}=(0,o.getCompensationStates)(r);return l&&(0,n.default)(i,{context:r,props:t,settings:{...a,note:{text:s,type:"base"}}})};var l=s;t.default=l},164858:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=f(a(573674));var o=r(a(60042));var s=r(a(417842));var l=a(464170);var d=a(731968);var c=a(470116);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const p=e=>{const{props:t,settings:a,context:r}=e;const{controls:{TextField:u,PendingRequest:f},validation:{formState:{errors:p},register:m,setValue:h,trigger:v}}=r;const{disabled:g,readOnly:y,name:b,id:w,value:S,className:O}=t;const{currency:T}=a;const C=!!g;const[P,E]=(0,i.useState)([]);const[M,x]=(0,i.useState)(T);const[k,j]=(0,i.useState)(S);const I=(0,c.fixValidationRegisterName)(b);const F=(0,c.hasErrors)(p,I);m(I,{...(0,c.getClassBasedValidation)(r,e),required:(0,c.isRequired)(r,e)});(0,i.useEffect)((()=>{h(I,S)}),[]);(0,d.useNonInitialEffect)((()=>{if(T.code!==M.code){(0,c.handleControlledInput)("currency-object",w,M,r);setTimeout((()=>{v(I)}),1)}}),[M]);(0,d.useNonInitialEffect)((()=>{(0,c.handleControlledInput)("text",w,k.toString(),r)}),[k]);const D=()=>{let e=null;let t=null;const a=(0,c.isSelectedPSSyncing)(r);if(a&&(O.includes(c.Fields.overtimeRate)||O.includes(c.Fields.payRate))){e=(0,c.currentEditingEmployeeId)();t=(0,c.getPayScheduleListValueId)(r)}s.default.get("/ajax/get_currency",{field:w,employeeId:e,payScheduleId:t}).then((e=>{if(e.data&&e.data.data&&Array.isArray(e.data.data)){E(e.data.data)}})).catch((()=>{window.setMessage($.__("There was a problem getting the currency list"),"error")}));E([{text:$.__("Loading..."),code:"TMP",key:"tempLoading",isDisabled:true}])};const N=()=>{E([])};const A=e=>{x(e.data)};const L=()=>(0,n.default)("button",{className:`fab-TextInput__button fab-TextInput__button--text ${C?"CurrencyPicker__button--disabled":""}`,disabled:g||y,tabIndex:-1,type:"button"},void 0,M.code);const R=e=>{j(e);h(I,e,{shouldDirty:true,shouldValidate:true})};const B={...t,className:(0,o.default)(O,{"fab-TextInput--error":F}),disabled:g||y,value:k};return(0,n.default)(u,{context:r,input:(0,n.default)("div",{className:`CurrencyPicker ${C?"CurrencyPicker--pending":""}`},void 0,(0,n.default)("div",{className:"fab-InputWrapper"},void 0,(0,n.default)(f,{context:r,props:t,settings:a}),(0,n.default)(l.AmountInput,{defaultValue:k,handleValueChange:R,inputProps:B,name:b,selectedCurrencyItem:M}),(0,n.default)(l.ControlledCurrencyPickerMenu,{currencyCollection:P,disabled:g||y,name:b.replace("[0]","[1]"),onCurrencyCodeSelect:A,onMenuClose:N,onMenuOpen:D,renderToggle:L,value:M.code}))),props:t,settings:a})};var m=p;t.default=m},866391:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=u(a(573674));var o=r(a(60042));var s=r(a(242895));var l=a(731968);var d=a(470116);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=e=>{const{props:t,settings:a,context:r}=e;const{controls:{TextField:c,PendingRequest:u},validation:{formState:{errors:f},register:p,setValue:m}}=r;const{value:h,className:v,...g}=t;const{name:y,disabled:b}=g;const[w,S]=(0,i.useState)(h||"");const O=(0,d.isRequired)(r,e);const T=(0,d.fixValidationRegisterName)(y);const C=(0,d.hasErrors)(f,T);p(T,{...(0,d.getClassBasedValidation)(r,e),required:O});(0,i.useEffect)((()=>{m(T,h)}),[]);(0,l.useNonInitialEffect)((()=>{const e=w||"";(0,d.handleControlledInput)("text",t.id,e.toString(),r);m(T,e,{shouldDirty:true,shouldValidate:true})}),[w]);const P=e=>{S(e)};const E={...g,defaultValue:w,className:(0,o.default)(v,{"fab-TextInput--error":C})};return(0,n.default)(c,{context:r,input:(0,n.default)("div",{className:"dateFieldWrapper"},void 0,(0,n.default)(u,{context:r,props:t,settings:a}),(0,n.default)(s.default,{disabled:!!b,onChange:P,onIncomplete:P,required:O,type:"date",unsafeProps:E})),props:t,settings:a})};var p=f;t.default=p},242371:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.getCovidDocuments=i;t.uploadCovidDocuments=o;t.deleteFile=s;var n=r(a(417842));function i(e){return n.default.get(`/employees/files/covid_documents/${e}`)}function o(e,t){const a=new FormData;a.append("attachId[]",e);a.append("action","upload");a.append("employeeId",t);a.append("covidDocumentUpload","true");a.append("share","true");return n.default.post(`/ajax/employees/files/edit_file.php`,a)}function s(e){return n.default.post("/employees/files/delete_files",{action:"delete",fileIds:[e]})}},809618:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"InitialFile",{enumerable:true,get:function(){return r.InitialFile}});var r=a(942953)},942953:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.InitialFile=t.useStyles=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(651745);var s=a(288015);var l=a(233097);var d=a(194983);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=(0,o.makeStyles)((({palette:e})=>(0,o.createStyles)({wrapper:{display:"flex",alignItems:"center",marginBottom:"10px"},file:{display:"flex",alignItems:"center","&:hover $name":{cursor:"pointer",color:e.action.active}},name:{margin:"0px 8px",color:e.grey[800]}})));t.useStyles=f;const p=e=>{const{file:t,onDelete:a,canEdit:r}=e;const l=f();const[c,u]=(0,i.useState)(false);const p=()=>{u(true)};const m=()=>{u(false)};const h=()=>{a(t);m()};const v=()=>{window.previewFile(String(t.most_recent_employee_file_data_id),t.id,t.name,true,null,null,null,null,null)};return(0,n.default)("div",{},void 0,(0,n.default)("div",{className:l.wrapper},void 0,(0,n.default)("div",{className:l.file,onClick:v},void 0,(0,n.default)(o.FileIcon,{filename:t.name}),(0,n.default)(o.Typography,{className:l.name},void 0,t.name)),r&&(0,n.default)(o.IconButton,{icon:(0,n.default)(s.CircleX14x14,{}),noBoundingBox:true,onClick:p,type:"button"})),(0,n.default)(d.DeleteFileModal,{file:t,handleClose:m,handleConfirm:h,isOpen:c}))};t.InitialFile=p},470857:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(242371);var s=a(651745);var l=a(634552);var d=a(809618);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=({props:e,settings:t,context:a})=>{const{accessLevel:r}=e;const{type:c}=t;const u=r.includes("view");const f=r.includes("edit");const[p,m]=(0,i.useState)([]);const[h,v]=(0,i.useState)(false);const[g,y]=(0,i.useState)(false);const b=(0,l.useStyles)();function w(e){(0,o.deleteFile)(e.id).then((function({data:e={}}){y(false);if(e.success){setMessage(e.success_message,"success")}else{setMessage(e.error,"error")}}))}function S(e){const t=window.Employee.id;let a;switch(c){case"upload_covid_documents":a=(0,o.uploadCovidDocuments)(e.id,t);break;default:a=null;break}if(a!==null){a.then((function({data:e={}}){if(e.success){setMessage(e.success_message,"success")}else{setMessage(e.error,"error")}}))}}function O(){(0,o.getCovidDocuments)(window.Employee.id).then((function(e){if(e.data&&Array.isArray(e.data)){m(e.data);v(false);y(true)}}))}(0,i.useEffect)((function(){if(!g&&!h){v(true);O()}}),[g,h,f]);return(0,n.default)("div",{},void 0,u&&(0,n.default)("div",{},void 0,(0,n.default)("div",{},void 0,(0,n.default)(s.Typography,{className:b.header,variant:"small"},void 0,$.__(`Attached File(s)`))),p.length>0&&p.map((e=>(0,n.default)(d.InitialFile,{canEdit:f&&!h,file:e,onDelete:w},e.id))),f&&(0,n.default)(s.FileUpload,{canSelectMultiple:true,isDisabled:h,onRemove:w,onUpload:S})))};var p=f;t.default=p},233097:()=>{"use strict"},786381:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.DeleteFileModal=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(288015);var l=a(774548);var d=r(a(496406));const c=(0,o.makeStyles)((({palette:e})=>(0,o.createStyles)({trash:{fill:e.error.main},file:{marginTop:"10px",padding:"25px 0px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},fileName:{marginBottom:"0"}})));const u=e=>{const{file:t,isOpen:a,handleClose:r,handleConfirm:i}=e;const u=c();const f=(0,d.default)(t.created).format(d.default.defaultFormat);return(0,n.default)(o.StandardModal,{isOpen:a,onRequestClose:r},void 0,(0,n.default)(o.StandardModal.Body,{renderFooter:(0,n.default)(o.StandardModal.Footer,{actions:[(0,n.default)(o.Button,{onClick:i,type:"button"},"primary",$.__("Delete File")),(0,n.default)(o.Button,{color:"secondary",onClick:r,type:"button"},"secondary",$.__("Keep File"))]}),renderHeader:(0,n.default)(o.StandardModal.Header,{hasCloseButton:true,title:$.__("Just Checking...")})},void 0,(0,n.default)(o.StandardModal.Constraint,{spacingOverrides:{bottom:o.StandardModal.Constraint.Spacing.MEDIUM,top:o.StandardModal.Constraint.Spacing.MEDIUM}},void 0,(0,n.default)(o.StandardModal.HeroHeadline,{icon:(0,n.default)(s.TrashCan43x48,{className:u.trash}),text:$.__("Are you sure you want to delete this file?")}),(0,n.default)(o.RoundedBox,{className:u.file},void 0,(0,n.default)(o.FileIcon,{filename:t.name,size:"large"}),(0,n.default)(o.Typography,{className:u.fileName,variant:"h4"},void 0,t.name),(0,n.default)(o.Typography,{variant:"small"},void 0,"Created ",f," by ",t.created_user," (",(0,l.humanFileSize)(t.size),")")))))};t.DeleteFileModal=u},194983:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"DeleteFileModal",{enumerable:true,get:function(){return r.DeleteFileModal}});var r=a(786381)},634552:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useStyles=void 0;var r=a(651745);const n=(0,r.makeStyles)((({palette:e})=>(0,r.createStyles)({header:{color:e.grey[800],marginBottom:"5px"}})));t.useStyles=n},123001:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=d(a(573674));var o=a(853559);var s=a(479706);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function c(e){return(0,n.default)("div",{className:"Quickform",dangerouslySetInnerHTML:{__html:e}})}function u(e){return(0,n.default)("div",{style:{float:"none",clear:"both"}},void 0,(0,n.default)(o.PoMicroFrontend,{customClassNamePrefix:e.tableType,employee:window.Employee,route:"/employees/widget-history-table",tableComponentJson:e}))}function f(e,t){const a={tableCompensation:"compensation",tableDirectReports:"direct reports"};return!(0,s.isEnabled)("renderPoHistoryTables")||a[t.token]}const p=({type:e,children:t,props:a,settings:r})=>{const{"aria-label":o="",id:s=""}=a||{};const l=window.BambooHR.env.dev;const{componentHtml:d,componentJson:p}=a;(0,i.useEffect)((()=>{if(!d&&!e.includes("table")&&!e.includes("direct_reports")){window.Rollbar.error("Dynamic Form: Missing template for: ",{type:e,label:o,fieldId:s})}}),[]);const m=f(a,r);return(0,n.default)("div",{},void 0,l&&!d&&(0,n.default)("div",{style:{color:"red"}},void 0,"Tried to Render type: ",e,", but template doesn't exist"),t,m&&d&&c(d),!m&&p&&u(p))};var m=p;t.default=m},866527:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=p(a(573674));var s=a(877748);var l=r(a(60042));var d=a(651745);var c=a(470116);var u=a(479706);function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=f(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const m=(0,u.isEnabled)("GenderSelectUpdates");const h=({props:e,children:t,settings:a,context:r})=>{const{className:u="",id:f}=e;const{isClickToEdit:p=false,customFooterData:h={primaryButton:{},secondaryButton:{}},validation:v={}}=a;const{primaryButton:g={},secondaryButton:y={}}=h;const{form:{isEditable:b,setIsEditable:w},validation:{trigger:S,formState:{errors:O}}}=r;const[T,C]=(0,o.useState)(false);(0,c.updatePlaceholderLabels)();const P=(0,l.default)(...u.split(" "),{"BhrForms--view":p?!b:false,DynamicForm__TraxSyncing:(0,c.isSelectedPSSyncing)(r)});const E=e=>{const t=(0,c.determineValidEditableField)(e);if(!b&&t){w(true)}};const M=async()=>{closeMessage();C(true);const e=v.noValidation&&m?true:await S();console.log("isValid",e,O);if(e){const e=$(`#${f}`);if(window.ASSUMED_USER){window.disabledForPermsTest();return}e.submit()}else{setMessage("Whoops... No worries. Please fix any missing or incorrect information and try again.","error");C(false);(0,c.scrollToError)(null,155)}};const x=()=>{(0,c.resetForm)(r);if(p){w(false)}};return o.default.createElement("form",(0,n.default)({},e,{className:P,onClick:E}),t,(0,i.default)(s.PageActionsFooter,{isOpen:b},void 0,(0,i.default)(d.Button,{clickAction:M,isProcessing:T,text:g.text||$.__("Save Changes"),type:"submit"}),(0,i.default)(d.TextButton,{clickAction:x,isProcessing:T,text:y.text||$.__("Cancel"),type:"reset"})))};var v=h;t.default=v},292056:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(470116);const s=e=>{const{props:t,settings:a,context:r,children:s}=e;const{id:l,items:d}=t;const c=t["data-prefer-not-to-say-id"];const u=t["data-custom-gender-identity-id"];const f=(0,o.getField)(r,o.Fields.genderIdentity);const p=(0,o.getSelectedValue)(f);const m=p===u;const{controls:{SelectField:h}}=r;const v=[{items:d.filter((e=>e.value!==c&&e.value!==u)),type:"group",value:1},{anchor:"bottom",items:d.filter((e=>{if(e.value===c||e.value===u){e.exclusive=true;return e}})),type:"group",value:2}];const g={...t,canSelectMultiple:true,onChange:e=>(0,o.handleControlledInput)("select",l,e,r),items:v};return i.default.createElement(i.default.Fragment,null,(0,n.default)(h,{context:r,props:g,settings:a}),m&&s)};var l=s;t.default=l},565578:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));const o=({props:e,settings:t,context:a})=>{const{items:r}=e;const{controls:{SelectField:i}}=a;const o=[{items:r.filter((t=>t.value!==e["data-prefer-not-to-say-id"])),type:"group",value:1},{anchor:"bottom",items:r.filter((t=>t.value===e["data-prefer-not-to-say-id"])),type:"group",value:2}];const s={...e,items:o};return(0,n.default)(i,{context:a,props:s,settings:t})};var s=o;t.default=s},747486:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(651745);var s=a(470116);var l=a(366290);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const u=({props:e,settings:t,context:a,children:r})=>{const{disabled:d,id:c}=e;const{fieldBoxClasses:u=""}=t;const{controls:{FieldBox:f,SelectField:p},formData:m}=a;const h=!u.includes("hidden");const v=(0,s.getField)(a,s.Fields.gender);const g=(0,s.getSelectedValue)(v);const y=Object.keys((0,s.findChildren)(a,c,{selector:"key",value:"field"})||[]);const b=y.map((e=>{const t=m[e];return(0,s.getSelectedValue)(t)||""})).join("");const w=g==="Non-binary";const S=window.SESSION_USER&&window.SESSION_USER.isOnboardingUser&&window.isMobile();const[O,T]=(0,i.useState)(null);const[C,P]=(0,i.useState)(false);const[E,M]=(0,i.useState)((!!b||w)&&h);const x={...e,width:"5"};const k=(0,l.getStyles)(S);const j=k();const I=!!r.length;const F=I?"fieldRow":"fieldBox DynamicForm__fieldBox";let D="top";if(S){if(window.outerWidth<=780){D="top-start"}else if(window.outerWidth>780&&window.outerWidth<1024){D="top-end"}}return(0,n.default)("div",{className:F},void 0,(0,n.default)(p,{context:a,props:x,settings:t}),(w||E)&&h&&r,I&&h&&!d&&i.default.createElement(i.default.Fragment,null,(0,n.default)(f,{fieldBoxClasses:u},void 0,i.default.createElement("span",{className:j.infoIcon,onClick:()=>{P(true)},onMouseEnter:()=>{P(true)},ref:T},(0,n.default)(o.Icon,{brand:true,name:S?"fab-question-20x20":"fab-question-14x14"})),(0,n.default)(o.Popover,{anchorEl:O,disableOuterClickOnClose:S,disablePortal:true,onClose:()=>P(false),open:C,placement:D,title:$.__("Gender Information")},void 0,(0,n.default)("div",{className:j.popoverContainer},void 0,$.__(`Government reporting currently requires reporting on employee gender. If you'd like, we encourage you to add gender information below and share more about your gender identity and pronouns.`),!(w||E)&&(0,n.default)(o.TextButton,{onClick:()=>M(true)},void 0,$.__("+ Add Gender Information")))))))};var f=u;t.default=f},366290:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getStyles=void 0;var r=a(651745);const n=e=>(0,r.makeStyles)((({palette:t})=>(0,r.createStyles)({infoIcon:{position:"relative",bottom:e?"2px":"5px","& svg":{fill:t.grey[600]},"&:hover svg":{fill:t.primary.main}},popoverContainer:{width:"250px"}})));t.getStyles=n},217776:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(573674));const i=({props:e})=>n.default.createElement("input",e);var o=i;t.default=o},774991:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));const o=({hover:e,isEditable:t,context:a,children:r})=>{const{controls:{HoverBase:i}}=a;return(0,n.default)(i,{hoverChild:r,isEditable:t},void 0,(0,n.default)("button",{className:"HoverHint__link fab-TextButton fab-link",onClick:e.handleHoverAction,type:"button"},void 0,e.text))};var s=o;t.default=s},594965:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));a(300210);const s=({children:e,isEditable:t,hoverChild:a})=>{const r=(0,o.default)("HoverHint","DynamicForm--HoverBase__hint",{"DynamicForm--HoverBase__Editable":t});return(0,n.default)("span",{className:r},void 0,a,(0,n.default)("span",{className:"HoverHint__content"},void 0,e))};var l=s;t.default=l},637488:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=t.HoverEmail=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);const s=({value:e,isEditable:t,context:a,children:r})=>{const{controls:{HoverBase:s}}=a;return(0,n.default)(s,{hoverChild:r,isEditable:t},void 0,i.default.createElement(i.default.Fragment,null,(0,n.default)("span",{className:"HoverHint__icon"},void 0,(0,n.default)(o.Icon,{brand:true,name:"fab-envelope-16x12"})),(0,n.default)("a",{className:"HoverHint__link",href:`mailto:${e}`},void 0,$.__("Email"))))};t.HoverEmail=s;var l=s;t.default=l},764457:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"HoverBase",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"HoverEmail",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"HoverMap",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"HoverLink",{enumerable:true,get:function(){return s.default}});Object.defineProperty(t,"HoverAction",{enumerable:true,get:function(){return l.default}});Object.defineProperty(t,"PendingRequest",{enumerable:true,get:function(){return d.default}});var n=r(a(594965));var i=r(a(637488));var o=r(a(305424));var s=r(a(895698));var l=r(a(774991));var d=r(a(385425))},895698:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));const o=({hover:e,isEditable:t,context:a,children:r})=>{const{controls:{HoverBase:i}}=a;return(0,n.default)(i,{hoverChild:r,isEditable:t},void 0,(0,n.default)("a",{className:"HoverHint__link",href:e.link,rel:"noopener noreferrer",target:"_blank"},void 0,$.__("View")))};var s=o;t.default=s},305424:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);const s=({hover:e,isEditable:t,context:a,children:r})=>{const{controls:{HoverBase:s}}=a;if(!e.link){return i.default.createElement(i.default.Fragment,null," ",r," ")}return(0,n.default)(s,{hoverChild:r,isEditable:t},void 0,i.default.createElement(i.default.Fragment,null,(0,n.default)("span",{className:"HoverHint__icon"},void 0,(0,n.default)(o.Icon,{brand:true,name:"fab-location-9x12"})),(0,n.default)("a",{className:"HoverHint__link",href:e.link,rel:"noopener noreferrer",target:"_blank"},void 0,$.__("Map"))))};var l=s;t.default=l},385425:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=r(a(972445));var l=r(a(60042));a(55844);const d=({props:e,settings:t})=>{const{pending:a}=t;const{className:r="",type:i}=e;if(!a){return null}const d=(0,l.default)({DynamicForm__pending:true,"DynamicForm__pending--container":i==="checkbox"});const c=`/inbox/details.php?id=${a}`;return(0,n.default)("a",{className:d,href:c},void 0,(0,n.default)("div",{className:"DynamicForm__pending--icon"},void 0,(0,n.default)(s.default,{settings:{template:{name:"tooltip-standard",data:{title:$.__("Pending Approval"),content:$.__("The latest change to this field is waiting for approval. Click to go to the original request."),textAlign:"center"}}}},void 0,(0,n.default)(o.Icon,{name:"fab-pencil-check-16x16"}))))};var c=d;t.default=c},246770:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"CheckboxField",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"CheckboxList",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"CurrencyField",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"CurrencyOvertimeRateField",{enumerable:true,get:function(){return s.default}});Object.defineProperty(t,"DateField",{enumerable:true,get:function(){return l.default}});Object.defineProperty(t,"Documents",{enumerable:true,get:function(){return d.default}});Object.defineProperty(t,"EmploymentStatusNote",{enumerable:true,get:function(){return c.default}});Object.defineProperty(t,"FallbackDiv",{enumerable:true,get:function(){return u.default}});Object.defineProperty(t,"Form",{enumerable:true,get:function(){return f.default}});Object.defineProperty(t,"GenderIdentity",{enumerable:true,get:function(){return p.default}});Object.defineProperty(t,"GenderPronouns",{enumerable:true,get:function(){return m.default}});Object.defineProperty(t,"GenderSelect",{enumerable:true,get:function(){return h.default}});Object.defineProperty(t,"HiddenInput",{enumerable:true,get:function(){return v.default}});Object.defineProperty(t,"InformationField",{enumerable:true,get:function(){return g.default}});Object.defineProperty(t,"Label",{enumerable:true,get:function(){return y.default}});Object.defineProperty(t,"Legend",{enumerable:true,get:function(){return b.default}});Object.defineProperty(t,"Note",{enumerable:true,get:function(){return w.default}});Object.defineProperty(t,"PayScheduleNote",{enumerable:true,get:function(){return S.default}});Object.defineProperty(t,"SelectEmploymentStatusField",{enumerable:true,get:function(){return O.default}});Object.defineProperty(t,"SelectField",{enumerable:true,get:function(){return T.default}});Object.defineProperty(t,"SelectOvertimeStatusField",{enumerable:true,get:function(){return C.default}});Object.defineProperty(t,"SelectPaidPerField",{enumerable:true,get:function(){return P.SelectPaidPerField}});Object.defineProperty(t,"SelectPayGroupField",{enumerable:true,get:function(){return E.default}});Object.defineProperty(t,"SelectPayRateField",{enumerable:true,get:function(){return M.SelectPayRateField}});Object.defineProperty(t,"SelectPayScheduleField",{enumerable:true,get:function(){return x.default}});Object.defineProperty(t,"SelectPayTypeField",{enumerable:true,get:function(){return k.SelectPayTypeField}});Object.defineProperty(t,"SelectStandardCountryField",{enumerable:true,get:function(){return j.default}});Object.defineProperty(t,"SensitiveTextField",{enumerable:true,get:function(){return I.default}});Object.defineProperty(t,"StaticTemplate",{enumerable:true,get:function(){return F.default}});Object.defineProperty(t,"TextareaField",{enumerable:true,get:function(){return D.default}});Object.defineProperty(t,"TextField",{enumerable:true,get:function(){return N.default}});Object.defineProperty(t,"TextHoverField",{enumerable:true,get:function(){return A.default}});Object.defineProperty(t,"TextIconField",{enumerable:true,get:function(){return L.default}});Object.defineProperty(t,"TextMaskedField",{enumerable:true,get:function(){return R.default}});Object.defineProperty(t,"EmployeeAccess",{enumerable:true,get:function(){return B.EmployeeAccess}});Object.defineProperty(t,"TablesDirectDepositElement",{enumerable:true,get:function(){return B.TablesDirectDepositElement}});Object.defineProperty(t,"TablesEmployeeTaxInformationElement",{enumerable:true,get:function(){return B.TablesEmployeeTaxInformationElement}});var n=r(a(774716));var i=r(a(651973));var o=r(a(164858));var s=r(a(793251));var l=r(a(866391));var d=r(a(470857));var c=r(a(832970));var u=r(a(123001));var f=r(a(866527));var p=r(a(292056));var m=r(a(565578));var h=r(a(747486));var v=r(a(217776));var g=r(a(799728));var y=r(a(468082));var b=r(a(333097));var w=r(a(135046));var S=r(a(359619));var O=r(a(212079));var T=r(a(101704));var C=r(a(607633));var P=a(528399);var E=r(a(996747));var M=a(399709);var x=r(a(37313));var k=a(184648);var j=r(a(126490));var I=r(a(234565));var F=r(a(507866));var D=r(a(917955));var N=r(a(340486));var A=r(a(504748));var L=r(a(403508));var R=r(a(583565));var B=a(424377)},799728:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));const o=({settings:e,context:t})=>{const{controls:{FieldDiv:a}}=t;const{note:r}=e;return(0,n.default)(a,{},void 0,r)};var s=o;t.default=s},374784:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=i;var n=r(a(943759));function i({maxLength:e=null,minLength:t=null,replaceInvalidCharacters:a=true}={}){return(0,n.default)({maxLength:e,minLength:t,replaceInvalidCharacters:a,nonMatchingRegExp:/[^A-Za-z0-9]+/g,matchingRegularExpression:/[A-Za-z0-9]/})}},943759:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=r;const a="";function r({maxLength:e=null,minLength:t=null,replaceInvalidCharacters:r=true,nonMatchingRegExp:n=/\W/g,matchingRegularExpression:i=/\w/}={}){function o(o=a){if(o===a&&t===null){return[i]}let l=o;if(e&&typeof e==="number"){l=l.slice(0,e)}l=r?l.replace(n,a):l;if(t&&typeof t==="number"){const e=l.length;if(e<t){for(let a=e;a<t;a++){l+="9"}}}return s(l)}function s(e){return e.split(a).map((e=>i.test(e)?i:e))}o.instanceOf="createDynamicMask";return o}},210859:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createNumericMask",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"createAlphanumericMask",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"createDynamicMask",{enumerable:true,get:function(){return o.default}});t.commonInputMasks=void 0;var n=r(a(822616));var i=r(a(374784));var o=r(a(943759));const s=(0,n.default)({replaceInvalidCharacters:false});const l=(0,i.default)({replaceInvalidCharacters:false});const d={"ssn-field":s("999-99-9999"),"ssn-field-sensitive":l("999-99-9999"),"sin-field":s("999-999-999"),"sin-field-sensitive":l("999-999-999"),"nin-field":l("ss ss ss ss s"),"national-id-field":(0,i.default)({minLength:6,maxLength:16}),validatePassportNumber:(0,i.default)({maxLength:20}),"cc-expiration-field":s("99/99")};t.commonInputMasks=d},822616:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=i;var n=r(a(943759));function i({maxLength:e=null,minLength:t=null,replaceInvalidCharacters:a=true}={}){return(0,n.default)({maxLength:e,minLength:t,replaceInvalidCharacters:a,nonMatchingRegExp:/\D+/g,matchingRegularExpression:/\d/})}},468082:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(573674));var o=r(a(60042));const s=({labelClasses:e,inputId:t,label:a,labelProps:r,info:s,required:l,error:d,children:c})=>{if(!a||a.length===0){return null}const u=e||(0,o.default)("fab-Label",{"fab-Label--info":s,"fab-Label--required":l,"fab-Label--error":d});return i.default.createElement("label",(0,n.default)({className:u,htmlFor:t},r),a,c)};var l=s;t.default=l},333097:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=r(a(573674));var s=a(651745);var l=a(288015);var d=r(a(60042));a(209742);const c={address:(0,i.default)(l.Home20x20,{}),benefits:(0,i.default)(l.HeartAdd20x18,{}),compensation:(0,i.default)(l.Checkbook20x16,{}),contact:(0,i.default)(l.MobilePhone14x20,{}),default:(0,i.default)(l.PersonIndexCard20x16,{}),directDeposit:(0,i.default)(l.Bank20x19,{}),emergencyContacts:(0,i.default)(l.Ambulance20x16,{}),employmentStatus:(0,i.default)(l.BadgePerson20x16,{}),job:(0,i.default)(l.Briefcase20x19,{}),jobInformation:(0,i.default)(l.Briefcase20x19,{}),payrollCheckbox:(0,i.default)(l.HiBubble24x24,{}),payrollInformation:(0,i.default)(l.MoneyCircle20x20,{}),personal:(0,i.default)(l.PersonCircle20x20,{}),selfService:(0,i.default)(l.LockPerson20x20,{}),socialLinks:(0,i.default)(l.ChatBubbles20x20,{}),stateUnemploymentInsurance:(0,i.default)(l.MoneyShield17x20,{}),taxWithholding:(0,i.default)(l.GovBuilding18x20,{}),vaccinationStatus:(0,i.default)(l.StarOfLife18x20,{})};const u=({settings:e,props:t})=>{const{label:a,icon:r,fabIcon:l}=e;const{className:u=""}=t;if(!a){console.error("Label is required for Legend component");return null}const f=typeof r==="undefined"?false:c[r]||c.default;const p=typeof l==="undefined"?f:(0,i.default)(s.Icon,{brand:true,name:l});const m=(0,d.default)({DynamicForm__Legend:true,"fab-FormSection__legend":!u.includes("fab-CheckboxGroup__legend")},u);const h=`quickform-form-section-for-${a===null||a===void 0?void 0:a.toLowerCase().replace(" ","-")}-legend`;return o.default.createElement("legend",(0,n.default)({},t,{className:m,"data-bi-id":h}),!!p&&(0,i.default)("div",{className:"DynamicForm__LegendIcon"},void 0,p),(0,i.default)("div",{className:"DynamicForm__LegendText"},void 0,a))};var f=u;t.default=f},544407:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=d(a(573674));var o=a(273641);var s=a(389457);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const c=e=>e.map((e=>{const t=e.flat_or_percent==="FLAT"?"Dollar":e.amount==="100"?"Balance":"Percent";const a=(0,o.cloneDeep)(e);return{postItem:a,...e,accountId:e.order.toString(),amount:e.flat_or_percent==="FLAT"?`$${e.amount}`:`${e.amount}%`,calculationType:t,imageUrl:e.image_url,isBankImageUrl:!!e.image_url,numberRaw:e.number,number:`X-${e.number.substr(e.number.length-4)}`,rawAmount:e.amount,routingNumber:e.routing_number}}));const u=()=>{const[e,t]=(0,i.useState)([]);const a=(e,a)=>{const r=c(e||[]);t(r);const n={data:{direct_deposits:{BANK:r}}};if(a&&typeof a==="function"){a(n)}};const r=()=>e.map((e=>i.default.createElement(i.default.Fragment,null,Object.keys(e.postItem).map((t=>{const{postItem:a}=e;return(0,n.default)("input",{hidden:true,name:`accounts[${a.order}][${t}]`,type:"text",value:a[t]},`${a.order}${t}${a.routing_number}${a.number}`)})))));return i.default.createElement(i.default.Fragment,null,(0,n.default)(s.DirectDeposit,{customSave:a,deposits:[],employeeId:0,hasTrax:true,permissionLevel:3}),r())};var f=u;t.default=f},759616:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(651745);var s=a(753134);var l=a(470116);a(138131);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const u=(0,o.styled)(o.SelectableBox)((({theme:e})=>({marginRight:e.spacing(2),maxWidth:350})));const f=({props:e,settings:t,context:a})=>{var r,d;const{id:c,name:f,value:p="disabled"}=e;const{hasEmailFields:m,permission:h,userGroups:v,userGroupValue:g}=t;const{controls:{FieldRow:y}}=a;const b=v&&Array.isArray(v)?[v[0].value]:[];const[w,S]=(0,i.useState)(p);const[O,T]=(0,i.useState)(b);const[C,P]=(0,i.useState)(true);const E=(0,l.getField)(a,l.Fields.emailWork);const M=E===null||E===void 0?void 0:(r=E.props)===null||r===void 0?void 0:r.value;const x=(0,l.getField)(a,l.Fields.emailHome);const k=x===null||x===void 0?void 0:(d=x.props)===null||d===void 0?void 0:d.value;(0,i.useEffect)((()=>{const e=!!M;const t=!!k;if(e||t){P(false)}else{P(true)}}),[M,k]);const j=(e,t)=>{S(t);(0,l.handleControlledInput)("text",c,t,a)};const I=e=>{T(e)};const F={id:"ess_group_id",isClearable:false,items:v,label:$.__("Access Level"),name:"ess_group_id",onChange:I,selectedValues:O,width:6};const D=()=>{let e=w==="disabled"?$.__("Disabled"):$.__("Enabled");if(v&&Array.isArray(v)&&v.length>1&&g){const t=v.find((e=>e.value===g));if(t){e=t.text}}return(0,n.default)("span",{className:"DynamicForm--employeeAccess__noAccess"},void 0,e)};return(0,n.default)("div",{className:"DynamicForm--employeeAccess"},void 0,!!(h==="REQUEST/EDIT")&&i.default.createElement(i.default.Fragment,null,m&&i.default.createElement(i.default.Fragment,null,(0,n.default)(y,{context:a,props:{},settings:{}},void 0,(0,n.default)("div",{className:"fieldBox fab-FormField","data-bi-id":"employees-add-employee-form-employee-access"},void 0,(0,n.default)(o.SelectableBoxGroup,{type:"radio"},void 0,(0,n.default)(u,{description:$.__("They will be able to login to BambooHR using the access level you choose."),icon:"fab-check-circle-20x20",inputId:`${c}-enabled`,isChecked:w==="enabled",name:f,onChange:j,title:$.__("Allow Access to BambooHR"),type:"radio",value:"enabled"}),(0,n.default)(u,{description:$.__(`They won't have access and will not be able to login to BambooHR.`),icon:"fab-block-20x20",inputId:`${c}-disabled`,isChecked:w!=="enabled",name:f,onChange:j,title:$.__("No Access"),type:"radio",value:"disabled"})))),!!(v&&Array.isArray(v)&&v.length>1&&w==="enabled")&&(0,n.default)(y,{context:a,props:{},settings:{}},void 0,(0,n.default)("div",{className:"fieldBox fab-FormField"},void 0,i.default.createElement(o.Select,F)))),(0,n.default)(y,{context:a,props:{},settings:{}},void 0,(0,n.default)("div",{className:"fieldBox fab-FormField"},void 0,!m&&(0,n.default)("span",{className:"fab-FormNote DynamicForm--employeeAccess__noMargin"},void 0,(0,n.default)(s.Message,{link:(0,s.InternalLink)("new_fields.php"),text:$._(`To turn this on the employee needs an email and we don't detect an email on the page. Click [here] to add.`)})),!!(C&&w==="enabled")&&(0,n.default)("span",{className:"fab-FormNote fab-FormNote--info DynamicForm--employeeAccess__noMargin"},void 0,$.__("To enable access, this employee needs to be active and have a valid work or home email."))))),!!(h!=="REQUEST/EDIT")&&(0,n.default)(y,{context:a,props:{},settings:{}},void 0,D()))};var p=f;t.default=p},846635:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.newEmployeeForm=void 0;let a;t.newEmployeeForm=a;(function(e){e["newHireCheckbox"]="customNewHireCheckbox";e["payrollCheckbox"]="bamboohrPayrollCheckbox";e["employeeAccess"]="employee_access_field"})(a||(t.newEmployeeForm=a={}))},424377:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"TablesDirectDepositElement",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"EmployeeAccess",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"newEmployeeForm",{enumerable:true,get:function(){return o.newEmployeeForm}});Object.defineProperty(t,"TablesEmployeeTaxInformationElement",{enumerable:true,get:function(){return s.default}});var n=r(a(544407));var i=r(a(759616));var o=a(846635);var s=r(a(287868))},287868:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=p(a(573674));var o=r(a(417842));var s=r(a(60042));var l=a(651745);var d=a(651745);var c=a(470116);var u=a(287831);a(321893);function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=f(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const m="taxInformationGroup";const h=({context:e,props:t})=>{var a;const{controls:{Legend:r},validation:{formState:{errors:f},register:p},form:{isAddEmployeeForm:h},formOptions:{employeeId:v,showPayrollFederal:g,showPayrollState:y,isNHPPacket:b}}=e;const{disabled:w}=t;const[S,O]=(0,i.useState)({});const[T,C]=(0,i.useState)(false);const[P,E]=(0,i.useState)(false);const M=(0,i.useRef)();const x=window.SESSION_USER&&window.SESSION_USER.isAdmin;p(m,{validate:{manuallyRequired:()=>c.customRules.validateTaxInformation(M)}});const k=(0,c.getError)(f,m);const j=!!k;const I=(0,c.getField)(e,c.Fields.location);const F=(0,c.getField)(e,c.Fields.employeeAddressState);const D=(0,c.getField)(e,c.Fields.payrollHomeStateField);const N=(0,c.getField)(e,c.Fields.stateTaxWithholdingLocationField);const A=(0,c.getField)(e,c.Fields.stateUiLocationField);const L=(0,c.getField)(e,c.Fields.stateUiExemptField);const R=(0,c.getSelectedValue)(I);const B=(0,c.getSelectedValue)(F)||(0,c.getSelectedValue)(D);const H=(0,c.getSelectedValue)(N);const W=(0,c.getSelectedValue)(A);const U=!!(L!==null&&L!==void 0&&(a=L.props)!==null&&a!==void 0&&a.checked);const q=()=>{if(I&&(F||D)&&N&&A&&L){if(R&&B&&H&&W){C(true)}}};const V=async()=>{if(R&&B&&H&&W){E(true);const e=await o.default.get("/payroll_ajax/new_employee_detailed_tax_information/",{locationId:R,homeStateId:B,stateTaxWithholdingLocation:H,stateUiLocation:W,stateUiExempt:U});E(false);if(e.data&&e.data.success){O(e.data.employeeTaxInformation);C(false)}}};(0,i.useEffect)((()=>{q()}),[R,B,H,W,U]);const z=(0,s.default)("DynamicForm--taxInformation",{"DynamicForm--error":j});const{hasBhrPayroll:G,hasTempTraxFeature:Y,hasTrax:K,withHoldings:Z}=window;const X=document.getElementById("nhpTaxInformation");const J={canAccessStateUiFields:true,canManageBhrPayroll:false,companyTaxStates:[],employeeId:0,federalTaxDeductionsPermissions:3,federalTaxDeductionToggle:true,hasBhrPayroll:false,hasTempTraxFeature:true,hasTrax:true,isAdminUser:x,isNewHirePacket:true,isPayrollAdminUser:true,newTraxEEData:S,residentTaxState:null,showResidentTaxState:null,stateTaxDeductionsPermissions:3,unemploymentTaxState:null,withholdings:{}};if(!h){J.canAccessStateUiFields=false;J.companyTaxStates=null;J.employeeId=v;J.federalTaxDeductionsPermissions=g?2:0;J.hasBhrPayroll=G;J.hasTempTraxFeature=Y;J.hasTrax=K||undefined;J.isAdminUser=false;J.isNewHirePacket=b;J.isPayrollAdminUser=false;J.newTraxEEData=X?JSON.parse(X.innerHTML):null;J.stateTaxDeductionsPermissions=y?2:0;J.withholdings=Z||undefined}return i.default.createElement("div",{ref:M,className:z},(0,n.default)(r,{props:{},settings:{label:$.__("Tax Withholding"),icon:"taxWithholding"}}),j&&(0,n.default)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,k.message),!T&&i.default.createElement(i.default.Fragment,null,!!Object.keys(S).length&&(0,n.default)("div",{className:"DynamicForm--taxInformation__delete"},void 0,(0,n.default)(d.FloatingIconButton,{clickAction:()=>C(true),icon:"fab-trash-can-14x16",secondary:true,type:"button"})),i.default.createElement(u.WithholdingWrapper,J)),T&&(0,n.default)(l.BlankState,{icon:"fab-gov-building-66x72",subtitle:$.__("Federal and State Tax withholding information can be added for this employee."),title:""},void 0,(0,n.default)(d.Button,{clickAction:V,isProcessing:P,outline:true,text:`+ ${$.__("Add Withholding")}`,type:"button"})))};var v=h;t.default=v},832970:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));a(919057);const o=({type:e})=>{const t=e==="updatedTaxType"?$.__("We updated the Employee Tax Type to a value that matches the Employment Status."):$.__("Based on the Employment Status, the Employee Tax Type may need to be updated.");return(0,n.default)("div",{className:"TaxTypeWarningTextWrapper DynamicForm--EmploymentStatusNote"},void 0,(0,n.default)("div",{className:"TaxTypeWarningText"},void 0,(0,n.default)("div",{className:"TaxTypeWarningText__text"},void 0,t),(0,n.default)("div",{className:"TaxTypeWarningText__doubleCheck"},void 0,$.__("Double-check and make sure it looks right."))))};var s=o;t.default=s},359619:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));a(290284);const o=()=>(0,n.default)("div",{className:"DynamicForm--PayScheduleNote"},void 0,(0,n.default)("div",{className:"fab-FormNote CompensationForm__warningNote"},void 0,$.__("This pay schedule isnt compatible with a couple other fields.")),(0,n.default)("div",{className:"fab-FormNote"},void 0,$.__("Make sure to also update the fields highlighted in red.")));var s=o;t.default=s},135046:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));const s=({type:e,text:t,context:a})=>{const{controls:{EmploymentStatusNote:r,PayScheduleNote:i}}=a;if(e==="updatedTaxType"||e==="verifyTaxType"){return(0,n.default)(r,{context:a,text:t,type:e})}if(e==="PayScheduleWarning"){return(0,n.default)(i,{context:a,text:t,type:e})}const s=(0,o.default)("fab-FormNote",{"fab-FormNote--info":e==="info"});return(0,n.default)("span",{className:s},void 0,t)};var l=s;t.default=l},708109:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));const o=()=>(0,n.default)("div",{className:"FormInputObfuscateWrapper FormInputObfuscateWrapper--insideFieldset"},void 0,(0,n.default)("ba-icon",{className:"FormInputObfuscateIcon",name:"lock-8x11","artboard-align":"center center","artboard-size":"8x11"}),$.__(`You don't have access to view the information in this section.`));var s=o;t.default=s},86846:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);const s=()=>(0,n.default)(o.RadioGroup,{items:[{id:"paperless",label:$.__(`Paperless - I prefer to download and print my year end tax documents (W2 or 1099) by logging into BambooHR.`),value:"false"},{id:"paper",label:$.__(`Paper - I'd like to have a paper copy of my year end tax documents (W2 or 1099) mailed to my home address.`),value:"true"}],name:"paperTaxDocuments",onChange:()=>1,value:"false"});var l=s;t.default=l},212079:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(651745);var s=a(774548);var l=a(470116);var d=r(a(167596));function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=(0,o.makeStyles)((({palette:e,spacing:t,typography:a})=>{var r,n;return{note:{color:e.gray[700],fontSize:a===null||a===void 0?void 0:(r=a.teenie)===null||r===void 0?void 0:r.fontSize,lineHeight:a===null||a===void 0?void 0:(n=a.teenie)===null||n===void 0?void 0:n.lineHeight,marginTop:t(1)}}}));const p=e=>{const{props:t,settings:a,context:r}=e;const{controls:{SelectField:o},setFormData:c,validation:{setValue:u}}=r;const p=(0,l.getSelectedValue)(e);const m=(0,l.getField)(r,l.Fields.employeeTaxType);const h=(e,t,a)=>{var n,i;let o;const s=e.data.options.map((e=>{const{optionValue:t,optionText:a,selected:r}=e;if(r){o=t.toString()}return{value:t.toString(),text:a}}));const d=(0,l.handleControlledInput)("select-items",m===null||m===void 0?void 0:(n=m.props)===null||n===void 0?void 0:n.id,s,r,false);const f=document.getElementById(d===null||d===void 0?void 0:(i=d.props)===null||i===void 0?void 0:i.id);if((0,l.isVisible)(f)){var p,h;d.props.condition="info";if(t||d.props.selectedValues.length===0){d.props.selectedValues=[o]}const e=(0,l.fixValidationRegisterName)(d===null||d===void 0?void 0:(p=d.props)===null||p===void 0?void 0:p.name);u(e,(d===null||d===void 0?void 0:(h=d.props)===null||h===void 0?void 0:h.selectedValues[0])||"",{shouldDirty:true,shouldValidate:true});d.settings.note={text:" ",type:a}}c((e=>({...e,...{[d.props.id]:d}})))};const v=()=>{const e=(0,l.getField)(r,l.Fields.employeeTaxType);if(e.settings.note){e.settings.note=null;e.props.condition=null;c((t=>({...t,...{[e.props.id]:e}})))}};const g=()=>{if(p){var e;d.default.getAllowableEmployeeTaxTypes("0",p,`select[name="${m===null||m===void 0?void 0:(e=m.props)===null||e===void 0?void 0:e.name}"]`).then((({result:e,forceNewSelection:t,warningType:a})=>{h(e,t,a)})).catch((()=>{}))}else{setTimeout((()=>{v()}),10)}};const y=(0,i.useMemo)((()=>t.items.some((({props:e,value:t})=>{const a=!!(typeof e==="object"&&e["data-inactiveoption"]);return a&&t===p}))),[p]);(0,i.useEffect)((()=>{var e;if((0,s.hasTrax)()&&m!==null&&m!==void 0&&(e=m.props)!==null&&e!==void 0&&e.id){g()}}),[p]);const b=f();return i.default.createElement(i.default.Fragment,null,i.default.createElement(o,e),y?(0,n.default)("div",{className:b.note},void 0,$.__("This employee will not be able to access their BambooHR account while in this employment status.")):null)};var m=p;t.default=m},607633:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(470116);const s=e=>{const{props:t,settings:a,context:r}=e;const{disabled:i=false,selectedValues:s=[]}=t;const{controls:{SelectField:l}}=r;const{[o.Fields.overtimeStatus]:{nonExemptEmptyPay:d,note:c}}=(0,o.getCompensationStates)(r);const u={...a,note:{text:c,type:"base"}};const f={...t,isDisabled:d||i,selectedValues:d?["Exempt"]:s};return(0,n.default)(l,{context:r,props:f,settings:u})};var l=s;t.default=l},528399:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.SelectPaidPerField=s;var n=r(a(856075));var i=r(a(573674));var o=a(470116);function s(e){const{props:t,settings:a,context:r}=e;const{controls:{SelectField:i}}=r;const s=(0,o.getField)(r,o.Fields.payType);const l=(0,o.getSelectedValue)(s);if(l&&(l==="Commission"||l==="Hourly")){return(0,n.default)(i,{context:r,props:{...t,className:`${t.className} hidden`,disabled:false,selectedValues:["Hour"]},settings:a})}const d=t.items.filter((e=>e.value!=="Hour"));return(0,n.default)(i,{context:r,props:{...t,disabled:!l,items:d},settings:a})}},996747:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));const o=e=>{const{props:t,settings:a,context:r}=e;const{controls:{SelectField:o}}=r;return i.default.createElement(i.default.Fragment,null,(0,n.default)(o,{context:r,props:t,settings:a}))};var s=o;t.default=s},399709:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.SelectPayRateField=s;var n=r(a(856075));var i=r(a(573674));var o=a(470116);function s(e){const{props:t,settings:a,context:r}=e;const{controls:{CurrencyField:i}}=r;const s=(0,o.getField)(r,o.Fields.payType);const l=(0,o.getSelectedValue)(s);const d=(0,o.findParent)(r,t.id);const c=d?document.querySelector(`#${d.props.id}`):undefined;if(c){c.classList.remove("hidden")}if(l&&l!=="Salary"&&l!=="Hourly"){if(c){c.classList.add("hidden")}return null}const u=l==="Hourly"?{type:"edit",text:$.__("per hour.")}:a.note;return(0,n.default)(i,{context:r,props:{...t,disabled:!l},settings:{...a,note:u}})}},37313:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=d(a(573674));var o=a(774548);var s=a(470116);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const c=e=>{var t,a;const{props:r,settings:l,context:d}=e;const{items:c,selectedValues:u=[]}=r;const{validation:f,validation:{requiredTrax:p}}=l;const{controls:{SelectField:m},validation:{trigger:h}}=d;const v=(0,i.useRef)(null);const g=()=>{if(c.length===0){return[{text:$.__(`You don't have any pay schedules set up. Add them in settings.`),value:"",isDisabled:true}]}return c};const y=(0,s.getField)(d,s.newEmployeeForm.payrollCheckbox);const b=y===null||y===void 0?void 0:(t=y.props)===null||t===void 0?void 0:t.checked;const w=(0,s.getField)(d,s.Fields.paidPer);const S=(0,s.getField)(d,s.Fields.payType);const O=(0,o.hasTrax)()&&(0,s.currentEditingEmployeeId)()===0&&(y===null||y===void 0?void 0:(a=y.props)===null||a===void 0?void 0:a.checked)===true||p;const[T,C]=(0,i.useState)(g());(0,i.useEffect)((()=>{if((0,o.hasTrax)()&&y&&c.length>0){const e=!!y.props.checked;if(e){const e=c.filter((e=>{if(!e.props){return true}return e.props["data-syncing-pay-schedule"]}));C(e)}else{C(c)}}}),[b]);(0,i.useEffect)((()=>{if((0,o.hasTrax)()&&(0,s.isSelectedPSSyncing)(d)&&w&&S){var e,t;const n=(0,s.getSelectedItem)(w);const i=(0,s.getSelectedItem)(S);if(n!==null&&n!==void 0&&(e=n.props)!==null&&e!==void 0&&e["data-invalid-payroll-option"]||i!==null&&i!==void 0&&(t=i.props)!==null&&t!==void 0&&t["data-invalid-payroll-option"]){var a,r;v.current={text:" ",type:"PayScheduleWarning"};h([w===null||w===void 0?void 0:(a=w.props)===null||a===void 0?void 0:a.name,S===null||S===void 0?void 0:(r=S.props)===null||r===void 0?void 0:r.name])}}else{var n,i;v.current=null;h([w===null||w===void 0?void 0:(n=w.props)===null||n===void 0?void 0:n.name,S===null||S===void 0?void 0:(i=S.props)===null||i===void 0?void 0:i.name])}}),[b,u]);const P={...l,note:v.current,validation:{...f,requiredTrax:O}};return(0,n.default)(m,{context:d,props:{...r,items:T},settings:P})};var u=c;t.default=u},184648:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.SelectPayTypeField=o;var n=r(a(856075));var i=r(a(573674));function o(e){const{props:t,settings:a,context:r}=e;const{controls:{SelectField:i}}=r;const o=t.items.filter((e=>e.value!=="Contract"));return(0,n.default)(i,{context:r,props:{...t,items:o},settings:a})}},126490:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=c(a(573674));var i=a(976027);var o=a(774548);var s=r(a(417842));var l=a(470116);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const u=e=>{const{props:t,settings:a,context:r}=e;const{id:d,"data-state-field-id":c,"data-zip-field-id":u,items:f,selectedValues:p}=t;const{initialValue:m}=a;const{controls:{SelectField:h},formData:v}=r;const g=(0,l.getSelectedValue)(e);const y=c!==null&&c!==void 0&&c.includes("field")?v[c]:v[`field_${c}-0`];const b=u!==null&&u!==void 0&&u.includes("field")?u:`field_${u}-0`;const w=(0,l.isSelectedPSSyncing)(r);const S=`/ajax/get_states?${(0,o.hasTrax)()?`payrollCheckbox=${w}&`:""}country=`;const[O,T]=(0,n.useState)(f);const[C,P]=(0,n.useState)(m[0]);const{countryId:E,postCodeLabel:M,subEntityLabel:x,subEntityOptions:k,switchCountry:j}=(0,i.useCountrySwitcher)({initialCountryId:m[0]?~~C:1,initialSubEntityOptions:y?y.props.items:[],endpoint:S});const I=()=>{(0,l.handleControlledInput)("select-items",d,O,r)};const F=()=>{(0,l.handleCountrySwitcher)(y.props.id,b,{countryId:E,postCodeLabel:M,subEntityLabel:x,subEntityOptions:k},r,m[0]===p[0])};(0,n.useEffect)((()=>{I()}),[O]);(0,n.useEffect)((()=>{const e=p[0];if(e&&+e!==+C){P(e);j(e)}}),[g]);(0,n.useEffect)((()=>{if(y){F()}}),[E,g]);(0,n.useEffect)((()=>{if(p[0]){j(p[0])}}),[]);const D=()=>{let e="";if((0,o.hasTrax)()){e+=`payrollChecked=${w}`}if(e.length!==0){s.default.get(`/ajax/get_countries?${e}`).then((e=>{if(e.data.success){const t=Object.keys(e.data.data).map((t=>({text:e.data.data[t],value:t})));T(t)}})).catch((e=>{console.error("Dynamic Form - Select Standard Country - Ajax request failed to update country selector",e)}))}};(0,n.useEffect)((()=>{D()}),[w]);return n.default.createElement(h,e)};var f=u;t.default=f},101704:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=u(a(573674));var s=a(651745);var l=a(774548);var d=a(470116);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=e=>{const{props:t,settings:a,context:r}=e;const{id:c,disabled:u,isObfuscated:f,className:p,style:m,name:h,condition:v=null,items:g,selectedValues:y,canSelectMultiple:b=false,onChange:w}=t;const{fieldBoxClasses:S,label:O,type:T,note:C=false}=a;const{controls:{Label:P,Note:E,FieldBox:M,FieldDiv:x,PendingRequest:k},validation:{formState:{errors:j},trigger:I,register:F,setValue:D}}=r;const N=(0,o.useRef)(null);const A=(0,d.isRequired)(r,e);const L=(0,d.fixValidationRegisterName)(h);const R=(0,d.hasErrors)(j,L);F(L,{...(0,d.getClassBasedValidation)(r,e),required:A});let B=[];if(Array.isArray(y))B=y;if(typeof y==="string")B=[y];(0,o.useEffect)((()=>{D(L,B[0]||"")}),[]);const H=()=>{const e=N.current;let t;let n;const i=new Promise(((e,a)=>{t=e;n=a}));if(!e){console.error("Dynamic Form: Select Element: Unable to get current element ref");n();return i}e.dispatchEvent(new CustomEvent("ba:selectAddItem",{bubbles:true,detail:{resolve:t,reject:n,settings:a}}));return i.then(((e=[])=>{var t,a;(0,d.handleAddSelectItem)(c,e[0],r);if((t=e[0])!==null&&t!==void 0&&t.selected&&(a=e[0])!==null&&a!==void 0&&a.value){D(L,e[0].value||"",{shouldDirty:true,shouldValidate:true})}}))};const W=g.filter((e=>{if((0,l.hasTrax)()&&e!==null&&e!==void 0&&e.props&&typeof e.props==="object"&&Object.prototype.hasOwnProperty.call(e.props,"data-invalid-payroll-option")&&(0,d.isSelectedPSSyncing)(r)){return!e.props["data-invalid-payroll-option"]}return true}));const U=e=>{(0,d.handleControlledInput)("select",c,b?e:e[0]||"",r);D(L,e[0]||"",{shouldDirty:true,shouldValidate:true})};const q={};Object.keys(t).forEach((e=>{if(e.startsWith("data-")){q[e]=t[e]}}));return(0,i.default)(M,{fieldBoxClasses:S},void 0,(0,i.default)(P,{error:R,info:v==="info",inputId:c,label:O,required:A}),(0,i.default)(x,{isObfuscated:f,type:T},void 0,(0,i.default)(k,{context:r,props:t,settings:a}),o.default.createElement("div",(0,n.default)({className:p,ref:N},q,{"data-name":h,id:c,style:m}),o.default.createElement(s.Select,(0,n.default)({},t,{condition:R?"error":v,isDisabled:u||window.previewUser,items:W,name:b?`${h}[]`:h,onAdd:t["can-add"]?H:null,onChange:w?e=>{w(e);I(h)}:U,selectedValues:B,showSearch:"auto"})))),C&&o.default.createElement(E,(0,n.default)({},C,{context:r})))};var p=f;t.default=p},507866:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(368652));var o=r(a(573674));var s=r(a(60042));var l=a(69231);a(563187);const d=({props:e,settings:t,context:a})=>{const r=()=>{const{template:r,value:d}=t;const{controls:{FieldSet:c}}=a;const{className:u}=e;if(r==="dash"){const t=(0,s.default)("formDash","DynamicForm--static__dash",u);return o.default.createElement("span",(0,i.default)({},e,{className:t}),"")}if(r==="payrollSectionHeader"){const r=(0,s.default)("payroll-section-header","DynamicForm--static__payrollInformation",u);return(0,n.default)(c,{context:a,props:{...e,className:r},settings:t},void 0,(0,n.default)(l.ColoredIcon,{classes:"DynamicForm--static__payrollInformationIcon",fabricColorName:"info",iconName:"fab-question-16x16"}),(0,n.default)("span",{className:"DynamicForm--static__payrollInformationText"},void 0,"Not sure about some of the payroll info below? Thats okay, just fill out as much as you know.")," Anything not completed here will be sent to your company's payroll admins to fill out.")}return null};return r()};var c=d;t.default=c},504748:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));const o=({props:e,settings:t,input:a,context:r})=>{const{value:i=""}=e;const{hover:o,initialValue:s}=t;const{form:{isEditable:l=true},controls:{HoverAction:d,HoverEmail:c,HoverLink:u,HoverMap:f}}=r;const p={link:u,email:c,map:f,action:d};if(o&&o.template&&s){const e=p[o.template];if(e){return(0,n.default)(e,{context:r,hover:o,isEditable:l,value:i},void 0,a)}}return a};var s=o;t.default=s},403508:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(288015);const s={default:(0,n.default)(o.CommentBubble15x15,{className:"fab-TextInputNub__icon"}),inputAolIcon:(0,n.default)(o.Aim14x15,{className:"fab-TextInputNub__icon"}),inputSkypeIcon:(0,n.default)(o.Skype14x14,{className:"fab-TextInputNub__icon"}),inputEducationIcon:(0,n.default)(o.GraduationCap14x12,{className:"fab-TextInputNub__icon"}),inputHomeIcon:(0,n.default)(o.Home14x14,{className:"fab-TextInputNub__icon"}),inputMobileIcon:(0,n.default)(o.MobilePhone10x16,{className:"fab-TextInputNub__icon"}),inputFacebookIcon:(0,n.default)(o.Facebook8x14,{className:"fab-TextInputNub__icon"}),inputLinkedinIcon:(0,n.default)(o.Linkedin12x11,{className:"fab-TextInputNub__icon"}),inputPinterestIcon:(0,n.default)(o.Pinterest14x14,{className:"fab-TextInputNub__icon"}),inputTwitterIcon:(0,n.default)(o.Twitter14x11,{className:"fab-TextInputNub__icon"}),inputOfficeIcon:(0,n.default)(o.Company14x16,{className:"fab-TextInputNub__icon"}),inputInstagramIcon:(0,n.default)(o.InstagramIcon14x14,{className:"fab-TextInputNub__icon"})};const l=({props:e,input:t,settings:a,context:r})=>{const{icon:i}=a;const o=s[i]||s.default;return(0,n.default)("span",{className:"fab-TextInputNub"},void 0,o)};var d=l;t.default=d},583565:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=t.getInputMask=void 0;var n=r(a(368652));var i=r(a(573674));var o=r(a(96800));var s=a(210859);var l=a(845382);var d=a(470116);const c=(e="",t=true)=>{let a=null;Object.keys(s.commonInputMasks).forEach((r=>{if(e.includes(r)||(0,l.stringContainsAllWords)(e,r.split(" "))){const e=t?s.commonInputMasks[r]:s.commonInputMasks[`${r}-sensitive`]||s.commonInputMasks[r];a=e}}));return a};t.getInputMask=c;const u=e=>{const{props:t,context:a}=e;const{className:r="",id:s,name:l,value:u=""}=t;const{form:{isEditable:f=true},validation:{register:p,setValue:m}}=a;const h=(0,d.fixValidationRegisterName)(l);p(h,{...(0,d.getClassBasedValidation)(a,e),required:(0,d.isRequired)(a,e)});const v=e=>{(0,d.handleControlledInput)("text",s,e.target.value,a);m(h,e.target.value,{shouldValidate:true,shouldDirty:true})};const g=c(r,f);return i.default.createElement(o.default,(0,n.default)({mask:g},t,{onBlur:v}))};var f=u;t.default=f},234565:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=d(a(573674));var o=r(a(417842));var s=a(470116);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const c=({props:e,settings:t,context:a})=>{const{id:r}=e;const{form:{isEditable:l=true},controls:{TextField:d}}=a;const[c,u]=(0,i.useState)(l);const[f,p]=(0,i.useState)(t.sensitive.value);const m=()=>{if((0,s.isNewEmployeePage)()){return}o.default.get(`/employees/get_secure_field/${e["data-secure-field-type"]}`,{id:e["data-employeeid"]}).then((e=>{if(e.data){p(e.data);u(true)}})).catch((()=>{window.setMessage($.__("There was a problem getting the sensitive data"),"error")}))};const h=()=>{if(f===t.sensitive.value){m()}else{u(true)}};const v=()=>{u(false)};(0,i.useEffect)((()=>{if(l){h()}else{v()}}),[l]);const g={text:c?$.__("Hide"):$.__("Show"),template:"action",className:"",handleHoverAction:c?v:h};const y={...e,value:c?f:t.sensitive.value};const b={...t,...!!f&&{hover:g}};return(0,n.default)(d,{context:a,props:y,settings:b},`${r}${c?"sensitive":""}`)};var u=c;t.default=u},340486:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=u(a(573674));var s=r(a(60042));var l=a(583565);var d=a(470116);a(856856);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=e=>{const{props:t,input:a,settings:r,context:c}=e;const{className:u="",disabled:f,id:p,name:m}=t;const{icon:h,label:v="",isObfuscated:g,condition:y,fieldBoxClasses:b,pending:w,type:S,note:O=false}=r;const{controls:{TextMaskedField:T,TextIconField:C,TextHoverField:P,FieldBox:E,FieldDiv:M,Label:x,Note:k,PendingRequest:j},validation:{register:I,formState:{errors:F},setValue:D},form:{isEditable:N}}=c;const A=(0,d.fixValidationRegisterName)(m);const L=(0,d.hasErrors)(F,A);const R=(0,d.isRequired)(c,e);(0,o.useEffect)((()=>{D(A,H)}),[]);const B=e=>{(0,d.handleControlledInput)("text",p,e.target.value,c);D(A,e.target.value,{shouldDirty:true,shouldValidate:true})};const{value:H,...W}=t;const U={type:"text",...W,defaultValue:H,className:(0,s.default)(u,{disabled:f,"fab-TextInput--error":L})};const q=()=>{const a=!!(0,l.getInputMask)(u,N);if(a&&!w){return(0,i.default)(T,{context:c,props:U,settings:r})}I(A,{...(0,d.getClassBasedValidation)(c,e),required:R});return(0,i.default)("div",{className:"fab-InputWrapper"},void 0,(0,i.default)(j,{context:c,props:t,settings:r}),o.default.createElement("input",(0,n.default)({onBlur:B},U)),h&&(0,i.default)(C,{props:t,settings:r}))};const V=a||q();const z=()=>{const e=V;const a=(0,i.default)(P,{context:c,input:e,props:t,settings:r});return a};return(0,i.default)(E,{fieldBoxClasses:b,isRequired:R},void 0,(0,i.default)(x,{error:L,info:y==="info",inputId:p,label:v,required:R}),(0,i.default)(M,{isObfuscated:g,type:S},void 0,z()),O&&o.default.createElement(k,(0,n.default)({},O,{context:c})))};var p=f;t.default=p},917955:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=c(a(573674));var s=r(a(60042));var l=a(470116);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const u=e=>{const{props:t,settings:a,context:r}=e;const{id:d,name:c,className:u}=t;const{fieldBoxClasses:f,label:p,isObfuscated:m,type:h}=a;const{controls:{Label:v,FieldBox:g,FieldDiv:y,PendingRequest:b},validation:{formState:{errors:w},register:S,setValue:O}}=r;const T=(0,l.fixValidationRegisterName)(c);const C=(0,l.hasErrors)(w,T);const P=(0,l.isRequired)(r,e);S(T,{...(0,l.getClassBasedValidation)(r,e),required:P});const{value:E,...M}=t;(0,o.useEffect)((()=>{O(T,E)}),[]);const x=e=>{(0,l.handleControlledInput)("textarea",d,e.target.value,r);O(T,e.target.value,{shouldDirty:true,shouldValidate:true})};return(0,i.default)(g,{fieldBoxClasses:f,isRequired:P},void 0,(0,i.default)(v,{error:C,inputId:d,label:p,required:P}),(0,i.default)(y,{isObfuscated:m,type:h},void 0,(0,i.default)(b,{context:r,props:t,settings:a}),o.default.createElement("textarea",(0,n.default)({},M,{className:(0,s.default)(u,{"fab-Textarea--error":C}),defaultValue:E,onBlur:x}))))};var f=u;t.default=f},470116:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});var n={DynamicForm:true,Fields:true,FieldTypes:true,newEmployeeForm:true};Object.defineProperty(t,"DynamicForm",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"Fields",{enumerable:true,get:function(){return o.Fields}});Object.defineProperty(t,"FieldTypes",{enumerable:true,get:function(){return o.FieldTypes}});Object.defineProperty(t,"newEmployeeForm",{enumerable:true,get:function(){return s.newEmployeeForm}});var i=r(a(641710));var o=a(977286);var s=a(424377);var l=a(443489);Object.keys(l).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(n,e))return;if(e in t&&t[e]===l[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return l[e]}})}));var d=a(982887);Object.keys(d).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(n,e))return;if(e in t&&t[e]===d[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return d[e]}})}))},834128:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(273641);var l=a(288015);const d=({handleClose:e=s.noop,handlePrimaryAction:t=s.noop,data:a})=>(0,n.default)(o.StandardModal,{alternativeAction:null,headline:$.__("Are you sure you want to delete this dependent?"),icon:(0,n.default)(l.TrashCan43x48,{}),iconColor:"danger",isOpen:true,onClose:()=>{e()},primaryAction:()=>{t()},primaryActionText:$.__("Yes, Delete Dependent"),secondaryAction:()=>{e()},secondaryActionText:$.__("Cancel"),title:$.__("Delete Dependent")},void 0,(0,n.default)("div",{className:"Contact__modalContent"},void 0,(0,n.default)("div",{className:"Contact__modalName"},void 0,a.contactName),(0,n.default)("div",{className:"Contact__modalRelationship"},void 0,a.contactRelationship)));var c=d;t.default=c},860561:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(851040);var s=a(273641);var l=a(753134);const d=({handleClose:e=s.noop,handlePrimaryAction:t=s.noop})=>(0,n.default)(o.Modal,{icon:"fab-trash-can-43x48",iconColor:"danger",isOpen:true,onClose:()=>{e()},primaryAction:()=>{t()},primaryActionText:$.__("Yes, Delete Education"),title:$.__("Delete Education")},void 0,(0,n.default)("div",{id:"editForm"},void 0,(0,n.default)("div",{className:"deleteModal"},void 0,(0,n.default)("div",{className:"deleteMessage"},void 0,(0,n.default)(l.Message,{strong:{tag:"span",className:"emphasis"},text:$._("Are you sure you want to **delete this education record**?")})),(0,n.default)("div",{className:"deleteSubMessage"},void 0,$.__(`Don't worry, doing so won't actually make the employee any less educated`)))));var c=d;t.default=c},181194:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(851040);var s=a(273641);const l=({handleClose:e=s.noop,handlePrimaryAction:t=s.noop,data:a})=>(0,n.default)(o.Modal,{alternativeAction:null,headline:$.__("Are you sure you want to delete this contact?"),icon:"fab-trash-can-43x48",iconColor:"danger",isOpen:true,onClose:()=>{e()},primaryAction:()=>{t()},primaryActionText:$.__("Delete Contact"),secondaryAction:()=>{e()},secondaryActionText:$.__("Keep Contact"),title:$.__("Just Checking...")},void 0,(0,n.default)("div",{className:"Contact__modalContent"},void 0,(0,n.default)("div",{className:"Contact__modalName"},void 0,a.contactName),(0,n.default)("div",{className:"Contact__modalRelationship"},void 0,a.contactRelationship)));var d=l;t.default=d},990430:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.ADD_DEPENDENT=t.DEPENDENT_BLANK_TITLE=void 0;const r=$.__("No dependents have been added for this employee.");t.DEPENDENT_BLANK_TITLE=r;const n=$.__("Add Dependent");t.ADD_DEPENDENT=n},15657:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.DependentBlankDefault=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(288015);var l=a(990430);const d=(0,o.makeStyles)((e=>({icon:{fill:e.palette.gray[600]},root:{marginTop:"72px"},subtitle:{color:e.palette.gray[600]},title:{color:e.palette.gray[600]}})));const c=({onClick:e,canAdd:t})=>{const a=d();return(0,n.default)(o.BlankState,{classes:a,icon:(0,n.default)(s.PersonIndexCard120x92,{}),title:l.DEPENDENT_BLANK_TITLE},void 0,t&&(0,n.default)(o.Button,{"data-bi-id":"employees-dependents-add-dependent",onClick:e,outline:true,startIcon:(0,n.default)(s.CirclePlus16x16,{}),text:`${l.ADD_DEPENDENT}`,type:"button"}))};t.DependentBlankDefault=c},515891:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.DependentBlankNewEmployee=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(288015);var l=a(990430);const d=({onClick:e,canAdd:t})=>(0,n.default)(o.BlankState,{icon:(0,n.default)(s.PersonIndexCard120x92,{}),subtitle:l.DEPENDENT_BLANK_TITLE,title:""},void 0,t&&(0,n.default)(o.Button,{"data-bi-id":"employees-dependents-add-dependent",onClick:e,outline:true,text:`+ ${l.ADD_DEPENDENT}`,type:"button"}));t.DependentBlankNewEmployee=d},257914:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"DependentBlankDefault",{enumerable:true,get:function(){return r.DependentBlankDefault}});Object.defineProperty(t,"DependentBlankNewEmployee",{enumerable:true,get:function(){return n.DependentBlankNewEmployee}});var r=a(15657);var n=a(515891)},565738:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(288015);const l=({props:e,settings:t,handleRemove:a,children:r})=>{const{canDelete:l}=t;const{disabled:d,id:c}=e;const u=l||c.includes("add");return i.default.createElement("div",e,u&&(0,n.default)(o.IconButton,{className:"fab-FloatingIconButton fab-FloatingIconButton--secondary formDelete withIconLabel",disabled:d,onClick:()=>{a(c)},type:"button",icon:(0,n.default)(s.TrashCan14x16,{})}),(0,n.default)("div",{className:"fieldGroup divided"},void 0,r))};var d=l;t.default=d},380040:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(368652));var o=h(a(573674));var s=a(651745);var l=a(288015);var d=r(a(565738));var c=a(470116);var u=r(a(834128));var f=a(194691);var p=a(257914);function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=m(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const v=({props:e,settings:t,context:a,children:r})=>{const{id:m,disabled:h}=e;const{canAdd:v,displayInitialEmpty:g,label:y}=t;const[b,w]=(0,o.useState)(false);const[S,O]=(0,o.useState)(false);const T=(0,c.isNewEmployeePage)()?p.DependentBlankNewEmployee:p.DependentBlankDefault;let C;let P=0;const{validation:E}=a;const{unregister:M}=E;const x=e=>{const t={contactName:"",contactRelationship:""};const r=e.split("_").pop();const n=(0,c.findOne)(a,{selector:"key",value:r},{selector:"props.className",value:"nameInput"});const i=(0,c.findOne)(a,{selector:"key",value:r},{selector:"props.className",value:"list-field"});t.contactName=n?n.props.value.toString():"";t.contactRelationship="";if(i){const{items:e}=i.props;const a=e.find((e=>e.value===i.props.selectedValues[0]));t.contactRelationship=a?a.text:""}return t};const k=()=>{if(!C){console.error(`Dynamic Form: Error getting add template for repeating container with id ${m}`);return}(0,c.addRepeatableField)(m,C,a)};const j=e=>{if(e.includes("add")){(0,c.removeRepeatableField)(m,e,a)}else{w(e)}};const I=()=>{w(false)};const F=()=>{if(typeof b==="string"){const e=b;const t=e.split("_").pop();(0,f.deleteEmployeeDependent)(window.currentlyEditingEmployeeId.toString(),t).then((({data:t={}})=>{if(!t.success){if(t.error){window.setMessage(t.error,"error")}return}M(e);(0,c.removeRepeatableField)(m,e,a)})).catch((({data:e={}})=>{window.setMessage(e.error||e.message,"error")}))}w(false)};const D=Array.isArray(r)?r.map((e=>{var t,a,r;if(e!==null&&e!==void 0&&(t=e.props)!==null&&t!==void 0&&(a=t.props)!==null&&a!==void 0&&(r=a.className)!==null&&r!==void 0&&r.includes("repeatPrototype")){C=e.props.props.id;return null}P++;return o.default.createElement(d.default,(0,i.default)({},e.props,{handleRemove:j,key:e.props.props.id}))})):r;const N=!!P;(0,o.useEffect)((()=>{if(C&&!N&&g&&!S){return k()}O(true)}),[C,g,N,S]);return(0,n.default)("div",{},void 0,b&&(0,n.default)(u.default,{data:x(b),handleClose:I,handlePrimaryAction:F}),(0,n.default)("div",{className:"row repeat dependents",id:m},void 0,(0,n.default)("div",{},void 0,(0,n.default)("input",{id:"qf:dependent",name:"_qf__dependent",type:"hidden"}),D),!N&&(0,n.default)(T,{canAdd:v,onClick:k}),N&&v&&(0,n.default)(s.TextButton,{disabled:!v||h,onClick:k,text:$.__("Add Dependent"),type:"button",startIcon:(0,n.default)(l.CirclePlus14x14,{})})))};var g=v;t.default=g},121900:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);const s=({props:e,settings:t,handleRemove:a,children:r})=>{const{canDelete:s}=t;const{disabled:l,id:d}=e;const c=s||d.includes("add");return i.default.createElement("div",e,c&&(0,n.default)("button",{className:"fab-FloatingIconButton fab-FloatingIconButton--secondary formDelete withIconLabel",disabled:l,onClick:()=>{a(d)},type:"button"},void 0,(0,n.default)("span",{className:"fab-FloatingIconButton__icon"},void 0,(0,n.default)("div",{className:"phoneHide"},void 0,(0,n.default)(o.Icon,{name:"fab-trash-can-14x16"}))),(0,n.default)("span",{className:"fab-FloatingIconButton__icon"},void 0,(0,n.default)("div",{className:"hidden phoneOnly--inline-flex"},void 0,(0,n.default)(o.Icon,{name:"fab-trash-can-11x13"})))),(0,n.default)("div",{className:"fieldGroup divided"},void 0,r))};var l=s;t.default=l},802343:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(368652));var o=p(a(573674));var s=a(651745);var l=r(a(121900));var d=a(470116);var c=r(a(860561));var u=a(194691);function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=f(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const m=({props:e,settings:t,context:a,children:r})=>{const{id:f,disabled:p}=e;const{canAdd:m,displayInitialEmpty:h}=t;const[v,g]=(0,o.useState)(false);const[y,b]=(0,o.useState)(false);let w;const S=()=>{if(!w){console.error(`Dynamic Form: Error getting add template for repeating container with id ${f}`);return}(0,d.addRepeatableField)(f,w,a)};(0,o.useEffect)((()=>{if(w&&Array.isArray(r)&&r.length<2&&h&&!y){return S()}b(true)}),[w,h,r,y]);const O=e=>{if(e.includes("add")){(0,d.removeRepeatableField)(f,e,a)}else{g(e)}};const T=()=>{g(false)};const C=()=>{if(typeof v==="string"){const e=v;const t=e.split("_").pop();(0,u.deleteEmployeeEducation)(t,window.currentlyEditingEmployeeId.toString()).then((({data:t={}})=>{if(t.result==="error"){window.setMessage(t.message,"error");return}window.setMessage(t.message,"success");(0,d.removeRepeatableField)(f,e,a)})).catch((({data:e={}})=>{window.setMessage(e.message,"error")}))}g(false)};const P=Array.isArray(r)?r.map((e=>{if(e&&e.props.props&&e.props.props.className&&e.props.props.className.includes("repeatPrototype")){w=e.props.props.id;return null}return o.default.createElement(l.default,(0,i.default)({},e.props,{key:e.props.props.id,handleRemove:O}))})):r;return(0,n.default)("div",{},void 0,v&&(0,n.default)(c.default,{handleClose:T,handlePrimaryAction:C}),(0,n.default)("div",{className:"row repeat employee_education",id:f},void 0,(0,n.default)("div",{},void 0,(0,n.default)("input",{id:"qf:employeeEducation",name:"_qf__employeeEducation",type:"hidden"}),P),(0,n.default)("button",{className:"educationAdd fab-TextButton fab-link",disabled:!m||p,id:"educationAdd",onClick:S,type:"button"},void 0,(0,n.default)("span",{className:"fab-TextButton__icon fab-TextButton__icon--left"},void 0,(0,n.default)(s.Icon,{brand:true,name:"fab-circle-plus-14x14"})),$.__("Add Education"))))};var h=m;t.default=h},380700:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.ADD_CONTACT=t.EMERGENCY_CONTACT_BLANK_TITLE=void 0;const r=$.__("No emergency contacts have been added for this employee.");t.EMERGENCY_CONTACT_BLANK_TITLE=r;const n=$.__("Add Contact");t.ADD_CONTACT=n},902505:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmergencyBlankDefault=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(380700);const l=(0,o.makeStyles)((e=>({icon:{fill:e.palette.gray[600]},root:{marginTop:"72px"},subtitle:{color:e.palette.gray[600]},title:{color:e.palette.gray[600]}})));const d=({onClick:e,canAdd:t})=>{const a=l();return(0,n.default)(o.BlankState,{classes:a,icon:"fab-ambulance-120x100",subtitle:"",title:s.EMERGENCY_CONTACT_BLANK_TITLE},void 0,t&&(0,n.default)(o.Button,{"data-bi-id":"employees-contacts-add-contact",onClick:e,outline:true,startIcon:"fab-circle-plus-16x16",text:`${s.ADD_CONTACT}`,type:"button"}))};t.EmergencyBlankDefault=d},631965:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmergencyBlankNewEmployee=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(380700);const l=({onClick:e,canAdd:t})=>(0,n.default)(o.BlankState,{icon:"fab-ambulance-120x100",subtitle:s.EMERGENCY_CONTACT_BLANK_TITLE,title:""},void 0,t&&(0,n.default)(o.Button,{"data-bi-id":"employees-contacts-add-contact",onClick:e,outline:true,text:`+ ${s.ADD_CONTACT}`,type:"button"}));t.EmergencyBlankNewEmployee=l},471288:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EmergencyBlankDefault",{enumerable:true,get:function(){return r.EmergencyBlankDefault}});Object.defineProperty(t,"EmergencyBlankNewEmployee",{enumerable:true,get:function(){return n.EmergencyBlankNewEmployee}});var r=a(902505);var n=a(631965)},60298:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);const s=({props:e,settings:t,handleRemove:a,children:r})=>{const{canDelete:s=true}=t;const{id:l,disabled:d}=e;const c=s||l.includes("add");return i.default.createElement("div",e,c&&(0,n.default)("button",{className:"Contact__formDelete fab-FloatingIconButton fab-FloatingIconButton--secondary formDelete withIconLabel",disabled:d,onClick:()=>{a(l)},type:"button"},void 0,(0,n.default)("span",{className:"fab-FloatingIconButton__icon"},void 0,(0,n.default)("div",{className:"phoneHide"},void 0,(0,n.default)(o.Icon,{name:"fab-trash-can-14x16"}))),(0,n.default)("span",{className:"fab-FloatingIconButton__icon"},void 0,(0,n.default)("div",{className:"hidden phoneOnly--inline-flex"},void 0,(0,n.default)(o.Icon,{name:"fab-trash-can-11x13"})))),(0,n.default)("fieldset",{},void 0,(0,n.default)("input",{className:"hidden",id:`id-0_${l}`,name:`id[${l}]`,type:"hidden",value:l}),r))};var l=s;t.default=l},557163:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(368652));var o=m(a(573674));var s=a(651745);var l=r(a(60298));var d=a(470116);var c=r(a(181194));var u=a(194691);var f=a(471288);a(357826);function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=p(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const h=({props:e,settings:t,context:a,children:r})=>{const{id:p,disabled:m}=e;const{canAdd:h,displayInitialEmpty:v,label:g}=t;const[y,b]=(0,o.useState)(false);const[w,S]=(0,o.useState)(false);const O=(0,d.isNewEmployeePage)()?f.EmergencyBlankNewEmployee:f.EmergencyBlankDefault;let T;let C=0;const{validation:P}=a;const{unregister:E}=P;const M=e=>{const t={contactName:"",contactRelationship:""};const r=e.split("_").pop();const n=(0,d.findOne)(a,{selector:"key",value:r},{selector:"props.className",value:"nameInput"});const i=(0,d.findOne)(a,{selector:"key",value:r},{selector:"props.className",value:"list-field"});t.contactName=n?n.props.value.toString():"";t.contactRelationship="";if(i){const{items:e}=i.props;const a=e.find((e=>e.value===i.props.selectedValues[0]));t.contactRelationship=a?a.text:""}return t};const x=()=>{if(!T){console.error(`Dynamic Form: Error getting add template for repeating container with id ${p}`);return}(0,d.addRepeatableField)(p,T,a)};const k=e=>{if(e.includes("add")){(0,d.removeRepeatableField)(p,e,a)}else{b(e)}};const j=()=>{b(false)};const I=()=>{if(typeof y==="string"){const e=y;const t=e.split("_").pop();(0,u.deleteEmergencyContact)(window.currentlyEditingEmployeeId.toString(),t).then((({data:t={}})=>{if(!t.success){if(t.error){window.setMessage(t.error,"error")}return}if(t.newPrimaryContactId){const e=(0,d.findOne)(a,{selector:"key",value:t.newPrimaryContactId},{selector:"settings.fieldBoxClasses",value:"primaryCheck"});if(e){e.props.checked=true;a.setFormData((t=>({...t,...{[e.props.id]:e}})))}}E(e);(0,d.removeRepeatableField)(p,e,a)})).catch((({data:e={}})=>{window.setMessage(e.error||e.message,"error")}))}b(false)};const F=Array.isArray(r)?r.map((e=>{if(e&&e.props.props&&e.props.props.className&&e.props.props.className.includes("repeatPrototype")){T=e.props.props.id;return null}C++;return o.default.createElement(l.default,(0,i.default)({},e.props,{handleRemove:k,key:e.props.props.id}))})):r;const D=!!C;(0,o.useEffect)((()=>{if(T&&!D&&v&&!w){return x()}S(true)}),[T,v,D,w]);return(0,n.default)("div",{},void 0,y&&(0,n.default)(c.default,{data:M(y),handleClose:j,handlePrimaryAction:I}),(0,n.default)("div",{className:"row repeat employee_contacts",id:p},void 0,(0,n.default)("input",{id:"qf:emergencyContact",name:"_qf__emergencyContact",type:"hidden"}),g&&(0,n.default)("p",{},void 0,g),(0,n.default)("div",{},void 0,F),!D&&(0,n.default)(O,{canAdd:h,onClick:x}),D&&h&&(0,n.default)("button",{className:"Contact__addNewContact fab-TextButton fab-link repeatAdd","data-bi-id":"employees-contacts-add-contact",disabled:!h||m,onClick:x,type:"button"},void 0,(0,n.default)("span",{className:"fab-TextButton__icon fab-TextButton__icon--left"},void 0,(0,n.default)(s.Icon,{name:"fab-circle-plus-14x14"})),$.__("Add Contact"))))};var v=h;t.default=v},192207:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"RepeatingContainer",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"EducationGroup",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"EducationRepeatContainer",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"EmergencyContactGroup",{enumerable:true,get:function(){return s.default}});Object.defineProperty(t,"EmergencyContactRepeatContainer",{enumerable:true,get:function(){return l.default}});Object.defineProperty(t,"DependentGroup",{enumerable:true,get:function(){return d.default}});Object.defineProperty(t,"DependentRepeatContainer",{enumerable:true,get:function(){return c.default}});var n=r(a(729095));var i=r(a(121900));var o=r(a(802343));var s=r(a(60298));var l=r(a(557163));var d=r(a(565738));var c=r(a(380040))},729095:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(573674));var i=r(a(802343));var o=r(a(557163));var s=r(a(380040));const l=e=>{const{settings:{repeatType:t}}=e;let a=null;if(t==="base"){return null}if(t==="education"){a=n.default.createElement(i.default,e)}else if(t==="contact"){a=n.default.createElement(o.default,e)}else if(t==="dependent"){a=n.default.createElement(s.default,e)}return a};var d=l;t.default=d},977286:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Fields=t.FieldTypes=void 0;let a;t.FieldTypes=a;(function(e){e["FIELD_ROW"]="FieldRow";e["FIELD_SET"]="FieldSet";e["GROUP"]="Group";e["FORM"]="Form";e["TEXT"]="TextField";e["SELECT"]="SelectField";e["CHECKBOX"]="CheckboxField";e["CHECKBOX_LIST"]="CheckboxList";e["DATE"]="DateField";e["REPEAT"]="RepeatingContainer";e["STATIC"]="StaticTemplate";e["INFORMATION"]="InformationField";e["TEXTAREA"]="TextareaField";e["HIDDEN"]="HiddenInput";e["LEGEND"]="Legend";e["EMPLOYEE_ACCESS"]="EmployeeAccess";e["DOCUMENTS"]="Documents"})(a||(t.FieldTypes=a={}));let r;t.Fields=r;(function(e){e["emailHome"]="home-email-field";e["emailWork"]="work-email-field";e["employeeAddressState"]="employee-address-state-field";e["employeeFirstName"]="first-name-field";e["employeeLastName"]="last-name-field";e["employeeMiddleName"]="middle-name-field";e["employeeNumber"]="employee-number-field";e["employeeTaxType"]="employee-tax-type-field";e["employmentStatus"]="employment-status-field";e["gender"]="gender-field";e["genderIdentity"]="gender-identity-field";e["genderPronouns"]="gender--pronouns-field";e["homeState"]="state-field";e["location"]="js-location-insertable-list";e["nationalId"]="national-id-field";e["nin"]="nin-field";e["overtimeRate"]="overtime-rate-field";e["overtimeStatus"]="overtime-status-field";e["paidPer"]="paid-per-field";e["payGroup"]="pay-group-field";e["payRate"]="pay-rate-field";e["payrollHomeStateField"]="js-validate-payroll-state-live-in";e["paySchedule"]="pay-schedule-field";e["payType"]="pay-type-field";e["sin"]="sin-field";e["ssn"]="ssn-field";e["stateTaxWithholdingLocationField"]="js-payroll-tax-state-withholding-type";e["stateUiExemptField"]="js-payroll-tax-state-ui-exempt";e["stateUiLocationField"]="js-payroll-tax-state-ui-type"})(r||(t.Fields=r={}))},351187:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isPayrollSynced=n;t.hasSyncingPaySchedule=i;t.isSelectedPSSyncing=o;t.getPayScheduleListValueId=s;var r=a(470116);function n(){return window.Employee&&window.Employee.payrollSynced}function i(e){let t=false;const a=(0,r.getField)(e,r.Fields.paySchedule);if(a){t=a.props.items.some((e=>e.props&&e.props["data-syncing-pay-schedule"]))}return t}function o(e){const t=(0,r.getField)(e,r.newEmployeeForm.payrollCheckbox);if(t){if(t.props.checked){return true}}const a=(0,r.getField)(e,r.Fields.paySchedule);if(!a){return n()}const{items:i}=a.props;const o=(0,r.getSelectedValue)(a);const s=i.find((e=>e.value===o));if(s){return s.props&&s.props["data-syncing-pay-schedule"]}return false}function s(e){const t=(0,r.getField)(e,r.Fields.paySchedule);let a;const n=(0,r.getField)(e,r.newEmployeeForm.payrollCheckbox);if(t){a=(0,r.getSelectedValue)(t)}if(n&&t&&!a){const e=!!n.props.checked;const a=t.props.items.find((t=>t.props&&t.props["data-syncing-pay-schedule"]===e));if(a){return a.value}}return a}},839852:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createContext=o;t.DataToFormData=s;t.getCopyOfFieldAndChildren=l;t.getField=t.getSelectedItem=t.getSelectedValue=void 0;var r=a(641710);var n=a(273641);var i=a(470116);function o(e){return{controls:r.controls,form:{isEditable:true,setIsEditable(e){this.isEditable=e}},formData:{},setFormData(e){if(typeof e==="function"){this.formData=e(this.formData)}else{this.formData=e}},validation:{},...e}}function s(e){return{[e.props.id]:e}}function l(e,t){const a=(0,n.cloneDeep)(t.formData[e]);if(!a){console.error(`Dynamic Form: Unable to find field with id: ${e}`);return}let r={};if(Array.isArray(a.children)){const e=a.children.map((e=>l(e,t)));e.forEach((e=>{r={...r,...e}}))}return{[a.props.id]:a,...r}}const d=e=>{if(!e){return undefined}const{props:{selectedValues:t=[]}}=e;if(t.length===0)return"";return t.length===1?t[0]:t};t.getSelectedValue=d;const c=e=>{const t=d(e);if(t!==undefined){return e.props.items.find((e=>e.value==t))}return undefined};t.getSelectedItem=c;const u=(0,n.memoize)(((e,t)=>{var a;const r=(0,i.findOne)(e,{selector:"props.className",value:t});return r===null||r===void 0?void 0:(a=r.props)===null||a===void 0?void 0:a.id}),((e,t)=>{var a;return`${e===null||e===void 0?void 0:(a=e.formData)===null||a===void 0?void 0:a.memoizeKey}_${t}`}));const f=(e,t)=>{var a,r;if(Object.values(i.newEmployeeForm).includes(t)){return(0,n.cloneDeep)(e.formData[t])}if((a=e.formData)!==null&&a!==void 0&&(r=a.memoizeKey)!==null&&r!==void 0&&r.length&&t!==null&&t!==void 0&&t.length){const a=u(e,t);if(a){return(0,n.cloneDeep)(e.formData[a])}}return(0,i.findOne)(e,{selector:"props.className",value:t})};t.getField=f},24372:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.getCompensationStates=l;var r=a(153821);var n=a(774548);var i=a(470116);const o=e=>{if(e===0||!(0,n.hasTrax)()){return null}const t=(Number(e)*1.33333333).toFixed(2);const a=$.__("The double time rate is $%1.",t);return a};const s=e=>{if(e&&(0,n.hasTrax)()){const{value:t=0}=e.props;const{currency:{symbol:a="$",symbolPosition:n=0}}=e.settings;const i=(0,r.fixCurrencyValue)((0,r.appendDecimalIfNecessary)(t,a));const o=(Number(i)*2).toFixed(2);const s=(Number(i)*1.5).toFixed(2);const l=n==0?`${a}${s}`:`${s}${a}`;const d=n==0?`${a}${o}`:`${o}${a}`;const c=$.__("Overtime rate is %1 (1.5x), double-time rate is %2",l,d);return c}return null};function l(e){var t;const a={[i.Fields.overtimeRate]:{show:false,note:null},[i.Fields.overtimeStatus]:{note:null,nonExemptEmptyPay:false}};const l=(0,i.getField)(e,i.Fields.payRate);const d=(0,i.getField)(e,i.Fields.overtimeStatus);const c=(0,i.getField)(e,i.Fields.payType);const u=(0,i.getField)(e,i.Fields.overtimeRate);const f=(0,i.getField)(e,i.Fields.paidPer);const p=(0,i.getSelectedValue)(f);const m=d&&((0,i.getSelectedValue)(d)||"");const h=c&&((0,i.getSelectedValue)(c)||"");const v=(0,r.fixCurrencyValue)(u===null||u===void 0?void 0:(t=u.props)===null||t===void 0?void 0:t.value);a[i.Fields.overtimeRate].note=o(v);if((m===null||m===void 0?void 0:m.toLowerCase())==="non-exempt"){var g,y;if(!(0,n.hasTrax)()){a[i.Fields.overtimeRate].show=true}else if((h===null||h===void 0?void 0:h.toLowerCase())==="hourly"&&p==="Hour"&&(l===null||l===void 0?void 0:(g=l.settings)===null||g===void 0?void 0:(y=g.currency)===null||y===void 0?void 0:y.symbolPosition)==0){a[i.Fields.overtimeRate].show=false;a[i.Fields.overtimeStatus].note=s(l)}else if(h==="Hourly"){a[i.Fields.overtimeRate].show=false}else{a[i.Fields.overtimeRate].show=true}if(l){var b;const e=(0,r.fixCurrencyValue)(l===null||l===void 0?void 0:(b=l.props)===null||b===void 0?void 0:b.value);if(e===0){a[i.Fields.overtimeRate].show=false;a[i.Fields.overtimeStatus].note=$.__("Non-exempt requires a Pay Rate higher than $0.00");a[i.Fields.overtimeStatus].nonExemptEmptyPay=true}}}else{a[i.Fields.overtimeRate].show=false}return a}},886390:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.filterFields=i;t.findOne=l;t.findParent=d;t.findClosest=c;t.findChildren=u;t.filterFieldsMemoized=void 0;var r=a(273641);var n=a(470116);function i(e,...t){let a=e.formData;t.forEach((({selector:e,match:t="includes",value:i})=>{if(e==="key"&&t==="exact"){const e=a[i];a=e?(0,n.DataToFormData)(e):{}}else{a=Object.keys(a).reduce(((n,o)=>{let s=false;if(e==="key"){if(t==="includes"&&o.includes(i)){s=true}else if(t==="notIncludes"&&!o.includes(i)){s=true}else if(t==="exact"&&o===i){s=true}}else{const n=(0,r.get)(a[o],e);if(n!==undefined){if(t==="includes"&&(typeof n==="string"||Array.isArray(n))&&n.includes(i)){s=true}else if(t==="notIncludes"&&(typeof n==="string"||Array.isArray(n))&&!n.includes(i)){s=true}else if(t==="exact"&&n===i){s=true}}}if(s){n[o]=a[o]}return n}),{})}}));return(0,r.cloneDeep)(a)}const o=(0,r.memoize)(((e,...t)=>Object.keys(i(e,...t))),((e,...t)=>{var a;return`${e===null||e===void 0?void 0:(a=e.formData)===null||a===void 0?void 0:a.memoizeKey}_${t.map((e=>Object.values(e).join(""))).join("_")}`}));const s=(e,...t)=>{var a,n;if((a=e.formData)!==null&&a!==void 0&&(n=a.memoizeKey)!==null&&n!==void 0&&n.length&&t!==null&&t!==void 0&&t.length){const a=o(e,...t);if(a!==null&&a!==void 0&&a.length){const t={};a.forEach((a=>{t[a]=e.formData[a]}));return(0,r.cloneDeep)(t)}}return i(e,...t)};t.filterFieldsMemoized=s;function l(e,...t){const a=i(e,...t);const r=Object.keys(a)[0];if(typeof r!=="undefined"){return a[r]}return null}function d(e,t){const a=Object.keys(e.formData).find((a=>{var r,n;return(r=e.formData[a])===null||r===void 0?void 0:(n=r.children)===null||n===void 0?void 0:n.includes(t)}));return a?e.formData[a]:null}function c(e,t,...a){const r=d(e,t);if(r){const t=l(e,{selector:"key",value:r.props.id,match:"exact"},...a);if(!t){return c(e,r.props.id,...a)}return t}return null}function u(e,t,...a){const o=e.formData[t];if(o&&o.children&&o.children.length){let t={};o.children.forEach((r=>{const n=e.formData[r];if(n.children&&n.children.length){const n=u(e,r,...a);t={...t,...n}}if(n){t[r]=n}}));const s=(0,n.createContext)({formData:(0,r.cloneDeep)(t)});return i(s,...a)}return null}},385781:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.addChildToField=l;t.toggleFields=d;t.resetForm=f;t.handleControlledInput=p;t.handleCountrySwitcher=m;t.handleAddSelectItem=h;t.updateFieldWithType=v;t.customizeFields=g;t.updateChildrenWithType=y;t.scrollToError=t.forceFormRender=t.updatePlaceholderLabels=t.determineValidEditableField=void 0;var n=r(a(569005));var i=a(273641);var o=a(470116);var s=a(774548);function l(e,t,a,...r){const n=(0,i.cloneDeep)(e);const s=(0,o.findOne)((0,o.createContext)({formData:n}),...r);if(!s){console.error(`Dynamic Form - Unable to add child, field not found`);return n}const l=Array.isArray(s.children)?s.children:[];if(a==="start"){l.unshift(t.props.id)}else{l.push(t.props.id)}s.children=l;n[t.props.id]=t;n[s.props.id]=s;return n}function d(e,t,a,r="hidden"){const s=(0,i.cloneDeep)(e.formData);const l=(0,o.createContext)({formData:s});const d={};const c={};const u={};const f=` ${r}`;const p=t=>{let r;if(typeof t==="string"){const e=t.replace("*","");const a=t.includes("*")?"includes":"exact";r=(0,o.filterFields)(l,{selector:"key",value:e,match:a})}else{r=(0,o.DataToFormData)(t)}Object.keys(r).forEach((t=>{const i=r[t];if(i.props.id.includes(":idx:")){return false}if(i){i.settings.fieldBoxClasses=i.settings.fieldBoxClasses||"";i.props.className=i.props.className||"";if(a){if(t.startsWith("field")){i.settings.fieldBoxClasses+=f;i.props.className+=f}else{i.props.className+=f}}else{if(t.startsWith("field")){var s,l;i.settings.fieldBoxClasses=(0,n.default)(s=i.settings.fieldBoxClasses).call(s,f,"");i.props.className=(0,n.default)(l=i.props.className).call(l,f,"")}else{var u;i.props.className=(0,n.default)(u=i.props.className).call(u,f,"")}}d[i.props.id]=i;const r=(0,o.findClosest)(e,t,{selector:"type",value:"FieldRow"});if(r){c[r.props.id]=r}}}))};const m=(t,a,r)=>{Object.keys(t).forEach((t=>{const n=(0,o.findChildren)(e,t,{selector:"key",value:"field"});let i=0;Object.keys(n).forEach((e=>{if(!d[e]){i++}}));if(i===0){p(t);if(a&&r){const r=(0,o.findClosest)(e,t,a);if(r){u[r.props.id]=r}}}}))};if(Array.isArray(t)){t.forEach(p)}else{Object.keys(t).forEach(p)}m(c,{selector:"type",value:"FieldSet"},u);m(u);return d}const c=["INPUT","BUTTON","TEXTAREA","BA-SELECT","DIV"];const u=e=>{const{tagName:t=""}=e.target;if(!c.includes(t)){return false}const a=e=>{var t,a;if((t=e.querySelector(".fab-SelectToggle"))!==null&&t!==void 0&&(a=t.classList)!==null&&a!==void 0&&a.contains("fab-SelectToggle--disabled")){return true}return e.getAttribute("disabled")!==null};if(a(e.target)){return false}if(t==="DIV"){const t=e.target.closest("ba-select, .fab-Select");if(t){if(a(t)){return false}}else{return false}}if(t==="LABEL"){const t=document.getElementById(e.target.getAttribute("for"));if(a(t)){return false}}if(t==="A"){return false}if(t==="BUTTON"){const t=e.target.closest(".DynamicForm--HoverBase__hint");if(t){return false}}return true};t.determineValidEditableField=u;function f(e){const t={};Object.keys(e.formData).forEach((a=>{let r=e.formData[a];if(r.settings&&Object.prototype.hasOwnProperty.call(r.settings,"initialValue")&&!r.props.id.includes(":idx:")){r=(0,i.cloneDeep)(r);const{initialValue:e}=r.settings;if(Object.prototype.hasOwnProperty.call(r.props,"checked")){r.props.checked=!!e}else if(Object.prototype.hasOwnProperty.call(r.props,"selectedValues")){r.props.selectedValues=e}else{r.props.value=`${e}`}t[r.props.id]=r}}));e.setFormData((e=>({...e,...t})))}function p(e,t,a,r,n=true){const o=(0,i.cloneDeep)(r.formData[t]);if(!o){console.error(`Dynamic Form - Unable to update value for field id: ${t}`);return}if(e==="text"||e==="textarea"){o.props.value=`${a}`}else if(e==="checkbox"||e==="radio"){o.props.checked=!!a}else if(e==="select"){let e=[];if(Array.isArray(a))e=a;if(typeof a==="string")e=[a];o.props.selectedValues=e}else if(e==="currency-object"){o.settings.currency=(0,i.cloneDeep)(a)}else if(e==="select-items"&&Array.isArray(a)){const e=(0,i.cloneDeep)(a);const t=o;t.props.items=e;const r=e.some((e=>e.value===t.props.selectedValues[0]));if(!r){t.props.selectedValues=[]}}if(n){r.setFormData((e=>({...e,...{[o.props.id]:o}})))}else{return o}}function m(e,t,a,r,o){var s;const l=(0,i.cloneDeep)(r.formData[e]);const d={};if(!l){console.error(`Dynamic Form - unable to update state field: ${e}`);return}let c;(function(e){e[e["SELECT_FIELD"]=0]="SELECT_FIELD";e[e["TEXT_FIELD"]=1]="TEXT_FIELD"})(c||(c={}));let u=document.getElementById(e);let f="";let p;if((s=u)!==null&&s!==void 0&&s.value){f=u.value;p=c.TEXT_FIELD}else{var m;u=document.querySelector(`#${e} select`);f=(m=u)===null||m===void 0?void 0:m.value;p=c.SELECT_FIELD}if(a.subEntityOptions.length>0){var h;l.type="SelectField";const e=a.subEntityOptions.map((e=>({text:e.name||e.text,value:e.id||e.value})));l.props.items=e;l.props.className=(0,n.default)(h=l.props.className).call(h,"fab-TextInput","");l.props.isDisabled=!!l.props.disabled;if(o){l.props.selectedValues=Array.isArray(l.settings.initialValue)?l.settings.initialValue:[l.settings.initialValue]}else{l.props.selectedValues=p===c.SELECT_FIELD?[`${f}`]:[]}l.settings.type="select";l.props.type="select"}else{l.type="TextField";l.props.value=typeof l.settings.initialValue==="string"&&o?l.settings.initialValue:"";l.props.className+=" fab-TextInput";l.props.value=p===c.TEXT_FIELD?f:"";l.settings.type="text";l.props.type="text";delete l.props.isDisabled;delete l.props.selectedValues;delete l.props.items}l.props.placeholder=a.subEntityLabel;const v=(0,i.cloneDeep)(r.formData[t]);if(v){v.props.placeholder=a.postCodeLabel;d[v.props.id]=v}d[l.props.id]=l;r.setFormData((e=>({...e,...d})))}function h(e,t,a){const r=(0,i.cloneDeep)(a.formData[e]);if(!r||!r.props||!r.props.items){console.error(`Dynamic Form - Unable to add item for field id: ${e}`);return}r.props.items.push({text:t.text,value:t.value.toString()});if(t.selected){r.props.selectedValues=[t.value.toString()]}a.setFormData((e=>({...e,...{[r.props.id]:r}})))}function v(e,t,a){const r=(0,i.cloneDeep)(a);const n=r[e];if(n){n.type=t}return r}function g(e,t){if(Array.isArray(e)){const a=(0,i.cloneDeep)(t);e.forEach((e=>{if(typeof e.filter==="string"){const t=a[e.filter];if(t){t.type=e.replacementType}}else if(typeof e.filter==="object"){const t=e.filter;Object.keys(t).forEach((r=>{const n=t[r];const i=a[n&&n.props&&n.props.id];if(i){i.type=e.replacementType}}))}}));return a}return t}function y(e,t,a){const r=a.formData[e];const n=r&&r.children||[];const o={};n.map((e=>{const r=(0,i.cloneDeep)(a.formData[e]);if(r.type!==t){r.type=t;o[r.props.id]=r}return r}));if(Object.keys(o).length){a.setFormData((e=>({...e,...o})))}}const b=(0,i.debounce)((()=>{$.placeholder.shim({autoFormClass:"dynamic-form"})}),300);t.updatePlaceholderLabels=b;const w=(0,i.debounce)((e=>{const{formData:t,setFormData:a}=e;a((e=>({...e,forceRender:(0,s.makeUid)()})))}),200);t.forceFormRender=w;const S=(e,t=0)=>{const a=[".fab-Label--error",".fab-CheckboxGroup__legend--error",".fab-Textarea--error",".fab-TextInput--error",".fab-SelectToggle__innerFacade--errorCondition",".fab-FormNote--error",".DynamicForm--error"];const r=document.querySelector(a.join(","));if(r){const a=e||window;const n=e?0:window.scrollY;const i=r.getBoundingClientRect();a.scrollTo({top:i.top+n-t})}};t.scrollToError=S},982887:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(38903);Object.keys(r).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===r[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return r[e]}})}));var n=a(839852);Object.keys(n).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===n[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return n[e]}})}));var i=a(886390);Object.keys(i).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===i[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return i[e]}})}));var o=a(385781);Object.keys(o).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===o[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return o[e]}})}));var s=a(938912);Object.keys(s).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===s[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return s[e]}})}));var l=a(351187);Object.keys(l).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===l[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return l[e]}})}));var d=a(24372);Object.keys(d).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===d[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return d[e]}})}))},943337:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.initializeScrollableTable=r;function r(){let e;t();$(window).resize((function(){clearTimeout(e);e=setTimeout(t,400)}));function t(){const e=document.getElementsByClassName("js-BhrTable-scroll");for(let t=0;t<e.length;t++){const a=e[t];const r=a.querySelector(".BhrTable__scrollWrapper-inner");if(r.scrollWidth>r.clientWidth){a.classList.add("scrollable");r.addEventListener("scroll",(function(){if(r.scrollLeft>r.scrollWidth-(r.clientWidth+50)){a.classList.remove("scrollable")}else{a.classList.add("scrollable")}}))}else{a.classList.remove("scrollable")}}}$(".js-BhrTable-scroll").on("mouseover",".fab-Table__row",a);function a(){const e=$(this)[0];const t=e.closest(".scrollable .BhrTable__scrollWrapper-inner");const a=$(this).find(".BhrTable__actions:visible").parent(".fab-Table__cell")[0];if(t&&a){const r=a.offsetWidth;if(t.scrollLeft<e.scrollWidth-(t.clientWidth+r)){let e="";$(this).find(".BhrTable__actions:visible").parent(".fab-Table__cell").each((function(a){const r=window.getComputedStyle(this);const n={left:t.clientWidth-parseInt(r.width)+"px",height:parseInt(r.height)-parseInt(r.borderBottomWidth)+"px",display:"flex","flex-direction":"column","justify-content":"center","border-bottom":"none"};e=r.height;this.classList.add("BhrTable__actions--floating");$(this).css(n)}));$(this).css({height:e})}}}$(".js-BhrTable-scroll").on("mouseout",".fab-Table__row",(function(){$(this).find(".BhrTable__actions:visible").parent(".fab-Table__cell").each((function(e){$(this).removeAttr("style");this.classList.remove("BhrTable__actions--floating")}))}))}},985620:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.overrideFieldData=t.fixCountryStateZipMappingOnRepeatingFields=t.addOneEmailRequired=void 0;var r=a(470116);var n=a(774548);const i=e=>{let t=e;const a=(0,r.createContext)({formData:e});const n=(0,r.findOne)(a,{selector:"props.className",value:"oneEmailRequired"});if(n){const e=(0,r.findClosest)(a,n.props.id,{selector:"type",value:"FieldGroup"});if(e){t=(0,r.updateFieldWithType)(e.props.id,"OneEmailRequiredFieldGroup",t)}}return t};t.addOneEmailRequired=i;const o=e=>{const t=e;const a=(0,r.createContext)({formData:e});const n=(0,r.filterFields)(a,{selector:"key",value:":idx:",match:"includes"},{selector:"type",value:"SelectStandardCountryField",match:"exact"},{selector:"settings.isCustomField",value:false,match:"exact"});const i=Object.keys(n);if(i.length){i.forEach((e=>{const n=t[e];const i=(0,r.findClosest)(a,e,{selector:"type",value:"FieldGroup"});if(i){var o,s;const e=(0,r.findChildren)(a,i===null||i===void 0?void 0:(o=i.props)===null||o===void 0?void 0:o.id,{selector:"props.data-csz",value:"state"},{selector:"settings.isCustomField",value:false,match:"exact"});const t=(0,r.findChildren)(a,i===null||i===void 0?void 0:(s=i.props)===null||s===void 0?void 0:s.id,{selector:"props.data-csz",value:"postal_code"},{selector:"settings.isCustomField",value:false,match:"exact"});const l=Object.keys(e);if(l.length){const e=l[0];n.props["data-state-field-id"]=e}const d=Object.keys(t);if(d.length){const e=d[0];n.props["data-zip-field-id"]=e}}}))}return t};t.fixCountryStateZipMappingOnRepeatingFields=o;const s=e=>{let t=e;t=i(t);t=o(t);t.memoizeKey=(0,n.makeUid)();return t};t.overrideFieldData=s},38903:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.generateIndex=i;t.addRepeatableField=o;t.removeRepeatableField=s;var r=a(273641);var n=a(470116);function i(e){let t;do{t=`add${Math.round(Math.random()*1e4)}`}while(document.getElementById(e.replace(":idx:",t)));return t}function o(e,t,a){const o=(0,r.cloneDeep)(a.formData[e]);const s=(0,n.getCopyOfFieldAndChildren)(t,a);let l;try{l=JSON.stringify(s)}catch(a){console.error(`Dyanmic Form: unable to stringify template with container ${e} and template ${t}`);return false}const d=i(t);l=l.replace(/:idx:/gi,d).replace("repeatPrototype","");try{l=JSON.parse(l)}catch(a){console.error(`Dyanmic Form: unable to parse template with container ${e} and template ${t}`);return false}const c=t.replace(":idx:",d);o.children.push(c);a.setFormData({...a.formData,...l,...{[o.props.id]:o}});return c}function s(e,t,a){const i=(0,r.cloneDeep)(a.formData[e]);const o=(0,n.getCopyOfFieldAndChildren)(t,a);const s=(0,r.omit)(a.formData,Object.keys(o));i.children=i.children.filter((e=>e!==t));a.setFormData({...s,...{[i.props.id]:i}});const l=[];for(const e in o){if(o[e].props.name){const t=(0,n.fixValidationRegisterName)(o[e].props.name);l.push(t)}}a.validation.unregister(l)}},938912:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createDummyContext=p;t.currencyField=t.testFieldRowSetData=t.testSelectData=t.testCheckboxData=t.nestedTestDataRepeatable=t.nestedTestData=t.testData=void 0;var r=a(273641);var n=a(470116);const i={"f-0":{type:"TextField",props:{id:"f-0",value:"blue",className:""},settings:{initialValue:"blue"},children:["1-2"]},"1-2":{type:"TextField",props:{id:"1-2"},settings:{}}};t.testData=i;const o={...(0,r.cloneDeep)(i),"1-2":{type:"TextField",props:{id:"1-2"},settings:{},children:["1-3"]},"1-3":{type:"SelectField",props:{id:"1-3"},children:["1-4"],settings:{}},"1-4":{type:"StaticTemplate",props:{id:"1-4"},settings:{}}};t.nestedTestData=o;let s=JSON.stringify((0,r.cloneDeep)(o));s=s.replace(/1-2/gi,"1-2:idx:").replace(/1-3/gi,"1-3:idx:").replace(/1-4/gi,"1-4:idx:");const l=JSON.parse(s);t.nestedTestDataRepeatable=l;const d={test_01:{type:"CheckboxField",props:{id:"test_01",checked:true},settings:{initialValue:true},children:[]}};t.testCheckboxData=d;const c={test_02:{type:"SelectField",props:{id:"test_02",className:"",selectedValues:["2"],items:[{text:"test 2",value:"2"}]},settings:{initialValue:["2"]},children:[]}};t.testSelectData=c;const u={"0-0":{type:"FieldSet",props:{id:"0-0"},settings:{},children:["0-1"]},"0-1":{type:"FieldRow",props:{id:"0-1"},settings:{},children:["field_1-2","field_1-3"]},"field_1-2":{type:"TextField",props:{id:"field_1-2"},settings:{}},"field_1-3":{type:"TextField",props:{id:"field_1-3"},settings:{}}};t.testFieldRowSetData=u;const f={field_4204:{type:"CurrencyField",props:{type:"text",name:"field_4204[0]",id:"field_4204",className:"dynamic-field-react  fab-TextInput fab-TextInput--width5 currency-field  js-overtimeRate",value:"",disabled:false},settings:{initialValue:"",fieldBoxClasses:" spaced",currency:{code:"USD",symbol:"$",symbolPosition:0},label:"Overtime Rate",type:"currency",isCustomField:false}}};t.currencyField=f;function p(e={}){return(0,n.createContext)(e)}},53151:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.validationClassMap=t.passportPattern=t.employeeNumberPattern=t.URLPattern=t.DigitPattern=t.NATIONALPattern=t.NINPattern=t.SINPattern=t.SSNPattern=void 0;var n=a(230424);var i=r(a(496406));var o=a(470116);const s=/^[0-9]{3}-[0-9]{2}-[0-9]{4}$/;t.SSNPattern=s;const l=/^[0-9]{3}-[0-9]{3}-[0-9]{3}$/;t.SINPattern=l;const d=/^([0-9a-z]{2}\s?){4}\s?[0-9a-z]{1}$/i;t.NINPattern=d;const c=/^[0-9a-z]{6,16}$/i;t.NATIONALPattern=c;const u=/^\d+$/;t.DigitPattern=u;const f=/^((https?|s?ftp):\/\/)?(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;t.URLPattern=f;const p=new RegExp(window.GLOBAL_NUMBER_REGEX.replace("(?!0[0-9])",""));t.employeeNumberPattern=p;const m=/^[A-Z0-9]{1,20}$/i;t.passportPattern=m;const h={[o.Fields.ssn]:{validateSocialSecurity:{check_field:"ssn",action:"checkSSN",message:window.SESSION_USER&&window.SESSION_USER.isAdmin?$.__("Oops, this is not a valid SSN or it is a duplicate of another SSN in your account."):$.__("Oops! Double check the numbers you entered. If everything is correct please contact your administrator.")},pattern:s},[o.Fields.sin]:{validateSocialId:{action:"checkSIN",check_field:"sin",message:$.__("There is already an employee with this SIN in the system.")},pattern:l},[o.Fields.nin]:{validateSocialId:{check_field:"nin",action:"checkNIN",message:$.__("Please fix this field.")},pattern:d},[o.Fields.nationalId]:{validateSocialId:{check_field:"national_id",friendly_name:"National ID",action:"checkNationalID",message:$.__("Please fix this field.")},pattern:c},[o.Fields.employeeNumber]:{uniqueEmployeeNumber:true},[o.Fields.paySchedule]:{validatePaySchedule:true},[o.Fields.payType]:{invalidPayrollOption:true},[o.Fields.paidPer]:{invalidPayrollOption:true,validatePayRatePaidPer:true,validatePaidPerTrax:true},[o.Fields.payRate]:{validatePayRatePaidPer:true,currencyTypeMatch:{onlyIfTrax:true,currency:"USD"}},CalendarPicker:{baseDateValidation:{from:(0,i.default)().subtract({year:100,days:1}),to:(0,i.default)().add(50,"y")}},validateBirthDate:{validateDateBetween:{from:"1900-01-01",to:(0,i.default)()}},validateDateField:{validateDateField:true},validateHireDate:{validateDateBetween:{from:"1900-01-01",to:(0,i.default)().add(3,"y")}},validateSmallDate:{validateDateBetween:{from:"1900-01-01",to:"2079-06-06"}},validateToDate:{validateDateFrom_to:true},validateZipTrax:{validateUSZipTrax:true},checkEmailExists:{checkEmailExists:true,pattern:{value:n.emailRegex,message:$.__("Invalid email address.")}},validateEmail:{pattern:{value:n.emailRegex,message:$.__("Invalid email address.")}},validateUrl:{pattern:{value:f,message:$.__("Please enter a valid URL.")}},validateNumber:{pattern:{value:new RegExp(window.GLOBAL_NUMBER_REGEX),message:$.__("Please enter a valid number or remove any leading zeros.")}},validateEmployeeNumber:{pattern:{value:p,message:$.__("Please enter a valid number.")}},validatePayrollEmployeeNumber:{pattern:u,maxLength:6,noLeadingZeros:true},creditCardLast4Digits:{pattern:u,maxLength:4},validateOvertimeRateTrax:{valueGreaterThanZero:{onlyIfTrax:true},currencyTypeMatch:{onlyIfTrax:true,currency:"USD"}},validatePassportNumber:{pattern:m,maxLength:20},validateCCNumber:{minLength:13,maxLength:16},primaryContact:{onePrimaryContact:true}};t.validationClassMap=h},443489:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r={customRules:true};t.customRules=void 0;var n=a(387249);Object.keys(n).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(r,e))return;if(e in t&&t[e]===n[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return n[e]}})}));var i=s(a(535854));t.customRules=i;function o(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(o=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=o(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;if(s&&(s.get||s.set)){Object.defineProperty(r,i,s)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}},753368:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validatePaidPerTrax=void 0;var r=a(470116);const n=(e,t,a)=>(t="")=>{if((0,r.isSelectedPSSyncing)(e)&&t){const a=(0,r.getField)(e,r.Fields.payType);if(a){const e=(0,r.getSelectedValue)(a);if((e===null||e===void 0?void 0:e.toLowerCase())==="salary"&&(t===null||t===void 0?void 0:t.toLowerCase())!=="year"){return false}}}return true};t.validatePaidPerTrax=n},577837:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validatePayRatePaidPer=void 0;var r=a(470116);const n=(e,t,a)=>t=>{var a;const n=(0,r.getField)(e,r.Fields.paidPer);const i=(0,r.getField)(e,r.Fields.payRate);const o=(0,r.getField)(e,r.Fields.payType);const s=o?(0,r.getSelectedValue)(o):"";const l=i===null||i===void 0?void 0:(a=i.props)===null||a===void 0?void 0:a.value;const d=n?(0,r.getSelectedValue)(n):false;return!!t||!l&&!d||s==="Hourly"&&!!l};t.validatePayRatePaidPer=n},650287:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.validatePaySchedule=void 0;var n=r(a(417842));var i=a(774548);var o=a(470116);var s=a(116258);const l=$.__("SSN is not valid for the Selected Pay Schedule.");const d=(e,t,a)=>async t=>{const{validation:{trigger:a},formData:r}=e;if(!t){return true}if(!(0,i.hasTrax)()){return true}const d={id:(0,o.currentEditingEmployeeId)(),payScheduleId:null,payScheduleListValueId:t,action:"checkPayScheduleForEmployee",ssn:null};const c=(0,o.getField)(e,o.Fields.ssn);if(c&&c.props&&c.props.value){d.ssn=c.props.value}const{isValid:u,isRateLimited:f}=await(0,o.validateWithBE)(n.default.post,d);if(f){return s.RATE_LIMIT_ERROR}if(!u){if(c&&c.props&&c.props.name){a(c.props.name)}}return u||l};t.validatePaySchedule=d},116258:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.RATE_LIMIT_ERROR=void 0;const r=$.__("This field has been validated too many times, please wait 2 minutes and try again.");t.RATE_LIMIT_ERROR=r},768066:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.currencyTypeMatch=void 0;var r=a(774548);var n=a(470116);const i=(e,t,a)=>i=>{const{settings:{currency:{code:o=""}}}=t;let s=o===a.currency;const{Employee:l}=window;const d=l.firstName?l.firstName:"an employee";if(a.onlyIfTrax){const t=(0,r.hasTrax)()&&(0,n.isSelectedPSSyncing)(e);if(!t){s=true}}if(!s){window.setMessage($.__("Oops, please make sure the pay rate is in %1 before adding %2 to a pay schedule that syncs with BambooHR Payroll.",a.currency,d),"error")}return s};t.currencyTypeMatch=i},284290:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.baseDateValidation=void 0;var r=a(274517);const n=(e,t,a)=>(0,r.validateDateBetween)(e,t,a);t.baseDateValidation=n},274517:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.validateDateBetween=void 0;var n=r(a(496406));const i=(e,t,a)=>e=>(0,n.default)(e).isBetween(a.from,a.to,null,"[]");t.validateDateBetween=i},559041:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.validateDateField=void 0;var n=r(a(496406));const i=$.__("Please enter a valid date.");const o=(e,t,a)=>e=>{const t=e===""||(0,n.default)(e,n.default.defaultFormat).isValid();return t||i};t.validateDateField=o},277398:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.validateDateFrom_to=void 0;var n=r(a(496406));var i=a(470116);const o=$.__("Beginning date must be before end date.");const s=(e,t,a)=>a=>{const{props:r}=t;if(a===""){return true}const s=r["data-calendar-id"]||null;const l=(0,i.findOne)(e,{selector:"props.data-calendar-id",value:s,match:"exact"});if(!l){return false}const d=(0,n.default)(a);const c=(0,n.default)(l.props.value.toString());const u=d.isValid()&&c.isValid()&&d.isAfter(c,"day");return u||o};t.validateDateFrom_to=s},203053:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.checkEmailExists=void 0;var n=r(a(417842));var i=a(470116);var o=a(116258);const s=(e,t,a)=>{const r=$.__("This email is already being used.");return async a=>{if(!a){return true}const s={id:(0,i.currentEditingEmployeeId)(),userId:t.props["data-userid"]||null,email:a,action:"checkUserEmail"};const l=`${e.formData.memoizeKey}${i.currentEditingEmployeeId}${s.action}${s.email}`;const{isValid:d,isRateLimited:c}=await(0,i.validateWithBE)(n.default.post,s,null,l);if(c){return o.RATE_LIMIT_ERROR}return d||r}};t.checkEmailExists=s},67644:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.uniqueEmployeeNumber=void 0;var n=r(a(417842));var i=a(470116);var o=a(116258);const s=$.__("This employee number is already being used.");const l=(e,t,a)=>async e=>{if(!e){return true}const t={eeid:(0,i.currentEditingEmployeeId)(),value:e};const{isValid:a,isRateLimited:r}=await(0,i.validateWithBE)(n.default.get,t,"/ajax/check_unique_ee_number.php");if(r){return o.RATE_LIMIT_ERROR}return a||s};t.uniqueEmployeeNumber=l},557711:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.valueGreaterThanZero=void 0;var r=a(774548);var n=a(153821);var i=a(470116);const o=$.__("Value must be greater than 0");const s=(e,t,a)=>t=>{const s=!t||(0,n.fixCurrencyValue)(t)>0;if(a.onlyIfTrax){if((0,r.hasTrax)()&&(0,i.isSelectedPSSyncing)(e)){return s}return true}return s||o};t.valueGreaterThanZero=s},535854:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"currencyTypeMatch",{enumerable:true,get:function(){return r.currencyTypeMatch}});Object.defineProperty(t,"baseDateValidation",{enumerable:true,get:function(){return n.baseDateValidation}});Object.defineProperty(t,"validateDateBetween",{enumerable:true,get:function(){return i.validateDateBetween}});Object.defineProperty(t,"validateDateField",{enumerable:true,get:function(){return o.validateDateField}});Object.defineProperty(t,"validateDateFrom_to",{enumerable:true,get:function(){return s.validateDateFrom_to}});Object.defineProperty(t,"checkEmailExists",{enumerable:true,get:function(){return l.checkEmailExists}});Object.defineProperty(t,"uniqueEmployeeNumber",{enumerable:true,get:function(){return d.uniqueEmployeeNumber}});Object.defineProperty(t,"valueGreaterThanZero",{enumerable:true,get:function(){return c.valueGreaterThanZero}});Object.defineProperty(t,"invalidPayrollOption",{enumerable:true,get:function(){return u.invalidPayrollOption}});Object.defineProperty(t,"noLeadingZeros",{enumerable:true,get:function(){return f.noLeadingZeros}});Object.defineProperty(t,"onePrimaryContact",{enumerable:true,get:function(){return p.onePrimaryContact}});Object.defineProperty(t,"validatePaidPerTrax",{enumerable:true,get:function(){return m.validatePaidPerTrax}});Object.defineProperty(t,"validatePayRatePaidPer",{enumerable:true,get:function(){return h.validatePayRatePaidPer}});Object.defineProperty(t,"validatePaySchedule",{enumerable:true,get:function(){return v.validatePaySchedule}});Object.defineProperty(t,"maxLengthSelect",{enumerable:true,get:function(){return g.maxLengthSelect}});Object.defineProperty(t,"validateSocialId",{enumerable:true,get:function(){return y.validateSocialId}});Object.defineProperty(t,"validateSocialSecurity",{enumerable:true,get:function(){return b.validateSocialSecurity}});Object.defineProperty(t,"validateUSZipTrax",{enumerable:true,get:function(){return w.validateUSZipTrax}});Object.defineProperty(t,"validateTaxInformation",{enumerable:true,get:function(){return S.validateTaxInformation}});var r=a(768066);var n=a(284290);var i=a(274517);var o=a(559041);var s=a(277398);var l=a(203053);var d=a(67644);var c=a(557711);var u=a(130811);var f=a(499176);var p=a(736453);var m=a(753368);var h=a(577837);var v=a(650287);var g=a(167831);var y=a(398283);var b=a(199575);var w=a(520560);var S=a(784643)},130811:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.invalidPayrollOption=void 0;var r=a(470116);const n=(e,t,a)=>a=>{if((0,r.isSelectedPSSyncing)(e)&&t&&Object.prototype.hasOwnProperty.call(t.props,"selectedValues")){const e=(0,r.getSelectedItem)(t);if(e){var n;if(e!==null&&e!==void 0&&(n=e.props)!==null&&n!==void 0&&n["data-invalid-payroll-option"]){return false}}}return true};t.invalidPayrollOption=n},499176:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.noLeadingZeros=void 0;const r=$.__("Value must not start with a 0.");const n=(e,t,a)=>e=>{const t=!e||!e.toString().startsWith("0");return t||r};t.noLeadingZeros=n},736453:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.onePrimaryContact=void 0;var r=a(160858);var n=a(470116);const i=$.__("Please select one Primary Contact");const o=(e,t,a)=>async a=>{const o=document.getElementById(t.props.id);if(!(0,n.isVisible)(o)){return true}const{validation:{setError:s,clearErrors:l}}=e;await(0,r.sleep)(100);const d=(0,n.filterFields)(e,{selector:"props.className",value:"primaryContact"},{selector:"key",value:":idx:",match:"notIncludes"});const c=Object.keys(d).filter((e=>{var t,a;return!!((t=d[e])!==null&&t!==void 0&&(a=t.props)!==null&&a!==void 0&&a.checked)}));if(c.length>1){c.forEach((e=>{var t,a;const r=(t=d[e])===null||t===void 0?void 0:(a=t.props)===null||a===void 0?void 0:a.name;if(r){s(r,{type:"onePrimaryContact",message:i})}}));return i}l(Object.keys(d).map((e=>{var t,a;return(t=d[e])===null||t===void 0?void 0:(a=t.props)===null||a===void 0?void 0:a.name})));return true};t.onePrimaryContact=o},167831:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.maxLengthSelect=void 0;var r=a(470116);const n=(e,t,a)=>e=>{if(e){const e=(0,r.getSelectedItem)(t);if(e&&e.text){const{maxLength:t=255}=a;const r=e.text.length;return r>t?a.message:true}}return true};t.maxLengthSelect=n},398283:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.validateSocialId=void 0;var n=r(a(417842));var i=a(495836);var o=a(470116);var s=a(116258);const l={};const d=(e,t,a)=>{const{action:r,check_field:d,friendly_name:c,message:u}=a;const f=(c||d).toUpperCase();return async e=>{var a,c;if(!e||e===(t===null||t===void 0?void 0:(a=t.settings)===null||a===void 0?void 0:a.initialValue)){return true}if((l===null||l===void 0?void 0:(c=l[d])===null||c===void 0?void 0:c.value)===e){return l===null||l===void 0?void 0:l[d].valid}const p={id:(0,o.currentEditingEmployeeId)(),check_field:d,action:r,[d]:e};let{isValid:m,isRateLimited:h}=await(0,o.validateWithBE)(n.default.post,p);if(h){return s.RATE_LIMIT_ERROR}if(!m){let e;const t=new Promise(((t,a)=>{e=t}));const a=$.__("There is already an employee with this %1 in the system. Are you sure you want to create another one?",f);const r=$.__("Duplicate %1",f);(0,i.SocialIdInvalidModal)(r,a,e);m=await t}l[d]={value:e,valid:m};return m||u}};t.validateSocialId=d},199575:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.validateSocialSecurity=void 0;var n=r(a(417842));var i=a(495836);var o=a(774548);var s=a(470116);var l=a(116258);let d=false;const c=(e,t,a)=>{const{action:r,check_field:c,message:u}=a;return async t=>{if(!t){return true}const a={id:(0,s.currentEditingEmployeeId)(),check_field:c,action:r,[c]:t,payScheduleListValueId:null};if((0,o.hasTrax)()){const t=(0,s.getPayScheduleListValueId)(e);if(t){a.payScheduleListValueId=t}}const{isValid:f,isRateLimited:p}=await(0,s.validateWithBE)(n.default.post,a);if(p){return l.RATE_LIMIT_ERROR}if(t==="001-00-0000"){if(!d&&!(0,s.isOnboardingUser)()){d=true;(0,i.SSNWarnSyncModal)()}}else{d=false}if(f&&(0,o.hasTrax)()){const t=(0,s.getField)(e,s.Fields.paySchedule);if(t){const{props:{name:a}}=t;const{validation:{clearErrors:r}}=e;r(a)}}return f||u}};t.validateSocialSecurity=c},784643:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.validateTaxInformation=void 0;const r=e=>{let t=true;const a=$.__("There is missing information in Tax Withholding. Please check that all required fields are entered and all State Unemployment Insurance fields are filled out (if applicable).");const r=['[name^="fed[status"]','[name="state[optional][13]"]','[name="state[optional][48]"]','[name="state[location]"]','[name="uiState[location]"]','[name="uiState[optional][1]"]','[name="uiState[optional][2]"]','[name="uiState[optional][3]"]'];if(!(e!==null&&e!==void 0&&e.current)){return t}const n=e.current.querySelectorAll(r.join(", "));if(!n||!n.length){return t}n.forEach((e=>{if(e&&!e.value.length){t=false}}));return t||a};t.validateTaxInformation=r},520560:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.validateUSZipTrax=void 0;var r=a(774548);var n=a(845382);var i=a(470116);const o=$.__("Please enter a valid US Zip code.");const s=(e,t,a)=>a=>{const{className:s,id:l}=t.props;if(!a){return true}if(!(0,r.hasTrax)()||s.includes("contact_zip")||!(0,i.isVisible)(document.getElementById(l))){return true}const d=(0,i.isSelectedPSSyncing)(e);if(d){const e=(0,n.isValidUSZipCode)(a);return e||o}return true};t.validateUSZipTrax=s},387249:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.isVisible=O;t.mapValidationObject=T;t.getClassBasedValidation=C;t.validateWithBE=t.getValidationUrl=t.isOnboardingUser=t.getFieldRowError=t.hasErrors=t.getError=t.fixValidationRegisterName=t.isNewEmployeePage=t.currentEditingEmployeeId=t.isRequired=t.RATE_LIMIT_RESPONSE=void 0;var n=r(a(569005));var i=a(273641);var o=r(a(417842));var s=a(53151);var l=a(774548);var d=a(470116);var c=a(549271);const u=null;t.RATE_LIMIT_RESPONSE=u;const f=["maxLength","minLength","max","min","pattern"];const p=(e,t)=>{var a,r,n,i,o,s,c,u;let f=true;const p=document.getElementById(t.props.id);if(!O(p)){return false}if((t===null||t===void 0?void 0:(a=t.props)===null||a===void 0?void 0:a.disabled)===true||(t===null||t===void 0?void 0:(r=t.props)===null||r===void 0?void 0:r.readOnly)!==undefined){return false}if((t===null||t===void 0?void 0:(n=t.settings)===null||n===void 0?void 0:(i=n.validation)===null||i===void 0?void 0:i.requiredWhenVisible)===true){f=true}else{f=false}if(m()===0&&t!==null&&t!==void 0&&(o=t.props)!==null&&o!==void 0&&(s=o.className)!==null&&s!==void 0&&s.includes("emailRequiredIfSelfService")&&!f){var h;const t=(0,d.getField)(e,d.newEmployeeForm.employeeAccess);const a=(0,d.filterFieldsMemoized)(e,{selector:"props.className",value:"oneEmailRequired"});const r=Object.keys(a);if((t===null||t===void 0?void 0:(h=t.props)===null||h===void 0?void 0:h.value)==="enabled"&&r.length===1){return true}}if(t!==null&&t!==void 0&&(c=t.settings)!==null&&c!==void 0&&(u=c.validation)!==null&&u!==void 0&&u.requiredTrax&&(0,l.hasTrax)()){const t=(0,d.isSelectedPSSyncing)(e);if(t){f=true}}return f};t.isRequired=p;const m=()=>{if(window.SESSION_USER.isOnboardingUser){return Number.parseInt(window.SESSION_USER.employeeId)||0}return window.currentlyEditingEmployeeId||0};t.currentEditingEmployeeId=m;const h=()=>{let e=false;if(m()===0){e=true}return e};t.isNewEmployeePage=h;const v=e=>{if(typeof e!=="string"){console.error("Cannot validate field without name");return""}if(e.includes("table_")){var t,a;return(0,n.default)(t=(0,n.default)(a=(0,n.default)(e).call(e,"[","_group")).call(a,"][","_field")).call(t,"]","")}return e};t.fixValidationRegisterName=v;const g=(e,t)=>(0,i.get)(e,t,null);t.getError=g;const y=(e,t)=>!!g(e,t);t.hasErrors=y;const b=(e,t,a)=>{if(a&&Object.keys(t).length){const r=(0,d.findChildren)(e,a,{selector:"type",value:"FieldRow"});if(Object.keys(r).length===0){const r=(0,d.findChildren)(e,a,{selector:"key",value:"field"});const n=Object.keys(r).map((e=>{var t,a;return(t=r[e])===null||t===void 0?void 0:(a=t.props)===null||a===void 0?void 0:a.name}));const o=n.find((e=>{var a;return y(t,e)&&((a=g(t,e))===null||a===void 0?void 0:a.message)}));if(o){return(0,i.get)(t,o,null)}}}return null};t.getFieldRowError=b;const w=()=>window.isOnboardingUser||window.SESSION_USER&&window.SESSION_USER.isOnboardingUser;t.isOnboardingUser=w;const S=()=>{if(w()){return"/self_onboarding/packet/validate"}return"/employees/validate"};t.getValidationUrl=S;function O(e){return $(e).is(":visible")}function T(e,t){var a;const r={validate:{}};if(t!==null&&t!==void 0&&(a=t.settings)!==null&&a!==void 0&&a.validation&&typeof t.settings.validation==="object"&&Object.keys(t.settings.validation).length){var n;const a=e.formData[t===null||t===void 0?void 0:(n=t.props)===null||n===void 0?void 0:n.id];if(!a){return r}const i=Object.keys(t.settings.validation);if(i.includes("maxLength")){let{maxLength:n}=t.settings.validation;if((0,l.hasTrax)()&&i.includes("maxLengthTrax")&&(0,d.isSelectedPSSyncing)(e)){n=t.settings.validation.maxLengthTrax}if(a.type.toLowerCase().includes("select")){r.validate.maxLengthSelect=d.customRules.maxLengthSelect(e,t,{maxLength:n,message:$.__("Please select an option with no more than %1 characters.",n)})}else{r.maxLength={value:n,message:$.__("Please enter no more than %1 characters.",n)}}}}return r}function C(e,t){const a={validate:{}};const r=(t.props.className||"").split(" ");r.forEach((r=>{const n=s.validationClassMap[r];if(n&&t.props.disabled===false){Object.keys(n).forEach((r=>{if(f.includes(r)){a[r]=n[r]}else{const i=d.customRules[r];if(i){a.validate[r]=i(e,t,n[r])}}}))}}));const n=T(e,t);const o=(0,i.merge)(a,n);(0,c.debugValidation)(t,o);return o}const P={};const E=async(e,t,a=undefined,r=undefined)=>{if(typeof e!=="function"){console.warn("validateWithBE - unsupported ajax function!")}if(r&&r!==""){const e=P[r];if(e)return e}let n=null;let i=true;let s=false;try{n=await e.call(o.default,a||S(),t);i=n.data===true;s=n.data===u;if(s){var l;window.Rollbar.info("EE Validation: limit has been met!",{action:(l=t||{})===null||l===void 0?void 0:l.action})}}catch(e){console.warn(e);return{response:null,isValid:true,isRateLimited:false}}const d={response:n,isValid:i,isRateLimited:s};if(r&&r!==""&&!s){P[r]=d}return d};t.validateWithBE=E},100796:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmployeeListModal=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(651745);var s=r(a(417842));var l=a(188534);var d=r(a(574948));function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=e=>{const{isOpen:t,onClose:a,title:r,listId:c,listValueId:u,employeeIds:f,subtitle:p}=e;const m=(0,d.default)();const[h,v]=(0,i.useState)(true);const[g,y]=(0,i.useState)([]);const[b,w]=(0,i.useState)([]);const[S,O]=(0,i.useState)(true);(0,i.useEffect)((()=>{O(t)}),[t]);const T=()=>{O(false);setTimeout((()=>{a()}),250)};const C=()=>{v(true);y([]);w([]);if(c&&u){s.default.post("/employees/list/filter/list_value",{list_id:+c,list_value_id:+u}).then((e=>{const{columns:t,employeeResults:a}=e.data;y((0,l.buildColumns)(t));w(a)})).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error")})).finally((()=>{v(false)}))}else if(f!==null&&f!==void 0&&f.length){s.default.post("/employees/list/filter/employee_ids",{employee_ids:f}).then((e=>{const{columns:t,employeeResults:a}=e.data;y((0,l.buildColumns)(t));w(a)})).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error")})).finally((()=>{v(false)}))}else{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error");T()}};return(0,n.default)(o.StandardModal,{isOpen:t&&S,onOpenComplete:C,onRequestClose:T},void 0,(0,n.default)(o.StandardModal.Body,{renderFooter:(0,n.default)(o.StandardModal.Footer,{actions:[(0,n.default)(o.Button,{onClick:T,type:"button"},"button",$.__("Done"))]}),renderHeader:(0,n.default)(o.StandardModal.Header,{hasCloseButton:true,title:r})},void 0,(0,n.default)(o.StandardModal.StandardHeadline,{icon:"fab-employees-18x15",text:`${p} ${b.length?`(${b.length})`:""}`}),(0,n.default)("div",{className:m.modalBody},void 0,h?(0,n.default)(o.Loader,{}):(0,n.default)(o.Table,{caption:`${r} - ${p}`,columns:g,rowKey:e=>e.id.value,rows:b}))))};t.EmployeeListModal=f},98470:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EmployeeListModal",{enumerable:true,get:function(){return r.EmployeeListModal}});var r=a(100796)},188534:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.buildColumns=o;var n=r(a(856075));var i=r(a(573674));function o(e){return e.map((e=>({header:e.name,fieldId:e.fieldId,key:e.fieldId,sortBy:t=>t[e.fieldId].value.toString().toLowerCase(),cell:t=>(0,n.default)("a",{href:`/employees/employee.php?id=${t.id.value}`},void 0,t[e.fieldId].value)})))}},987290:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.TheNewEmployeeSelector=t.EmployeeSelector=void 0;var n=r(a(856075));var i=m(a(573674));var o=a(121198);var s=a(651745);var l=a(651745);var d=a(651745);var c=r(a(8460));var u=r(a(972445));var f=r(a(706373));a(58961);function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=p(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class h extends i.Component{static get className(){return"EmployeeSelector"}constructor(e){super(e);this._handleAvailableClick=e=>{const t=this.state.availableEmployees.slice(0);const a=t.indexOf(e);if(a===-1){t.push(e);this.setState({availableEmployees:t})}else{t.splice(a,1);this.setState({availableEmployees:t})}};this._handleSelectedClick=e=>{const t=this.state.selectedEmployees.slice(0);const a=t.indexOf(e);if(a===-1){t.push(e);this.setState({selectedEmployees:t})}else{t.splice(a,1);this.setState({selectedEmployees:t})}};this._handleAllEmployeesSelect=()=>{const e=this.props.selectedEmployeeList.slice(0);let t=this.state.employees.slice(0);if(t.length>0){t=e.concat(t);this.props.onListChange(t);this.setState({employees:[],availableEmployees:[],selectedEmployees:[]})}};this._handleEmployeesSelect=()=>{let e=this.state.availableEmployees.slice(0);if(e.length>0){const t=this.state.employees.slice(0);const a=t.filter((t=>e.indexOf(t)===-1));const r=this.props.selectedEmployeeList.concat(e);this.props.onListChange(r);this.setState({employees:a,availableEmployees:[]})}};this._handleAllEmployeesDeselect=()=>{const e=this.state.employees.slice(0);let t=this.props.selectedEmployeeList.slice(0);if(t.length>0){t=e.concat(t);this.props.onListChange([]);this.setState({employees:t,availableEmployees:[],selectedEmployees:[]})}};this._handleEmployeesDeselect=()=>{const e=this.state.selectedEmployees.slice(0);if(e.length>0){const t=this.props.selectedEmployeeList.slice(0);const a=t.filter((t=>e.indexOf(t)===-1));const r=this.state.employees.concat(e);this.props.onListChange(a);this.setState({employees:r,selectedEmployees:[]})}};this._handleAddSecondFilter=()=>{this.setState((e=>({showAddButton:false,showSecondFilter:!e.showSecondFilter})))};this._formatEmployeeFilters=()=>{const e=this.props.employeeFilters.slice(0);let t=[];e.forEach(((e,a)=>{let r={displayText:e.name,key:e.key};let n=[];if(e.options){for(let t in e.options){let a={displayText:e.options[t],value:t};if(this.state.firstSelectedFilter[t]){a.selected=true}n.push(a)}r.items=n}t.push(r)}));return t};this._onFilterSelect=(e,t)=>{const a=this.props.employeeList.filter((e=>this.props.selectedEmployeeList.indexOf(e)===-1));if(e===undefined){this.setState({firstSelectedFilter:{},secondSelectedFilter:{},employees:a,filteredEmployees:a,showAddButton:false,showSecondFilter:false})}else{const r=e.value;const n=t.parentItem.key;let i=[];for(let e in a){if(a[e][n]===r){i.push(a[e])}}this.setState({firstSelectedFilter:{[e.value]:{displayText:e.displayText,key:t.parentItem.key}},secondSelectedFilter:{},employees:i,filteredEmployees:i,showAddButton:true,showSecondFilter:false})}};this._populateFilterSelect=()=>{const e={items:this._formatEmployeeFilters()};const t={placeholder:$.__("All Employees"),grow:true,showSearch:"never"};return{className:"EmployeeSelectorReact__filters__select",data:e,settings:t,onChange:this._onFilterSelect}};this._formatSecondEmployeeFilters=()=>{const e=this.props.employeeFilters.slice(0);const t=this.state.firstSelectedFilter;let a=[];e.forEach(((e,r)=>{if(e.key!==t[Object.keys(t)[0]].key){let t={displayText:e.name,key:e.key};let r=[];if(e.options){for(let t in e.options){let a={displayText:e.options[t],value:t};if(this.state.secondSelectedFilter[t]){a.selected=true}r.push(a)}t.items=r}a.push(t)}}));return a};this._onSecondFilterSelect=(e,t)=>{const a=this.props.employeeList.filter((e=>this.props.selectedEmployeeList.indexOf(e)===-1));const r=this.state.firstSelectedFilter;const n=r[Object.keys(r)[0]].key;const i=Object.keys(r)[0];let o=[];for(let e in a){if(a[e][n]===i){o.push(a[e])}}if(e===undefined){this.setState({secondSelectedFilter:{},employees:o,filteredEmployees:o,showAddButton:true,showSecondFilter:false})}else{const a=e.value;const r=t.parentItem.key;let n=[];for(let e in o){if(o[e][r]===a){n.push(o[e])}}this.setState((a=>({secondSelectedFilter:{[e.value]:{displayText:e.displayText,key:t.parentItem.key}},employees:n,filteredEmployees:n})))}};this._populateSecondFilterSelect=()=>{const e={items:this._formatSecondEmployeeFilters()};const t={grow:true,showSearch:"never"};return{className:"EmployeeSelectorReact__filters__select",data:e,settings:t,onChange:this._onSecondFilterSelect}};this._sortEmployees=e=>{const t=e.sort(((e,t)=>e.lastName.localeCompare(t.lastName)));return t};this._handleSearch=e=>{const{filteredEmployees:t}=this.state;const{selectedEmployeeList:a}=this.props;const r=t.filter((e=>a.indexOf(e)===-1));const n=e.target.value.toLowerCase();const i=r.filter((e=>{if(e.firstName.toLowerCase().indexOf(n)===0||e.lastName.toLowerCase().indexOf(n)===0||e.displayName.toLowerCase().indexOf(n)===0){return true}return false}));this.setState({searchValue:e.target.value,employees:i})};this._handleSearchFocus=()=>{this.setState({searchFocused:true})};this._handleSearchBlur=()=>{const{searchValue:e}=this.state;if(e===""){this.setState({searchFocused:false})}};this.state={employees:e.employeeList,filteredEmployees:e.employeeList,availableEmployees:[],selectedEmployees:[],firstSelectedFilter:{},secondSelectedFilter:{},showAddButton:false,showSecondFilter:false,searchFocused:false,searchValue:""}}render(){const{employees:e,searchFocused:t,searchValue:a,showAddButton:r,showSecondFilter:s}=this.state;const{rowTextRight:d,selectedEmployeeList:u}=this.props;const p=this._sortEmployees(e.slice(0));const m=p.map((e=>(0,n.default)(f.default,{displayText:e.displayName,displayTextRight:e[d],item:e,onItemClick:this._handleAvailableClick},e.id)));const h=this._sortEmployees(u.slice(0));const v=h.map((e=>(0,n.default)(f.default,{displayText:e.displayName,displayTextRight:e[d],item:e,onItemClick:this._handleSelectedClick},e.id)));return(0,n.default)("div",{className:"EmployeeSelectorReact"},void 0,(0,n.default)("div",{className:"EmployeeSelectorReact__container"},void 0,(0,n.default)("p",{className:"EmployeeSelectorReact__title"},void 0,$.__("Available Employees")),(0,n.default)("div",{className:"EmployeeSelectorReact__wrapper"},void 0,(0,n.default)("div",{className:"EmployeeSelectorReact__filters"},void 0,i.default.createElement(c.default,this._populateFilterSelect()),r?(0,n.default)("div",{className:"EmployeeSelectorReact__link--add baseBorderColor--hoverBefore childHover",onClick:this._handleAddSecondFilter},void 0,(0,n.default)("span",{className:"EmployeeSelectorReact__link--addIco childHoverBackgroundColor--before childHoverBackgroundColor--after"})):(0,n.default)("div",{className:"EmployeeSelectorReact__filters__plus"},void 0,s&&(0,n.default)("span",{},void 0,"+")),s&&i.default.createElement(c.default,this._populateSecondFilterSelect())),(0,n.default)("div",{className:"EmployeeSelectorReact__searchContainer"},void 0,(0,n.default)("input",{className:"EmployeeSelectorReact__search",onBlur:this._handleSearchBlur,onChange:this._handleSearch,onFocus:this._handleSearchFocus,placeholder:$.__("Search..."),type:"text",value:a}),(0,n.default)("div",{className:(0,o.classNameFromObject)({EmployeeSelectorReact__searchIcon:true,baseFillColor:t})},void 0,(0,n.default)(l.Icon,{name:"magnifying-glass-16x16"}))),(0,n.default)("ul",{className:"EmployeeSelectorReact__list"},void 0,m))),(0,n.default)("div",{className:"EmployeeSelectorReact__buttons"},void 0,(0,n.default)("div",{className:"EmployeeSelectorReact__btn",onClick:this._handleAllEmployeesSelect}),(0,n.default)("div",{className:"EmployeeSelectorReact__btn EmployeeSelectorReact__btn--one",onClick:this._handleEmployeesSelect}),(0,n.default)("div",{className:"EmployeeSelectorReact__btn EmployeeSelectorReact__btn--left EmployeeSelectorReact__btn--one",onClick:this._handleEmployeesDeselect}),(0,n.default)("div",{className:"EmployeeSelectorReact__btn EmployeeSelectorReact__btn--left",onClick:this._handleAllEmployeesDeselect})),(0,n.default)("div",{className:"EmployeeSelectorReact__container"},void 0,(0,n.default)("p",{className:"EmployeeSelectorReact__title"},void 0,$.__("Selected Employees")),v.length===0?(0,n.default)("div",{className:"EmployeeSelectorReact__wrapper EmployeeSelectorReact__wrapper--empty",id:"js-empty-list"},void 0,(0,n.default)("img",{alt:"Add Employees",src:"/images/settings/new_benefit/plex-blank-state.png"}),(0,n.default)("p",{},void 0,$.__(`You haven't added any employees yet.`))):(0,n.default)("div",{className:"EmployeeSelectorReact__wrapper",id:"js-selected-employee-list"},void 0,(0,n.default)("ul",{className:"EmployeeSelectorReact__list--selected"},void 0,v))))}}t.EmployeeSelector=h;class v extends i.Component{static get className(){return"TheNewEmployeeSelector"}constructor(e){super(e);this._filterAndPlace=()=>{let{employees:e,rowKey:t,isRowSelected:a,sort:r}=this.props;const{leftHighlightedKeys:n}=this.state;e=e.sort(r);const[i,o]=y(e,a);const s={};const l=o.filter(this._isNotFiltered);l.forEach((e=>{const a=t(e);if(n[a]){s[a]=true}}));this.setState({availableEmployees:l,selectedEmployees:i,leftHighlightedKeys:s})};this._createFirstFilterSettings=()=>{const{filters:e}=this.props;const{firstFilter:t,showSecondFilter:a}=this.state;const r={onClear:this._handleFirstFilterCleared,onSelect:this._handleFirstFilterSelect,placeholder:$.__("All Employees"),showSearch:"never",size:"small",width:a?4:6};if(t){r.items=t.items;r.selectedValues=t.selectedValues}else{r.items=e.map((e=>{const{key:t,name:a,options:r}=e;return{key:t,text:a,items:Object.keys(e.options).reduce(((e,t)=>{e.push({text:r[t],value:t});return e}),[])}}))}return r};this._createSecondFilterSettings=()=>{const{filters:e}=this.props;const{firstFilter:t,secondFilter:a}=this.state;const r={onClear:this._handleSecondFilterCleared,onSelect:this._handleSecondFilterSelect,placeholder:$.__("-- Select --"),showSearch:"never",size:"small",width:4};if(a){r.items=a.items;r.selectedValues=a.selectedValues}else{r.items=e.filter((e=>e.key!==t.parentKey)).map((e=>{const{key:t,name:a,options:r}=e;return{key:t,text:a,items:Object.keys(e.options).reduce(((e,t)=>{e.push({text:r[t],value:t});return e}),[])}}))}return r};this._createRowMeta=e=>{const{rowKey:t,mainContent:a,secondaryContent:r,secondaryContentIcon:n,isRowDisabled:i,rowDisabledTooltip:o}=this.props;return{key:t(e),main:a(e),secondary:r(e),secondaryIcon:n(e),isDisabled:i(e),disabledTooltipContent:o(e)}};this._isNotFiltered=e=>{const{firstFilter:t,secondFilter:a,searchValue:r}=this.state;const n=r.toLowerCase().trim();const i=t?String(e[t.parentKey])===t.selectedValues[0]:true;if(!i){return false}const o=a?String(e[a.parentKey])===a.selectedValues[0]:true;if(!o){return false}const s=e.firstName.toLowerCase().indexOf(n)===0||e.lastName.toLowerCase().indexOf(n)===0||e.displayName.toLowerCase().indexOf(n)===0||e.lastNameFirstName.toLowerCase().indexOf(n)===0;if(!s){return false}return true};this._handleFirstFilterSelect=(e,t,a)=>{const{firstFilter:r}=this.state;this.setState({firstFilter:{parentKey:a.parentItem?a.parentItem.key:r.parentKey,items:a.parentItem?a.parentItem.items:r.items,selectedValues:[e]}},this._filterAndPlace)};this._handleFirstFilterCleared=()=>{const{secondFilter:e}=this.state;const t=e?e:null;this.setState({firstFilter:t,secondFilter:null,showSecondFilter:false},this._filterAndPlace)};this._handleSecondFilterSelect=(e,t,a)=>{const{secondFilter:r}=this.state;this.setState({secondFilter:{parentKey:a.parentItem?a.parentItem.key:r.parentKey,items:a.parentItem?a.parentItem.items:r.items,selectedValues:[e]}},this._filterAndPlace)};this._handleSecondFilterCleared=()=>{this.setState({secondFilter:null,showSecondFilter:false},this._filterAndPlace)};this._handleAddFilter=()=>{this.setState({showSecondFilter:true})};this._handleSearchFocus=()=>{this.setState({searchFocused:true})};this._handleSearchBlur=()=>{this.setState({searchFocused:false})};this._handleSearchChange=e=>{this.setState({searchValue:e.target.value},this._filterAndPlace)};this._handleRowClick=(e,t,a,r,n)=>{const{rowKey:i,isRowDisabled:o}=this.props;const{availableEmployees:s,selectedEmployees:l}=this.state;if(r){return}const{leftHighlightedKeys:d,rightHighlightedKeys:c}=this.state;let u=t?d:c;let f=t?s:l;if(e.shiftKey&&this.lastRowKeyUsed&&this.lastRowKeyUsed!==a&&this.leftSideUsedLast===t){const e=[];let t=false;for(let r=0;r<f.length;r++){const n=i(f[r]);const s=o(f[r]);if(!s&&t){e.push(n)}if(!s&&(n===a||n===this.lastRowKeyUsed)){if(t){break}e.push(n);t=true}}e.forEach((e=>{u[e]=!n}))}else if(e.metaKey||e.altKey||e.ctrlKey){u[a]=!n}else{u={[a]:true}}this.lastRowKeyUsed=a;this.leftSideUsedLast=t;this.setState({[t?"leftHighlightedKeys":"rightHighlightedKeys"]:u})};this._onClickAddAll=()=>{const{onSelect:e,isRowDisabled:t}=this.props;const{availableEmployees:a,leftHighlightedKeys:r}=this.state;const n=a.filter((e=>!t(e)));if(n.length===0){return}e(n);this.setState({leftHighlightedKeys:{},rightHighlightedKeys:r})};this._onClickAddHighlighted=()=>{const{onSelect:e,isRowDisabled:t,rowKey:a}=this.props;const{availableEmployees:r,leftHighlightedKeys:n}=this.state;const i=r.filter((e=>!t(e)&&n[a(e)]));if(i.length===0){return}e(i);this.setState({leftHighlightedKeys:{},rightHighlightedKeys:n})};this._onClickRemoveHighlighted=()=>{const{onDeselect:e,isRowDisabled:t,rowKey:a}=this.props;const{selectedEmployees:r,rightHighlightedKeys:n}=this.state;const i=r.filter((e=>!t(e)&&n[a(e)]));if(i.length===0){return}e(i);this.setState({rightHighlightedKeys:{},leftHighlightedKeys:n})};this._onClickRemoveAll=()=>{const{onDeselect:e,isRowDisabled:t}=this.props;const{rightHighlightedKeys:a,selectedEmployees:r}=this.state;const n=r.filter((e=>!t(e)));if(n.length===0){return}e(n);this.setState({rightHighlightedKeys:{},leftHighlightedKeys:a})};let{employees:t,isRowSelected:a,sort:r}=this.props;this.leftSideUsedLast=false;this.lastRowKeyUsed=null;t=t.sort(r);const[n,i]=y(t,a);this.state={availableEmployees:i,selectedEmployees:n,firstFilter:null,secondFilter:null,showSecondFilter:false,searchFocused:false,searchValue:"",leftHighlightedKeys:{},rightHighlightedKeys:{}}}componentDidUpdate(e,t,a){const{employees:r}=this.props;if(r!==e.employees){this._filterAndPlace()}}render(){let{filters:e=[],rowDisabledTooltip:t,showSearch:a=true}=this.props;const{availableEmployees:r,selectedEmployees:c,leftHighlightedKeys:f,rightHighlightedKeys:p,searchFocused:m,searchValue:h,firstFilter:v,showSecondFilter:y}=this.state;return(0,n.default)("div",{className:"EmployeeSelectorReact"},void 0,(0,n.default)("div",{className:"EmployeeSelectorReact__container"},void 0,(0,n.default)("div",{className:"EmployeeSelectorReact__title"},void 0,$.__("Available Employees")),(0,n.default)("div",{className:"EmployeeSelectorReact__wrapper"},void 0,e.length>0&&(0,n.default)("div",{className:"EmployeeSelectorReact__selects"},void 0,i.default.createElement(d.Select,this._createFirstFilterSettings()),!!v&&!y&&(0,n.default)("div",{className:"EmployeeSelectorReact__addSelectIcon",onClick:this._handleAddFilter},void 0,(0,n.default)(l.Icon,{name:"fab-circle-plus-14x14"})),y&&(0,n.default)(i.Fragment,{},void 0,(0,n.default)("div",{className:"EmployeeSelectorReact__plusSelectIcon"},void 0,"+"),i.default.createElement(d.Select,this._createSecondFilterSettings()))),a&&(0,n.default)("div",{className:"EmployeeSelectorReact__searchContainer"},void 0,(0,n.default)("input",{className:"EmployeeSelectorReact__searchInput",onBlur:this._handleSearchBlur,onChange:this._handleSearchChange,onFocus:this._handleSearchFocus,placeholder:$.__("Search..."),type:"text",value:h}),(0,n.default)("div",{className:"EmployeeSelectorReact__searchInputIcon"},void 0,(0,n.default)(l.Icon,{brand:m,name:"fab-mag-glass-16x16"}))),(v||h)&&r.length===0&&(0,n.default)("div",{className:"EmployeeSelectorReact__noFilterMatchBlankState"},void 0,$.__("No employees match this filter.")),r.length>0&&(0,n.default)("div",{className:"EmployeeSelectorReact__listContainer"},void 0,(0,n.default)("ul",{className:"EmployeeSelectorReact__list"},void 0,r.map((e=>{const{key:t,main:a,secondary:r,secondaryIcon:i,isDisabled:s,disabledTooltipContent:d}=this._createRowMeta(e);const c=f[t];return(0,n.default)(g,{condition:s&&d,wrap:e=>(0,n.default)(u.default,{settings:{content:d}},void 0," ",e," ")},t,(0,n.default)("li",{className:(0,o.classNameFromObject)("EmployeeSelectorReact__listItem",{"EmployeeSelectorReact__listItem--disabled":s,"EmployeeSelectorReact__listItem--highlighted":c}),onClick:e=>this._handleRowClick(e,true,t,s,c)},void 0,(0,n.default)("div",{className:"EmployeeSelectorReact__listItem__mainContent"},void 0,a),r&&(0,n.default)("span",{className:(0,o.classNameFromObject)("EmployeeSelectorReact__listItem__textRight",{"EmployeeSelectorReact__listItem__textRight--highlighted":c})},void 0,i&&(0,n.default)("span",{className:(0,o.classNameFromObject)("EmployeeSelectorReact__listItem__textRightIcon",{"EmployeeSelectorReact__listItem__textRightIcon--highlighted":c})},void 0,(0,n.default)(l.Icon,{name:i})),r)))})))))),(0,n.default)("div",{className:"EmployeeSelectorReact__buttons"},void 0,(0,n.default)("div",{className:"EmployeeSelectorReact__btn"},void 0,(0,n.default)(s.Button,{clickAction:this._onClickAddAll,icon:"fab-double-chevron-right-14x11",outline:true,secondary:true,size:"teenie",type:"button",width:1})),(0,n.default)("div",{className:"EmployeeSelectorReact__btn"},void 0,(0,n.default)(s.Button,{clickAction:this._onClickAddHighlighted,icon:"fab-chevron-right-7x11",outline:true,secondary:true,size:"teenie",type:"button",width:1})),(0,n.default)("div",{className:"EmployeeSelectorReact__btn"},void 0,(0,n.default)(s.Button,{clickAction:this._onClickRemoveHighlighted,icon:"fab-chevron-left-7x11",outline:true,secondary:true,size:"teenie",type:"button",width:1})),(0,n.default)("div",{className:"EmployeeSelectorReact__btn"},void 0,(0,n.default)(s.Button,{clickAction:this._onClickRemoveAll,icon:"fab-double-chevron-left-14x11",outline:true,secondary:true,size:"teenie",type:"button",width:1}))),(0,n.default)("div",{className:"EmployeeSelectorReact__container"},void 0,(0,n.default)("p",{className:"EmployeeSelectorReact__title"},void 0,$.__("Selected Employees")),(0,n.default)("div",{className:"EmployeeSelectorReact__wrapper"},void 0,c.length>0&&(0,n.default)("div",{className:"EmployeeSelectorReact__listContainer"},void 0,(0,n.default)("ul",{className:"EmployeeSelectorReact__list"},void 0,c.map((e=>{const{key:t,main:a,secondary:r,isDisabled:i}=this._createRowMeta(e);const s=p[t];return(0,n.default)("li",{className:(0,o.classNameFromObject)("EmployeeSelectorReact__listItem",{"EmployeeSelectorReact__listItem--disabled":i,"EmployeeSelectorReact__listItem--highlighted":s}),onClick:e=>this._handleRowClick(e,false,t,i,s)},t,(0,n.default)("div",{className:"EmployeeSelectorReact__listItem__mainContent"},void 0,a),r&&(0,n.default)("span",{className:(0,o.classNameFromObject)("EmployeeSelectorReact__listItem__textRight",{"EmployeeSelectorReact__listItem__textRight--highlighted":s})},void 0,"   ",r))})))),c.length===0&&(0,n.default)("div",{className:"EmployeeSelectorReact__rightBlankState"},void 0,(0,n.default)("div",{className:"EmployeeSelectorReact__rightBlankStateIcon"},void 0,(0,n.default)(l.Icon,{name:"fab-person-lined-72x72"})),$.__(`You haven't added any employees yet.`)))))}}t.TheNewEmployeeSelector=v;v.defaultProps={isRowDisabled:e=>e.disabled,isRowSelected:e=>e.selected,mainContent:e=>e.lastNameFirstName,rowKey:e=>e.id,rowDisabledTooltip:()=>null,secondaryContent:()=>null,secondaryContentIcon:()=>null,showSearch:true,sort:(e,t)=>e.lastName.localeCompare(t.lastName)};function g({condition:e,wrap:t,children:a}){return e?t(a):a}function y(e,t){const a=[];const r=[];for(let n=0;n<e.length;n++){const i=e[n];(t(i)?a:r).push(i)}return[a,r]}},706373:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=l(a(573674));var o=a(121198);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class d extends i.Component{static get className(){return"ListItem"}constructor(e){super(e);this._handleClick=()=>{this.setState((e=>({selected:!e.selected})));this.props.onItemClick(this.props.item)};this.state={selected:false}}render(){const e=(0,o.classNameFromObject)({EmployeeSelectorReact__list__item:!this.state.selected,"EmployeeSelectorReact__list__item--selected":this.state.selected,baseBgColor:this.state.selected});const t=(0,o.classNameFromObject)({EmployeeSelectorReact__list__item__textRight:true,"EmployeeSelectorReact__list__item__textRight--selected":this.state.selected});return(0,n.default)("li",{className:e,onClick:this._handleClick},void 0,this.props.displayText," ",(0,n.default)("span",{className:t},void 0,this.props.displayTextRight))}}t.default=d},301879:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);a(196344);const s="EmployeesList";function l(e){const{employees:t,title:a}=e;return(0,n.default)("div",{className:s},void 0,(0,n.default)("div",{className:`${s}__header`},void 0,(0,n.default)(o.Icon,{name:"fab-people-20x16"}),(0,n.default)("span",{className:`${s}__header--title`},void 0,a)),(0,n.default)("ul",{className:`${s}__list`},void 0,t.map(((e,t)=>{const{name:a,imageUrl:r}=e;const i=`${a}-${t}`;return(0,n.default)("li",{},i,(0,n.default)("img",{alt:"Employee",src:r}),(0,n.default)("span",{},void 0,a))}))))}var d=l;t.default=d},64013:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.initialFormState=t.initialErrorState=void 0;const a={name:false,acaStatus:false,fte:false};t.initialErrorState=a;const r={name:"",acaStatus:"",fte:""};t.initialFormState=r},53950:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmploymentStatusModalContent=p;var n=r(a(856075));var i=f(a(573674));var o=a(162067);var s=a(694131);var l=a(80560);var d=a(64013);var c=a(658102);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function p(e){const{acaStatuses:t,initialValues:a,isEdit:r,isProcessing:u,postFormData:f,setIsProcessing:p,showAcaStatus:m,showChangeHistory:h}=e;const[v,g]=(0,i.useState)((()=>(0,c.getInitialFormValues)(a)));const[y,b]=(0,i.useState)(d.initialErrorState);const w=(0,c.usePrevious)(u);(0,i.useEffect)((()=>{if(!w&&u){const e=(0,c.getFormErrors)(v,m);b({...e});if((0,c.formHasErrors)(e)){p(false)}else{f(v)}}}),[w,u,v,f,p,m]);const S=e=>{g({...v,name:e.target.value})};const O=e=>{g({...v,acaStatus:e||""})};const T=e=>{g({...v,fte:e.target.value})};const C=e=>{g({...v,changeHistory:e.target.value})};return(0,n.default)("form",{},void 0,(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)(s.TextField,{hasError:y.name,id:"employmentStatusName",label:$.__("Name"),onChange:S,required:true,value:v.name})),m&&(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("div",{},void 0,(0,n.default)(o.AcaStatusSelect,{allowedAcaStatuses:t,hasError:y.acaStatus,id:"employmentStatusAca",onSelect:O,selectedValue:v.acaStatus,showLabel:true}))),r&&(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)(s.TextField,{hasError:y.fte,id:"employmentStatusFTE",label:$.__("FTE (Full Time Equivalent)"),maxLength:"4",note:$.__("1.0 is equal to one full-time worker"),onChange:T,value:v.fte,width:"4"})),h&&(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("fieldset",{className:"fab-RadioGroup check-radio"},void 0,(0,n.default)("legend",{className:"fab-RadioGroup__legend"},void 0,$.__("How should this change occur?")),(0,n.default)(l.RadioButton,{id:"changeHistory1",label:$.__("Change for future but leave history alone."),onChange:C,selectedValue:v.changeHistory,value:"noHistory"}),(0,n.default)(l.RadioButton,{id:"changeHistory2",label:$.__("Change anywhere it is used, including history."),onChange:C,selectedValue:v.changeHistory,value:"history"}))))}},988648:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmploymentStatusModal=u;var n=r(a(856075));var i=c(a(573674));var o=a(851040);var s=a(53950);var l=a(658102);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function u(e){const{acaStatuses:t,closeModal:a,initialValues:r,isEdit:d,isOpen:c,listId:u,listValueId:f,showAcaStatus:p,showChangeHistory:m=false}=e;const[h,v]=(0,i.useState)(false);const g=e=>{(0,l.postEmploymentStatus)(d,u,f,e).then((e=>{if((0,l.wasSaveSuccessful)(e)){(0,l.reloadPage)()}else{window.setMessage(e.data.error||window.DEFAULT_ERROR_MESSAGE,"error");v(false)}})).catch((e=>{v(false);window.Rollbar.error("Failed to save employment status",e)}))};const y=()=>{v(true)};return(0,n.default)(o.Modal,{isOpen:c,isProcessing:h,onClose:a,primaryAction:y,primaryActionText:$.__("Save"),title:d?$.__("Edit Employment Status"):$.__("New Employment Status")},void 0,(0,n.default)(s.EmploymentStatusModalContent,{acaStatuses:t,initialValues:r,isEdit:d,isProcessing:h,postFormData:g,setIsProcessing:v,showAcaStatus:p,showChangeHistory:m}))}},52941:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EmploymentStatusModal",{enumerable:true,get:function(){return r.EmploymentStatusModal}});Object.defineProperty(t,"EmploymentStatusModalContent",{enumerable:true,get:function(){return n.EmploymentStatusModalContent}});var r=a(988648);var n=a(53950)},80560:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.RadioButton=o;var n=r(a(856075));var i=r(a(573674));function o(e){const{id:t,label:a,onChange:r,selectedValue:i,value:o}=e;return(0,n.default)("div",{className:"fab-Radio"},void 0,(0,n.default)("input",{checked:i===o,className:"fab-Radio__input",id:t,onChange:r,type:"radio",value:o}),(0,n.default)("label",{className:"fab-Radio__label",htmlFor:t},void 0,a))}},658102:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.getInitialFormValues=s;t.postEmploymentStatus=d;t.reloadPage=c;t.wasSaveSuccessful=u;t.getFormErrors=f;t.formHasErrors=p;t.usePrevious=v;var n=a(573674);var i=r(a(417842));var o=a(64013);function s(e){if(!e){return o.initialFormState}return{name:l(e.name),acaStatus:l(e.acaStatus),fte:l(e.fte),changeHistory:"history"}}function l(e){return e===null||e===undefined?"":e}function d(e,t,a,r){let n;if(e){n=i.default.prepareData({action:"Update",ajax:1,changeHistory:r.changeHistory,listValueId:a,id:t,acaStatus:r.acaStatus===""?null:r.acaStatus,value:r.name,FTEValue:r.fte},i.default.prepareDataTypes.FORM_DATA)}else{n=i.default.prepareData({action:"Add",ajax:1,id:t,acaStatus:r.acaStatus===""?null:r.acaStatus,label:r.name},i.default.prepareDataTypes.FORM_DATA)}return i.default.post("/settings/list.php",n)}function c(){window.location.reload()}function u(e){return e.data&&e.data.ret==="SAVED"}function f(e,t){return{fte:!h(e.fte),name:!m(e.name),acaStatus:t?!m(e.acaStatus):false}}function p(e){return e.name||e.acaStatus||e.fte}function m(e){return e!==""}function h(e){if(!e){return true}const t=window.getFloatFromStringJS(e);return!isNaN(t)&&t<=1&&t>0}function v(e){const t=(0,n.useRef)();(0,n.useEffect)((()=>{t.current=e}),[e]);return t.current}},163493:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Body=p;var n=r(a(856075));var i=r(a(368652));var o=f(a(573674));var s=a(604928);var l=a(585435);var d=r(a(600702));var c=a(75014);a(330898);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function p(e){const t="js-feedsModalReactRoot";const{blankState:a,feedsConfig:r,loadInitialData:u,isOpen:f}=e;const p={enableAttach:false,enableReply:false,inputPosition:"bottom",rootComponent:e=>o.default.createElement(c.FeedsWithOverflowContainer,(0,i.default)({},e,{blankState:a})),...r};const[m,h]=(0,o.useState)(true);(0,o.useEffect)((()=>{let e=true;const a=async()=>{if(!f){return}h(true);const a=await u();if(e){h(false);if(f){(0,l.loadFeed)(t,a,p)}}};a();return()=>{const a=document.getElementById(t);e=false;if(a&&document.body.contains(a)){(0,s.unmountComponentAtNode)(a)}}}),[f,r]);return(0,n.default)(o.Fragment,{},void 0,m?(0,n.default)("div",{className:"FeedsModalBody__loader"},void 0,(0,n.default)(d.default,{})):null,(0,n.default)("div",{id:t}))}},604619:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Body",{enumerable:true,get:function(){return r.Body}});var r=a(163493)},387978:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ExpandableText=void 0;var n=r(a(856075));var i=l(a(573674));var o=a(273641);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=140;class c extends i.Component{constructor(...e){super(...e);this._handleToggleCollapsed=e=>{e.preventDefault();const{collapsed:t}=this.state;this.setState({collapsed:!t})};this.textSetup=e=>{if(this.shouldTruncate){return(0,o.truncate)(e,{length:d})}return e};this.state={collapsed:true}}static get className(){return"ExpandableText"}get shouldTruncate(){const{value:e}=this.props;const{collapsed:t}=this.state;if(e){return t&&e.length>d}}render(){const{value:e}=this.props;return(0,n.default)("p",{},void 0,this.textSetup(e),"",this.shouldTruncate&&(0,n.default)("a",{href:"",onClick:this._handleToggleCollapsed},void 0,$.__("more")))}}t.ExpandableText=c},758305:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ExpandableText",{enumerable:true,get:function(){return r.ExpandableText}});var r=a(387978)},453539:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FeedsWithOverflowContainer=void 0;var r=a(959862);var n=a(307472);var i=a(567929);const o=e=>({ids:(0,n.getAllCommentIds)(e)});const s=(0,r.connect)(o)(i.FeedsWithOverflow);t.FeedsWithOverflowContainer=s},75014:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FeedsWithOverflowContainer",{enumerable:true,get:function(){return r.FeedsWithOverflowContainer}});var r=a(453539)},522026:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FeedsWithOverflow=f;var n=r(a(856075));var i=r(a(368652));var o=u(a(573674));var s=r(a(109473));var l=r(a(692379));var d=r(a(715147));function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function f(e){const t="32px";const a="40vh";const r="auto";const c=true;const{blankState:u={},ids:f=[],maxHeight:p=a}=e;const m=(0,o.useRef)(null);(0,o.useEffect)((()=>{const e=()=>{m.current.scrollTop=m.current.scrollHeight};document.addEventListener("feeds:commentAdded",e);return function t(){setTimeout((()=>{document.removeEventListener("feeds:commentAdded",e)}))}}));const h=(0,o.isValidElement)(u)?u:(0,n.default)("div",{style:{paddingTop:t,paddingBottom:t}},void 0,o.default.createElement(s.default,(0,i.default)({title:$.__("Nothing to see here...")},u)));return(0,n.default)(o.Fragment,{},void 0,f&&f.size?o.default.createElement("div",{ref:m,style:{overflow:r,maxHeight:p}},(0,n.default)(d.default,{ids:f})):h,(0,n.default)(l.default,{focusOnMount:c}))}},567929:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FeedsWithOverflow",{enumerable:true,get:function(){return r.FeedsWithOverflow}});var r=a(522026)},455228:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Header=d;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(121198);var l=a(758305);a(656632);function d(e){const t=new s.BEM("FeedsModalHeader");const{description:a="",owner:r="",title:i=""}=e;return(0,n.default)("div",{className:t.elem()},void 0,(0,n.default)("div",{className:t.elem("owner")},void 0,(0,n.default)("span",{className:t.elem("icon")},void 0,(0,n.default)(o.Icon,{brand:true,name:"fab-person-circle-18x18"})),r),i?(0,n.default)("div",{className:t.elem("title")},void 0,i):null,a?(0,n.default)("div",{className:t.elem("description")},void 0,(0,n.default)(l.ExpandableText,{value:a})):null)}},338312:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Header",{enumerable:true,get:function(){return r.Header}});var r=a(455228)},70227:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FeedsModal=u;var n=r(a(856075));var i=c(a(573674));var o=a(851040);var s=a(338312);var l=a(604619);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function u(e){const{blankState:t,feedsConfig:a={},header:r=null,isOpen:d,isLoading:c,loadInitialData:u,onClose:f,title:p=$.__("View Comments")}=e;const m={alternativeAction:null,contentHasMaxHeight:false,contentHasPadding:false,isOpen:d,onClose:f,primaryAction:f,primaryActionText:$.__("Done"),title:p};const h=()=>{if(!r){return null}return(0,i.isValidElement)(r)?r:i.default.createElement(s.Header,r)};return i.default.createElement(o.Modal,m,h(),(0,n.default)(l.Body,{blankState:t,feedsConfig:a,header:r,isLoading:c,isOpen:d,loadInitialData:u}))}},841121:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FeedsModal",{enumerable:true,get:function(){return r.FeedsModal}});Object.defineProperty(t,"ExpandableText",{enumerable:true,get:function(){return n.ExpandableText}});var r=a(70227);var n=a(758305)},876786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EDITING_CANCEL=t.EDITING_BEGIN=t.DELETE_EVENT_ERROR=t.DELETE_EVENT_SUCCESS=t.DELETE_EVENT_START=t.DELETE_COMMENT_ERROR=t.DELETE_COMMENT_SUCCESS=t.DELETE_COMMENT_START=t.EDIT_COMMENT_ERROR=t.EDIT_COMMENT_SUCCESS=t.EDIT_COMMENT_START=t.ADD_EVENT=t.ADD_COMMENT=void 0;const a="ADD_COMMENT";t.ADD_COMMENT=a;const r="ADD_EVENT";t.ADD_EVENT=r;const n="EDIT_COMMENT_START";t.EDIT_COMMENT_START=n;const i="EDIT_COMMENT_SUCCESS";t.EDIT_COMMENT_SUCCESS=i;const o="EDIT_COMMENT_ERROR";t.EDIT_COMMENT_ERROR=o;const s="DELETE_COMMENT_START";t.DELETE_COMMENT_START=s;const l="DELETE_COMMENT_SUCCESS";t.DELETE_COMMENT_SUCCESS=l;const d="DELETE_COMMENT_ERROR";t.DELETE_COMMENT_ERROR=d;const c="DELETE_EVENT_START";t.DELETE_EVENT_START=c;const u="DELETE_EVENT_SUCCESS";t.DELETE_EVENT_SUCCESS=u;const f="DELETE_EVENT_ERROR";t.DELETE_EVENT_ERROR=f;const p="EDITING_BEGIN";t.EDITING_BEGIN=p;const m="EDITING_CANCEL";t.EDITING_CANCEL=m},390478:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.cancelEditing=t.beginEditing=t.addEvent=t.addComment=t.deleteEvent=t.deleteComment=t.editComment=void 0;var r=l(a(876786));var n=a(403325);var i=a(307472);var o=a(661906);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=(e,t,a,s)=>(l,d)=>{l({type:r.EDIT_COMMENT_START,payload:e});const c=(0,o.getConfig)(d().id);$.post(`${c.rootCommentURL}/${c.parentType}/${c.parentId}/${e}`,{text:t,attachIds:a,deleteIds:s}).then((t=>{const a=(0,n.immutifyFeed)(t);l({type:r.EDIT_COMMENT_SUCCESS,payload:{feed:a,id:e}});c.externalCallback({type:"edit",data:(0,i.getCommentById)(a,e)})}),(t=>{if(t){window.Rollbar.error("FEEDS: Error when editing comment",t)}l({type:r.EDIT_COMMENT_ERROR,payload:e,error:true})}))};t.editComment=d;const c=e=>(t,a)=>{t({type:r.DELETE_COMMENT_START,payload:e});const n=(0,o.getConfig)(a().id);$.ajax({url:`${n.rootCommentURL}/${n.parentType}/${n.parentId}/${e}`,type:"DELETE"}).then((a=>{t({type:r.DELETE_COMMENT_SUCCESS,payload:e});if(Array.isArray(a)&&!a.length){a={type:"delete",data:{id:e}}}n.externalCallback(a)}),(a=>{if((a===null||a===void 0?void 0:a.status)==404){t({type:r.DELETE_COMMENT_SUCCESS,payload:e});n.externalCallback({type:"delete",data:{id:e}});return}if(a){window.Rollbar.error("FEEDS: Error when deleting comment",a)}t({type:r.DELETE_COMMENT_ERROR,payload:e,error:true})}))};t.deleteComment=c;const u=e=>(t,a)=>{t({type:r.DELETE_EVENT_START,payload:e});const n=(0,o.getConfig)(a().id);const i=a().getIn(["entities","events","byId",e]);$.ajax({data:{id:i.getRemoteId(),type:i.type},type:"DELETE",url:`/events/${n.parentType}/${n.parentId}`}).then((a=>{n.externalCallback(a);t({type:r.DELETE_EVENT_SUCCESS,payload:e})}),(a=>{if(a){window.Rollbar.error("FEEDS: Error when deleting event",a)}t({type:r.DELETE_EVENT_ERROR,payload:e,error:true})}))};t.deleteEvent=u;const f=e=>t=>{t({type:r.ADD_COMMENT,payload:(0,n.immutifyFeed)(e)})};t.addComment=f;const p=e=>t=>{t({type:r.ADD_EVENT,payload:(0,n.immutifyFeed)(e)})};t.addEvent=p;const m=e=>t=>{t({type:r.EDITING_BEGIN,payload:e})};t.beginEditing=m;const h=e=>t=>{t({type:r.EDITING_CANCEL,payload:e})};t.cancelEditing=h},661906:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.initializeFeedConfig=v;t.DeleteMessageForComments=t.getConfig=t.RECORD_MAP=t.FeedConfig=t.VALID_EXTENSIONS=void 0;var n=l(a(203495));var i=a(890046);var o=r(a(84555));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=window.GLOBAL_VALID_EXTENSIONS?Array.from(window.GLOBAL_VALID_EXTENSIONS):["pdf","doc","docx","xls","xlsx","csv","jpg","jpeg","tif","tiff","gif","png","bmp","txt","rtf","zip"];const c=d.map((e=>"."+e));t.VALID_EXTENSIONS=c;const u=(0,i.Record)({enableAttach:true,enableReply:true,externalCallback:()=>undefined,externalRender:()=>undefined,externalRenderByType:()=>undefined,inputPosition:"top",parentId:0,parentType:"applicant_tracking",placeholder:$.__("Add a comment..."),replyPlaceholder:$.__("Add your reply..."),submitEditText:$.__("Save"),submitNewText:$.__("Post"),readOnly:false,rootCommentURL:"/comments",rootComponent:o.default,rootData:{}});t.FeedConfig=u;let f=u();const p={"entities, comments, byId":n.Comment,"entities, files, byId":n.File,"entities, replies, byId":n.Reply,"entities, users, byId":n.User,"entities, events, byId":n.Event};t.RECORD_MAP=p;let m={};const h=e=>{if(!e){let e;for(e in m){break}return m[e]}return m[e]};t.getConfig=h;function v(e){if(i.Iterable.isIterable(e)){f=e}else{f=u(e)}m[f.parentId]=f;return f}const g=$.__("Are you sure you want to delete this comment and its replies (including any attached files)?");const y=$.__("Are you sure you want to delete this comment and all its files?");const b=$.__("Are you sure you want to delete this comment?");const w=e=>{const{replies:t,files:a}=e;if(t&&t.size){return g}else if(a&&a.size){return y}return b};t.DeleteMessageForComments=w},585435:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Comments",{enumerable:true,get:function(){return p.default}});Object.defineProperty(t,"UserName",{enumerable:true,get:function(){return m.default}});t.selectors=t.actions=t.loadFeed=t.configureFeed=t.getBoundActions=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(403325));var s=a(959862);var l=a(2370);var d=a(661906);var c=a(830734);var u=v(a(390478));t.actions=u;var f=v(a(307472));t.selectors=f;var p=r(a(84555));var m=r(a(146645));function h(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(h=function(e){return e?a:t})(e)}function v(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=h(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}let g={};const y=()=>g;t.getBoundActions=y;const b=(e={},t)=>{const a=(0,d.initializeFeedConfig)(t);const r=a.rootComponent;e.id=a.parentId;const i=(0,o.default)(e);const{addComment:c,addEvent:f}=u;g=(0,l.bindActionCreators)({addComment:c,addEvent:f},i.dispatch);return(0,n.default)(s.Provider,{store:i},void 0,(0,n.default)(r,{}))};t.configureFeed=b;const w=(e,t={},a)=>{(0,c.render)(b(t,a),document.getElementById(e))};t.loadFeed=w},203495:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Event=t.User=t.Reply=t.File=t.Comment=t.State=t.Entities=t.Entity=void 0;var r=a(890046);const n=(0,r.Record)({allIds:new r.OrderedSet,byId:new r.Map});t.Entity=n;const i=(0,r.Record)({comments:new n,files:new n,replies:new n,users:new n,events:new n});t.Entities=i;const o=(0,r.Record)({id:null,entities:new i});t.State=o;const s=(0,r.Record)({author:null,canDelete:false,canEdit:false,categoryName:null,createdAt:null,createdDate:null,edited:false,editing:false,excludeFromComments:false,files:[],id:null,isPinned:false,pending:false,replies:[],text:"",eventId:null});t.Comment=s;const l=(0,r.Record)({fileType:"",id:null,mostRecentEmployeeFileDataId:null,name:""});t.File=l;const d=(0,r.Record)({author:null,canDelete:false,canEdit:false,createdAt:null,edited:false,editing:false,files:[],id:null,inReplyTo:null,pending:false,text:""});t.Reply=d;const c=(0,r.Record)({avatar:"",canView:false,employeeId:null,id:null,name:""});t.User=c;class u extends((0,r.Record)({createdAt:null,canDelete:false,data:{},id:null,pending:false,type:null,userId:null})){static get className(){return"Event"}getCommentId(){return this.getIn(["data","commentId"],null)}getRemoteId(){return this.getIn(["data","remoteId"],null)}}t.Event=u},826427:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(876786);var n={ADD_COMMENT:(e,t)=>{e=e.mergeDeep(t.payload).set("id",e.id);const a=t.payload.getIn(["entities","replies","byId"]).first();if(a){e=e.updateIn(["entities","comments","byId",a.inReplyTo,"replies"],(e=>e.add(a.id)))}return e}};t.default=n},459341:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(876786);var n=a(403325);var i={ADD_EVENT:(e,t)=>(0,n.sortEvents)(e.mergeDeep(t.payload).set("id",e.id))};t.default=i},763466:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(876786);var n={DELETE_COMMENT_START:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"pending"],true):e.setIn(["entities","replies","byId",t.payload,"pending"],true),DELETE_COMMENT_ERROR:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"pending"],false):e.setIn(["entities","replies","byId",t.payload,"pending"],false),DELETE_COMMENT_SUCCESS:(e,t)=>{const a=(e,t,a)=>e.removeIn(["entities",t,"byId",a]).updateIn(["entities",t,"allIds"],(e=>e.delete(a)));const r=t=>{const r=e.getIn(["entities","comments","byId",t,"eventId"]);return a(r?n(e,r):e,"comments",t)};const n=(e,t)=>{const r=e.getIn(["entities","events","byId",t,"type"]);if(r==="move"){return e.setIn(["entities","events","byId",t,"data","commentId"],null)}return a(e,"events",t)};const i=t=>{const a=e.getIn(["entities","replies","byId",t,"inReplyTo"]);return e.removeIn(["entities","replies","byId",t]).updateIn(["entities","comments","byId",a,"replies"],(e=>e.delete(t)))};return e.hasIn(["entities","comments","byId",t.payload])?r(t.payload):i(t.payload)}};t.default=n},119184:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(876786);var n={DELETE_EVENT_START:(e,t)=>e.setIn(["entities","events","byId",t.payload,"pending"],true),DELETE_EVENT_ERROR:(e,t)=>e.setIn(["entities","events","byId",t.payload,"pending"],false),DELETE_EVENT_SUCCESS:(e,t)=>{const a=e.getIn(["entities","events","byId",t.payload]);const r=(e,t,a)=>e.removeIn(["entities",t,"byId",a]).updateIn(["entities",t,"allIds"],(e=>e.delete(a)));return r(a.getCommentId()?r(e,"comments",a.getCommentId()):e,"events",t.payload)}};t.default=n},253299:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(876786);var n={EDIT_COMMENT_START:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"pending"],true):e.setIn(["entities","replies","byId",t.payload,"pending"],true),EDIT_COMMENT_ERROR:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"pending"],false):e.setIn(["entities","replies","byId",t.payload,"pending"],false),EDIT_COMMENT_SUCCESS:(e,t)=>{const{id:a,feed:r}=t.payload;const n=e.hasIn(["entities","comments","allIds",a])?"comments":"replies";return e.mergeDeep(r).setIn(["entities",n,"byId",a,"files"],r.getIn(["entities",n,"byId",a,"files"])).set("id",e.id)}};t.default=n},885897:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=p(a(285004));var i=r(a(826427));var o=r(a(459341));var s=r(a(763466));var l=r(a(119184));var d=r(a(253299));var c=r(a(131502));var u=a(203495);function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=f(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}var m=n.create(new u.State,{...i.default,...o.default,...s.default,...l.default,...d.default,...c.default});t.default=m},131502:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(876786);var n={EDITING_BEGIN:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"editing"],true):e.setIn(["entities","replies","byId",t.payload,"editing"],true),EDITING_CANCEL:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"editing"],false):e.setIn(["entities","replies","byId",t.payload,"editing"],false)};t.default=n},451201:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a(285004));var i=r(a(885897));function o(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(o=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=o(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;if(s&&(s.get||s.set)){Object.defineProperty(r,i,s)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const l=n.reduce(i.default);var d=l;t.default=d},403325:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=t.sortReplies=t.sortEvents=t.sortComments=t.immutifyFeed=void 0;var n=r(a(451201));var i=p(a(890046));var o=r(a(468283));var s=a(661906);var l=a(2370);var d=a(516415);var c=a(723834);var u=a(203495);function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=f(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const m=(0,d.composeWithDevTools)({serialize:{immutable:i.default}})((0,l.applyMiddleware)(o.default));const h=e=>{let t=i.default.fromJS(e,((e,t)=>i.default.Iterable.isIndexed(t)?t.toOrderedSet():t.toMap()));if(t!==null&&(t===null||t===void 0?void 0:t.size)>0){return(0,c.mapImmutableRecordToChildren)(t.update((e=>new u.State(e.updateIn(["entities"],(e=>new u.Entities(e.map((e=>new u.Entity(e.updateIn(["byId"],(e=>new i.Map(e)))))))))))),s.RECORD_MAP)}return new u.State};t.immutifyFeed=h;const v=(e,t,a)=>e.getIn(["entities",t,"byId",a,"createdAt"]);const g=e=>e.updateIn(["entities","comments","allIds"],(t=>t.sort(((t,a)=>v(e,"comments",t)-v(e,"comments",a)))));t.sortComments=g;const y=e=>e.updateIn(["entities","events","allIds"],(t=>t.sort(((t,a)=>v(e,"events",a)-v(e,"events",t)))));t.sortEvents=y;const b=e=>e.updateIn(["entities","comments","byId"],(t=>t.map((t=>t.update("replies",(t=>t.sort(((t,a)=>v(e,"replies",t)-v(e,"replies",a)))))))));t.sortReplies=b;const w=(e=null)=>{const t=y(b(g(h(e))));if(t!==null){return(0,l.createStore)(n.default,t,m)}return(0,l.createStore)(n.default,m)};var S=w;t.default=S},307472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getLatestEventByType=t.getEventById=t.getAllEventIds=t.getFilesByParentId=t.getUserById=t.getReplyById=t.getCommentById=t.getAllCommentIds=t.getId=void 0;const a=e=>e.id;t.getId=a;const r=e=>{const t=e.getIn(["entities","comments","byId"]);return e.getIn(["entities","comments","allIds"]).filter((e=>!t.get(e).excludeFromComments))};t.getAllCommentIds=r;const n=(e,t)=>e.getIn(["entities","comments","byId",t]);t.getCommentById=n;const i=(e,t)=>e.getIn(["entities","replies","byId",t]);t.getReplyById=i;const o=(e,t)=>e.getIn(["entities","users","byId",t]);t.getUserById=o;const s=(e,t)=>{const a=e.getIn(["entities","comments","byId",t,"files"])||e.getIn(["entities","replies","byId",t,"files"]);return e.getIn(["entities","files","byId"]).filter(((e,t)=>a.has(t)))};t.getFilesByParentId=s;const l=e=>e.getIn(["entities","events","allIds"]);t.getAllEventIds=l;const d=(e,t)=>e.getIn(["entities","events","byId",t]);t.getEventById=d;const c=(e,t)=>{const a=e.getIn(["entities","events","byId"]).filter((e=>e.type===t));return a.reduce(((e,t)=>e.createdAt>t.createdAt?e:t))};t.getLatestEventByType=c},948515:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.deleteTempFile=t.uploadTempFile=void 0;var r=a(413707);var n=a(273641);const i=4;const o=$.__("Error when uploading file, please try again. If the issue persists, please contact support.");const s=(e,t=n.noop,a=n.noop,i=n.noop,s=n.noop)=>{const l=new FormData;l.append("upload",e);const d=new XMLHttpRequest;d.addEventListener("loadstart",(e=>{t(d)}));d.upload.addEventListener("progress",(e=>{a(Math.round(e.loaded/e.total*100))}));d.upload.addEventListener("abort",(e=>{s()}));d.addEventListener("load",(e=>{const t=JSON.parse(e.target.responseText);if(t.status==="ERROR"){window.setMessage(t.message,"error");s()}else{i((0,r.TemporaryFile)({remoteId:t.fid,name:t.name,progress:100}))}}));d.open("POST","/ajax/files/attachTemporary.php",true);d.send(l);d.onerror=function(e){window.setMessage(o,"error");window.Rollbar.error("FEEDS: Error when uploading temporary file",e)}};t.uploadTempFile=s;const l=e=>{if(e.xhr&&e.xhr.readyState&&e.xhr.readyState!==i){e.xhr.abort()}else{const t=new XMLHttpRequest;t.open("POST",`/ajax/dialog/employee_files/delete_files.php?temporary=1&file_ids[]=${e.remoteId}&delete=1&showMessage=no`,true);t.setRequestHeader("X-CSRF-Token",window.CSRF_TOKEN);t.send()}};t.deleteTempFile=l},285004:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.create=t.reduce=void 0;const a=(...e)=>(t,a)=>e.reduce(((e,t)=>t(e,a)),t);t.reduce=a;const r=(e,t)=>(a=e,r)=>{if(t.hasOwnProperty(r.type)){return t[r.type](a,r)}return a};t.create=r},284063:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.deleteModal=void 0;var n=r(a(856075));var i=r(a(368652));var o=r(a(573674));var s=a(851040);const l=$.__("Just Checking...");const d=(e,t)=>{const{item:a,actions:r,title:d,message:c,visible:u}=e;const f={type:"small",title:l,icon:"fab-trash-can-43x48",iconColor:"danger",headline:d,onClose:()=>{t(false)},primaryAction:()=>{r.deleteComment(a.id)},primaryActionText:$.__("Yes, Delete Comment"),content:c};return(0,n.default)("div",{},void 0,o.default.createElement(s.Modal,(0,i.default)({},f,{isOpen:u})))};t.deleteModal=d},538412:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(651745);var s=a(661906);var l=a(284063);a(902538);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const u=$.__("Delete Comment?");class f extends i.PureComponent{static get className(){return"ActionDropdown"}constructor(e){super(e);this[0]=void 0;this._buildMenu=e=>{const t={items:[]};const a={items:[{text:$.__("Edit Comment"),value:"edit"}],type:"group",key:`edit-${e.id}`};const r={items:[{text:$.__("Delete Comment"),value:"delete"}],type:"group",key:`delete-${e.id}`};if(e.canEdit){t.items.push(a)}if(e.canDelete){t.items.push(r)}return t};this._handleSelect=e=>{if(window.GLOBAL_IS_ASSUMED_USER){return window.disabledForPermsTest()}const{item:t,actions:a}=this.state;switch(e){case"edit":a.beginEditing(t.id);break;case"delete":this.toggleModal(true);break;default:break}};this._handleOpen=()=>{this.setState({dropdownState:"FeedActions--open"})};this._handleClose=e=>{const{visible:t}=this.state;if(!t&&this._isMounted){this.setState({dropdownState:""})}};this.toggleModal=e=>{if(e){const{item:t}=this.state;this.setState({visible:e,title:m(t),message:p(t),dropdownState:""})}else{this.setState({visible:e})}};const{item:t,...a}=e;const r=this._buildMenu(t);this._isMounted=false;this.state={actions:a,item:t,menu:r,title:u,dropdownState:"",visible:false}}componentDidMount(){this._isMounted=true}componentWillUnmount(){this._isMounted=false}render(){const{dropdownState:e,menu:t,visible:a}=this.state;if(t.items.length){return(0,n.default)(i.Fragment,{},void 0,(0,n.default)("div",{className:`FeedActions ${e}`},void 0,(0,n.default)(o.Dropdown,{buttonSettings:{outline:true,secondary:true,size:"teenie"},items:t.items,onClose:this._handleClose,onOpen:this._handleOpen,onSelect:this._handleSelect,type:"icon"})),a?(0,l.deleteModal)({...this.state},this.toggleModal):null)}return null}}t.default=f;const p=e=>{const t=(0,s.getConfig)();return(0,n.default)("div",{className:"FeedModalContent"},void 0,e.eventId?t.externalRenderByType(e,"delete"):(0,s.DeleteMessageForComments)(e))};const m=e=>{const t=(0,s.getConfig)();return e.eventId?t.externalRenderByType(e,"title"):u}},984837:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(573674));var o=r(a(464961));var s=r(a(347060));const l=({...e})=>i.default.createElement(o.default,(0,n.default)({},e,{onError:e.handleError,onFocus:e.beginEditing,onReset:()=>{let t=new CustomEvent("feeds:cancelEditing",{bubbles:true,detail:e.config.parentId});e.cancelEditing();document.dispatchEvent(t)},onSubmit:e.beginSaving,onSuccess:()=>{let t=new CustomEvent("feeds:commentAdded",{bubbles:true,detail:e.config.parentId});e.handleSuccess();document.dispatchEvent(t)}}));var d=(0,s.default)(l);t.default=d},715147:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(501832));var s=a(661906);const l=({ids:e})=>(0,n.default)("ul",{className:`feedListContainer ${(0,s.getConfig)().inputPosition==="bottom"?"feedListContainer--bottom":""}`},void 0,e.map((e=>(0,n.default)(o.default,{id:e},`comment${e}`))));var d=l;t.default=d},248089:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=r(a(79141));var l=r(a(139602));var d=r(a(618450));a(622319);const c=e=>(0,n.default)("li",{className:`FeedListItem ${e.item.isPinned?"FeedListItem--pinned":""}`},void 0,e.item.isPinned&&(0,n.default)("span",{className:"FeedListItem__pinnedIcon"},void 0,(0,n.default)(o.Icon,{brand:true,name:"fab-thumbtack-16x24"})),i.default.createElement(l.default,e),e.item.eventId&&e.config.externalRender(e.item.eventId),e.config.enableReply&&(0,n.default)(d.default,{ids:e.item.replies}),!e.config.readOnly&&e.config.enableReply&&(0,n.default)(s.default,{inReplyTo:e.item.id}));var u=c;t.default=u},84555:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));a(532214);var o=r(a(692379));var s=r(a(221980));var l=a(661906);const d=()=>(0,n.default)("div",{className:`feedOrder ${(0,l.getConfig)().inputPosition==="bottom"?"feedOrder--bottom":""}`},void 0,!(0,l.getConfig)().readOnly&&(0,n.default)(o.default,{}),(0,n.default)(s.default,{}));var c=d;t.default=c},950031:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=y(a(573674));var o=r(a(640314));var s=y(a(413707));var l=r(a(60042));var d=r(a(562484));var c=a(651745);var u=a(651745);var f=a(890046);var p=a(273641);var m=r(a(184712));var h=a(948515);var v=a(661906);a(505374);function g(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(g=function(e){return e?a:t})(e)}function y(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=g(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const b=$.__("Cancel");const w=function(e){e.preventDefault()};class S extends i.PureComponent{constructor(...e){super(...e);this._handleReset=e=>{this.state.tempFiles.forEach((e=>this.deleteTempFile(e.id)));this.showErrorState(false);return this.props.onReset(e,this.getValue(),this.state.tempFiles)};this._handleSubmit=e=>{e.preventDefault();if(this.isAssumedUser){return this.disabledForPermsTest()}if(this.getValue().trim().length===0){this.showErrorState(true,$.__("Share what's on your mind! Make sure you add a comment."))}else{this.showErrorState(false);return this.props.onSubmit(e,this.getValue(),this.state.tempFiles,this.textArea.current.textarea,this.state.filesToDelete)}};this._handleAttach=e=>{const t=e.target.files;if(t.length>=1){this.addTempFiles(t)}e.target.value=""};this._handleDrop=e=>{const t=e.dataTransfer.files;if(t.length>=1){this.addTempFiles(t)}this.setState({dragging:false});e.preventDefault()};this._handleDrag=e=>{e.preventDefault();const t=e.type==="dragenter"||false;this._handleFocus(e);this.setState({dragging:t})};this._handleFocus=e=>this.props.onFocus(e,this.getValue(),this.state.tempFiles);this.showErrorState=(e=false,t)=>{if(e&&t.length){window.setMessage(t,"error")}else{window.closeMessage()}this.setState({error:e})};this.markFileForDeletion=e=>{this.setState({filesToDelete:this.state.filesToDelete.set(e,e)})};this.deleteTempFile=e=>{(0,h.deleteTempFile)(this.state.tempFiles.get(e));this.setState((t=>({tempFiles:t.tempFiles.delete(e)})))};this.addTempFiles=e=>{const t=(0,p.debounce)((()=>this.setState({uploadPending:true})),500);t();Array.from(e).forEach((e=>{const a=(0,p.uniqueId)();this.setState((t=>({filesPending:t.filesPending+1,tempFiles:t.tempFiles.set(a,(0,s.TemporaryFile)({id:a,name:e.name}))})));(0,h.uploadTempFile)(e,(e=>this.setState((t=>({tempFiles:t.tempFiles.setIn([a,"xhr"],e)})))),(e=>this.setState((t=>({tempFiles:t.tempFiles.setIn([a,"progress"],e)})))),(e=>{t.cancel();this.setState((t=>({uploadPending:t.filesPending!==1,filesPending:t.filesPending-1,tempFiles:t.tempFiles.update(a,(t=>t.mergeWith(((e,t)=>t||e),e)))})))}),(()=>{t.cancel();this.setState((e=>({uploadPending:e.filesPending!==1,filesPending:e.filesPending-1,tempFiles:e.tempFiles.remove(a)})))}))}))};this.getValue=()=>this.textArea.current.textarea.value;this.openFileSelector=e=>{this._handleFocus(e);this.fileInput.click()};this.textArea=(0,i.createRef)();this.attachIcon=(0,i.createRef)();this.state={tempFiles:(0,f.OrderedMap)(),filesToDelete:(0,f.Map)(),error:false,uploadPending:false,filesPending:0,dragging:false};this.componentWillReceiveProps=e=>{if(!e.editing){this.textArea.current.textarea.value="";this.setState({tempFiles:(0,f.Map)(),filesToDelete:(0,f.Map)()})}};this.componentDidMount=()=>{window.addEventListener("dragover",w);window.addEventListener("drop",w);if(this.props.focusOnMount){this.textArea.current.textarea.focus()}if(this.attachIcon.current){this.Tooltip=m.default.create(this.attachIcon.current,{template:{name:"tooltip-standard",data:{content:$.__("Drag and drop or click to browse files.")}},tailOnBalloon:15,delay:500})}};this.componentWillUnmount=()=>{window.removeEventListener("dragover",w);window.removeEventListener("drop",w);if(this.attachIcon.current){this.Tooltip.destroy()}}}static get className(){return"Editor"}get isAssumedUser(){return window.GLOBAL_IS_ASSUMED_USER}get disabledForPermsTest(){return window.disabledForPermsTest}render(){const{itemId:e,config:t,showEditText:a,editing:r,pending:f,defaultValue:p}=this.props;const{error:m,dragging:h,uploadPending:g}=this.state;const y=(0,l.default)({"fab-Textarea":true,"fab-Textarea--error":m,"fab-Textarea--width100":true,FeedInput__textarea:true,"FeedInput__textarea--dragging":h});return(0,n.default)("div",{className:"FeedListItemEdit"},void 0,(0,n.default)("form",{method:"post",onKeyDown:e=>{if(e.key==="Enter"&&(e.metaKey||e.ctrlKey)){this._handleSubmit(e)}},onReset:this._handleReset,onSubmit:this._handleSubmit},void 0,(0,n.default)("div",{className:"FeedListItem__input",onDragEnter:this._handleDrag,onDragLeave:this._handleDrag,onDrop:this._handleDrop},void 0,i.default.createElement(d.default,{className:y,defaultValue:p,disabled:f,onFocus:this._handleFocus,placeholder:t.placeholder,ref:this.textArea}),t.enableAttach&&(0,n.default)("span",{className:f?"hidden":"FeedInput__attach",onClick:this.openFileSelector},void 0,i.default.createElement("span",{className:"FeedInput__attachIcon",ref:this.attachIcon},(0,n.default)(c.Icon,{name:"fab-paperclip-16x16"})),i.default.createElement("input",{accept:v.VALID_EXTENSIONS,"aria-label":"File upload",multiple:true,onChange:this._handleAttach,ref:e=>{this.fileInput=e},style:{display:"none"},type:"file"}))),e&&(0,n.default)(o.default,{filesToDelete:this.state.filesToDelete,id:e,removeOnClick:this.markFileForDeletion,showRemoveIcon:true}),(0,n.default)(s.default,{files:this.state.tempFiles,removeOnClick:this.deleteTempFile,showLoader:true,showRemoveIcon:!f}),r&&(0,n.default)("div",{className:"FeedInput__actions"},void 0,(0,n.default)(u.Button,{isProcessing:f||g,text:a?t.submitEditText:t.submitNewText,type:"submit"}),(0,n.default)(u.TextButton,{isDisabled:f,text:b,type:"reset"}))))}}S.defaultProps={defaultValue:"",editing:false,focusOnMount:false,pending:false,placeholder:"",onFocus:p.noop,onReset:p.noop,onSubmit:p.noop,submitText:"",itemId:null,showEditText:false};var O=S;t.default=O},768918:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=c(a(573674));var o=r(a(772440));var s=r(a(950031));var l=a(273641);a(65581);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class u extends i.PureComponent{constructor(...e){super(...e);this.handleFocus=(e,t,a)=>this.props.onFocus(e,t,a);this.handleReset=(e,t,a)=>this.props.onReset(e,t,a);this.create=(e,t,a,r)=>{const{config:n,onSubmit:i,inReplyTo:o,addComment:s,onSuccess:l,onError:d}=this.props;e.preventDefault();i(e,t,a);$.post(`${n.rootCommentURL}/${n.parentType}/${n.parentId}`,{text:t,attachIds:a.valueSeq().map((e=>e.remoteId)).toArray(),inReplyTo:o}).then((n=>{s(n);l(e,t,a);r.value=""}),(()=>d(e,t,a)))}}static get className(){return"ItemCreator"}render(){const e=window.SESSION_USER||{};return(0,n.default)("div",{className:"FeedInput"},void 0,(0,n.default)("div",{className:"FeedInput__flexwrap"},void 0,(0,n.default)(o.default,{size:"38x38",src:e.avatarTiny}),(0,n.default)(s.default,{config:this.props.config,editing:this.props.editing,focusOnMount:this.props.focusOnMount,onFocus:this.handleFocus,onReset:this.handleReset,onSubmit:this.create,pending:this.props.pending})))}}u.defaultProps={editing:false,config:l.noop,focusOnMount:false,pending:false,onFocus:l.noop,onReset:l.noop,onSubmit:l.noop,onError:l.noop,onSuccess:l.noop};var f=u;t.default=f},756160:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AvatarImage=void 0;var n=r(a(856075));var i=l(a(573674));var o=a(651745);a(385001);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=({img:e,size:t="45x45"})=>{const[a,r]=(0,i.useState)(false);return(0,n.default)(i.Fragment,{},void 0,e&&!a?(0,n.default)("img",{alt:"Employee Avatar",className:"FeedListItemAvatar Avatar",onError:()=>r(true),src:e}):(0,n.default)("span",{className:"FeedListItemAvatar Avatar"},void 0,(0,n.default)(o.Icon,{name:`fab-person-circle-${t}`})))};t.AvatarImage=d},772440:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(730231));var s=a(756160);const l=({src:e,size:t})=>(0,n.default)(o.default,{},void 0,(0,n.default)(s.AvatarImage,{img:e,size:t}));var d=l;t.default=d},730231:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(573674);class n extends r.PureComponent{constructor(...e){super(...e);this.state={error:null,info:null}}static get className(){return"ItemErrorBoundary"}componentDidCatch(e,t){this.setState({error:e,info:t});console.error(e)}render(){if(!this.state.error){return this.props.children}return null}}t.default=n},411605:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(496406));var s=r(a(146645));a(374495);const l=e=>{const t=e.createdDate||e.createdAt;const a=(0,o.default)(t,o.default.ISO_8601,true).isValid();if(a){const e=(0,o.default)(t,"YYYY-MM-DD",true).isValid();if(e){return(0,o.default)(t).format()}return o.default.utc(t).local().calendar()}return o.default.unix(e.createdAt).calendar()};const d=({item:e})=>(0,n.default)("div",{className:"FeedListItem__info"},void 0,(0,n.default)("div",{className:"FeedListItem__userName"},void 0,(0,n.default)(s.default,{id:e.author})),e.categoryName&&(0,n.default)("div",{className:"FeedListItem__category"},void 0,e.categoryName),(0,n.default)("div",{className:"FeedListItem__timeStamp","data-date":e.createdAt},void 0,l(e),e.edited&&` - ${$.__("Edited")}`));var c=d;t.default=c},466884:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AuthorName=void 0;var n=r(a(856075));var i=r(a(573674));const o=({author:e})=>(0,n.default)("div",{},void 0,e&&e.canView&&e.employeeId?(0,n.default)("a",{href:`/employees/employee.php?id=${e.employeeId}`},void 0,e.name):e.name);t.AuthorName=o},258207:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(730231));var s=a(466884);const l=({user:e})=>(0,n.default)(o.default,{},void 0,(0,n.default)(s.AuthorName,{author:e}));var d=l;t.default=d},139602:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=r(a(573674));a(248969);var s=r(a(538412));var l=r(a(950031));var d=r(a(28538));var c=r(a(411605));var u=r(a(489525));const f=({item:e,config:t,...a})=>{let r=null;if(e.editing){r=(0,i.default)(l.default,{config:t,defaultValue:e.text,editing:e.editing,focusOnMount:true,itemId:e.id,onReset:()=>a.cancelEditing(e.id),onSubmit:(t,r,n,i,o)=>{t.preventDefault();a.editComment(e.id,r,n.valueSeq().map((e=>e.remoteId)).toArray(),o.keySeq().toArray())},pending:e.pending,showEditText:true})}else{r=(0,i.default)("div",{className:"FeedListItemWrapper"},void 0,(0,i.default)(c.default,{item:e}),(0,i.default)("div",{className:"FeedListItem__text"},void 0,e.text),(0,i.default)(d.default,{id:e.id,showRemoveIcon:false}),!t.readOnly&&!e.pending&&o.default.createElement(s.default,(0,n.default)({item:e},a)))}return(0,i.default)("div",{className:"FeedListItemParent"},void 0,(0,i.default)(u.default,{id:e.author}),r)};var p=f;t.default=p},731689:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(368652));var o=r(a(573674));var s=a(651745);var l=r(a(464961));var d=r(a(347060));a(848788);const c=({...e})=>{let t=null;if(e.editing){t=o.default.createElement(l.default,(0,i.default)({},e,{focusOnMount:true,onError:e.handleError,onReset:e.cancelEditing,onSubmit:e.beginSaving,onSuccess:e.handleSuccess,placeholder:e.config.replyPlaceholder}))}else{t=(0,n.default)("button",{className:"fab-TextButton fab-TextButton--teenie fab-link FeedReplyCreator__button",onClick:e.beginEditing,type:"button"},void 0,(0,n.default)("span",{className:"fab-TextButton__icon FeedReplyCreator__buttonIcon"},void 0,(0,n.default)(s.Icon,{name:"fab-comment-bubble-plus-13x14"})),$.__("Reply"))}return(0,n.default)("div",{className:"FeedReplyCreator"},void 0,t)};var u=(0,d.default)(c);t.default=u},618450:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(514742));a(604597);const s=({ids:e})=>(0,n.default)("ul",{className:"FeedListReplyList"},void 0,e.map((e=>(0,n.default)(o.default,{id:e},`reply${e}`))));var l=s;t.default=l},573014:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(139602));const s=e=>(0,n.default)("li",{className:"FeedListItem FeedListItem--reply"},void 0,i.default.createElement(o.default,e));var l=s;t.default=l},692379:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(984837));var i=a(390478);var o=a(661906);var s=a(307472);var l=a(959862);const d=e=>({config:(0,o.getConfig)((0,s.getId)(e))});var c=(0,l.connect)(d,{addComment:i.addComment})(n.default);t.default=c},221980:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(959862);var i=r(a(715147));var o=a(307472);const s=e=>({ids:(0,o.getAllCommentIds)(e)});var l=(0,n.connect)(s,{})(i.default);t.default=l},501832:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(248089));var i=a(959862);var o=a(661906);var s=a(307472);var l=a(390478);const d=(e,t)=>({item:(0,s.getCommentById)(e,t.id),config:(0,o.getConfig)((0,s.getId)(e))});var c=(0,i.connect)(d,{beginEditing:l.beginEditing,cancelEditing:l.cancelEditing,deleteComment:l.deleteComment,editComment:l.editComment})(n.default);t.default=c},640314:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(413707));var i=a(959862);var o=a(307472);const s=(e,t)=>{const a=(0,o.getFilesByParentId)(e,t.id).toList().filterNot((e=>t.filesToDelete.has(e.get("id"))));return{files:a}};var l=(0,i.connect)(s)(n.default);t.default=l},28538:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(413707));var i=a(959862);var o=a(307472);var s=a(390478);const l=(e,t)=>({files:(0,o.getFilesByParentId)(e,t.id).toList()});var d=(0,i.connect)(l,{removeOnClick:s.deleteFile})(n.default);t.default=d},464961:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(768918));var i=a(959862);var o=a(661906);var s=a(307472);const l=e=>({config:(0,o.getConfig)((0,s.getId)(e))});var d=(0,i.connect)(l)(n.default);t.default=d},79141:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(731689));var i=a(390478);var o=a(959862);var s=a(661906);var l=a(307472);const d=e=>({config:(0,s.getConfig)((0,l.getId)(e))});var c=(0,o.connect)(d,{addComment:i.addComment})(n.default);t.default=c},514742:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(573014));var i=a(959862);var o=a(307472);var s=a(661906);var l=a(390478);const d=(e,t)=>({item:(0,o.getReplyById)(e,t.id),config:(0,s.getConfig)((0,o.getId)(e))});var c=(0,i.connect)(d,{beginEditing:l.beginEditing,cancelEditing:l.cancelEditing,deleteComment:l.deleteComment,editComment:l.editComment})(n.default);t.default=c},489525:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(772440));var i=a(959862);var o=a(307472);const s=(e,t)=>{const a=(0,o.getUserById)(e,t.id)||{};return{src:a.avatar||null}};var l=(0,i.connect)(s,{})(n.default);t.default=l},146645:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(258207));var i=a(959862);var o=a(307472);const s=(e,t)=>({user:(0,o.getUserById)(e,t.id)});var l=(0,i.connect)(s,{})(n.default);t.default=l},347060:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=s(a(573674));function o(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(o=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=o(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;if(s&&(s.get||s.set)){Object.defineProperty(r,i,s)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const l=e=>{var t,a;return a=t=class extends i.PureComponent{constructor(...e){super(...e);this.state={editing:false,pending:false};this.actions={beginEditing:()=>this.setState({editing:true}),cancelEditing:()=>this.setState({editing:false}),beginSaving:()=>this.setState({pending:true}),handleError:()=>this.setState({pending:false}),handleSuccess:()=>this.setState({editing:false,pending:false})}}render(){return i.default.createElement(e,(0,n.default)({},this.state,this.props,this.actions))}},t.displayName=`creator(${e.displayName||e.name||"Component"})`,a};var d=l;t.default=d},413707:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=t.TemporaryFile=void 0;var n=r(a(856075));var i=p(a(573674));var o=a(890046);var s=a(697645);var l=a(774548);var d=a(273641);var c=a(651745);var u=a(479706);a(361644);function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=f(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const m=(0,u.isEnabled)("jade");const h=$.__("Unable to preview the requested file. If the issue persists, please contact support.");const v=(0,o.Record)({id:null,name:null,progress:0,remoteId:null,xhr:null},"TemporaryFile");t.TemporaryFile=v;class g extends i.Component{static get className(){return"FileList"}render(){const e=this.props.files.valueSeq().map((e=>{let t="FileListItem js-fileListItem";if(this.props.showLoader&&this.isTemporary(e)&&e.progress<100){t+=" FileListItem--loading"}return(0,n.default)("li",{className:t,id:e.id},e.id,(0,n.default)("div",{className:`FileListItem__info FileListItem__info--widthAuto`},void 0,(0,n.default)("div",{className:"FileListItem__icon"},void 0,(0,n.default)(c.Icon,{name:(0,l.getIconNameFromFileName)(e.name,null)})),(0,n.default)("span",{className:"FileListItem__name truncate"},void 0,this.getFileNameFromStatus(e)),(0,n.default)("div",{className:this.props.showRemoveIcon?"FileListItem__remove":"hidden",onClick:()=>{this.props.removeOnClick(e.id)},role:"button",tabIndex:"0"},void 0,(0,n.default)(c.Icon,{name:m?"fab-circle-x-14x14":"x-8x8"}))),(0,n.default)(s.ProgressBar,{percent:e.progress}))}));return this.props.files.size?(0,n.default)("ul",{className:"FileList"},void 0,e):null}getFileNameFromStatus(e){if(!this.isTemporary(e)){return(0,n.default)("a",{className:"js-FileListLink","data-file_id":e.id,"data-filemode":e.fileType,onClick:t=>this.previewFile(e)},void 0,e.name)}return e.name}isTemporary(e){return e._name&&e._name==="TemporaryFile"}previewFile(e){let{mostRecentEmployeeFileDataId:t,id:a,name:r}=e;try{window.previewFile(t,a,r,false,".js-FileListLink")}catch(t){window.setMessage(h,"error");window.Rollbar.error("previewFile errored when called.",{...e})}}}g.defaultProps={files:(0,o.Map)(),removeOnClick:d.noop,showLoader:false,showRemoveIcon:true};var y=g;t.default=y},697645:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ProgressBar=void 0;var n=r(a(856075));var i=l(a(573674));var o=r(a(616157));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=1e3;const c={transition:`opacity ${d}ms linear`,opacity:1};const u={exiting:{opacity:0}};const f=({percent:e})=>(0,n.default)(o.default,{in:e<100,timeout:d,unmountOnExit:true},void 0,(t=>(0,n.default)("div",{className:"FileListItem__loader",style:{...c,...u[t]}},void 0,(0,n.default)("div",{className:"ProgressBar ProgressBar--feeds"},void 0,(0,n.default)("div",{className:"ProgressBar__bar baseColorBg",style:{width:`${e}%`}})))));t.ProgressBar=f},820742:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(651745);var s=a(851040);var l=a(651745);var d=a(479706);a(975715);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class f extends i.Component{static get className(){return"FilterDropdown"}constructor(e){super(e);this._handleToggleModalOpen=()=>{this.setState((e=>({showModal:!e.showModal})))};this.state={showModal:false}}render(){const{filters:e,onFilterChange:t,selectedFilter:a,size:r}=this.props;const{showModal:c}=this.state;const u=e=>{switch(e){case"circle":return"fab-circle-dots-14x14";case"department":return"fab-people-14x12";case"location":return"fab-location-11x14";case"division":return"fab-org-chart-12x13";case"all":return"fab-company-12x14";case"custom":return"fab-people-14x12"}};let f={displayText:`${$.__("Custom Filter")}...`,text:`${$.__("Custom Filter")}...`,iconName:u("custom"),id:"custom",value:"custom"};let p;if((0,d.isEnabled)("jade")){p=e.map((e=>({description:e.description,text:e.displayText,iconName:u(e.value),value:e.value})));p.push(f)}else{p=e.map((e=>(0,n.default)("li",{className:e.value===a.value?"FilterListItem fontSemibold":"FilterListItem",onClick:()=>t(e.displayText,e.value)},e.value,(0,n.default)("a",{},void 0,(0,n.default)("div",{className:"FilterListItem__iconContainer"},void 0,(0,n.default)("ba-icon",{"artboard-size":"16x16",class:e.value===a.value?"IconContainer__icon baseFillColor":"IconContainer__icon",name:u(e.value)})),e.displayText,(0,n.default)("div",{className:"FilterListItem__description"},void 0,e.description)))))}return(0,n.default)(i.Fragment,{},void 0,(0,d.isEnabled)("jade")?(0,n.default)("div",{className:"FilterDropdown__select"},void 0,p&&p.length>0&&(0,n.default)(l.Select,{isClearable:false,items:p,onSelect:(e,a,r)=>{if(r.item.value===f.value){window.showFilterModal(r.item.text)}else{t(r.item.text,r.item.value)}},renderOptionContent:e=>(0,n.default)("div",{className:"FilterDropdown__option"},void 0,(0,n.default)("div",{className:"FilterDropdown__optionText"},void 0,e.iconName&&(0,n.default)("span",{className:"FilterDropdown__optionIcon"},void 0,(0,n.default)(o.Icon,{name:e.iconName})),(0,n.default)("span",{},void 0,e.text)),(0,n.default)("span",{className:"FilterDropdown__optionDescription"},void 0,e.description)),renderToggleContent:e=>{const t=e[0];return(0,n.default)(i.Fragment,{},void 0,t?(0,n.default)("div",{className:"FilterDropdown__toggle"},void 0,t.iconName&&(0,n.default)("span",{className:"FilterDropdown__toggleIcon"},void 0,(0,n.default)(o.Icon,{name:t.iconName})),(0,n.default)("span",{},void 0,t.text)):null)},selectedValues:[a.value],size:r,width:7})):(0,n.default)("div",{className:"dropdown-menu FilterDropdown"},void 0,(0,n.default)("div",{className:"btn FilterDropdown__button"},void 0,(0,n.default)("div",{className:"Button__iconContainer"},void 0,a.value&&(0,n.default)(o.Icon,{name:u(a.value)})),(0,n.default)("div",{className:"Button__text truncate"},void 0,a.displayText),(0,n.default)("span",{className:"FilterDropdown__caret"})),(0,n.default)("ul",{className:"down-list FilterDropdown__filterList",style:{display:"none"}},void 0,p,(0,n.default)("li",{className:"section-end"}),(0,n.default)("li",{className:"filter-options-link js-filter-options-link-propogate"},void 0,(0,n.default)("a",{},void 0,f.displayText)))),(0,n.default)(s.Modal,{icon:"fab-employees-20x18",isOpen:c,onClose:this._handleToggleModalOpen,primaryAction:()=>{t(f.displayText,f.value);this._handleToggleModalOpen()},primaryActionText:$.__("Done"),title:$.__("Filter Options")},void 0,(0,n.default)("div",{})))}}t.default=f},949765:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.BaseInputField=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));var s=a(651745);var l=r(a(972445));a(702738);const d=e=>{const{autoComplete:t,autoFocus:a=false,disabled:r=false,error:d,hasError:c=false,id:u,inputMode:f="text",inputRef:p,label:m,maxLength:h,name:v,note:g="",onBlur:y,onChange:b,pattern:w,placeholder:S="",required:O=false,tooltip:T,type:C="text",value:P,width:E=9,biId:M}=e;const x=`fab-TextInput--width${E}`;const k=c||Boolean(d);const j=C==="number";return(0,n.default)("div",{className:"fab-FormColumn"},void 0,m&&(0,n.default)("label",{className:(0,o.default)("fab-Label",{"fab-Label--required":O},{"fab-Label--error":k}),htmlFor:u},void 0,m,T&&(0,n.default)(l.default,{settings:{position:"right",content:T},wrapperClassName:"BaseInputField__tooltipIconWrapper"},void 0,(0,n.default)(s.Icon,{name:"fab-question-14x14"}))),i.default.createElement("input",{ref:p,autoComplete:t,autoFocus:a,className:(0,o.default)("fab-TextInput",x,{"fab-TextInput--error":k},{NumberField__input:j}),"data-bi-id":M,"data-lpignore":"true",disabled:r,id:u,inputMode:f,maxLength:h,name:v,onBlur:y,onChange:b,pattern:w,placeholder:S,required:O,type:C,value:P}),g&&(0,n.default)("span",{className:"fab-FormNote"},void 0,g),d&&(0,n.default)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,d))};t.BaseInputField=d},974088:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.CheckboxGroup=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));const s=e=>{const{id:t,disabled:a,items:r,label:i,name:s,onChange:l,required:d,values:c}=e;const u=e=>`${t}_${e}`;return(0,n.default)("fieldset",{className:"fab-CheckboxGroup"},void 0,i&&(0,n.default)("legend",{className:(0,o.default)("fab-CheckboxGroup__legend",{"fab-CheckboxGroup__legend--required":d})},void 0,i),r.map(((e,t)=>(0,n.default)("div",{className:"fab-Checkbox"},e.value,(0,n.default)("input",{checked:c.some((t=>t===e.value)),className:"fab-Checkbox__input",disabled:a,id:u(t),name:s,onChange:l,type:"checkbox",value:e.value}),(0,n.default)("label",{className:"fab-Checkbox__label",htmlFor:u(t)},void 0,e.text),e.note&&(0,n.default)("div",{className:"fab-Checkbox__note"},void 0,e.note)))))};t.CheckboxGroup=s},439510:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.CurrencySelectorField=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(464170);var s=a(651745);var l=a(468509);a(719692);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const u=e=>{const{amount:t,currencyCode:a,currencies:r,currencyEditingDisabled:d,currencyWarning:c=false,inputDisabled:u,error:f,handleAmountReformat:p,handleCurrencyCodeChange:m,hasError:h,id:v,inputRef:g,name:y,text:b,required:w}=e;const S=(0,l.getCurrencySymbol)(r,a);const O=(0,l.getCurrencyPosition)(r,a);const[T,C]=(0,i.useState)(t===null?"":(0,l.getFormattedAmountFromNumber)(t,S,O));(0,i.useEffect)((()=>{C((0,l.getFormattedAmountFromNumber)(t,S,O))}),[S,t,O]);const P=e=>{m(e.value)};const E=e=>{const a=(0,l.getFormattedAmountFromString)(e.target.value,S,O);const r=(0,l.convertStringToNumber)(a);C(a);if(t!==r){p(a,r)}};const M=e=>{C(e.target.value)};let x;if(c){x="warning"}if(h||Boolean(f)){x="error"}return(0,n.default)("div",{className:"CurrencySelectorField"},void 0,(0,n.default)("div",{className:"fab-FormField"},void 0,i.default.createElement(s.TextField,{disabled:u,id:v,inputProps:{name:y},onBlur:E,onChange:M,ref:g,required:w,size:"medium",status:x,value:T,width:4}),(0,n.default)(o.ControlledCurrencyPickerMenu,{currencyCollection:r,disabled:d,onCurrencyCodeSelect:P,value:a})),b&&(0,n.default)("div",{className:"fab-FormField"},void 0,b),f&&(0,n.default)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,f))};t.CurrencySelectorField=u},415760:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"CurrencySelectorField",{enumerable:true,get:function(){return r.CurrencySelectorField}});var r=a(439510)},626390:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.DateField=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));var s=r(a(242895));var l=a(707303);a(330229);const d=e=>{const{disabled:t,error:a,hasError:r,id:i,label:d,name:c,max:u,min:f,onChange:p,required:m,inputRef:h,value:v,warning:g,biId:y,errorPosition:b=l.ErrorPosition.right,width:w=4}=e;const S=e=>{if(e!==v){p(e)}};const O=`fab-TextInput--width${w}`;const T=r||Boolean(a);const C=!T&&Boolean(g);return(0,n.default)("div",{className:"fab-FormColumn"},void 0,d&&(0,n.default)("label",{className:(0,o.default)("fab-Label",{"fab-Label--required":m},{"fab-Label--error":T},{"fab-Label--warning":C}),htmlFor:i},void 0,d),(0,n.default)(s.default,{biId:y,cssClasses:{single:(0,o.default)(O,{"fab-TextInput--error":T},{"fab-TextInput--warning":C})},disabled:Boolean(t),id:i,inputRef:h,name:c,onChange:e=>S(e),onIncomplete:e=>S(e),required:m,settings:{start:v,max:u,min:f},type:"date"}),(a||C)&&(0,n.default)("span",{className:(0,o.default)("fab-FormNote",`DateField__note--${b}`,{"fab-FormNote--error":T},{"fab-FormNote--warning":C})},void 0,a||g))};t.DateField=d},694131:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r={DateField:true,TextField:true,NumberField:true,TextAreaField:true,SelectField:true,SelectItem:true,SelectItemValue:true,RadioGroup:true,RadioItem:true,RadioItemValue:true,CheckboxGroup:true,CheckboxItem:true,CheckboxItemValue:true,CurrencySelectorField:true,convertStringToNumber:true,getCurrencyPosition:true,getCurrencySymbol:true,getFormattedAmountFromNumber:true,getFormattedAmountFromString:true};Object.defineProperty(t,"DateField",{enumerable:true,get:function(){return n.DateField}});Object.defineProperty(t,"TextField",{enumerable:true,get:function(){return i.TextField}});Object.defineProperty(t,"NumberField",{enumerable:true,get:function(){return o.NumberField}});Object.defineProperty(t,"TextAreaField",{enumerable:true,get:function(){return s.TextAreaField}});Object.defineProperty(t,"SelectField",{enumerable:true,get:function(){return l.SelectField}});Object.defineProperty(t,"SelectItem",{enumerable:true,get:function(){return l.SelectItem}});Object.defineProperty(t,"SelectItemValue",{enumerable:true,get:function(){return l.SelectItemValue}});Object.defineProperty(t,"RadioGroup",{enumerable:true,get:function(){return d.RadioGroup}});Object.defineProperty(t,"RadioItem",{enumerable:true,get:function(){return d.RadioItem}});Object.defineProperty(t,"RadioItemValue",{enumerable:true,get:function(){return d.RadioItemValue}});Object.defineProperty(t,"CheckboxGroup",{enumerable:true,get:function(){return c.CheckboxGroup}});Object.defineProperty(t,"CheckboxItem",{enumerable:true,get:function(){return c.CheckboxItem}});Object.defineProperty(t,"CheckboxItemValue",{enumerable:true,get:function(){return c.CheckboxItemValue}});Object.defineProperty(t,"CurrencySelectorField",{enumerable:true,get:function(){return u.CurrencySelectorField}});Object.defineProperty(t,"convertStringToNumber",{enumerable:true,get:function(){return f.convertStringToNumber}});Object.defineProperty(t,"getCurrencyPosition",{enumerable:true,get:function(){return f.getCurrencyPosition}});Object.defineProperty(t,"getCurrencySymbol",{enumerable:true,get:function(){return f.getCurrencySymbol}});Object.defineProperty(t,"getFormattedAmountFromNumber",{enumerable:true,get:function(){return f.getFormattedAmountFromNumber}});Object.defineProperty(t,"getFormattedAmountFromString",{enumerable:true,get:function(){return f.getFormattedAmountFromString}});var n=a(626390);var i=a(736446);var o=a(694744);var s=a(582122);var l=a(62040);var d=a(512741);var c=a(974088);var u=a(415760);var f=a(468509);var p=a(707303);Object.keys(p).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(r,e))return;if(e in t&&t[e]===p[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return p[e]}})}))},694744:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.NumberField=void 0;var n=r(a(368652));var i=r(a(573674));var o=a(949765);a(680328);const s=e=>i.default.createElement(o.BaseInputField,(0,n.default)({},e,{type:"number"}));t.NumberField=s},512741:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.RadioGroup=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));const s=e=>{const{createRef:t,id:a,biId:r,disabled:s,hasError:l,items:d,label:c,name:u,onChange:f,required:p,value:m}=e;const h=e=>`${a}_${e}`;const v=e=>{if(r){return`${r}_${e}`}return""};return(0,n.default)("fieldset",{className:"fab-RadioGroup"},void 0,c&&(0,n.default)("legend",{className:(0,o.default)("fab-RadioGroup__legend",{"fab-RadioGroup__legend--required":p},{"fab-RadioGroup__legend--error":l})},void 0,c),d.map(((e,a)=>(0,n.default)("div",{className:"fab-Radio"},e.value,i.default.createElement("input",{ref:t?t():null,checked:e.value===m,className:"fab-Radio__input",disabled:s,id:h(a),"data-bi-id":v(a),name:u,onChange:f,type:"radio",value:e.value}),(0,n.default)("label",{className:"fab-Radio__label",htmlFor:h(a)},void 0,e.text),e.note&&(0,n.default)("div",{className:"fab-Radio__note"},void 0,e.note)))))};t.RadioGroup=s},62040:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.SelectField=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));var s=a(651745);const l=e=>{const{disabled:t,error:a,hasError:r=false,id:i,inputRef:l,isClearable:d=false,items:c,label:u,name:f,note:p,onChange:m,onClose:h,renderOptionContent:v,required:g=false,selectedValues:y,showSearch:b="auto",width:w=9,biId:S}=e;const O=r||Boolean(a);return(0,n.default)("div",{className:"fab-FormColumn"},void 0,u&&(0,n.default)("label",{className:(0,o.default)("fab-Label",{"fab-Label--required":g},{"fab-Label--error":O}),htmlFor:i},void 0,u),(0,n.default)(s.Select,{biId:S,condition:O?"error":null,id:i,inputRef:l,isClearable:d,isDisabled:Boolean(t),items:c,name:f,onChange:m,onClose:h,renderOptionContent:v,required:g,selectedValues:y,showSearch:b,width:w}),p&&(0,n.default)("span",{className:"fab-FormNote"},void 0,p),a&&(0,n.default)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,a))};t.SelectField=l},582122:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.TextAreaField=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));const s=e=>{const{disabled:t=false,error:a,hasError:r=false,id:s,inputRef:l,label:d,maxLength:c,name:u,onChange:f,placeholder:p="",required:m=false,value:h,width:v=9,biId:g}=e;const y=`fab-Textarea--width${v}`;const b=r||Boolean(a);return(0,n.default)("div",{className:"fab-FormColumn"},void 0,d&&(0,n.default)("label",{className:(0,o.default)("fab-Label",{"fab-Label--required":m},{"fab-Label--error":b}),htmlFor:s},void 0,d),i.default.createElement("textarea",{ref:l,"data-bi-id":g,disabled:t,className:(0,o.default)("fab-Textarea",y,{"fab-Textarea--error":b}),id:s,maxLength:c,name:u,onChange:f,placeholder:p,required:m,value:h}),a&&(0,n.default)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,a))};t.TextAreaField=s},736446:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.TextField=void 0;var n=r(a(368652));var i=r(a(573674));var o=a(949765);const s=e=>i.default.createElement(o.BaseInputField,(0,n.default)({},e,{type:"text"}));t.TextField=s},707303:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ErrorPosition=void 0;let a;t.ErrorPosition=a;(function(e){e["right"]="right";e["bottom"]="bottom"})(a||(t.ErrorPosition=a={}))},468509:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"convertStringToNumber",{enumerable:true,get:function(){return r.convertStringToNumber}});Object.defineProperty(t,"getCurrencyPosition",{enumerable:true,get:function(){return r.getCurrencyPosition}});Object.defineProperty(t,"getCurrencySymbol",{enumerable:true,get:function(){return r.getCurrencySymbol}});Object.defineProperty(t,"getFormattedAmountFromNumber",{enumerable:true,get:function(){return r.getFormattedAmountFromNumber}});Object.defineProperty(t,"getFormattedAmountFromString",{enumerable:true,get:function(){return r.getFormattedAmountFromString}});Object.defineProperty(t,"Currency",{enumerable:true,get:function(){return n.Currency}});var r=a(904342);var n=a(98741)},904342:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getCurrencyPosition=t.getCurrencySymbol=t.getFormattedAmountFromString=t.convertStringToNumber=t.getFormattedAmountFromNumber=void 0;const a=window.GLOBAL_THOUSANDS_SEPARATOR?window.GLOBAL_THOUSANDS_SEPARATOR:",";const r=window.GLOBAL_DECIMAL_CHAR?window.GLOBAL_DECIMAL_CHAR:".";const n=e=>{const t=e%100;if(t<10){return`0${t}`}return String(t)};const i=e=>{for(let t=0;t<Math.floor((e.length-(1+t))/3);t++){e=e.substring(0,e.length-(4*t+3))+a+e.substring(e.length-(4*t+3))}return e};const o=(e,t,a)=>{const o=e===(e=Math.abs(e));e=Math.floor(e*100+.50000000001);const s=n(e);e=Math.floor(e/100);let l=e.toString();l=i(l);return a?(o?"":"-")+l+r+s+t:(o?"":"-")+t+l+r+s};const s=(e,t,a)=>{if(e===null){return""}return o(e,t,a)};t.getFormattedAmountFromNumber=s;const l=(e,t)=>{if(e===""){return null}if(t){e=e.replace(t,"")}const n=new RegExp("[^-0-9.,]+","gi");e=e.replace(n,"");const i=new RegExp(`\\${a}`,"gi");e=e.replace(i,"");if(r===e[0]){e=`0${e}`}let o=Number(e.replace(",",".").replace(/^(-?)([^0-9-]+)/,"$1"));if(isNaN(o)){o=0}return o};t.convertStringToNumber=l;const d=(e,t,a)=>{if(e===""){return""}const r=l(e,t);return s(r,t,a)};t.getFormattedAmountFromString=d;const c=(e,t)=>{let a="";const r=e.find((e=>e.code===t));if(r){a=r.symbol}return a};t.getCurrencySymbol=c;const u=(e,t)=>{let a=0;const r=e.find((e=>e.code===t));if(r){a=r.symbolPosition}return a};t.getCurrencyPosition=u},98741:()=>{"use strict"},890507:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.GlobalModal=void 0;var n=r(a(368652));var i=a(273641);var o=u(a(573674));var s=a(851040);var l=a(884479);var d=a(845382);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=(0,l.createLogger)("GlobalModal");const p=()=>({autoClose:true,mergeModalProps:false,mergeSheetProps:true});const m=()=>({isOpen:false,isProcessing:false});s.Modal.setAppElement(document.querySelector(".BhrPage-wrap"));class h extends o.Component{static get className(){return"GlobalModal"}constructor(e){super(e);this._isOpen=()=>{const{modalProps:{isOpen:e}}=this.state;return e};this._isProcessing=()=>{const{modalProps:{isProcessing:e}}=this.state;return e};const{namespace:t="Modal"}=e;this.state={modalOptions:p(),modalProps:m()};this._handleClose=this._handleClose.bind(this);window.BambooHR=window.BambooHR||{};window.BambooHR[t]={setState:this._setState.bind(this),isOpen:this._isOpen,isProcessing:this._isProcessing}}_handleClose(){const{modalOptions:e,modalProps:t}=this.state;const{autoClose:a}=e;const{onClose:r}=t;if(a){this._setState({isOpen:false},true)}if(typeof r==="function"){r()}}_handleOpen(e){const{modalProps:t}=this.state;if(t.isOpen&&e.isOpen){f.warn("window.BambooHR.Modal seems to have been toggled to open while already open! Please ensure your logic is correct, and that the page is not trying to open two modals at the same time.")}}_setState(e={},t={},a=(()=>{})){const{modalOptions:r,modalProps:n}=this.state;if(typeof a!=="function"){console.warn("Global Modal react.js -> You didn't pass a function for callback");a=()=>{}}let o=t;if(typeof t==="object"){o=Object.assign(p(),t)}const{mergeModalProps:s=false,mergeSheetProps:l=true}=o;const d=t===true||s;const c=n.sheetProps||null;const u=e.sheetProps||null;if(typeof e==="object"){this._handleOpen(e);const o={modalOptions:(0,i.merge)({},r,t),modalProps:(0,i.merge)({},d&&n,e)};if(l&&u){o.modalProps.sheetProps=(0,i.merge)({},c,u)}else{o.modalProps.sheetProps=u}if(n.isOpen&&!o.modalProps.isOpen){this.setState({modalProps:{...n,isOpen:false}});window.setTimeout((()=>{this.setState(o,a)}),250)}else{this.setState(o,a)}}else{f.warn(`window.BambooHR.Modal.setState not called with an object. Got ${typeof e} instead.`)}}render(){const{modalProps:e}=this.state;if(typeof e.title==="string"){e.title=(0,d.convertHTMLEntitiesInString)(e.title)}return o.default.createElement(s.Modal,(0,n.default)({},e,{onClose:this._handleClose}))}}t.GlobalModal=h},308127:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.initGlobalModal=u;t.initLockModal=f;var n=r(a(856075));var i=d(a(573674));var o=a(830734);var s=a(890507);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class c extends i.Component{static get className(){return"GlobalModalErrorBoundary"}componentDidCatch(e,t){Rollbar.error("Global Modal",{error:e,info:t})}render(){return i.default.createElement(s.GlobalModal,this.props)}}function u(){const e=document.createElement("div");(0,o.render)((0,n.default)(c,{}),e)}function f(){const e=document.createElement("div");(0,o.render)((0,n.default)(c,{namespace:"LockModal"}),e)}},30219:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=o;var n=r(a(856075));var i=r(a(573674));function o(){return(0,n.default)("button",{type:"submit",style:{width:0,height:0,overflow:"hidden",padding:0,border:"none",position:"absolute"}})}},528445:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(884479);var s=a(132621);var l=e=>{const{artboardAlign:t,artboardSize:a,className:r,name:i}=e;const l=a?(0,s.getArtboardSize)(a):(0,s.getIconObject)(i);const d=(0,o.createLogger)("_components/icon.react | <Icon />");d.warn("This component has been deprecated, please update your code to use the Fabric Icon component for your React icon needs. See https://fabric.bamboohr.net/components/icon for further details on how to use it.");return(0,n.default)("ba-icon",{"artboard-align":t,"artboard-size":a,class:r,name:i,style:{height:l.height+"px",width:l.width+"px"}})};t.default=l},480911:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=o;var n=r(a(856075));var i=r(a(573674));function o(e){return(0,n.default)("div",{className:`dotLoader${e?` ${e}__progress`:""}`},void 0,(0,n.default)("div",{className:"bounce1"}),(0,n.default)("div",{className:"bounce2"}),(0,n.default)("div",{className:"bounce3"}))}},600702:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=o;var n=r(a(480911));var i=r(a(786277));function o({blockName:e,type:t}){switch(t){case"dot":return(0,n.default)(e);default:return(0,i.default)(e)}}},786277:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=o;var n=r(a(856075));var i=r(a(573674));function o(e){return(0,n.default)("div",{className:`circleDotLoader${e?` ${e}__loader`:""}`},void 0,(0,n.default)("span",{className:"loaderCircle1 loaderCircle"}),(0,n.default)("span",{className:"loaderCircle2 loaderCircle"}),(0,n.default)("span",{className:"loaderCircle3 loaderCircle"}),(0,n.default)("span",{className:"loaderCircle4 loaderCircle"}),(0,n.default)("span",{className:"loaderCircle5 loaderCircle"}),(0,n.default)("span",{className:"loaderCircle6 loaderCircle"}),(0,n.default)("span",{className:"loaderCircle7 loaderCircle"}),(0,n.default)("span",{className:"loaderCircle8 loaderCircle"}),(0,n.default)("span",{className:"loaderCircle9 loaderCircle"}))}},418982:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Map=o;var r=i(a(573674));a(961956);function n(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(n=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=n(t);if(a&&a.has(e)){return a.get(e)}var r={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;if(s&&(s.get||s.set)){Object.defineProperty(r,o,s)}else{r[o]=e[o]}}}r.default=e;if(a){a.set(e,r)}return r}function o(e){const{markers:t,height:a,width:n}=e;let{zoom:i}=e;const o=(0,r.useRef)(null);if(t.length===1&&!i){i=17}(0,r.useEffect)((()=>{let e=[];let a=[];let r=null;let n=null;let s=null;const l=document.createElement("script");l.src=`https://maps.googleapis.com/maps/api/js?key=${window.GOOGLE_MAPS_API_KEY}`;window.document.head.appendChild(l);const d=l.addEventListener("load",(()=>{r=new window.google.maps.Map(o.current,{disableDefaultUI:true});n={path:"M9.001 0C3 0 0 4.5 0 9s9.001 15 9.001 15S18 13.5 18 9s-3-9-8.999-9zM9 12.857c-1.808 0-3.273-1.535-3.273-3.428C5.727 7.535 7.192 6 9 6s3.273 1.535 3.273 3.429c0 1.893-1.465 3.428-3.273 3.428z",anchor:new window.google.maps.Point(8,11),fillColor:"#EA4336",fillOpacity:1,strokeColor:"#EA4336",strokeWeight:1,labelOrigin:new window.google.maps.Point(43,12)};s=new window.google.maps.LatLngBounds;for(const i of t){if(i.coordinates.lat&&i.coordinates.lng){const t=new window.google.maps.Marker({position:i.coordinates,map:r,icon:n,label:{text:i.label,color:"#D1502A",fontSize:"8px"}});e.push(t);const o=new window.google.maps.Circle({strokeColor:"#EA4336",strokeOpacity:0,strokeWeight:0,fillColor:"#EA4336",fillOpacity:.2,map:r,center:i.coordinates,radius:i.accuracy});a.push(o);s.extend(t.position)}}r.fitBounds(s);window.google.maps.event.addListenerOnce(r,"bounds_changed",(()=>{if(i){r.setZoom(i)}}))}));return()=>{for(const t in e){delete e[t]}for(const e in a){delete a[e]}e=null;a=null;n=null;s=null;r=null;window.google=null;l.removeEventListener("load",d);window.document.head.removeChild(l);const t=document.querySelectorAll(`script[src*='maps.googleapis.com']`);for(let e=0;e<t.length;e++){t[e].parentNode.removeChild(t[e])}}}),[]);return r.default.createElement("div",{className:"Map",ref:o,id:"map",style:{width:n,height:a}})}},753134:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Message=p;t.Stronger=t.Strong=t.Emphasis=t.InternalRouterLink=t.InternalLink=t.ExternalLink=t.SpanClass=t.TagClass=t.Sup=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(878975);var s=a(273641);var l=r(a(236921));a(483382);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function u(e){let t=[];let a=(e+"").split("\n");for(let e=0;e<a.length;++e){if(e>0){t.push((0,n.default)("br",{},`message-linebreak-${e}`))}t.push(a[e])}if(t.length==1){return t[0]}return t}function f(e={},t){if((0,s.isFunction)(e)){return e}let a;for(a in t){e[a]=e[a]||t[a]}let r={};for(a in e){if(a==="extra"&&e[a]==="externalLink"){r.rel="noopener noreferrer";r.target="_blank"}else if(a!=="tag"){r[a]=e[a]}}return function(t){return(0,i.createElement)(e.tag,r,t)}}function p(e){const{em:t,link:a,params:r,strong:o,text:s}=e;let d={em:w,strong:S,link:e=>(0,n.default)(i.Fragment,{},void 0,"[",e,"]")};d.em=f(t,{tag:"em"});d.strong=f(o,{tag:"strong"});d.link=f(a,{tag:"a"});for(let t=1;t<=9;++t){d["link"+t]=f(e["link"+t],{tag:"a"})}let c=new l.default(r,d,u);const p=c.getElements(s);return p.reduce(((e,t)=>(0,n.default)(i.Fragment,{},void 0,e,t)))}const m=e=>(0,n.default)("sup",{},void 0,e);t.Sup=m;const h=(e,t)=>a=>(0,i.createElement)(e,{className:t},a);t.TagClass=h;const v=e=>t=>(0,n.default)("span",{className:e},void 0,t);t.SpanClass=v;const g=(e,t)=>a=>(0,n.default)("a",{className:t,href:e,rel:"noopener noreferrer",target:"_blank"},void 0,a);t.ExternalLink=g;const y=(e,t)=>a=>(0,n.default)("a",{className:t,href:e},void 0,a);t.InternalLink=y;const b=(e,t)=>a=>(0,n.default)(o.Link,{className:t,to:e},void 0,a);t.InternalRouterLink=b;const w=e=>(0,n.default)("em",{},void 0,e);t.Emphasis=w;const S=e=>(0,n.default)("strong",{},void 0,e);t.Strong=S;const O=e=>(0,n.default)("span",{className:"Message--stronger"},void 0,e);t.Stronger=O},766929:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.DeveloperPortalMicroFrontend=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(561510);var s=a(759051);var l=a(39728);var d=a(636718);const c=()=>{const e="developerportal";const[t,a]=(0,l.useResource)(e);const r={globals:{}};return(0,n.default)(d.VersionManager,{icon:(0,n.default)(o.GreenhouseIcon,{}),onChange:a,resource:t},void 0,(0,n.default)(s.MicroFrontend,{host:t===null||t===void 0?void 0:t.url,manifest:"manifest.json",name:e,payload:r}))};t.DeveloperPortalMicroFrontend=c},465802:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=r(a(251138));const l=({customMessage:e,style:t})=>(0,n.default)("div",{style:{...s.default.view,...t}},void 0,(0,n.default)("span",{style:{...s.default.image}},void 0,(0,n.default)("img",{src:"/images/explorer-pudgy-232x270.png"})),(0,n.default)("div",{},void 0,(0,n.default)(o.InPageMessaging,{body:"We tried to get that for you, but couldn't find it. Maybe try refreshing the page?",header:"Oh snap!",error:true}),e&&(0,n.default)("div",{style:{marginTop:"16px"}},void 0,e)));l.defaultProps={customMessage:"",style:{}};var d=l;t.default=d},251138:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(169937);var n=a(433207);var i={view:{fontFamily:'"Lato", sans-serif',display:"flex",marginTop:"200px",flexDirection:"column",alignItems:"center",fontSize:`${n.textSizes.large.size}px`,lineHeight:`${n.textSizes.large.line}px`,color:r.colors.gray8,textAlign:"center"},image:{marginBottom:"16px"}};t.default=i},499312:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.GreenhouseMicroFrontend=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(723615));var s=a(561510);var l=a(759051);var d=a(39728);var c=a(636718);var u=a(774548);const f=JSON.parse(window.localStorage.getItem("bhr_greenhouse_dev"))||false;const p=f?(0,n.default)("span",{},void 0,"Please make sure you've cloned the ",(0,n.default)("a",{href:"https://github.com/BambooHR/fe-greenhouse",rel:"noopener noreferrer"},void 0,"fe-greenhouse")," repository and run the build."):"If the problem persists, please contact the Internal Affairs development team.";const m=(0,u.getJsonScriptVar)("config","pusher");const h=({route:e})=>{const t="greenhouse";const[a,r]=(0,d.useResource)(t);const i={globals:{PUSHER_AUTH_KEY:m.PUSHER_AUTH_KEY,PUSHER_CLUSTER:m.PUSHER_CLUSTER},route:e};return(0,n.default)(c.VersionManager,{icon:(0,n.default)(s.GreenhouseIcon,{}),onChange:r,resource:a},void 0,(0,n.default)(l.MicroFrontend,{body:p,header:f?"Local Dev Tip":"We can help!",host:a===null||a===void 0?void 0:a.url,manifest:"manifest.json",name:t,payload:i}))};t.GreenhouseMicroFrontend=h;h.propTypes={route:o.default.string};h.defaultProps={route:undefined}},586224:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.GreenhouseIcon=o;var n=r(a(856075));var i=r(a(573674));function o(){return(0,n.default)("svg",{height:"16",width:"12.444",xmlns:"http://www.w3.org/2000/svg"},void 0,(0,n.default)("path",{d:"M12.149 4.834L6.47.093a.395.395 0 00-.509 0L.284 4.833A.789.789 0 000 5.435v6.62c0 .165.106.312.26.371l4.184 1.5v1.292c0 .436.347.783.779.783.384 0 .698-.4.698-.783V9.716a.196.196 0 00-.196-.194h-.189c-.603 0-1.088.836-1.088 2.261l-.004.5c-.2-.064-.38-.117-.528-.17-1.077-.353-2.13-1.23-2.13-2.485 0-2.933 3.194-6.249 4.164-7.185a.398.398 0 01.55 0c.97.936 4.164 4.252 4.164 7.185 0 1.254-1.053 2.132-2.13 2.485-.218.07-.839.253-1.147.353l.012.819c0 .406.408.689.793.554l3.992-1.42a.388.388 0 00.26-.37V5.433a.842.842 0 00-.295-.6z"}))}},561510:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"GreenhouseIcon",{enumerable:true,get:function(){return r.GreenhouseIcon}});Object.defineProperty(t,"PoIcon",{enumerable:true,get:function(){return n.PoIcon}});var r=a(586224);var n=a(518493)},518493:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.PoIcon=void 0;var n=r(a(856075));var i=s(a(573674));function o(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(o=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=o(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;if(s&&(s.get||s.set)){Object.defineProperty(r,i,s)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const l=(0,i.memo)((()=>(0,n.default)("svg",{height:"14.028",width:"16",xmlns:"http://www.w3.org/2000/svg"},void 0,(0,n.default)("path",{d:"M9.101 8.05h-2.21a.532.532 0 00-.444.827l1.105 1.666c.047.07.11.127.182.167v.989a1.295 1.295 0 01-.676-.352.266.266 0 00-.376.376c.352.352.82.546 1.318.546.498 0 .966-.194 1.318-.546a.266.266 0 00-.376-.376 1.294 1.294 0 01-.677.352v-.994a.533.533 0 00.174-.163l1.106-1.665A.532.532 0 009.1 8.05z"}),(0,n.default)("path",{d:"M14.877.396c-1.024-.647-2.289-.484-2.824.364a1.534 1.534 0 00-.199.527C10.742.507 9.43.015 8 .015c-1.429 0-2.742.493-3.855 1.272A1.519 1.519 0 003.947.76C3.411-.088 2.147-.25 1.123.396c-1.024.647-1.42 1.86-.884 2.707.32.506.9.761 1.531.754C1.072 5.025.667 6.323.667 7.553c0 3.57 3.29 6.475 7.333 6.475s7.333-2.904 7.333-6.475c0-1.23-.405-2.528-1.103-3.696.632.008 1.212-.248 1.531-.754.536-.848.14-2.06-.884-2.707zm-.608 7.157c0 2.984-2.812 5.411-6.27 5.411-3.456 0-6.27-2.427-6.27-5.41C1.73 4.62 4.528 1.078 8 1.078c3.474 0 6.27 3.541 6.27 6.474z"}),(0,n.default)("path",{d:"M6.817 7.176a1.314 1.314 0 00-.16-1.142L5.463 4.269a1.311 1.311 0 00-2.392.86l.203 2.121a1.313 1.313 0 001.75 1.11l.99-.357c.381-.137.678-.442.803-.827zm-1.18.214a.586.586 0 110-1.171.586.586 0 010 1.171zM10.519 4.27L9.325 6.033a1.312 1.312 0 00.643 1.969l.99.356a1.313 1.313 0 001.75-1.109l.203-2.12a1.311 1.311 0 00-2.392-.86zm-.156 3.12a.586.586 0 110-1.171.586.586 0 010 1.171z"}))));t.PoIcon=l},853559:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"GreenhouseMicroFrontend",{enumerable:true,get:function(){return r.GreenhouseMicroFrontend}});Object.defineProperty(t,"MicroFrontend",{enumerable:true,get:function(){return n.MicroFrontend}});Object.defineProperty(t,"PoMicroFrontend",{enumerable:true,get:function(){return i.PoMicroFrontend}});Object.defineProperty(t,"DeveloperPortalMicroFrontend",{enumerable:true,get:function(){return o.DeveloperPortalMicroFrontend}});var r=a(499312);var n=a(759051);var i=a(925007);var o=a(766929)},353574:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"MainTechnicalDebt",{enumerable:true,get:function(){return r.MainTechnicalDebt}});var r=a(294480)},294480:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.MainTechnicalDebt=c;var n=r(a(856075));var i=l(a(573674));var o=a(878975);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=(0,i.lazy)((()=>Promise.resolve().then((()=>l(a(897085))))));function c(e){const{route:t}=e;return(0,n.default)(o.MemoryRouter,{initialEntries:[t],initialIndex:0},void 0,(0,n.default)(i.Suspense,{fallback:null},void 0,(0,n.default)(o.Switch,{},void 0,(0,n.default)(o.Route,{path:"payroll",render:()=>i.default.createElement(d,e)}))))}},897085:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(878975);var s=a(984753);var l=a(389457);function d(e){const{path:t}=(0,o.useRouteMatch)();return(0,n.default)(o.Switch,{},void 0,(0,n.default)(o.Route,{exact:true,path:`${t}/TaxWithholding`,render:()=>(0,n.default)(s.Withholding,{canAccessStateUiFields:e.canAccessStateUiFields,data:e.data,fedPerms:e.fedPerms,isAdminUser:e.isAdminUser,isPayrollAdminUser:e.isPayrollAdminUser,onStateLocationChange:e.onStateLocationChange,onStateUnemploymentLocationChange:e.onStateUnemploymentLocationChange,renderFederal:e.renderFederal,renderState:e.renderState,renderStateUnemployment:e.renderStateUnemployment,show:e.show,showStateLocationRequiredAsterisk:e.showStateLocationRequiredAsterisk,showStateUnemploymentLocationRequiredAsterisk:e.showStateUnemploymentLocationRequiredAsterisk,statePerms:e.statePerms,stateSectionNote:e.stateSectionNote,stateUnemploymentSectionNote:e.stateUnemploymentSectionNote})}),(0,n.default)(o.Route,{exact:true,path:`${t}/DirectDeposit`,render:()=>(0,n.default)(l.DirectDeposit,{deposits:e.deposits,employeeId:e.employeeId,hasTrax:e.hasTrax,onSaveSuccess:e.onSaveSuccess,permissionLevel:e.permissionLevel,useTextButton:e.useTextButton})}))}var c=d;t.default=c},759051:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.MicroFrontend=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(465802));var s=a(273641);var l=a(909903);var d=a(951393);class c extends i.default.Component{static get className(){return"MicroFrontend"}constructor(e){super(e);this._renderMicroFrontend=()=>{var e,t;const{name:a,payload:r}=this.props;const{containerId:n}=this.state;(e=(t=window)[`render_${a}`])===null||e===void 0?void 0:e.call(t,n,{...r})};this.state={error:false,containerId:(0,s.uniqueId)("micro-container")}}get _scriptId(){const{name:e}=this.props;return`micro-frontend-script-${e}`}_loadResource(){const{host:e,manifest:t,name:a}=this.props;const r=(t,a)=>new Promise((r=>{const n=document.createElement("script");n.src=t.startsWith("http")?t:(0,l.resolveResourceUrl)(e,t);n.async=true;n.id=a==="main.js"?this._scriptId:null;n.onload=()=>r();document.head.appendChild(n)}));if(document.getElementById(this._scriptId)){this._renderMicroFrontend();return}fetch(`${e}/${t}`).then((e=>e.json())).then((t=>{(0,d.setResourceUrl)(a,e,t["main.js"]);Object.keys(t).filter((e=>e.endsWith(".css"))).forEach((a=>{const r=document.createElement("link");r.rel="stylesheet";r.href=t[a].startsWith("http")?t[a]:(0,l.resolveResourceUrl)(e,t[a]);document.head.appendChild(r)}));const n=Object.keys(t).filter((e=>e.endsWith(".js"))).map((e=>r(t[e],e)));Promise.all(n).then((()=>this._renderMicroFrontend()))})).catch((e=>{this.setState({error:true});console.warn(e)}))}_unmountMicroFrontend(){const{name:e}=this.props;const{containerId:t}=this.state;const a=window[`unmount_${e}`];if(typeof a==="function"){a(t)}else{console.error(`No function exists to unmount "${e}" micro front-end!`)}}componentDidMount(){this._loadResource()}componentDidUpdate(e){const{host:t}=this.props;if(e.host&&e.host!==t){const e=document.getElementById(this._scriptId);if(e&&e.parentNode){e.parentNode.removeChild(e)}this._unmountMicroFrontend();this._loadResource()}else{this._renderMicroFrontend()}}componentWillUnmount(){this._unmountMicroFrontend()}render(){const{className:e,customErrorMessage:t}=this.props;const{error:a,containerId:r}=this.state;if(a){return(0,n.default)(o.default,{customMessage:t})}return(0,n.default)("main",{className:e,id:r,style:{height:"100%",width:"100%"}})}}t.MicroFrontend=c;c.defaultProps={customErrorMessage:"",payload:{},host:"",name:"",resourceType:"",window}},925007:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.PoMicroFrontend=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(723615));var s=a(446034);var l=a(561510);var d=a(759051);var c=a(39728);var u=a(636718);var f=a(479706);var p=a(556067);var m=a(300635);var h=a(353574);const v=({route:e,...t})=>{var a,r,i;const o="po";const[v,g]=(0,c.useResource)(o);const y=(0,s.useRecoilBridgeAcrossReactRoots_UNSTABLE)();const b={globals:{company:window.SESSION_COMPANY,user:window.SESSION_USER,defaultCurrencyCode:window.GLOBAL_CURRENCY_CODE,csrfToken:window.CSRF_TOKEN,showHelpWidget:window.showHelpWidget,isFeatureEnabled:f.isEnabled,getSnapEngageClient:p.getSnapEngageClient,datePickerProviderFormatType:(0,m.getFormatTypeFromGlobalDateMask)(),datePickerProviderLocale:(0,m.getLocale)(),MainTechnicalDebt:h.MainTechnicalDebt,decimalChar:window.GLOBAL_DECIMAL_CHAR,thousandsSeparator:window.GLOBAL_THOUSANDS_SEPARATOR,isSupportAdmin:window.IS_SUPPORT_ADMIN,hasTrax:!!window.companyHasTrax||!!window.hasTrax||false,isPayrollSynced:window.Employee&&window.Employee.payrollSynced,isAssumedUser:window.GLOBAL_IS_ASSUMED_USER},route:e,RecoilBridge:y,updateEmployeeInformation:(a=window.BambooHR.HistoryTable)===null||a===void 0?void 0:a.updateEmployeeInformation,updateEmployeeGearMenu:(r=window.BambooHR.HistoryTable)===null||r===void 0?void 0:r.updateEmployeeGearMenu,openMissingLocationInformation:(i=window.BambooHR.HistoryTable)===null||i===void 0?void 0:i.openMissingLocationInformation,updateHireDates:window.updateHireDates,registerRateChange:window.registerRateChange,...t};return(0,n.default)(u.VersionManager,{icon:(0,n.default)(l.PoIcon,{}),onChange:g,resource:v},void 0,(0,n.default)(d.MicroFrontend,{host:v===null||v===void 0?void 0:v.url,manifest:"manifest.json",name:o,payload:b}))};t.PoMicroFrontend=v;v.propTypes={route:o.default.string};v.defaultProps={route:undefined}},652069:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.getProductionUrl=void 0;var n=r(a(803603));const i=e=>e==="dev"?"prod":e;const o=(e,t)=>{if(t&&t.startsWith("https://")){return t}const a=t||n.default.versions[e]||"";return`${n.default.url}/${e}/${i(a)}`};t.getProductionUrl=o},859670:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getResourceUrl=n;var r=a(652069);function n(e="",t={}){const a={greenhouse:"3000",po:"3010",developerportal:"3020"};e=e.toLowerCase();return({type:n,version:i})=>{if(t[n]){return t[n]}if(n==="odi"){return`https://staticfe.ci.pandasandbox.com/${e}/${i}`}if(n==="committed"){return(0,r.getProductionUrl)(e)}if(n==="development"){return window.location.host.includes(".bamboolocal.com")?`https://staticfe.bamboolocal.com:${a[e]}`:`https://resources.local.bamboohr.com/js/${e}`}if(n==="custom"){return(0,r.getProductionUrl)(e,i)}return i}}},866785:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.useOdiResources=void 0;var n=r(a(417842));var i=a(573674);var o=r(a(803603));var s=a(178045);const l=(e="")=>{const[t,a]=(0,i.useState)([]);const[r,l]=(0,i.useState)(true);(0,i.useEffect)((()=>{const r=o.default===null||o.default===void 0?void 0:o.default.odiManifestEndpoints[e];l(true);if(!r){if(t){a([])}l(false);return}n.default.get(r).then((({data:e=[]}={})=>{a(e);l(false)}),(()=>{(0,s.showSlidedown)("Something went wrong loading ODI resources.","error");l(false)}))}),[e]);return[t,r]};t.useOdiResources=l},704292:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.useResource=void 0;var n=r(a(803603));var i=a(780860);var o=a(652069);const s=(e="")=>{const t=n.default.versions[e];const a={name:e,type:"committed",url:(0,o.getProductionUrl)(e),version:t};return(0,i.useSyncedSessionStorage)(`${e.toLowerCase()}_micro_frontend_resource`,{defaultValue:a})};t.useResource=s},780860:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useSyncedSessionStorage=void 0;var r=a(573674);const n=e=>{if(!e)return e;if(typeof e==="string")return e;return JSON.stringify(e)};const i=e=>{if(e&&typeof e==="string"){return JSON.parse(e)}return e};const o=e=>`__requesting_${e}`;const s=e=>`__sending_${e}`;const l=e=>{const t=o(e);localStorage.setItem(t,Date.now().toString());localStorage.removeItem(t)};const d=(e,t)=>{const a=s(e);localStorage.setItem(a,n(t));localStorage.removeItem(a)};const c=(e,t)=>{window.sessionStorage.setItem(e,n(t))};const u=(e,{defaultValue:t})=>{const a=o(e);const u=s(e);const f=i(window.sessionStorage.getItem(e));const[p,m]=(0,r.useState)(f);const h=t=>{c(e,t);m(t);d(e,t)};(0,r.useEffect)((()=>{if(!p){l(e)}const t=t=>{if(p&&t.key===a){d(e,p)}if(t.key===u){if(t.newValue){window.sessionStorage.setItem(e,n(t.newValue));m(i(t.newValue))}}};window.addEventListener("storage",t);return()=>{if(t){window.removeEventListener("storage",t)}}}),[e,p,a,u]);return[p||t,h]};t.useSyncedSessionStorage=u},39728:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"getResourceUrl",{enumerable:true,get:function(){return r.getResourceUrl}});Object.defineProperty(t,"ResourcePicker",{enumerable:true,get:function(){return n.ResourcePicker}});Object.defineProperty(t,"useResource",{enumerable:true,get:function(){return i.useResource}});var r=a(859670);var n=a(271788);var i=a(704292)},734131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isOdiHost=void 0;const a=e=>e.includes("staticfe.ci.pandasandbox.com");t.isOdiHost=a},419601:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.removeFilenameFromUrl=void 0;const a=e=>e.replace(/\/[^/]*$/,"");t.removeFilenameFromUrl=a},439627:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.removeVersionFromPath=void 0;var r=a(685638);const n=e=>(0,r.trimSlashes)(e).replace(/\/[^/]+$/,"");t.removeVersionFromPath=n},909903:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.resolveResourceUrl=void 0;var r=a(734131);var n=a(439627);var i=a(685638);const o=(e="",t="")=>{const a=new URL(e);const o=(0,r.isOdiHost)(a.host)?a.pathname:(0,n.removeVersionFromPath)(a.pathname);return`${a.protocol}//${a.host}/${(0,i.trimSlashes)(o)}/${(0,i.trimSlashes)(t)}`};t.resolveResourceUrl=o},450210:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.checkUrlExists=i;var n=r(a(417842));function i(e){return n.default.get(e).then((()=>true),(()=>false))}},418284:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"checkUrlExists",{enumerable:true,get:function(){return r.checkUrlExists}});Object.defineProperty(t,"toOdiItem",{enumerable:true,get:function(){return n.toOdiItem}});var r=a(450210);var n=a(66437)},66437:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toOdiItem=a;function a({branch:e,commit:t,version:a}){return{note:t||a,text:e||"<unknown>",value:a}}},271788:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ResourcePicker",{enumerable:true,get:function(){return r.ResourcePicker}});var r=a(962896)},206811:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.OdiVersionPicker=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(651745);var s=a(273641);var l=r(a(60042));var d=a(418284);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=(0,i.forwardRef)((({errors:e,name:t,odiResources:a,onChange:r,value:c},u)=>(0,n.default)(i.Fragment,{},void 0,(0,n.default)("label",{className:(0,l.default)("fab-Label","fab-Label--required",{"fab-Label--error":e===null||e===void 0?void 0:e.odiVersion})},void 0,"Select an ODI version of ",(0,s.startCase)(t)),(0,n.default)(o.Select,{condition:e!==null&&e!==void 0&&e.odiVersion?"error":"default",inputRef:u,items:a.map(d.toOdiItem),name:"odiVersion",onChange:e=>r(e[0]),selectedValues:c?[c]:[],width:"9"}))));t.OdiVersionPicker=f},807514:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ProductionVersionPicker=void 0;var n=r(a(856075));var i=d(a(573674));var o=r(a(60042));var s=a(273641);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const c=(0,i.forwardRef)((({errors:e,name:t,onChange:a,value:r},l)=>{const d=(0,s.uniqueId)("production-version-picker");return(0,n.default)(i.Fragment,{},void 0,(0,n.default)("label",{className:(0,o.default)("fab-Label","fab-Label--required",{"fab-Label--error":e.customVersion}),htmlFor:d},void 0,"Paste a production version of ",(0,s.startCase)(t)),i.default.createElement("input",{ref:l,className:(0,o.default)("fab-TextInput","fab-TextInput--width8",{"fab-TextInput--error":e.customVersion}),id:d,name:"customVersion",onChange:e=>a(e.currentTarget.value),required:true,type:"text",value:r}))}));t.ProductionVersionPicker=c},962896:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ResourcePicker=void 0;var n=r(a(856075));var i=y(a(573674));var o=a(651745);var s=r(a(60042));var l=a(273641);var d=a(233832);var c=a(178045);var u=r(a(803603));var f=a(418284);var p=a(206811);var m=a(807514);var h=a(552962);var v=a(866785);function g(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(g=function(e){return e?a:t})(e)}function y(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=g(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const b=(0,o.makeStyles)((({palette:e,typography:t})=>({root:{display:"grid",gap:15,gridColumnTemplate:"1fr",marginTop:10},label:{color:e.grey[800],display:"block",fontSize:t.fabricFontSize("large")},infoText:{color:e.grey[800],fontSize:t.fabricFontSize("small"),marginTop:5},resourceTypePicker:{marginBottom:10}})));const w=({getUrl:e,isOpen:t,onCancel:a,onSave:r,value:g})=>{const y=b();const{errors:w,register:S,validate:O}=(0,d.useValidation)();const[T,C]=(0,v.useOdiResources)(g===null||g===void 0?void 0:g.name);const[P,E]=(0,i.useState)();const[M,x]=(0,i.useState)();const k=()=>{E(undefined);x(undefined)};const j=P||M;const I=g===null||g===void 0?void 0:g.name;const F=P||(g===null||g===void 0?void 0:g.type);const D=P&&P!=="committed"||M?M:g===null||g===void 0?void 0:g.version;const N=e({type:F,version:D});const A=F==="committed"||F==="development"||D&&(F==="custom"||F==="odi");const L=async()=>{const e=O();if(e){const e=await(0,f.checkUrlExists)(`${N}/manifest.json`);if(e){r({...g,type:F,version:D,url:N});k()}else{(0,c.showSlidedown)("The selected version does not exist.","error")}}};const R=()=>{k();a()};return(0,n.default)(o.StandardModal,{isLoading:C,isOpen:t,onRequestClose:R},void 0,(0,n.default)(o.StandardModal.Body,{renderFooter:(0,n.default)(o.StandardModal.Footer,{actions:[(0,n.default)(o.Button,{disabled:!j,onClick:L},"saveButton","Save"),(0,n.default)(o.TextButton,{onClick:R},"cancelButton","Cancel")]}),renderHeader:(0,n.default)(o.StandardModal.Header,{title:`Change the version of ${(0,l.startCase)(I)}`}),size:o.StandardModal.Body.Size.MEDIUM},void 0,(0,n.default)(o.StandardModal.Constraint,{},void 0,(0,n.default)("form",{className:(0,s.default)(y.root)},void 0,(0,n.default)("span",{className:y.label},void 0,"Which version of code should we use?"),(0,n.default)("div",{classes:{root:y.resourceTypePicker}},void 0,(0,n.default)(h.ResourceTypePicker,{disabledTypes:T!==null&&T!==void 0&&T.length?["development"]:["odi"],onChange:e=>{E(e);if(e==="committed"){x(u.default.versions[I])}else{x(undefined)}},value:F})),F==="odi"||F==="custom"?(0,n.default)("div",{},void 0,F==="odi"?i.default.createElement(p.OdiVersionPicker,{ref:S({required:true}),errors:w,name:I,odiResources:T,onChange:e=>x(e),value:D}):null,F==="custom"?i.default.createElement(m.ProductionVersionPicker,{ref:S({required:true}),errors:w,name:I,onChange:e=>x(e),value:D||""}):null):null,A?(0,n.default)("div",{className:y.infoText},void 0,"Resources will be loaded from:",(0,n.default)("a",{href:N,rel:"noopener noreferrer",target:"_blank"},void 0,N)):null))))};t.ResourcePicker=w},552962:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ResourceTypePicker=d;var n=r(a(856075));var i=r(a(368652));var o=a(651745);var s=r(a(573674));const l=(0,o.makeStyles)((()=>({boxes:{display:"grid",gap:10,gridTemplateColumns:"repeat(auto-fill, minmax(280px, max-content))"}})));function d({disabledTypes:e=[],onChange:t,value:a}){const r=l();const d=(e,a)=>t(a);const c=t=>({boxWidth:280,inputId:`version-${t}`,isChecked:a===t,isDisabled:e.includes(t),name:"resource",onChange:d,value:t});return(0,n.default)(o.SelectableBoxGroup,{type:"radio"},void 0,(0,n.default)("div",{className:r.boxes},void 0,(0,n.default)("div",{className:r.box},void 0,s.default.createElement(o.SelectableBox,(0,i.default)({},c("committed"),{description:"Use version defined in this branch.",icon:"fab-check-circle-outline-20x20",title:"Committed"}))),(0,n.default)(o.Tooltip,{content:"This option is only available when used outside of an ODI",open:e.includes("development")?undefined:false},void 0,(0,n.default)("div",{className:r.box},void 0,s.default.createElement(o.SelectableBox,(0,i.default)({},c("development"),{description:"Use a version from your machine.",icon:"fab-wrench-20x20",title:"Development"})))),(0,n.default)(o.Tooltip,{content:"This option is only available when using an ODI",open:e.includes("odi")?undefined:false},void 0,(0,n.default)("div",{className:r.box},void 0,s.default.createElement(o.SelectableBox,(0,i.default)({},c("odi"),{description:"Use an ODI version.",icon:"fab-clock-20x20",title:"ODI"})))),(0,n.default)("div",{className:r.box},void 0,s.default.createElement(o.SelectableBox,(0,i.default)({},c("custom"),{description:"Use a specific production version.",icon:"fab-pencil-20x20",title:"Custom"})))))}},951393:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setResourceUrl=void 0;var r=a(273641);var n=a(909903);var i=a(419601);const o=(e,t,a)=>{window[`__staticResourceUrl${(0,r.startCase)(e)}`]=(0,i.removeFilenameFromUrl)((0,n.resolveResourceUrl)(t,a))};t.setResourceUrl=o},685638:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.trimSlashes=void 0;const a=e=>e.replace(/^\/|\/$/g,"");t.trimSlashes=a},636718:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"VersionManager",{enumerable:true,get:function(){return r.VersionManager}});var r=a(200707)},200707:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.VersionManager=void 0;var n=r(a(856075));var i=a(651745);var o=r(a(60042));var s=a(273641);var l=u(a(573674));var d=a(39728);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=(0,i.makeStyles)((({zIndex:e,palette:t})=>({root:{position:"fixed",bottom:0,right:0,zIndex:e.snackbar,width:40,height:40,"&:hover $icon":{fill:t.primary.main},"&:hover $nameIcon":{display:"inline-block"},"&:hover $typeIcon":{display:"none"},"&:hover $bubble":{borderColor:t.primary.main,boxShadow:"0 0 0px 2px white"}},bubble:{position:"absolute",backgroundColor:t.common.white,border:`1px solid ${t.grey[200]}`,borderRadius:"50% 50% 0 0",cursor:"pointer",height:75,left:0,outline:"none",top:0,width:75},children:{height:"100%",width:"100%"},icon:{display:"flex",bottom:8,height:16,justifyContent:"center",lineHeight:0,pointerEvents:"none",position:"absolute",right:8,width:16},nameIcon:{display:"none",fill:t.primary.main},pulse:{animation:`$pulse 1500ms infinite alternate`},typeIcon:{fill:t.grey[600]},indicator:{position:"relative","&:after":{backgroundColor:"rgba(151, 191, 229, 0.75)",bottom:0,content:'""',left:0,position:"absolute",right:0,top:0}},"@keyframes pulse":{"0%":{opacity:1},"100%":{opacity:.25}}})));const p={committed:"fab-check-circle-outline-16x16",development:"fab-wrench-16x16",odi:"fab-clock-14x14",custom:"fab-pencil-16x16"};const m=e=>{const{children:t,getUrl:a,icon:r,resource:c,onChange:u}=e;const{name:m,type:h,version:v}=c;const g=f(e);const[y,b]=(0,l.useState)(false);const[w,S]=(0,l.useState)(false);const O=(0,n.default)(i.Icon,{name:p[h]});return window.ENV==="dev"?(0,n.default)(l.Fragment,{},void 0,(0,n.default)("div",{className:(0,o.default)(g.children,{[g.indicator]:y}),id:"versionmanager"},void 0,t),(0,n.default)("div",{className:g.root,onMouseEnter:()=>b(true),onMouseLeave:()=>b(false)},void 0,(0,n.default)(i.Tooltip,{content:v,title:`Using the ${h} version of ${(0,s.upperFirst)(m)}.`},void 0,(0,n.default)("button",{className:g.bubble,onClick:()=>S(true),type:"button"})),(0,n.default)("span",{className:(0,o.default)(g.icon,{[g.pulse]:!y&&h!=="committed"})},void 0,(0,n.default)("span",{className:g.typeIcon},void 0,O),(0,n.default)("span",{className:g.nameIcon},void 0,r||O))),(0,n.default)(d.ResourcePicker,{getUrl:a||(0,d.getResourceUrl)(m),isOpen:w,onCancel:()=>S(false),onSave:e=>{S(false);u(e)},value:c})):t};t.VersionManager=m},558358:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Modal=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(604928);var s=r(a(20026));var l=a(783840);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class u extends i.Component{constructor(...e){super(...e);this._bodyElm=document.createElement("div");this._footerElm=document.createElement("div");this._titleElm=document.createElement("div");this._modalInstance=null;this._bodyElement=()=>{this._bodyElm.classList.add("js-react-modal-body-wrapper");return this._bodyElm};this._footerElement=()=>{this._footerElm.classList.add("js-react-modal-footer-wrapper");return this._footerElm};this._titleElement=()=>{this._titleElm.classList.add("js-react-modal-title-wrapper");return this._titleElm}}static get className(){return"Modal"}_configureOptions(){const{options:e={},onClose:t,onCloseBefore:a,onOpen:r,onOpenBefore:n,onAction:i,handleData:o,footer:d,title:c}=this.props;const u=d?{show:true,custom:{html:this._footerElement()}}:e.footer||{};if(!d&&i){u.buttons=u.buttons||{};u.buttons.primary=u.buttons.primary||{};u.buttons.primary.action=i}e.title=c?this._titleElement().textContent:e.title;const f={...e,callbacks:{close:{after:()=>{if(t){t()}},before:()=>{if(a){return a()}return true}},open:{after:()=>{s.default.setPosition();if(r){r()}},before:()=>{if(n){return n()}return true}}},html:this._bodyElement(),responseToHTML:e=>{const t=(0,l.parseResponse)(e);if(o){o(t);return this._bodyElement()}},footer:u};return f}_open(){const e=this._configureOptions();this._modalInstance=s.default.openModal(e)}_close(){const{selector:e}=this._modalInstance||{};if(e&&document.querySelector(e)){s.default.closeModal()}}componentDidMount(){const{visible:e}=this.props;if(e){this._open()}}componentDidUpdate(e){const{visible:t}=this.props;const a=s.default.getTopModalSelector();if(a){s.default.setPosition()}if(!!t===!!e.visible){return}if(t){this._open()}else if(a){this._close()}}componentWillUnmount(){this._close()}render(){const{children:e,destroyOnHide:t,visible:a}=this.props;let r=e;if(t){r=a?e:null}return(0,n.default)(i.Fragment,{},void 0,(0,o.createPortal)(r,this._bodyElement()),this.props.footer&&(0,o.createPortal)(this.props.footer(),this._footerElement()),this.props.title&&(0,o.createPortal)(this.props.title(),this._titleElement()))}}t.Modal=u;u.defaultProps={destroyOnHide:false}},877748:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"PageActionsFooter",{enumerable:true,get:function(){return r.PageActionsFooter}});var r=a(675252)},675252:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.PageActionsFooter=m;var n=r(a(856075));var i=d(a(573674));var o=a(651745);var s=a(604928);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const c=document.createElement("div");const u=["SiteFooter","SiteFooter--light-theme","SiteFooter--large-theme"];const f=()=>window.location.pathname.indexOf("/greenhouse")>-1?"greenhouse":"main";const p={greenhouse:{alt:"BambooHR Greenhouse",href:"/greenhouse",iconName:"fab-greenhouse-logo-150x28"},main:{alt:"BambooHR",href:"https://www.bamboohr.com",iconName:"fab-bamboohr-logo-115x17"}};function m(e){const{children:t,isOpen:a=false,right:r}=e;const l=f();let d=document.querySelector("footer");const m=()=>{Array.from(d.children).forEach((e=>{if(e!==c){if(e.classList.contains("SiteFooter__container--actions")){e.classList.toggle("hidden",true)}else{e.classList.toggle("hidden",!!a)}}}))};(0,i.useEffect)((()=>{if(!d){d=document.createElement("footer");d.classList.add(...u);document.body.appendChild(d)}d.appendChild(c);c.classList.toggle("hidden",true)}),[]);(0,i.useEffect)((()=>{if(a){c.classList.toggle("hidden",!a);setTimeout((()=>d.classList.toggle("SiteFooter--open",!!a)));setTimeout(m,300)}else{d.classList.toggle("SiteFooter--open",!!a);setTimeout((()=>c.classList.toggle("hidden",!a)),300);m()}}),[a]);return(0,s.createPortal)((0,n.default)("div",{className:"SiteFooter__container SiteFooter__container--actions"},void 0,(0,n.default)("div",{className:"SiteFooter__wrapper SiteFooter__wrapper--outerReverse SiteContent"},void 0,(0,n.default)("div",{className:"SiteFooter__wrapper SiteFooter__wrapper--left"},void 0,t),(0,n.default)("div",{className:"SiteFooter__wrapper SiteFooter__wrapper--right"},void 0,r||(0,n.default)("a",{className:"SiteFooter__link SiteFooter__link--logo",href:p[l].href,rel:"noopener external nofollow noreferrer",target:"_blank"},void 0,(0,n.default)("span",{className:"SiteFooter__logo"},void 0,(0,n.default)(o.Icon,{alt:p[l].alt,name:p[l].iconName})))))),c)}},247135:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"PageFooter",{enumerable:true,get:function(){return r.PageFooter}});var r=a(917780)},917780:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.PageFooter=s;var n=r(a(856075));var i=r(a(573674));var o=a(877748);function s(e){const{left:t,right:a}=e;return(0,n.default)(o.PageActionsFooter,{isOpen:true,right:a},void 0,t)}},204519:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.PageHeaderIcon=s;var n=r(a(856075));var i=r(a(573674));var o=a(651745);function s({icon:e}){if(typeof e==="function"){return e()}return(0,n.default)(o.Icon,{name:e})}},112810:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.PageHeader=c;var n=r(a(856075));var i=d(a(573674));var o=a(204519);var s=a(457927);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function c(e){const{includeBorder:t=true,leftOptionalBlock:a,rightOptionalBlock:r,size:l,back:d,icon:c,title:u,subTitle:f}=e;let p=l;if(!a&&p!=="lg"){p="sm"}if(a&&p!=="lg"){p="md"}const m=d&&d.action?e=>d.action(e):undefined;const h=t?"":"PageHeader--noBorder";return(0,n.default)("header",{className:`PageHeader PageHeader--${p} ${h}`},void 0,d&&(d.value||d.extraContent)&&(0,n.default)(i.Fragment,{},void 0,d.value?(0,n.default)("a",{className:"PageHeader__backBtn",href:d.destination,onClick:m},void 0,(0,n.default)("span",{className:"PageHeader__backBtnArrow"},void 0,(0,n.default)(o.PageHeaderIcon,{icon:"fab-arrow-left-8x7"})),d.value):null,d.extraContent&&d.extraContent()),(0,n.default)("div",{className:"PageHeader__titleWrap"},void 0,c&&(0,n.default)("span",{className:"PageHeader__titleIcon"},void 0,(0,n.default)(o.PageHeaderIcon,{icon:c})),(0,n.default)("div",{className:`PageHeader__titleSubTitleWrap--${p}`},void 0,p==="lg"?(0,n.default)("h1",{className:"PageHeader__title"},void 0,u):(0,n.default)("h2",{className:"PageHeader__title"},void 0,u),f&&p==="lg"&&(0,n.default)("h4",{className:"PageHeader__subTitle--large"},void 0,(0,n.default)(s.SubTitle,{subTitle:f})),f&&p!=="lg"&&(0,n.default)("p",{className:"PageHeader__subTitle"},void 0," ",(0,n.default)(s.SubTitle,{subTitle:f})," ")),p!=="md"&&r&&(0,n.default)("div",{className:"PageHeader__optionalContent--right"},void 0,r())),p==="md"&&a&&(0,n.default)("div",{className:"PageHeader__optionalContentWrap"},void 0,(0,n.default)("div",{},void 0,a()),(0,n.default)("div",{},void 0,r&&r())))}},457927:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SubTitle=a;function a({subTitle:e}){if(typeof e==="function"){return e()}return e}},69873:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Popover",{enumerable:true,get:function(){return r.Popover}});var r=a(253007)},253007:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Popover=void 0;var n=l(a(573674));var i=a(273641);var o=r(a(268069));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class d extends n.Component{constructor(...e){super(...e);this._createPopover=()=>{this._popover=o.default.create(this._popoverElement.current,this.props.settings)};this._popoverElement=(0,n.createRef)()}static get className(){return"Popover"}componentDidUpdate(e){if(!(0,i.isEqual)(e.settings,this.props.settings)){this._popover.destroy();this._createPopover()}}componentDidMount(){this._createPopover()}componentWillUnmount(){this._popover.destroy()}render(){const{children:e,wrapperClassName:t}=this.props;return n.default.createElement("span",{className:t,ref:this._popoverElement},e)}}t.Popover=d},530654:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SMALL_SCREEN_WIDTH=void 0;const a=800;t.SMALL_SCREEN_WIDTH=a},687087:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ScreenSize",{enumerable:true,get:function(){return r.ScreenSize}});var r=a(557249)},557249:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ScreenSize=void 0;var n=r(a(856075));var i=d(a(573674));var o=a(273641);var s=a(530654);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class c extends i.Component{static get className(){return"ScreenSize"}constructor(e){super(e);this._throttleHandleWindowResize=()=>{this.setState({isSmallScreen:window.innerWidth<=this._getSmallScreenSize()})};this._handleWindowResize=(0,o.throttle)((()=>{this._throttleHandleWindowResize()}),200);this.state={isSmallScreen:window.innerWidth<=this._getSmallScreenSize()}}_getSmallScreenSize(){const{smallScreenSize:e}=this.props;return e?e:s.SMALL_SCREEN_WIDTH}componentDidMount(){window.addEventListener("resize",this._handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this._handleWindowResize)}render(){const{render:e}=this.props;return(0,n.default)(i.Fragment,{},void 0,e(this.state))}}t.ScreenSize=c},8460:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"getFirstItem",{enumerable:true,get:function(){return s.getFirstItem}});Object.defineProperty(t,"getSelectedItem",{enumerable:true,get:function(){return s.getSelectedItem}});t.default=void 0;var r=d(a(573674));var n=a(651745);var i=a(651745);var o=a(778874);var s=a(923125);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class c extends r.Component{constructor(...e){super(...e);this._convertOldProps=()=>{const e={disabled:"isDisabled",multiselect:"canSelectMultiple",notClearable:{name:"isClearable",convert:e=>!e},required:"isRequired",data:{name:"items",convert:e=>e.items.filter((e=>e)).map(o.convertOldItemToNew)},onChange:{name:"onChange",convert:e=>(t,a)=>{const{data:r}=this.props;try{const t=a.length?(0,o.convertNewItemToOld)(a[0]):undefined;return e(t,{parentItem:n.ItemUtil.getParent(r.items.map(o.convertOldItemToNew),(0,o.convertOldItemToNew)(a[0]))})}catch(e){console.log(e)}}},optionContentCallback:{name:"renderOptionContent",convert:e=>t=>e((0,o.convertNewItemToOld)(t))},toggleContentCallback:{name:"renderToggleContent",convert:e=>t=>{const{data:a}=this.props;const r=n.ItemUtil.getParent(a.items.map(o.convertOldItemToNew),t[0]);const i=r?[(0,o.convertNewItemToOld)(r)]:t.map(o.convertNewItemToOld);return e(i)}},onShow:"onOpen",onHide:"onClose"};let t=(0,o.objectMapUtil)(this.props,e);const{settings:a}=t;if(a){t={...t,settings:null,...this._convertOldSettings(a)}}const{canSelectMultiple:r}=t;const i=e=>e.reduce(((e,t)=>{let a=e;if(t.items){a=[...e,i(t.items)]}else if(t.selected){a=[...e,t]}return a}),[]);if(r){const e=(e,t=[],a={})=>{const{item:r,parentItem:n}=a;const{data:s,onChange:l}=this.props;const{items:d}=s;if(l){const a=e?(0,o.convertNewItemToOld)(r):undefined;const s=n?(0,o.convertNewItemToOld)(n):n;const c=t.includes(e);const u=i(d);const f=c?[...u,a]:u.filter((e=>a&&a.value!==e.value));l(a,{parentItem:s,selectedItems:f,selected:c})}};t.onChange=undefined;t.onSelect=e;t.onDeselect=e;t.onClear=e}return t};this._convertNewSettings=e=>{const t={canSelectMultiple:"multiselect",isClearable:{name:"notClearable",convert:e=>!e},placeholder:"placeholder",required:"required"};const a=Object.keys(e);const r={};a.forEach((a=>{if(t[a]){r[a]=e[a]}}));return(0,o.objectMapUtil)(r,t)};this._convertNewProps=()=>{const{fabricSettings:e}=this.props;const t={canSelectMultiple:"multiselect",isClearable:{name:"notClearable",convert:e=>!e},isDisabled:"disabled",items:{name:"data",convert:e=>({items:e.filter((e=>e)).map(o.convertNewItemToOld)})},placement:{name:"listPosition",convert:e=>(0,o.placementNewToOld)(e)},renderOptionContent:{name:"optionContentCallback",convert:e=>t=>e((0,o.convertOldItemToNew)(t))}};const a=this._convertNewSettings(e);const r=(0,o.objectMapUtil)(e,t);return{...r,settings:a}}}static get className(){return"Select"}_convertOldSettings(e){const t={disabled:"isDisabled",multiselect:"canSelectMultiple",notClearable:{name:"isClearable",convert:e=>!e},listPosition:{name:"placement",convert:e=>(0,o.placementOldToNew)(e)}};return(0,o.objectMapUtil)(e,t)}render(){const{fabricSettings:e}=this.props;const t=e?e:this._convertOldProps();return r.default.createElement(i.Select,t)}}var u=c;t.default=u},923125:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getSelectedItem=n;t.getFirstItem=i;var r=a(273641);function n(e){if(!e||!e.items){return null}return e.items.reduce(((e,t)=>{if(t.anchor||e){return e}if(t.items){return n(t)}if(t.selected===true){return t}}),null)}function i(e){if(!e||!e.items){return null}return e.items.reduce(((e,t,a)=>{if(t.anchor||e){return e}if(t.items){return i(t)}if(a===0){return t}}),null)}},393750:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AccessList=c;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));var s=a(651745);var l=a(651745);var d=a(753134);a(978972);function c(e){const{data:t,isProcessing:a,onClick:r,onRemove:i,renderBottomSlot:o,renderRightSlot:s,settings:l,subTitle:d}=e;const c=[];t.filter((e=>{if(!c.some((t=>Number(t.id)===Number(e.id)))){c.push(e)}}));const u=()=>(0,n.default)("h4",{},void 0,d||$.__("Who has access"));return(0,n.default)("section",{className:"AccessList"},void 0,u(),(0,n.default)("div",{className:"AccessList__body"},void 0,c.map((e=>p(e,l,a,i,r,o,s)))))}const u=e=>{const{interval:t,timePeriod:a,daysOfWeek:r}=e;if(a&&Array.isArray(a)){const e=t>1?"s":"";if(a.includes("week")&&r&&Array.isArray(r)){return(0,n.default)(d.Message,{params:[t,a[0],e,r[0]],text:$._("Emailed every {1} {2}{3} on {4}")})}return(0,n.default)(d.Message,{params:[t,a[0],e],text:$._("Emailed every {1} {2}{3}")})}};const f=(e,t,a)=>{if(t){return(0,n.default)("span",{className:"AccessList__type"},void 0,u(t))}if(e){return(0,n.default)("span",{className:"AccessList__type"},void 0,e)}if(a){return(0,n.default)("span",{className:"AccessList__type"},void 0,a)}};function p(e,t,a,r,i,s,d){const{ownerText:c=$.__("Owner")}=t;const{image:u,name:p,type:h,reportScheduler:v,owner:g,self:y}=e;const b=()=>(0,n.default)("span",{className:"AccessList__avatar Avatar"},void 0,(0,n.default)(l.Icon,{brand:true,name:"fab-people-circle-30x30"}));const w=({children:t})=>{if(i&&!g&&!y){return(0,n.default)("button",{className:"AccessList__clickableContainer",onClick:()=>i(e),type:"button"},void 0,t)}return t};return(0,n.default)("div",{className:"AccessList__row"},p,(0,n.default)(w,{},void 0,u?(0,n.default)("img",{alt:"employee",className:"AccessList__avatar Avatar",src:u}):b(),(0,n.default)("div",{className:(0,o.default)("AccessList__rowRow",{AccessList__rowColumn:h})},void 0,(0,n.default)("span",{className:(0,o.default)("AccessList__name",{"AccessList__name--owner":g||y})},void 0,BambooHR.Utils.htmldecode(p),g&&(0,n.default)("span",{className:"AccessList__name--subtext"},void 0,"(",c,")")),f(s,v,h))),(0,n.default)("div",{className:"AccessList__rowRight"},void 0,d&&d(e),m(e,r,t,a)))}function m(e,t,a,r){const{showRemoveButton:i=true,hideRemoveButtonForOwner:o=false,hideRemoveButtonForSelf:l=false}=a;const{owner:d=false,rowRemoveButton:c=true,self:u=false}=e;if(i){if(c&&!(d&&o||u&&l)){return(0,n.default)("span",{className:"AccessList__rowRight__icon"},void 0,(0,n.default)(s.FloatingIconButton,{clickAction:()=>t(e),hasBounding:false,icon:"fab-x-14x14",isDisabled:r,secondary:true}))}return(0,n.default)("span",{className:"AccessList__rowRight--spacer"})}}},243539:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AccessList",{enumerable:true,get:function(){return r.AccessList}});var r=a(393750)},434030:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ShareModal",{enumerable:true,get:function(){return r.ShareModal}});Object.defineProperty(t,"prepareShareList",{enumerable:true,get:function(){return r.prepareShareList}});var r=a(619929)},797615:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"PeopleSelector",{enumerable:true,get:function(){return r.PeopleSelector}});var r=a(653045)},653045:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.PeopleSelector=void 0;var n=r(a(856075));var i=l(a(573674));var o=a(273641);var _=a(434030);a(338274);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class d extends i.Component{constructor(...e){super(...e);this.inputHasFocus=(e,t=(()=>{}))=>{const{updateFocus:a}=this.props;a(e,t)};this._handleNotify=()=>{const{updateNotify:e}=this.props;const{notify:t}=this.state;this.setState((()=>({notify:!t})));if(e){e(!t)}};this.handleSubmit=e=>{const{onSubmit:t}=this.props;const{notify:a,shareList:r}=this.state;return t({...(0,_.prepareShareList)(r),notify:a},e)};this.state={notify:true,shareList:[]}}static get className(){return"PeopleSelector"}set shareListData(e){this.setState((()=>({shareList:e})))}set shareListAddition(e){const{updateList:t}=this.props;const{shareList:a}=this.state;const r=a.concat(e);this.shareListData=r;t(r)}set shareListSubtraction(e){const{updateList:t}=this.props;const{shareList:a}=this.state;const r=a.filter((t=>!(0,o.isEqual)(t,e)));this.shareListData=r;t(r)}_prepareUserData(e=""){e=e.split(",");return{image:e[3],id:Number(e[2]),name:e[0]}}_setupInputs(e,t={}){const{quickSearchDescription:a=$.__("Enter names or groups..."),quickSearchEndpoint:r="/quicksearch/share"}=t;const{updateList:n}=this.props;const i=this;const o=$(e.current);const s=o.find(".ac_input");const l=o.find(".input-list");const d=o.find(".PeopleSelector__autocomplete");const c=()=>{d.hide().next(".inputs").show();l.addClass("shown");s.focus();const e=()=>{l.deactivate();o.find(".description").show();this.shareListData=[];n(this.shareListData)};i.inputHasFocus(true,e);l.removeClass("shown");d.show().next(".inputs").hide();l.activate()};d.bind("click.autoInit.bhr",c);l.click((function e(){s.focus()}));l.autoInputList({autocompleteOptions:{highlight:BambooHR.Utils.highlightTermInMarkup,parse:e=>{const{ownerId:t}=this.props;const a=[];const r=e.split("\n");for(let e=0;e<r.length;e+=1){let n=$.trim(r[e]);if(n){n=n.split("|");const e=!t||t&&n[2]!==t;if(e){n[0]=BambooHR.Utils.htmldecode(n[0]);a[a.length]={data:n,value:n[0],result:n[0]}}}}return a}},autocompleteUrl:r,description:a,formatAutoItem:qsWithPhoto,isShareModal:true,formatTagItem(e,t){if(t){const e=e=>BambooHR.Utils.htmlentities(e);const a={user_group:e(t[1]),user:e(t[2]),userData:i._prepareUserData(e(t))};const r=$(`.item input[value="${e(t[2])}"]`);if(r.length){const e=r[0].closest(".item");const t=$(e).find(".remove");t.click()}if(t[1]&&t[1]!=="empty"){i.shareListAddition=a;$(`\n\t\t\t\t\t\t\t<span class="item itemId${e(t[2])}">\n\t\t\t\t\t\t\t\t${e(t[0])}\n\t\t\t\t\t\t\t\t<input type="hidden" name="ids[${e(t[1])}][]" value="${e(t[2])}" data-user="${e(t)}"/>\n\t\t\t\t\t\t\t\t<ba-icon class="remove" name="fab-x-8x8"></ba-icon>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t`).insertBefore(".PeopleSelector__form .input-list span.input")}$(this).val("");$(".item .remove").on("click",(function e(){if($(this).parent().hasClass(`itemId${t[2]}`)){i.shareListSubtraction=a}$(this).closest("span.item").remove();s.focus();return false}))}},trackingAction:"sharedReport"}).focus((function e(){l.addClass("focus")})).blur((function e(){l.removeClass("focus")}))}componentDidMount(){const{formRef:e,settings:t}=this.props;setTimeout((()=>{this._setupInputs(e,t)}))}render(){const{data:e,formRef:t,renderBottomSlot:a,renderNotifyBottomSlot:r,renderNotifySiblingSlot:o,renderTopSlot:s,settings:{showNotify:l=true}}=this.props;const{notify:d,shareList:c}=this.state;return(0,n.default)("div",{className:"PeopleSelector typeahead"},void 0,s&&s(e),i.default.createElement("form",{ref:t,className:"PeopleSelector__form shareForm",name:"peopleSelector"},(0,n.default)("label",{className:"fab-Label",htmlFor:"add"},void 0,$.__("Add People")),(0,n.default)("div",{className:"PeopleSelector__autocomplete input-list inputField fab-Textarea fab-Textarea--width100"}),(0,n.default)("div",{className:"PeopleSelector__notify"},void 0,(0,n.default)("div",{className:"fab-FormRow"},void 0,l&&c.length>0&&(0,n.default)("span",{className:"fab-FormField"},void 0,(0,n.default)("div",{className:"fab-Checkbox"},void 0,(0,n.default)("input",{checked:d?"checked":"",className:"fab-Checkbox__input",id:"notify",name:"notify",onChange:this._handleNotify,type:"checkbox",value:"true"}),(0,n.default)("label",{className:"fab-Checkbox__label",htmlFor:"notify"},void 0,$.__("Notify people via email")))),o&&(0,n.default)("span",{className:"fab-FormField"},void 0,o(d))),r&&d&&(0,n.default)("div",{},void 0," ",r," "))),a&&a(e,d))}}t.PeopleSelector=d},619929:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ShareModal=t.prepareShareList=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(273641);var s=a(851040);var l=a(243539);var d=a(797615);a(407433);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=(e=[])=>{const t=e.filter((e=>e.user_group==="user")).map((e=>e.user));const a=e.filter((e=>e.user_group==="user_group")).map((e=>e.user));const r=e.map((e=>e.userData));return{ids:{user:t,user_group:a},userData:r}};t.prepareShareList=f;class p extends i.Component{constructor(...e){super(...e);this._handleRemove=e=>{const{onRemove:t}=this.props;this.isProcessing=true;return t(e).then((()=>{this.accessListSubtraction=e;this.isProcessing=false}),(e=>{window.setMessage(e,"info");console.error(e);this.isProcessing=false;return Promise.reject("Failed to submit")}))};this._handleSubmit=(e,t)=>{if(t){t.preventDefault()}const{onSubmit:a,onUpdate:r,settings:{showMessage:n=true,successMessage:i=$.__("You have successfully shared this page!")}}=this.props;return a(e).then((e=>{r().then((e=>{if(e.data){this.accessListData=e.data.data.accessList}}),(e=>{window.setMessage(e,"info");console.error(e);return Promise.reject("Failed to get shareModal data")}));if(n){const t=e&&e.data&&e.data.msg?e.data.msg:i;window.setMessage(t,"success")}}),(e=>{window.setMessage(e,"info");console.error(e);return Promise.reject("Failed to submit")}))};this._handleAlternativeAction=()=>{const{onCancel:e}=this.props;const{onCloseCallback:t}=this.state;if(typeof e==="function"){e()}t();$(".PeopleSelector__autocomplete .item").remove();$(".input-list").addClass("inactive").blur();this._handleUpdateFocus(false)};this._handleUpdateFocus=(e=false,t=(()=>{}))=>{this.setState({hasFocus:e,onCloseCallback:t})};this._handleUpdateList=(e=[])=>{const{onRawListChange:t,setShareList:a}=this.props;if(a){a(e)}if(t){t(e)}this.setState({rawAccessList:e,hasChanges:e.length>0})};this._handleUpdateNotify=e=>{this.setState({notify:e})};this._findOwnerId=()=>{const{accessList:e}=this.state;const t=e&&e.find((e=>e.type==="Owner"));return t&&t.id};this._formRef=(0,i.createRef)();this.state={accessList:this.accessListData,hasFocus:false,hasChanges:false,isOpen:this.isOpen,notify:true,isProcessing:this.isProcessing}}static get className(){return"ShareModal"}get accessListData(){const{data:{accessList:e}}=this.props;return e}get isOpen(){const{visible:e}=this.props;return e}get isProcessing(){const{isProcessing:e}=this.props;return e}set accessListData(e){const{onAccessListUpdate:t}=this.props;if(t){t(e)}this.setState((()=>({accessList:e})))}set isOpen(e){this.setState((()=>({isOpen:e})))}set isProcessing(e){this.setState((()=>({isProcessing:e})))}set accessListAddition(e){const{accessList:t}=this.state;this.accessListData=t.concat(e)}set accessListSubtraction(e){const{accessList:t}=this.state;this.accessListData=t.filter((t=>!(0,o.isEqual)(t,e)))}_getModalConfig({classes:e,visible:t,title:a,onClose:r}){return{onClose:r,options:{classes:e,footer:{buttons:{cancel:{show:false},primary:{text:$.__("Done")}}},preventSubmit:true,title:a},visible:t}}_getPrimaryAction(){const{onClose:e,settings:t}=this.props;const{hasChanges:a,notify:r,rawAccessList:n}=this.state;const{closeModalAfterSubmit:i=true,remainOpenOnError:o=false}=t;if(a){if(n){this.isProcessing=true;this._handleSubmit({...f(n),notify:r}).then((()=>{this.isProcessing=false;this.setState({hasFocus:false});this._handleAlternativeAction();const t=false;if(i||o&&t){e()}})).catch((()=>{this.isProcessing=false}))}else{return this._handleUpdateFocus(false)}return}return e()}_getPrimaryActionText(){const{settings:e}=this.props;const{hasChanges:t}=this.state;const{shareButtonText:a=$.__("Share")}=e;if(t){return a}return $.__("Done")}componentDidUpdate(e,t){const{data:{accessList:a},visible:r}=this.props;if(!(0,o.isEqual)(r,e.visible)){this.isOpen=r}if(!(0,o.isEqual)(a,t.accessList)){this.accessListData=a}}render(){const{data:{filters:e},isLoading:t,onClose:a,onAccessListClick:r,renderAccessListBottomSlot:o,renderAccessListRightSlot:c,renderPeopleSelectorBottomSlot:u,renderPeopleSelectorNotifyBottomSlot:f,renderPeopleSelectorNotifySiblingSlot:p,renderPeopleSelectorTopSlot:m,settings:h,sheetProps:v,subTitle:g,title:y,includeOwner:b}=this.props;const{accessList:w,hasFocus:S,hasChanges:O,isOpen:T,isProcessing:C}=this.state;const P=!b&&this._findOwnerId();const E=(0,n.default)("div",{className:"ShareModal"},void 0,(0,n.default)(l.AccessList,{data:w,isProcessing:C,onClick:r,onRemove:this._handleRemove,renderBottomSlot:o,renderRightSlot:c,settings:h,subTitle:g}),(0,n.default)(d.PeopleSelector,{data:e,formRef:this._formRef,onSubmit:this._handleSubmit,ownerId:P,renderBottomSlot:u,renderNotifyBottomSlot:f,renderNotifySiblingSlot:p,renderTopSlot:m,settings:h,updateFocus:(e,t=(()=>{}))=>this._handleUpdateFocus(e,t),updateList:e=>this._handleUpdateList(e),updateNotify:e=>this._handleUpdateNotify(e)}));const M={alternativeAction:O?this._handleAlternativeAction:null,biId:`share-modal-${O?"add":"done"}`,content:E,isLoading:t,isOpen:T,isProcessing:C,onClose:a,sheetProps:v,contentHasPadding:false,primaryAction:e=>this._getPrimaryAction(e),primaryActionText:this._getPrimaryActionText(),title:y};return i.default.createElement(s.Modal,M)}}t.ShareModal=p},778874:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.objectMapUtil=i;t.convertOldItemToNew=o;t.convertNewItemToOld=s;t.placementOldToNew=l;t.placementNewToOld=d;var n=r(a(540861));function i(e={},t={}){const a={};Object.keys(e).forEach((r=>{if(t[r]){if((0,n.default)(t[r])){const{name:n,convert:i}=t[r];a[n]=i(e[r])}else{a[t[r]]=e[r]}}else{a[r]=e[r]}}));return a}function o(e){const t={actionOnly:"isActionOnly",displayText:"text",selected:"isSelected",disabled:"isDisabled",items:{name:"items",convert:e=>e.filter((e=>e)).map(o)}};return i(e,t)}function s(e){const t={text:"displayText",isSelected:"selected",isActionOnly:"actionOnly",isDisabled:"disabled",items:{name:"items",convert:e=>e.filter((e=>e)).map(s)}};return i(e,t)}function l(e=""){const t=e.split(" ");let a="end";let r=t[0]?t[0]:"bottom";switch(t[1]){case"right":case"bottom":a="start";break;case"left":case"top":a="end";break}return{align:a,side:r}}function d(e){const t=e&&e.side?e.side:"bottom";let a="right";if(e&&e.align&&e.align==="end"){a="left"}return`${t} ${a}`}},652172:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"SingleAvatar",{enumerable:true,get:function(){return r.SingleAvatar}});var r=a(209390)},209390:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.SingleAvatar=l;var n=r(a(856075));var i=r(a(573674));var o=r(a(496406));var s=a(869023);a(196549);function l({date:e="",subtitle:t="",theme:a="",user:r={}}){const i=e=>{const t=[];t.push(`SingleAvatar__${e}`);if(a){t.push(`SingleAvatar__${e}--${a}`);if(a==="large"&&e==="name"){t.push("baseColor")}}return t.join(" ")};const l=()=>{if(e){return(0,n.default)("span",{className:i("date")},void 0,(0,o.default)(e).calendar())}};const d=()=>{if(t){return(0,n.default)("span",{className:i("subtitle")},void 0,t)}};return(0,n.default)("div",{className:"SingleAvatar"},void 0,(0,n.default)("img",{alt:r.name,className:i("image"),src:(0,s.getAvatarUrl)(r)}),(0,n.default)("div",{className:"SingleAvatar__user"},void 0,(0,n.default)("span",{className:i("name")},void 0,r.name),d(),l()))}},945632:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SlideTransition=o;var r=i(a(573674));function n(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(n=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=n(t);if(a&&a.has(e)){return a.get(e)}var r={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;if(s&&(s.get||s.set)){Object.defineProperty(r,o,s)}else{r[o]=e[o]}}}r.default=e;if(a){a.set(e,r)}return r}function o(e){const{children:t,isOpen:a}=e;const n=(0,r.useRef)();const i=(0,r.useRef)();const o={height:0,overflow:"hidden",transition:"height 200ms ease-in-out"};const s=(0,r.useCallback)((()=>{const e=n.current;if(a){i.current=e.scrollHeight;e.style.height=""}else{e.style.display="none"}}),[a]);(0,r.useEffect)((()=>{const e=n.current;if(i.current===undefined){i.current=e.scrollHeight}if(a){e.style.display="";e.style.height=`${e.scrollHeight}px`;return}window.requestAnimationFrame((()=>{e.style.height=`${i.current}px`;window.requestAnimationFrame((()=>{e.style.height=0}))}))}),[a]);(0,r.useEffect)((()=>{const e=n.current;if(!a){e.style.display="none"}}),[]);return r.default.createElement("div",{ref:n,onTransitionEnd:s,style:o},t)}},776392:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=c;var r=l(a(573674));var n=a(273641);var i=a(121198);var o=a(884479);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const{warn:d}=(0,o.createLogger)("static-html.react");function c({html:e,dangerous:t=false,sanitizeOptions:a={},onRender:o}){const s=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(!(s.current instanceof HTMLDivElement)||typeof e!=="string"||e.trim()===""){return}const r=document.createRange().createContextualFragment(t?e:(0,i.sanitize)(e,a));if(s.current.innerHTML.trim()!==""){d("DOM will be replaced")}s.current.innerHTML="";s.current.appendChild(r);if((0,n.isFunction)(o)){o(s.current)}}),[e,s]);(0,r.useEffect)((()=>{if(t){d(`DANGEROUS: HTML will NOT be sanitized! BE CAREFUL!!!`)}}),[]);return r.default.createElement("div",{ref:s})}},168666:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.StepIndicator=c;var n=r(a(856075));var i=r(a(573674));var o=r(a(723615));var s=a(273641);var l=r(a(596247));a(616487);const d=(...e)=>l.default.createClassName("StepIndicator",...e);function c(e){const{currentStep:t,hasSeparator:a=true,totalStepCount:r}=e;if(t>r){console.warn("The current step must be less than the total step count")}return(0,n.default)("div",{className:d("wrapper",{hasSeparator:a})},void 0,(0,n.default)("span",{className:d("message")},void 0,$.__("Step %1 of %2",t,r)),(0,n.default)("div",{className:d("stepWrapper")},void 0,(0,s.range)(1,r+1).map((e=>(0,n.default)("span",{className:d("step",{active:e===t})},e)))))}c.propTypes={currentStep:o.default.number.isRequired,totalStepCount:o.default.number.isRequired}},721817:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmployeeTabNav=c;var n=r(a(856075));var i=l(a(573674));var o=a(138464);a(922012);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function d(e,t,a){let r=[];if(t){r.push({iconName:"fab-lines-15x14",key:"employee-list",label:$.__("List"),url:"/employees/index.php?pin"})}if(e){r.push({iconName:"fab-person-on-book-16x16",key:"employee-directory",label:$.__("Directory"),url:"/employees/directory.php?pin"})}if(a){r.push({iconName:"fab-org-chart-16x15",key:"employee-org-chart",label:$.__("Org Chart"),url:"/employees/orgchart.php?pin"})}return r}function c(e){const{activeKey:t,seeDirectory:a,seeList:r,seeOrgChart:s}=e;const l=d(a,r,s);const c=l.findIndex((e=>e.key===t));return(0,n.default)(i.Fragment,{},void 0,l&&l.length>0?(0,n.default)("div",{className:"EmployeeTabNav"},void 0,(0,n.default)("div",{className:"EmployeeTabNav__tabs"},void 0,(0,n.default)(o.TabNav,{activeIndex:c,tabs:l}))):null)}},979715:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EmployeeTabNav",{enumerable:true,get:function(){return r.EmployeeTabNav}});var r=a(721817)},138464:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"TabNav",{enumerable:true,get:function(){return r.TabNav}});var r=a(752277)},752277:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.TabNav=l;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=r(a(60042));a(132467);function l(e){const{activeIndex:t,tabs:a}=e;return(0,n.default)("div",{className:"TabNav"},void 0,a.map(((e,a)=>(0,n.default)("a",{className:(0,s.default)("TabNav__item",{"TabNav__item--active":t===a}),"data-bi-id":`employees-${e.key}`,href:e.url},e.key,e.iconName&&(0,n.default)("span",{className:(0,s.default)("TabNav__itemIcon",{"TabNav__item--active":t===a})},void 0,(0,n.default)(o.Icon,{name:e.iconName})),(0,n.default)("span",{className:"TabNav__itemLabel"},void 0,e.label)))))}},972445:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=l(a(573674));var i=a(273641);var o=r(a(184712));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class d extends n.Component{static get className(){return"Tooltip"}componentDidUpdate(e){if(!(0,i.isEqual)(e.settings,this.props.settings)){this._tooltip.destroy();this._createTooltip()}}componentDidMount(){this._createTooltip()}componentWillUnmount(){this._tooltip.destroy()}render(){const{children:e,wrapperClassName:t}=this.props;return n.default.createElement("span",{className:t,ref:e=>{this._tooltipElement=e}},e)}_createTooltip(){if(this.props.settings.content||this.props.settings.title){this._tooltip=o.default.createStandard(this._tooltipElement,this.props.settings)}else{const e=Object.assign({template:{name:"tooltip-standard"}},this.props.settings);this._tooltip=o.default.create(this._tooltipElement,e)}}}var c=d;t.default=c},215020:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getAccountNumberError=n;var r=a(883711);function n(e){try{if(!e.trim()){throw new Error("Required")}if(!(0,r.isStringNumeric)(e)){throw new Error("Can only contain numbers")}if(e.length>17){throw new Error("Too many digits")}return null}catch(e){return e.message}}},118394:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AccountNumberInputField=u;var n=r(a(856075));var i=c(a(573674));var o=a(273641);var s=a(694131);var l=a(215020);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function u(e){const{isDisabled:t,onChange:a=o.noop}=e;const[r,d]=(0,i.useState)("");const[c,u]=(0,i.useState)("Required");const[f,p]=(0,i.useState)(false);(0,i.useEffect)((()=>{a(r,c)}),[r,c]);const m=f&&!!c;return(0,n.default)(s.TextField,{autoComplete:"disable-auto-complete",disabled:t,error:m&&c,hasError:m,id:"collections-and-refunds-account-number-input-field",label:$.__("Account Number"),onBlur:()=>p(true),onChange:e=>{d(e.target.value);u((0,l.getAccountNumberError)(e.target.value));p(true)},required:true,value:r,width:8})}},753359:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AccountNumberInputField",{enumerable:true,get:function(){return r.AccountNumberInputField}});var r=a(118394)},815258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getAccountTypesError=r;t.ACCOUNT_TYPES=void 0;const a=[{text:"Checking",value:"checking"},{text:"Savings",value:"savings"}];t.ACCOUNT_TYPES=a;function r(e){try{if(!e.length){throw new Error("Required")}return null}catch(e){return e.message}}},234709:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AccountTypeInputField=u;var n=r(a(856075));var i=c(a(573674));var o=a(273641);var s=a(694131);var l=a(815258);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function u(e){const{isDisabled:t,onChange:a=o.noop}=e;const[r,d]=(0,i.useState)([]);const[c,u]=(0,i.useState)("Required");const[f,p]=(0,i.useState)(false);(0,i.useEffect)((()=>{const e=r.length?r[0]:null;a(e,c)}),[r,c]);const m=f&&!!c;return(0,n.default)(s.SelectField,{disabled:t,error:m&&c,hasError:m,id:"collections-and-refunds-account-type-input-field",items:l.ACCOUNT_TYPES,label:$.__("Account Type"),onChange:e=>{d(e);u((0,l.getAccountTypesError)(e));p(true)},onClose:()=>p(true),required:true,selectedValues:r,width:8})}},666810:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AccountTypeInputField",{enumerable:true,get:function(){return r.AccountTypeInputField}});var r=a(234709)},919375:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FabInputRadio=o;var n=r(a(856075));var i=r(a(573674));function o(e){const{handleChange:t,id:a,isChecked:r,isDisabled:i,label:o,name:s,value:l}=e;return(0,n.default)("div",{className:"fab-Radio"},void 0,(0,n.default)("input",{checked:r,className:"fab-Radio__input",disabled:i,id:a,name:s,onChange:t,type:"radio",value:l}),(0,n.default)("label",{className:"fab-Radio__label",htmlFor:a},void 0,o))}},432569:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FabInputRadio",{enumerable:true,get:function(){return r.FabInputRadio}});var r=a(919375)},661560:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FabInputTextField=l;var n=r(a(856075));var i=r(a(60042));var o=a(273641);var s=r(a(573674));function l(e){const{error:t,handleBlur:a=o.noop,handleChange:r=o.noop,id:s,isDisabled:l,isRequired:d,label:c,note:u,placeholder:f,size:p="medium",value:m,width:h}=e;return(0,n.default)("div",{},void 0,!!c&&(0,n.default)("label",{className:(0,i.default)("fab-Label",{"fab-Label--error":t,"fab-Label--required":d}),htmlFor:s},void 0,c),(0,n.default)("div",{className:"fab-InputWrapper"},void 0,(0,n.default)("input",{className:(0,i.default)("fab-TextInput",{"fab-Label--error":t,[`fab-TextInput--${p}`]:p!=="medium",[`fab-TextInput--${h}`]:!!h}),disabled:l,id:s,onBlur:a,onChange:r,placeholder:f,type:"text",value:m})),!!u&&(0,n.default)("span",{className:"fab-FormNote"},void 0,u))}},586137:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FabInputTextField",{enumerable:true,get:function(){return r.FabInputTextField}});var r=a(661560)},816940:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AccountNumberInputField",{enumerable:true,get:function(){return r.AccountNumberInputField}});Object.defineProperty(t,"AccountTypeInputField",{enumerable:true,get:function(){return n.AccountTypeInputField}});Object.defineProperty(t,"FabInputRadio",{enumerable:true,get:function(){return i.FabInputRadio}});Object.defineProperty(t,"FabInputTextField",{enumerable:true,get:function(){return o.FabInputTextField}});Object.defineProperty(t,"RoutingNumberInputField",{enumerable:true,get:function(){return s.RoutingNumberInputField}});var r=a(753359);var n=a(666810);var i=a(432569);var o=a(586137);var s=a(930979)},930979:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"RoutingNumberInputField",{enumerable:true,get:function(){return r.RoutingNumberInputField}});var r=a(218249)},2296:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getRoutingNumberError=n;t.getRoutingNumberNote=i;var r=a(883711);function n(e){try{if(!e.trim()){throw new Error("Required")}if(!(0,r.isStringNumeric)(e)){throw new Error("Can only contain numbers")}if(e.length!==9){throw new Error("Must be 9 digits long")}return null}catch(e){return e.message}}function i(e,t){if(e==="processing"){return"Validating..."}if(e==="success"){return t}return""}},157090:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useRoutingNumberValidator=d;var r=a(273641);var n=a(573674);var i=a(191948);var o=a(2296);var s=a(262385);function l(e){if(e.current){clearTimeout(e.current);e.current=null}}function d(){const e=(0,n.useRef)(null);const t=(0,n.useRef)(null);const[a,d]=(0,n.useState)(null);const[c,u]=(0,n.useState)(false);(0,n.useLayoutEffect)((()=>()=>{l(e)}),[]);const{data:f,error:p,isError:m,isComplete:h,isProcessing:v,isSuccess:g}=(0,i.useCancellableAsyncMethod)((()=>{if(a){const{routingNumber:e}=a;u(false);if(t.current!==e){t.current=e;const a=(0,o.getRoutingNumberError)(e);if(a){return Promise.reject(a)}return(0,s.validateRoutingNumberApi)(e)}}}),[a]);const y={};if(f){y.bankName=f.name}let b=null;if(!c&&h){if(p){b="Error";if((0,r.isString)(p)){b=p}else if(p.response.status===400){b="Invalid"}}}else{b="Required"}let w="initial";if(c){w="pending"}else if(v){w="processing"}else if(m){w="error"}else if(g){w="success"}return{data:y,error:b,status:w,validateRoutingNumber:S};function S(t,a=0){u(true);l(e);if(a<=0){d({routingNumber:t})}else{e.current=setTimeout((()=>{d({routingNumber:t})}),a)}}}},218249:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.RoutingNumberInputField=f;var n=r(a(856075));var i=u(a(573674));var o=a(273641);var s=a(694131);var l=a(2296);var d=a(157090);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function f(e){const{isDisabled:t,onChange:a=o.noop}=e;const[r,c]=(0,i.useState)("");const[u,f]=(0,i.useState)(false);const{data:p,error:m,status:h,validateRoutingNumber:v}=(0,d.useRoutingNumberValidator)();(0,i.useEffect)((()=>{a(r,m)}),[r,m]);const g=h==="error"||h==="success";const y=g&&u&&!!m;return(0,n.default)(s.TextField,{autoComplete:"disable-auto-complete",disabled:t,error:y&&m,hasError:y,id:"collections-and-refunds-routing-number-input-field",label:$.__("Routing Number"),note:(0,l.getRoutingNumberNote)(h,p.bankName),onBlur:e=>{v(e.target.value);f(true)},onChange:e=>{c(e.target.value);v(e.target.value,1e3);f(true)},required:true,value:r,width:8})}},883711:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.getDifferentBankOtherType=r;t.getInitialTransactionMethodType=n;t.getTransactionMethodData=i;t.getTransactionMethodErrors=o;t.isLocationGreenhouse=s;t.isStringNumeric=l;t.renderWireMessage=d;function r(e){return e==="collection"?"other":"otherNoBank"}function n(e,t){if(e&&e.length){return"bank"}return r(t)}function i(e){const{accountNumber:t,accountNumberError:a,accountType:r,accountTypeError:n,bankId:i,routingNumber:s,routingNumberError:l,type:d}=e;const c={bankType:d};c.errors=o({accountNumberError:a,accountTypeError:n,routingNumberError:l,type:d});if(d==="bank"){c.bankId=i}else if(d==="other"){c.accountNumber=t;c.accountType=r;c.routingNumber=s}return c}function o(e){const{accountNumberError:t,accountTypeError:a,routingNumberError:r,type:n}=e;let i=null;if(n==="other"){if(t||a||r){i={};if(t){i.accountNumber=t}if(a){i.accountType=a}if(r){i.routingNumber=r}}}return i}function s(){return window.location.pathname.split("/")[1]==="greenhouse"}function l(e){return/^\d+?$/.test(e)}function d(){return $.__("You commit to wiring the above amount within 2-3 business days. Our wire information will be provided after your approval.")}},122345:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"TransactionMethodSelector",{enumerable:true,get:function(){return r.TransactionMethodSelector}});var r=a(876396)},301150:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.transformValidateRoutingNumberApiResponse=a;function a(e){return e.data}},262385:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateRoutingNumberApi=l;var r=a(417842);var n=a(883711);var i=a(301150);const o=r.ajax.create("client-routing-ajax",{baseURL:"/payroll/direct_deposit/routing/validate"});const s=r.ajax.create("gh-routing-ajax",{baseURL:"/greenhouse/bamboohr_payroll/banking/ajax/routing_number/validate"});function l(e){return((0,n.isLocationGreenhouse)()?s:o).request({method:"get",url:`/${e}`}).then(i.transformValidateRoutingNumberApiResponse)}},876396:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.TransactionMethodSelector=c;var n=r(a(856075));var i=d(a(573674));var o=a(816940);var s=a(883711);a(774002);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function c(e){const{banksOnFile:t,collectionRefundType:a,handleChange:r,isDisabled:l,renderWireInformation:d=s.renderWireMessage}=e;const[c,u]=(0,i.useState)((()=>(0,s.getInitialTransactionMethodType)(t,a)));const[f,p]=(0,i.useState)(t&&t.length?t[0].bankId:null);const[m,h]=(0,i.useState)("");const[v,g]=(0,i.useState)("Required");const[y,b]=(0,i.useState)("");const[w,S]=(0,i.useState)("Required");const[O,T]=(0,i.useState)(null);const[C,P]=(0,i.useState)("Required");const E=c==="bank";const M=c==="other"||c==="otherNoBank";const x=c==="wire";(0,i.useEffect)((()=>{const e=(0,s.getTransactionMethodData)({accountNumber:y,accountNumberError:w,accountType:O,accountTypeError:C,bankId:f,routingNumber:m,routingNumberError:v,type:c});r(e)}),[y,w,O,C,f,r,m,v,c]);return(0,n.default)("div",{className:"TransactionMethodSelector"},void 0,(0,n.default)("form",{autoComplete:"off"},void 0,(0,n.default)("fieldset",{className:"fab-RadioGroup"},void 0,(0,n.default)("legend",{className:"fab-Label TransactionMethodSelector__groupLabel"},void 0,a==="refund"?$.__("Select Refund Method"):$.__("Select Collection Method")),t&&t.map((e=>(0,n.default)(o.FabInputRadio,{handleChange:t=>{u("bank");p(e.bankId)},id:`transaction-method-selector-radio-bank-${e.bankId}`,isChecked:E&&f===e.bankId,isDisabled:l,label:`${e.bankName} ${e.maskedAccountNumber}`,name:"transactionMethod"},e.bankId))),(0,n.default)(o.FabInputRadio,{handleChange:()=>u((0,s.getDifferentBankOtherType)(a)),id:"transaction-method-selector-radio-other-bank",isChecked:M,isDisabled:l,label:$.__("Use Different Bank Account"),name:"transactionMethod"}),M&&(0,n.default)("div",{className:"TransactionMethodSelector__otherBank"},void 0,a==="refund"?(0,n.default)("div",{},void 0,$.__("Once the refund has been accepted, our tax admin team will reach out to you to collect your bank account information.")):i.default.createElement(i.default.Fragment,null,(0,n.default)("div",{className:"TransactionMethodSelector__otherBankInputField"},void 0,(0,n.default)(o.RoutingNumberInputField,{isDisabled:l,onChange:(e,t)=>{h(e);g(t)}})),(0,n.default)("div",{className:"TransactionMethodSelector__otherBankInputField"},void 0,(0,n.default)(o.AccountNumberInputField,{isDisabled:l,onChange:(e,t)=>{b(e);S(t)}})),(0,n.default)("div",{className:"TransactionMethodSelector__otherBankInputField"},void 0,(0,n.default)(o.AccountTypeInputField,{isDisabled:l,onChange:(e,t)=>{T(e);P(t)}})))),a==="collection"&&i.default.createElement(i.default.Fragment,null,(0,n.default)(o.FabInputRadio,{handleChange:e=>u(e.target.value),id:"transaction-method-selector-radio-wire-transfer",isChecked:x,isDisabled:l,label:$.__("Wire Transfer"),name:"transactionMethod",value:"wire"}),x&&(0,n.default)("div",{className:"TransactionMethodSelector__wireTransferMessage"},void 0,d())))))}},879059:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=i(a(573674));function n(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(n=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=n(t);if(a&&a.has(e)){return a.get(e)}var r={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;if(s&&(s.get||s.set)){Object.defineProperty(r,o,s)}else{r[o]=e[o]}}}r.default=e;if(a){a.set(e,r)}return r}class o extends r.Component{constructor(...e){super(...e);this._formRef=(0,r.createRef)();this.state={isValid:true}}static get className(){return"Validator"}componentDidMount(){this._validator=$(this._formRef.current).bhrValidate()}render(){return r.default.createElement("form",{ref:this._formRef},this.props.render({isValid:this.state.isValid,reset:this._reset.bind(this),validate:this._validate.bind(this)}))}_validate(){const e=this._validator.form();this.setState({isValid:e});return e}_reset(){this._validator.resetForm()}}var s=o;t.default=s},495580:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"WireTransferInfo",{enumerable:true,get:function(){return r.WireTransferInfo}});var r=a(229124)},229124:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.WireTransferInfo=s;var n=r(a(856075));var i=r(a(573674));var o=a(753134);a(410401);function s(){return(0,n.default)("table",{className:"WireTransferInfo"},void 0,(0,n.default)("tbody",{},void 0,(0,n.default)("tr",{},void 0,(0,n.default)("td",{},void 0,$.__("Bank:")),(0,n.default)("td",{},void 0,"Wells Fargo")),(0,n.default)("tr",{},void 0,(0,n.default)("td",{},void 0,$.__("Routing Number:")),(0,n.default)("td",{},void 0,"121000248")),(0,n.default)("tr",{},void 0,(0,n.default)("td",{},void 0,$.__("Account Number:")),(0,n.default)("td",{},void 0,"3711853659")),(0,n.default)("tr",{},void 0,(0,n.default)("td",{},void 0,$.__("Bank Address:")),(0,n.default)("td",{},void 0,"420 Montgomery, San Francisco, CA 94104")),(0,n.default)("tr",{},void 0,(0,n.default)("td",{},void 0,$.__("Beneficiary Name:")),(0,n.default)("td",{},void 0,"BambooHR Payroll")),(0,n.default)("tr",{},void 0,(0,n.default)("td",{},void 0,$.__("Beneficiary Address:")),(0,n.default)("td",{},void 0,"740 Alfred Nobel Dr., Hercules, CA 94547")),(0,n.default)("tr",{},void 0,(0,n.default)("td",{},void 0,(0,n.default)(o.Message,{params:["CHIPS"],text:$._("{1} Participant ID:")})),(0,n.default)("td",{},void 0,"ABA 0509"))))}},986370:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=a;function a({children:e,condition:t,wrap:a}){return t?a(e):e}},103540:(e,t,a)=>{"use strict";var jQuery=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(275168));const i='Lato="Lato",sans-serif;'+"Arial=arial,helvetica,sans-serif;"+"Book Antiqua=book antiqua,palatino;"+"Georgia=georgia,palatino;"+"Helvetica=helvetica;"+"Tahoma=tahoma,arial,helvetica,sans-serif;";const o={convert_urls:false,default_link_target:"_blank",fix_list_elements:true,font_formats:i,formats:{bold:{inline:"span",styles:{fontWeight:"700"}}},inline_styles:true,keep_styles:true,link_assume_external_targets:true,link_title:false,mode:"exact",paste_data_images:true,paste_retain_style_properties:"color font-family font-size font-style font-weight text-decoration",relative_urls:false,remove_script_host:false,remove_trailing_brs:false,schema:"html5",target_list:false,theme:"modern",verify_html:true,valid_children:"-li[p]",valid_styles:{"*":"color,font-family,font-size,font-style,font-weight,text-decoration",a:"",p:"margin,margin-bottom,margin-top",ol:"margin,margin-bottom,margin-top",ul:"margin,margin-bottom,margin-top"},paste_preprocess:function(e,t){const a=jQuery("<div>"+t.content+"</div>");a.find("*").removeAttr("id");t.content=a.html()}};var s={...n.default,...o};t.default=s},275168:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;const a="4.9.11";var r={browser_spellcheck:true,cache_suffix:"?v=012",content_css:`/js/tinymce_v${a}/css/bamboo-flat-content.css`,inline:true,language:n(),menubar:false,skin:"bamboo-flat",statusbar:false,baseURL:`/js/tinymce_v${a}`,suffix:".min"};t.default=r;function n(){let e="";if(window.i18next){const t=window.i18next.language;switch(t){case"fr_CA":e="fr";break;case"de_DE":e="de";break;case"nl_NL":e="nl";break;case"es_AR":e="es";break;case"ja_JP":e="ja";break;case"pt_BR":case"zh_CN":e=t;break}}return e}},686758:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(275168));const i={entity_encoding:"raw",forced_root_block:false,object_resizing:false,plugins:"common placeholders contentcleaner placeholderattribute validate",selector:"#subject",toolbar:false,hidden_input:false,valid_elements:"img[!data-is-placeholder|class<placeholder|src|data*]",validate_maxlength:250,validate_required:true,setup:e=>{e.on("keyDown",(function(e){if(e.keyCode===13){e.preventDefault()}}))}};var o=Object.assign({},n.default,i);t.default=o},803603:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={url:"https://staticfe.bamboohr.com",versions:{greenhouse:window.ENV,po:window.ENV,developerportal:window.ENV},odiManifestEndpoints:{greenhouse:"/greenhouse/api/manifests",po:"/dev/micro-fe/manifests/po"}};t.default=a},751916:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});var r={};t.default=s;var n=a(774548);var i=a(964009);Object.keys(i).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(r,e))return;if(e in t&&t[e]===i[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return i[e]}})}));var o=a(273641);function s(e){return function(t){let a;let r;let s={};if((0,o.isElement)(e)||(0,n.isJqueryElement)(e)){a=$(e)}else{let t=(0,n.getCurrentScript)();s=(0,o.mapKeys)((0,n.getAttrs)(t,"^data-"),((e,t)=>(0,o.camelCase)(t.replace(/^data-/,""))));r=s.elemId;a=$($(`#${r}`)[0]||t.siblings(e)[0]||$(e)[0]||t.prev(e||"div")[0])}if(a.length===0){return}r=r||a.attr("id")||(0,o.camelCase)(a.selector);t.prototype.$elem=a;delete s.elemId;t.prototype.compConfig=s;var l=new t(a,r);a.data(t.className,l);i.setupEvents.call(l,`Comp__${r}`,a);return l}}},739412:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.on=l;t.onBlur=d;t.onChange=c;t.onClick=u;t.onCopy=f;t.onCut=p;t.onDblClick=m;t.onFocus=h;t.onInput=v;t.onKeyDown=g;t.onKeyPress=y;t.onKeyUp=b;t.onMouseDown=w;t.onMouseEnter=S;t.onMouseLeave=O;t.onMouseMove=T;t.onMouseOut=C;t.onMouseOver=P;t.onMouseUp=E;t.onMouseWheel=M;t.onPaste=x;t.onReady=k;t.onResize=j;t.onResized=I;t.onOrientationChange=F;t.onScroll=D;t.onSubmit=N;t.onWheel=A;t.onFooterBtnClick=L;t.onFooterCancelClick=R;t.onInvalidForm=B;t.onAjaxSubmit=H;t.onAjaxSubmitFail=W;t.onStateChange=U;t.onPjaxEnd=q;t.feature=Z;t.setupEvents=se;t.removeEvents=le;t.legacy=t.jade=t.featureOff=t.featureOn=t.onSelectChange=t.onDropdownSelect=t.onFooterAction=t.onAction=void 0;var r=a(273641);var n=a(774548);var i=a(479706);const o=(0,n.makeUid)();const s=(0,n.makeUid)();function l(e,t,a){return re(e,t,a)}function d(e,t){return re("blur",e,t)}function c(e,t){return re("change",e,t)}function u(e,t){return re("click",e,t)}function f(e,t){return re("copy",e,t)}function p(e,t){return re("cut",e,t)}function m(e,t){return re("dblclick",e,t)}function h(e,t){return re("focus",e,t)}function v(e,t){return re("input",e,t)}function g(e,t){return re("keydown",e,t)}function y(e,t){return re("keypress",e,t)}function b(e,t){return re("keyup",e,t)}function w(e,t){return re("mousedown",e,t)}function S(e,t){return re("mouseenter",e,t)}function O(e,t){return re("mouseleave",e,t)}function T(e,t){return re("mousemove",e,t)}function C(e,t){return re("mouseout",e,t)}function P(e,t){return re("mouseover",e,t)}function E(e,t){return re("mouseup",e,t)}function M(e,t){return re("mousewheel",e,t)}function x(e,t){return re("paste",e,t)}function k(){return re("ready",null,document)}function j(){return re("resize",null,window)}function I(){return re(o)}function F(){return re("orientationchange",null,window)}function D(e,t){return re("scroll",e,t)}function N(e,t){return re("submit",e,t)}function A(e,t){return re("wheel",e,t)}function L(e=".btnAction"){return re("click","#footer-buttons "+e)}function R(e=".footerCancel"){return re("click","#footer-buttons "+e)}function B(e="form.BhrForms",t){return re("invalid-form",e,t)}function H(e="form.BhrForms[data-ajax-method]",t){return re("ajaxSubmit",e,t)}function W(e="form.BhrForms[data-ajax-method]",t){return re("ajaxSubmitFail",e,t)}function U(){return re("pushState replaceState popState refreshState",null,window)}function q(){return re("pjax:end",null,document)}const V=(e,t)=>re(s,`\n\t\t[data-action="${e}"],\n\t\t[data-action^="${e}:"]\n\t`,t);t.onAction=V;const z=(...e)=>{if(e.length>0){if((0,r.isNumber)(e[0])){if(e[0]==0){e.unshift("primary")}else{e.unshift("secondary")}}e=(0,r.compact)(e)}return V(["SiteFooterAction",...e].join(":"),"footer.SiteFooter")};t.onFooterAction=z;const G=(e="ba-dropdown",t)=>re("ba:dropdownSelect",e,t);t.onDropdownSelect=G;const Y=(e="ba-select",t)=>re("ba:selectChange",e,t);t.onSelectChange=Y;const K=new WeakMap;function Z(e,t=true){return function(a,r){const n=a[r];K.set(n,{...K.get(n),[e]:t})}}const X=e=>Z(e,true);t.featureOn=X;const J=e=>Z(e,false);t.featureOff=J;const Q=()=>X("jade");t.jade=Q;const ee=()=>J("jade");t.legacy=ee;function te(e){const t=K.get(e);return!t||!Object.entries(t).some((([e,t])=>t&&!(0,i.isEnabled)(e)||!t&&(0,i.isEnabled)(e)))}const ae=new WeakMap;function re(e,t,a){return function(r,n){const i=r[n];const o=r.constructor;const l=ae.get(o)||[];let d=e.split(" ");let c=i;if(e===s){d=["click"];c=function(){let[e,...t]=this.dataset.action.split(":");t=t.map((e=>isNaN(e)?e:parseFloat(e)));return r[n](...arguments,...t)}}d.forEach((e=>{l.push({event:e,selector:t,context:a,handler:c,func:i})}));ae.set(o,l)}}let ne=new WeakMap;function ie(){var e=this;if(e.constructor!==Function){e=e.constructor}return ne.get(e)||$(e.context)[0]||document}function oe(e,t,a,...n){if(t.originalEvent instanceof CustomEvent&&(0,r.isPlainObject)(t.originalEvent.detail)){t.detail=t.originalEvent.detail}return e.call(this,t,a,...n)}function se(e,t){var a=this;var r=a.constructor;if(r===Function){console.error("::setupEvents() must be called on a class instance, not the class itself")}var n=ae.get(r);if(!Array.isArray(n)){return}t=$(t)[0]||ie.call(r);ne.set(r,t);if(typeof n!=="undefined"){n.forEach((r=>{let{context:n,event:i,func:s,handler:l,selector:d}=r;if(!te(s)){return}let c=$(n||t);if(d){c.on(`${i}.${e}`,d,(function(e,...t){return oe.call(this,l,e,a,...t)}));return}let u;switch(i){case o:$(window).on(`resize.${e}`,(function(e,...t){clearTimeout(u);u=setTimeout((()=>oe.call(this,l,e,a,...t)),100)}));break;default:c.on(`${i}.${e}`,(function(e,...t){return oe.call(this,l,e,a,...t)}));break}}))}}function le(e){var t;var a=this;if(a.constructor!==Function){a=a.constructor}var n=(t=a,ie).call(t);var i=(0,r.uniq)((ae.get(a)||[]).map((e=>$(e.context||n)[0])).filter((e=>(0,r.isElement)(e)||e===document||e===window)).concat([window,document,n]));if(i.length>0){$(i).off(`.${e}`)}}},964009:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});var n={JadeCtrl:true,LegacyCtrl:true};t.LegacyCtrl=t.JadeCtrl=t.default=void 0;var i=r(a(110405));var o=a(273641);var s=a(994771);var l=a(479706);var d=a(774548);var c=a(739412);Object.keys(c).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(n,e))return;if(e in t&&t[e]===c[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return c[e]}})}));const u={};const f={};const p=new WeakMap;const _=(0,s.createPrivateContext)();function m(e,t={}){var a=(0,o.camelCase)(e);const r=r=>{if(!r.hasOwnProperty("ID")){Object.defineProperty(r,"ID",{value:r.className.replace(/Ctrl$/,"")})}if(!r.hasOwnProperty("getJsonScriptVar")){const e=(e="data",t=r.ID)=>{const a=(0,d.getJsonScriptVar)(e,t);if(a&&a!==_(r)[e]){_(r)[e]=a}return _(r)[e]};Object.defineProperty(r,"getJsonScriptVar",{value:e})}function n(n){var s=[];var l=(0,i.default)(e,s).exec(window.location.pathname);var m=(0,d.queryStringToObject)();var h=r.className;var v=function(){var e=true;(0,o.each)(t,((t,a)=>{e=e&&m[a]==t}));return e}();var g;if(l&&v){const e=s.reduce(((e,{name:t},a)=>({...e,[t]:l[a+1]})),{});if((0,o.isUndefined)(f[h])){Object.assign(r.prototype,{_params:e});if(!r.prototype.hasOwnProperty("_data")){Object.defineProperty(r.prototype,"_data",{get:()=>r.getJsonScriptVar()})}if(!r.prototype.hasOwnProperty("_wrapper")){Object.defineProperty(r.prototype,"_wrapper",{get:()=>document.getElementById(r.ID)})}g=new r;u[h]=r;r.active=true;f[h]=g;p.set(r,g);c.setupEvents.call(g,a);(r.setup||o.noop)(g)}else{g=f[h];Object.assign(g,{_params:e});if(n&&n.type=="refreshState"){(r.teardown||o.noop)(g);(r.setup||o.noop)(g)}}}else if(r.active){(r.teardown||o.noop)(f[h]);r.active=false;delete f[h];c.removeEvents.call(r,a)}}$(window).on("pushState replaceState popState refreshState",n);n()};return r}m.getCtrl=function e(t){if((0,o.isString)(t)){return f[t]}if(!t){return}return p.get(t)};m.refresh=function e(){w("refresh")};m.Feature=function e(t,a,...r){if(a&&!(0,l.isEnabled)(t)||!a&&(0,l.isEnabled)(t)){return o.noop}return m(...r)};m.FeatureOn=(e,...t)=>m.Feature(e,true,...t);m.FeatureOff=(e,...t)=>m.Feature(e,false,...t);m.Jade=(...e)=>m.FeatureOn("jade",...e);m.Legacy=(...e)=>m.FeatureOff("jade",...e);var h=Object.freeze(m);t.default=h;const v=m.Jade;t.JadeCtrl=v;const g=m.Legacy;t.LegacyCtrl=g;function y(){return window.location.pathname+window.location.search}var b=y();function w(e,...t){const[a,r]=t;const n=y();if(b!==n||e=="refresh"){$(window).trigger(`${e}State`,[b,n,a,r]);b=n}}var S=window.history.pushState;window.history.pushState=function e(...t){S.call(window.history,...t);w("push",...t)};var O=window.history.replaceState;window.history.replaceState=function e(...t){O.call(window.history,...t);w("replace",...t)};$(window).on("popstate",(function(e){w("pop",e.state,document.title)}))},539036:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.DEFAULT_OPTIONS=t.POST_LABEL_POSTAL_CODE=t.POST_LABEL_POSTCODE=t.POST_LABEL_ZIP=t.ENTITY_LABEL_PROVINCE=t.ENTITY_LABEL_COUNTY=t.ENTITY_LABEL_STATE=t.COUNTRY_ID_NG=t.COUNTRY_ID_UK=t.COUNTRY_ID_AUS=t.COUNTRY_ID_USA=t.COUNTRY_ID_VOID=void 0;var r=a(266102);const n=0;t.COUNTRY_ID_VOID=n;const i=1;t.COUNTRY_ID_USA=i;const o=3;t.COUNTRY_ID_AUS=o;const s=222;t.COUNTRY_ID_UK=s;const l=157;t.COUNTRY_ID_NG=l;const d=$.__("State");t.ENTITY_LABEL_STATE=d;const c=$.__("County");t.ENTITY_LABEL_COUNTY=c;const u=$.__("Province");t.ENTITY_LABEL_PROVINCE=u;const f=$.__("ZIP");t.POST_LABEL_ZIP=f;const p=$.__("Postcode");t.POST_LABEL_POSTCODE=p;const m=$.__("Postal Code");t.POST_LABEL_POSTAL_CODE=m;const h={endpoint:"/ajax/get_states?country=",initialCountryId:i,initialSubEntityLabel:(0,r.getSubEntityLabel)(i),initialSubEntityOptions:[]};t.DEFAULT_OPTIONS=h},976027:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"useCountrySwitcher",{enumerable:true,get:function(){return r.useCountrySwitcher}});var r=a(80145)},80145:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.useCountrySwitcher=d;t.createSwitchCountry=c;t.createSuccessHandler=u;var n=a(273641);var i=a(573674);var o=r(a(417842));var s=a(539036);var l=a(266102);function d(e){e={...s.DEFAULT_OPTIONS,...e};const{initialCountryId:t,initialPostCodeLabel:a,initialSubEntityLabel:r,initialSubEntityOptions:o}=e;const[d,f]=(0,i.useState)({countryId:t,postCodeLabel:t?(0,l.getPostCodeLabel)(t):a,subEntityLabel:t?(0,l.getSubEntityLabel)(t):r,subEntityOptions:(0,l.getFormattedOptions)(o)});const p=(0,i.useCallback)(u(f),[]);const m=(0,i.useCallback)(c(e,p),[e]);(0,i.useEffect)((()=>{if((0,n.isEmpty)(e.initialSubEntityOptions)){m(e.initialCountryId)}}),[]);return{countryId:d.countryId,postCodeLabel:d.postCodeLabel,subEntityLabel:d.subEntityLabel,subEntityOptions:d.subEntityOptions,switchCountry:m}}function c({endpoint:e},t){return a=>o.default.get(`${e}${a}`).then((e=>{t(a,e.data?e.data.data:[])})).catch((e=>{var t;if((e===null||e===void 0?void 0:(t=e.response)===null||t===void 0?void 0:t.status)>=500){var r;window.Rollbar.error(`Could not fetch state data for country id ${a}, with status code ${e===null||e===void 0?void 0:(r=e.response)===null||r===void 0?void 0:r.status}`,e)}}))}function u(e){return(t,a)=>{e({countryId:t,postCodeLabel:(0,l.getPostCodeLabel)(t),subEntityLabel:(0,l.getSubEntityLabel)(t),subEntityOptions:(0,l.getFormattedOptions)(a)})}}},266102:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getFormattedOptions=n;t.getSubEntityLabel=i;t.getPostCodeLabel=o;var r=a(539036);function n(e){return e?Array.from(e).map((e=>({...e,text:e.displayText||e.name||e.text,value:e.id||e.value}))):[]}function i(e){switch(parseInt(e)){case r.COUNTRY_ID_VOID:case r.COUNTRY_ID_USA:case r.COUNTRY_ID_AUS:case r.COUNTRY_ID_NG:return r.ENTITY_LABEL_STATE;case r.COUNTRY_ID_UK:return r.ENTITY_LABEL_COUNTY;default:return r.ENTITY_LABEL_PROVINCE}}function o(e){switch(parseInt(e)){case r.COUNTRY_ID_VOID:case r.COUNTRY_ID_USA:return r.POST_LABEL_ZIP;case r.COUNTRY_ID_AUS:case r.COUNTRY_ID_UK:return r.POST_LABEL_POSTCODE;default:return r.POST_LABEL_POSTAL_CODE}}},231147:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"useDragAndDrop",{enumerable:true,get:function(){return n.default}});var n=r(a(659189))},659189:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(573674);var n=a(273641);function i(e,t="id"){const[a,i]=(0,r.useState)(e);const[o,s]=(0,r.useState)();const l=e=>a.find((a=>a[t].toString()===e.toString()));const d=(e,t)=>{s(l(t));e.dataTransfer.effectAllowed="move";try{e.dataTransfer.dropEffect="move"}catch(e){}};const c=(e,r,s)=>{e.preventDefault();if(o){const e=l(r);const d=a.findIndex((e=>e[t].toString()===r.toString()));if(o[t]===e[t]){return}const c=a.filter((e=>e[t]!==o[t]));c.splice(d,0,o);if(s&&typeof s==="function"){s((0,n.cloneDeep)(c),(0,n.cloneDeep)(e))}else{i(c)}}};const u=()=>{s(undefined)};return[a,i,o,{handleDragStart:d,handleDragOver:c,handleDragEnd:u}]}var o=i;t.default=o},803976:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"useTransition",{enumerable:true,get:function(){return r.useTransition}});var r=a(772141)},772141:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.useTransition=d;var n=a(121198);var i=a(573674);var o=r(a(60042));a(399238);const s=new n.BEM("TransitionHook");const l=250;function d({show:e=true,useAutoTimeout:t=true}){const[a,r]=(0,i.useState)(e);const[n,d]=(0,i.useState)(false);const[c,u]=(0,i.useState)(!e);(0,i.useEffect)((()=>{let a;if(e){d(true);u(false);r(e);a=setTimeout((()=>{u(true);d(false)}),t?l:null)}else{d(true);u(true);a=setTimeout((()=>{u(false);r(e);d(false)}),t?l:null)}return()=>{clearTimeout(a);d(false)}}),[e,t]);return{isEnabled:a,isTransitioning:n,transitionClasses:(0,o.default)({[s.elem()]:c,[s.elem("willAnimate--show")]:c&&e,[s.elem("willAnimate")]:true})}}},191948:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useCancellableAsyncMethod=s;var r=a(273641);var n=a(573674);const i={data:null,error:null,isComplete:false,isError:false,isProcessing:false,isSuccess:false};function o(e,t){const{payload:a,type:r}=t;switch(r){case"async_begin":return{...i,isProcessing:true};case"async_error":return{...e,error:a,isComplete:true,isError:true,isProcessing:false};case"async_success":return{...e,data:a,isComplete:true,isProcessing:false,isSuccess:true};default:return e}}function s(e,t,a={}){if(!e){throw new Error(`useCancellableAsyncMethod 'asyncMethod' is required.`)}if(typeof e!=="function"){throw new Error(`useCancellableAsyncMethod 'asyncMethod' must be a function.`)}if(!t){throw new Error(`useCancellableAsyncMethod 'asyncMethodDeps' is required.`)}if(!Array.isArray(t)){throw new Error(`useCancellableAsyncMethod 'asyncMethodDeps' must be an array.`)}if(typeof a!=="object"){throw new Error(`useCancellableAsyncMethod 'options' must be an object.`)}const s=(0,n.useRef)(null);const l=(0,n.useRef)({onError:undefined,onSuccess:undefined});l.current.onError=a.onError||r.noop;l.current.onSuccess=a.onSuccess||r.noop;if(typeof l.current.onError!=="function"){throw new Error(`useCancellableAsyncMethod 'onError' must be a function.`)}if(typeof l.current.onSuccess!=="function"){throw new Error(`useCancellableAsyncMethod 'onSuccess' must be a function.`)}const d=(0,n.useRef)(false);const c=(0,n.useCallback)((()=>e()),t);const[u,f]=(0,n.useReducer)(o,i);(0,n.useLayoutEffect)((()=>()=>{d.current=true}),[]);(0,n.useLayoutEffect)((()=>{const e=c();if(e){s.current=e;f({type:"async_begin"});e.then((t=>{if(!d.current){if(e===s.current){l.current.onSuccess(t);f({type:"async_success",payload:t})}}})).catch((t=>{if(!d.current){if(e===s.current){l.current.onError(t);f({type:"async_error",payload:t})}}}))}}),[c]);return u}},731968:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"useNonInitialEffect",{enumerable:true,get:function(){return r.useNonInitialEffect}});var r=a(802513)},802513:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useNonInitialEffect=void 0;var r=a(573674);const n=(e,t)=>{const a=(0,r.useRef)(true);(0,r.useEffect)((()=>{let t=()=>{};if(a.current){a.current=false}else{t=e()}if(t&&typeof t==="function"){return t}}),t)};t.useNonInitialEffect=n},818375:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.flextree=i;var r=a(311986);const n=Object.freeze({children:e=>e.children,nodeSize:e=>e.data.size,spacing:0});function i(e){const t=Object.assign({},n,e);function a(e){const a=t[e];return typeof a==="function"?a:()=>a}function i(e){const t=c(d(),e,(e=>e.children));t.update();return t.data}function l(){const e=a("nodeSize");const t=a("spacing");return class a extends r.hierarchy.prototype.constructor{static get className(){return"FlexNode"}constructor(e){super(e)}copy(){const e=c(this.constructor,this,(e=>e.children));e.each((e=>e.data=e.data.data));return e}get size(){return e(this)}spacing(e){return t(this,e)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const e=this.ancestors();return e[e.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return this.children===null}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce(((e,t)=>a.maxExtents(e,t.extents)),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(e,t){return{top:Math.min(e.top,t.top),bottom:Math.max(e.bottom,t.bottom),left:Math.min(e.left,t.left),right:Math.max(e.right,t.right)}}}}function d(){const e=l();const t=a("nodeSize");const r=a("spacing");return class extends e{constructor(e){super(e);Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return t(this.data)}spacing(e){return r(this.data,e.data)}get x(){return this.data.x}set x(e){this.data.x=e}get y(){return this.data.y}set y(e){this.data.y=e}update(){o(this);s(this);return this}}}function c(e,t,a){const r=(t,n)=>{const i=new e(t);Object.assign(i,{parent:n,depth:n===null?0:n.depth+1,height:0,length:1});const o=a(t)||[];i.children=o.length===0?null:o.map((e=>r(e,i)));if(i.children){Object.assign(i,i.children.reduce(((e,t)=>({height:Math.max(e.height,t.height+1),length:e.length+t.length})),i))}return i};return r(t,null)}Object.assign(i,{nodeSize(e){return arguments.length?(t.nodeSize=e,i):t.nodeSize},spacing(e){return arguments.length?(t.spacing=e,i):t.spacing},children(e){return arguments.length?(t.children=e,i):t.children},hierarchy(e,a){const r=typeof a==="undefined"?t.children:a;return c(l(),e,r)},dump(e){const t=a("nodeSize");const r=e=>a=>{const n=e+"  ";const i=e+"    ";const{x:o,y:s}=a;const l=t(a);const d=a.children||[];const c=d.length===0?" ":`,${n}children: [${i}${d.map(r(i)).join(i)}${n}],${e}`;return`{ size: [${l.join(", ")}],${n}x: ${o}, y: ${s}${c}},`};return r("\n")(e)}});return i}i.version="2.1.1";const o=(e,t=0)=>{e.y=t;(e.children||[]).reduce(((t,a)=>{const[r,n]=t;o(a,e.y+e.ySize);const i=(r===0?a.lExt:a.rExt).bottom;if(r!==0)d(e,r,n);const s=g(i,r,n);return[r+1,s]}),[0,null]);l(e);v(e);return e};const s=(e,t,a)=>{if(typeof t==="undefined"){t=-e.relX-e.prelim;a=0}const r=t+e.relX;e.relX=r+e.prelim-a;e.prelim=0;e.x=a+e.relX;(e.children||[]).forEach((t=>s(t,r,e.x)));return e};const l=e=>{(e.children||[]).reduce(((e,t)=>{const[a,r]=e;const n=a+t.shift;const i=r+n+t.change;t.relX+=i;return[n,i]}),[0,0])};const d=(e,t,a)=>{const r=e.children[t-1];const n=e.children[t];let i=r;let o=r.relX;let s=n;let l=n.relX;let d=true;while(i&&s){if(i.bottom>a.lowY)a=a.next;const r=o+i.prelim-(l+s.prelim)+i.xSize/2+s.xSize/2+i.spacing(s);if(r>0||r<0&&d){l+=r;c(n,r);u(e,t,a.index,r)}d=false;const m=i.bottom;const h=s.bottom;if(m<=h){i=p(i);if(i)o+=i.relX}if(m>=h){s=f(s);if(s)l+=s.relX}}if(!i&&s)m(e,t,s,l);else if(i&&!s)h(e,t,i,o)};const c=(e,t)=>{e.relX+=t;e.lExtRelX+=t;e.rExtRelX+=t};const u=(e,t,a,r)=>{const n=e.children[t];const i=t-a;if(i>1){const t=r/i;e.children[a+1].shift+=t;n.shift-=t;n.change-=r-t}};const f=e=>e.hasChildren?e.firstChild:e.lThr;const p=e=>e.hasChildren?e.lastChild:e.rThr;const m=(e,t,a,r)=>{const n=e.firstChild;const i=n.lExt;const o=e.children[t];i.lThr=a;const s=r-a.relX-n.lExtRelX;i.relX+=s;i.prelim-=s;n.lExt=o.lExt;n.lExtRelX=o.lExtRelX};const h=(e,t,a,r)=>{const n=e.children[t];const i=n.rExt;const o=e.children[t-1];i.rThr=a;const s=r-a.relX-n.rExtRelX;i.relX+=s;i.prelim-=s;n.rExt=o.rExt;n.rExtRelX=o.rExtRelX};const v=e=>{if(e.hasChildren){const t=e.firstChild;const a=e.lastChild;const r=(t.prelim+t.relX-t.xSize/2+a.relX+a.prelim+a.xSize/2)/2;Object.assign(e,{prelim:r,lExt:t.lExt,lExtRelX:t.lExtRelX,rExt:a.rExt,rExtRelX:a.rExtRelX})}};const g=(e,t,a)=>{while(a!==null&&e>=a.lowY)a=a.next;return{lowY:e,index:t,next:a}}},929392:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.sprintf=d;t.default=void 0;var n=r(a(801846));var i=r(a(666317));var o=r(a(725178));var s=r(a(555410));let l=s.default.process;s.default.process=function e(t,a,r){t=t.replace(/(%\d+)(\$\w)?/g,"$1$s");return l(t,a,r)};function d(e,...t){return s.default.process(e,e,{sprintf:t})}window.sprintf=d;n.default.use(o.default).use(i.default).use(s.default);var c=n.default;t.default=c},440716:(e,t,a)=>{"use strict";var jQuery=a(992005);(function($){$.fn.extend({autocomplete:function(e,t){var a=typeof e=="string";t=$.extend({},$.Autocompleter.defaults,{url:a?e:null,data:a?null:e,delay:a?$.Autocompleter.defaults.delay:10,max:t&&!t.scroll?10:150},t);t.highlight=t.highlight||function(e){return e};t.formatMatch=t.formatMatch||t.formatItem;return this.each((function(){new $.Autocompleter(this,t)}))},result:function(e){return this.bind("result",e)},search:function(e){return this.trigger("search",[e])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(e){return this.trigger("setOptions",[e])},unautocomplete:function(){return this.trigger("unautocomplete")}});$.Autocompleter=function(e,t){var a={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var r=$(e).attr("autocomplete","off").addClass(t.inputClass);var n;var i="";var o=$.Autocompleter.Cache(t);var s=0;var l;var d={mouseDownOnSelect:false};var c=$.Autocompleter.Select(t,e,f,d);var u;$.browser.opera&&$(e.form).bind("submit.autocomplete",(function(){if(u){u=false;return false}}));r.bind(($.browser.opera?"keypress":"keydown")+".autocomplete",(function(e){s=1;l=e.keyCode;switch(e.keyCode){case a.UP:e.preventDefault();if(c.visible()){c.prev()}else{p(0,true)}break;case a.DOWN:e.preventDefault();if(c.visible()){c.next()}else{p(0,true)}break;case a.PAGEUP:e.preventDefault();if(c.visible()){c.pageUp()}else{p(0,true)}break;case a.PAGEDOWN:e.preventDefault();if(c.visible()){c.pageDown()}else{p(0,true)}break;case t.multiple&&$.trim(t.multipleSeparator)==","&&a.COMMA:case a.TAB:case a.RETURN:if(f()){e.preventDefault();u=true;return false}break;case a.ESC:c.hide();break;default:clearTimeout(n);n=setTimeout(p,t.delay);break}})).focus((function(){s++})).blur((function(){s=0;if(!d.mouseDownOnSelect){g()}})).click((function(){if(s++>1&&!c.visible()){p(0,true)}})).bind("search",(function(){var e=arguments.length>1?arguments[1]:null;function t(t,a){var n;if(a&&a.length){for(var i=0;i<a.length;i++){if(a[i].result.toLowerCase()==t.toLowerCase()){n=a[i];break}}}if(typeof e=="function")e(n);else r.trigger("result",n&&[n.data,n.value])}$.each(m(r.val()),(function(e,a){w(a,t,t)}))})).bind("flushCache",(function(){o.flush()})).bind("setOptions",(function(){$.extend(t,arguments[1]);if("data"in arguments[1])o.populate()})).bind("unautocomplete",(function(){c.unbind();r.unbind();$(e.form).unbind(".autocomplete")}));function f(){var a=c.selected();if(!a)return false;var n=a.result;i=n;if(t.multiple){var o=m(r.val());if(o.length>1){var s=t.multipleSeparator.length;var l=$(e).selection().start;var d,u=0;$.each(o,(function(e,t){u+=t.length;if(l<=u){d=e;return false}u+=s}));o[d]=n;n=o.join(t.multipleSeparator)}n+=t.multipleSeparator}r.val(n);y();r.trigger("result",[a.data,a.value]);return true}function p(e,n){if(l==a.DEL){c.hide();return}var o=r.val();if(!n&&o==i)return;i=o;o=h(o);if(o.length>=t.minChars){r.addClass(t.loadingClass);if(!t.matchCase)o=o.toLowerCase();w(o,b,y)}else{O();c.hide()}}function m(e){if(!e)return[""];if(!t.multiple)return[$.trim(e)];return $.map(e.split(t.multipleSeparator),(function(t){return $.trim(e).length?$.trim(t):null}))}function h(a){if(!t.multiple)return a;var r=m(a);if(r.length==1)return r[0];var n=$(e).selection().start;if(n==a.length){r=m(a)}else{r=m(a.replace(a.substring(n),""))}return r[r.length-1]}function v(n,o){if(t.autoFill&&h(r.val()).toLowerCase()==n.toLowerCase()&&l!=a.BACKSPACE){r.val(r.val()+o.substring(h(i).length));$(e).selection(i.length,i.length+o.length)}}function g(){clearTimeout(n);n=setTimeout(y,200)}function y(){var e=c.visible();c.hide();clearTimeout(n);O();if(t.mustMatch){r.search((function(e){if(!e){if(t.multiple){var a=m(r.val()).slice(0,-1);r.val(a.join(t.multipleSeparator)+(a.length?t.multipleSeparator:""))}else{r.val("");r.trigger("result",null)}}}))}}function b(e,t){if(t&&t.length&&s){O();c.display(t,e);v(e,t[0].value);c.show()}else{y()}}function w(a,r,n){if(!t.matchCase)a=a.toLowerCase();var i=o.load(a);if(i&&i.length){r(a,i)}else if(typeof t.url=="string"&&t.url.length>0){var s={timestamp:+new Date};$.each(t.extraParams,(function(e,t){s[e]=typeof t=="function"?t():t}));var l="GET";if(typeof t.method!="undefined"&&t.method=="POST"){l="POST"}$.ajax({type:l,mode:"abort",port:"autocomplete"+e.name,dataType:t.dataType,url:t.url,data:$.extend({q:h(a),limit:t.max},s),success:function(e){var n=t.parse&&t.parse(e)||S(e);o.add(a,n);r(a,n)}})}else{c.emptyList();n(a)}}function S(e){var a=[];var r=e.split("\n");for(var n=0;n<r.length;n++){var i=$.trim(r[n]);if(i){i=i.split("|");a[a.length]={data:i,value:i[0],result:t.formatResult&&t.formatResult(i,i[0])||i[0]}}}return a}function O(){r.removeClass(t.loadingClass)}};$.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(e){return e[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:true,scrollHeight:180};$.Autocompleter.Cache=function(e){var t={};var a=0;function r(t,a){if(!e.matchCase)t=t.toLowerCase();var r=t.indexOf(a);if(e.matchContains=="word"){r=t.toLowerCase().search("\\b"+a.toLowerCase())}if(r==-1)return false;return r==0||e.matchContains}function n(r,n){if(a>e.cacheLength){o()}if(!t[r]){a++}t[r]=n}function i(){if(!e.data)return false;var t={},a=0;if(!e.url)e.cacheLength=1;t[""]=[];for(var r=0,i=e.data.length;r<i;r++){var o=e.data[r];o=typeof o=="string"?[o]:o;var s=e.formatMatch(o,r+1,e.data.length);if(s===false)continue;var l=s.charAt(0).toLowerCase();if(!t[l])t[l]=[];var d={value:s,data:o,result:e.formatResult&&e.formatResult(o)||s};t[l].push(d);if(a++<e.max){t[""].push(d)}}$.each(t,(function(t,a){e.cacheLength++;n(t,a)}))}setTimeout(i,25);function o(){t={};a=0}return{flush:o,add:n,populate:i,load:function(n){if(!e.cacheLength||!a)return null;if(!e.url&&e.matchContains){var i=[];for(var o in t){if(o.length>0){var s=t[o];$.each(s,(function(e,t){if(r(t.value,n)){i.push(t)}}))}}return i}else if(t[n]){return t[n]}else if(e.matchSubset){for(var l=n.length-1;l>=e.minChars;l--){var s=t[n.substr(0,l)];if(s){var i=[];$.each(s,(function(e,t){if(r(t.value,n)){i[i.length]=t}}));return i}}}return null}}};$.Autocompleter.Select=function(e,t,a,r){var n={ACTIVE:"ac_over"};var i,o=-1,s,l="",d=true,c,u;function f(){if(!d)return;c=$("<div/>").hide().addClass(e.resultsClass).css("position","absolute").appendTo(document.body);u=$("<ul/>").appendTo(c).mouseover((function(e){if(p(e).nodeName&&p(e).nodeName.toUpperCase()=="LI"){o=$("li",u).removeClass(n.ACTIVE).index(p(e));$(p(e)).addClass(n.ACTIVE)}})).click((function(e){$(p(e)).addClass(n.ACTIVE);a();t.click();return false})).mousedown((function(){r.mouseDownOnSelect=true})).mouseup((function(){r.mouseDownOnSelect=false}));if(e.width>0)c.css("width",e.width);d=false}function p(e){var t=e.target;while(t&&t.tagName!="LI")t=t.parentNode;if(!t)return[];return t}function m(t){i.slice(o,o+1).removeClass(n.ACTIVE);h(t);var a=i.slice(o,o+1).addClass(n.ACTIVE);if(e.scroll){var r=0;i.slice(0,o).each((function(){r+=this.offsetHeight}));if(r+a[0].offsetHeight-u.scrollTop()>u[0].clientHeight){u.scrollTop(r+a[0].offsetHeight-u.innerHeight())}else if(r<u.scrollTop()){u.scrollTop(r)}}}function h(e){o+=e;if(o<0){o=i.size()-1}else if(o>=i.size()){o=0}}function v(t){return e.max&&e.max<t?e.max:t}function g(){u.empty();var t=v(s.length);for(var a=0;a<t;a++){if(!s[a])continue;var r=e.formatItem(s[a].data,a+1,t,s[a].value,l);if(r===false)continue;var d=$("<li/>").html(e.highlight(r,l)).addClass(a%2==0?"ac_even":"ac_odd").addClass(s[0].data[1]).appendTo(u)[0];$.data(d,"ac_data",s[a])}i=u.find("li");if(e.selectFirst){i.slice(0,1).addClass(n.ACTIVE);o=0}if($.fn.bgiframe)u.bgiframe()}return{display:function(e,t){f();s=e;l=t;g()},next:function(){m(1)},prev:function(){m(-1)},pageUp:function(){if(o!=0&&o-8<0){m(-o)}else{m(-8)}},pageDown:function(){if(o!=i.size()-1&&o+8>i.size()){m(i.size()-1-o)}else{m(8)}},hide:function(){c&&c.hide();i&&i.removeClass(n.ACTIVE);o=-1},visible:function(){return c&&c.is(":visible")},current:function(){return this.visible()&&(i.filter("."+n.ACTIVE)[0]||e.selectFirst&&i[0])},show:function(){var a=$(t).offset();c.css({width:typeof e.width=="string"||e.width>0?e.width:$(t).width(),top:a.top+t.offsetHeight,left:a.left}).show();if(e.scroll){u.scrollTop(0);u.css({maxHeight:e.scrollHeight,overflow:"auto"});if($.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var r=0;i.each((function(){r+=this.offsetHeight}));var n=r>e.scrollHeight;u.css("height",n?e.scrollHeight:r);if(!n){i.width(u.width()-parseInt(i.css("padding-left"))-parseInt(i.css("padding-right")))}}}},selected:function(){var e=i&&i.filter("."+n.ACTIVE).removeClass(n.ACTIVE);return e&&e.length&&$.data(e[0],"ac_data")},emptyList:function(){u&&u.empty()},unbind:function(){c&&c.remove()}}};$.fn.selection=function(e,t){if(e!==undefined){return this.each((function(){if(this.createTextRange){var a=this.createTextRange();if(t===undefined||e==t){a.move("character",e);a.select()}else{a.collapse(true);a.moveStart("character",e);a.moveEnd("character",t);a.select()}}else if(this.setSelectionRange){this.setSelectionRange(e,t)}else if(this.selectionStart){this.selectionStart=e;this.selectionEnd=t}}))}var a=this[0];if(a.createTextRange){var r=document.selection.createRange(),n=a.value,i="<->",o=r.text.length;r.text=i;var s=a.value.indexOf(i);a.value=n;this.selection(s,s+o);return{start:s,end:s+o}}else if(a.selectionStart!==undefined){return{start:a.selectionStart,end:a.selectionEnd}}}})(jQuery)},945341:(e,t,a)=>{"use strict";var $=a(992005);var moment=a(496406);var r=a(479706);var n=a(774548);(function($,moment){const e=(0,r.isEnabled)("jade");var t={isInRange:function(e,t,a,r){if(t&&e.isBefore(t,r)||a&&e.isAfter(a,r)){return false}return true},isEqual:function(e,t){return JSON.stringify(e)===JSON.stringify(t)},kebabToCamel:function(e){return e.split("-").reduce((function(e,t){if(!t.length){return e}return!e.length?t:e+t[0].toUpperCase()+t.substr(1)}),"")},createYearDropdown:function(e,t,a){var r="<select>";var n=[];var i;var o=moment(e);if(a){o=o.month(a.month());if(e.isAfter(o,"month")){o=o.add(1,"years")}}while(o.isSameOrBefore(t,"month")){i=['value="'+o.year()+'"'];if(a&&o.year()===a.year()){i.push("selected")}n.push("<option "+i.join(" ")+">"+o.year()+"</option>");o=o.add(1,"years")}r+=n.join("");r+="</select>";return $(r)},createMonthDropdown:function(e,t,a){var r=moment.monthsShort();var n="<select>";var i=[];var o;var s=moment(a).startOf("year");var l=moment(a).endOf("year");for(var d=0;d<r.length;d++){s=s.month(d);if(s.isBefore(e,"month")||s.isAfter(l,"month")||s.isAfter(t,"month")){continue}o=['value="'+d+'"'];if(d===a.month()){o.push("selected")}i.push("<option "+o.join(" ")+">"+r[d]+"</option>")}n+=i.join("");n+="</select>";return $(n)},debounce:function(e,t){return function(){var a=arguments;var r;if(r){window.clearTimeout(r)}setTimeout((function(){e.apply(null,a)}),t)}},isWeekend:function(e){const t=e.day();return t===0||t===6},waitForRender(){return new Promise((e=>{window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e()}))}))}))}};function a(){this.eventHandlers={}}a.prototype={on:function(e,t){if(!this.eventHandlers[e]){this.eventHandlers[e]=[]}this.eventHandlers[e].push(t)},off:function(e,t){var a=this.eventHandlers[e];if(!a||!a.length){return}var r=a.indexOf(t);if(r>-1){a.splice(r,1)}},trigger:function(e){var t=this.eventHandlers[e];if(!t||!t.length){return}var a=Array.prototype.slice.call(arguments,1);t.forEach(function(e){e.apply(this,a)}.bind(this))}};$.fn.calendarPicker=function(e){return this.each((function(){var t=$(this);if(t.data("calendarPicker")||this.__calendarPicker){return}var a=new p(this,e);t.data("calendarPicker",a);this.__calendarPicker=a}))};var i={DATE:"date",DATE_RANGE:"date-range",MONTH:"month",MONTH_RANGE:"month-range"};var o={SINGLE:"single",RANGE:"range"};var s={START:"start",END:"end"};var l={DAY:"day",MONTH:"month"};var d="YYYY-MM-DD";var c=["format","max","min","start","end","future-only","now-and-future-only","past-only","now-and-past-only","toggle-on-focus","quick-nav"];var u="CalendarPicker__input--focus";var f={dualGrid:false,max:moment().add(50,"years"),min:moment().subtract(100,"years"),noFacade:false,period:l.DAY,quickNav:"auto",selectionMode:o.SINGLE,toggleOnFocus:false,disableWeekends:false,disableDays:[]};function p(e,t){this.$anchor=$(e).addClass("CalendarPicker");this.toggleButtons=[];this.isMobileDevice=(0,n.isWidthBelowSupportedMinWidth)();this._wireOptions(t);if(!this.options.noFacade){this._wireHiddenInputs()}if(this.options.toggleButton){this._addToggleButtons()}this._wireInternalEvents();this._wireExternalEvents();this._originalStart=this.options.start;this._originalEnd=this.options.end;this._popoverVisible=false;this.setRange(this._originalStart,this._originalEnd);this.enableDisableButtons()}p.prototype.setOptions=function(e){this._wireOptions(e);this._originalStart=this.options.start;this._originalEnd=this.options.end;if(this.gridManager){this.gridManager.setOptions(this._getGridManagerOptions())}this._updateGridManager();this.setRange(this._originalStart,this._originalEnd);this.enableDisableButtons()};p.prototype.enableDisableButtons=function(){const{disabled:e=false}=this.options;if(this.$start){this.$start.siblings("button").attr("disabled",e)}if(this.$end){this.$end.siblings("button").attr("disabled",e)}};p.prototype._wireOptions=function(e={}){this.options=this.options||{};this.options=$.extend(true,{},f,this.options,e,{});this.options=$.extend(true,{},this.options,this._getOptionsFromPresets(this.$anchor),this._getOptionsFromAttributes(this.$anchor));this.options.format=this.options.format||moment.defaultFormat;if(this.options.min){this.options.min=this._normalizeToTick(this.options.min)}if(this.options.max){this.options.max=this._normalizeToTick(this.options.max)}this._setInputs(this.options.startInput,this.options.endInput);if(this.options.noFacade){this.options.start=this._getTickFromInput(this.$start);if(o.RANGE===this.options.selectionMode){this.options.end=this._getTickFromInput(this.$end)}}return e};p.prototype._getOptionsFromPresets=function(e){var t={};var a=e.attr("calendar-picker");if(i.DATE_RANGE===a||i.MONTH_RANGE===a){t.selectionMode=o.RANGE;t.dualGrid=true}if(i.DATE_RANGE===a){t.period=l.DAY}else if(i.MONTH_RANGE===a||i.MONTH===a){t.period=l.MONTH;t.format="MMM YYYY"}return t};p.prototype._getOptionsFromAttributes=function(e){var a={};var r=e.attr("calendar-picker-options");c.forEach((function(r){var n=null;var i=null;var o=false;if(e[0].hasAttribute(r)){n=e[0].getAttribute(r);i=t.kebabToCamel(r);o=n==="true"||n==="false";if(n&&!o){a[i]=n}else if(n&&o){a[i]=n==="true"}else{a[i]=true}}}));if(r){r=r.replace(/\'/g,'"');a=$.extend(true,{},a,JSON.parse(r))}if(a.futureOnly){a.min=moment().add(1,this.options.period)}if(a.nowAndFutureOnly){a.min=moment()}if(a.pastOnly){a.max=moment().subtract(1,this.options.period)}if(a.nowAndPastOnly){a.max=moment()}return a};p.prototype._setInputs=function(e,t){if(o.RANGE===this.options.selectionMode){this.$start=$(e);this.$end=$(t);if(!this.$start.length&&this.$anchor.find("[range-start]").length){this.$start=this.$anchor.find("[range-start]")}if(!this.$end.length&&this.$anchor.find("[range-end]").length){this.$end=this.$anchor.find("[range-end]")}else{throw new Error("Could not find end input for CalendarPicker")}}else if(this.$anchor.is(":input")){this.$start=this.$anchor}if(!this.$start||!this.$start.length){throw new Error("Could not find input for CalendarPicker")}this._getInputs().addClass("CalendarPicker__input")};p.prototype._getInputs=function(){var e=$().add(this.$start);if(o.RANGE===this.options.selectionMode){e=e.add(this.$end)}return e};p.prototype._wireHiddenInputs=function(){var e="__cpFacade";var t,a;t=this.$start.attr("name");this.$hiddenStart=$('<input type="hidden">').attr("name",this.$start.attr("name")).insertAfter(this.$start);this.$start.attr("name",t+e);if(o.RANGE===this.options.selectionMode){a=this.$end.attr("name");this.$hiddenEnd=$('<input type="hidden">').attr("name",a).insertAfter(this.$end);this.$end.attr("name",a+e)}};p.prototype._addToggleButtons=function(){var e=this.options.toggleButton;var t=typeof e==="boolean"?$('<button type="button">'):$(e);t.addClass("CalendarPicker__toggleButton js-CalendarPicker__toggleButton").attr("tabindex","-1");this._addToggleButton(this.$start,t);if(o.RANGE===this.options.selectionMode){this._addToggleButton(this.$end,t)}};p.prototype._addToggleButton=function(t,a){if(!e){t.wrap('<div class="CalendarPicker__inputWrapper js-CalendarPicker__inputWrapper">')}const r=a.clone();this.toggleButtons=[...this.toggleButtons,r[0]];r.appendTo(t.parent()).on("click.calendarPicker",function(e){if(t.is(":disabled")){return}if(!this.options.toggleOnFocus){this._activatePopover(t).then((()=>t.focus()))}else{t.focus()}}.bind(this))};p.prototype._wireExternalEvents=function(){this.events=new a;if(this.options.events){Object.keys(this.options.events).forEach(function(e){this.events.on(e,this.options.events[e])}.bind(this))}};p.prototype._wireInternalEvents=function(){var e=$().add(this.$start);if(o.RANGE===this.options.selectionMode){e=e.add(this.$end)}e.on("input.calendarPicker",this._handleInput.bind(this));e.on("focus.calendarPicker",function(e){var t=$(e.currentTarget);if(this._hidePopoverTimeout){window.clearTimeout(this._hidePopoverTimeout);delete this._hidePopoverTimeout}if(this.options.toggleOnFocus){this._activatePopover(t)}else{this._setSelectingFromInput(t);if(this.$popover&&this.$popover.is(":visible")){this._positionPopover(this._popoverVisible)}}}.bind(this)).on("keydown.calendarPicker",function(e){if(e.which===27||e.which===9){this._hidePopover()}}.bind(this));$(window).on("resize.calendarPicker, scroll.calendarPicker",function(){if(this.$popover&&this.$popover.is(":visible")){this._positionPopover()}}.bind(this));$(window).on("resize",function(){if(this.$popover&&(0,n.isWidthBelowSupportedMinWidth)()){this.isMobileDevice=true;this.$popover.css({position:"absolute",left:`${this._horizontalPopoverPosition().left}px`,top:`${this.$anchor.offset().top+this.$anchor[0].getBoundingClientRect().height}px`,transform:""})}else if(this.$popover){this.isMobileDevice=false;this.$popover.css({position:"fixed",left:`0`,top:`0`});this._positionPopover()}}.bind(this))};p.prototype._documentClickHandler=function(e){const t=e.target;const a=this.$popover&&this.$popover[0];const r=this.toggleButtons.some((e=>e===t||$.contains(e,t)));const n=a&&$.contains(a,t);const i=this.$start&&this.$start[0]===t||this.$end&&this.$end[0]===t;const o=$.contains(document,t);if(i||r||n||!o){return}this._hidePopover()};p.prototype._handleInput=function(e){var t=$(e.currentTarget);var a=this._getTickFromInput(t);var r=t.is(this.$start)?a:this.start;var n=t.is(this.$end)?a:this.end;if(a&&a.isValid()){this._setRange(r,n)}this._validateRange(r,n)};p.prototype._normalizeToTick=function(e,t){if(!e){return null}var a=moment.isMoment(e)?e:moment(e,this.options.format,true);if(!a.isValid()&&typeof e==="string"){a=moment(e,moment.ISO_8601,true).startOf("day")}if(!a.isValid()&&!t){console.error("An invalid date was supplied to CalendarPicker");a=null}return a};p.prototype._createPopover=function(t){this.$popover=$('<div class="CalendarPicker__popover js-CalendarPicker__popover">');this.$popover.css({left:0,position:"fixed",top:0,visibility:"hidden","z-index":1e4});this.$caret=$('<div class="CalendarPicker__caret">').appendTo(this.$popover);if(e){this.$caret[0].innerHTML=`\n\t\t\t\t<svg width="26" height="15" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 15">\n\t\t\t\t\t<path d="M 0 12 L 12 0 L 24 12 Z" fill="currentColor" stroke="none"/>\n\t\t\t\t\t<path d="M 1 15 L 12 4 L 23 15 Z" stroke="none"/>\n\t\t\t\t\t<path d="M 1 15 L 12 4.5 L 23 15" fill="none"/>\n\t\t\t\t</svg>\n\t\t\t`}this.gridManager=this._createGridManager();this.gridManager.$element.appendTo(this.$popover);if(this.isMobileDevice){this.$popover.css({position:"absolute",left:`${t[0].getBoundingClientRect().left}px`,top:`${t.offset().top+t[0].getBoundingClientRect().height}px`})}this.$popover.appendTo(document.body);this._positionPopover()};p.prototype._activatePopover=function(e){if(!this.$popover){this._createPopover(e)}this._setSelectingFromInput(e);if(!this._popoverVisible){return this._showPopover()}else{return t.waitForRender().then((()=>this._positionPopover()))}};p.prototype._showPopover=function(){this.events.trigger("onBeforeShow",this);this.$popover.show();this._getCurrentlySelectingInput().addClass(u);this._boundDocumentClickHandler=this._documentClickHandler.bind(this);$(document).on("click.calendarPicker",this._boundDocumentClickHandler);return t.waitForRender().then((()=>{this._positionPopover();this._popoverVisible=true;this.$popover.css("visibility","visible");this.events.trigger("onAfterShow",this)}))};p.prototype._hidePopover=function(){this._hidePopoverTimeout=setTimeout(this._hidePopoverImmediately.bind(this),150)};p.prototype._hidePopoverImmediately=function(){this.events.trigger("onBeforeHide");if(this.$popover){this.$popover.css("visibility","hidden").hide()}this._popoverVisible=false;this.$start.removeClass(u);if(o.RANGE===this.options.selectionMode){this.$end.removeClass(u)}$(document).off("click.calendarPicker",this._boundDocumentClickHandler);this.events.trigger("onAfterHide")};p.prototype._getPopoverOffsets=function(){const e=this.$start[0].getBoundingClientRect();return{fromDateOffset:e,lastDateOffset:this.options.selectionMode==="range"?this.$end[0].getBoundingClientRect():e}};p.prototype._positionPopover=function(e){if(this.isMobileDevice){return}var t={};const{horizontalAnchor:a,left:r}=this._horizontalPopoverPosition();const{verticalAnchor:n,top:i}=this._verticalPopoverPosition();t.left=r;t.top=i;this.events.trigger("onBeforePosition",this.$popover,t);this.$popover.attr("horizontal-anchor",a).attr("vertical-anchor",n).css({transform:"translate3d("+Math.ceil(t.left)+"px, "+Math.ceil(t.top)+"px, 0)"});this._positionCaret(e);this.events.trigger("onAfterPosition",this.$popover,t)};p.prototype._horizontalPopoverPosition=function(){let e,t;let a=this.$popover.outerWidth(true);const{fromDateOffset:r,lastDateOffset:n}=this._getPopoverOffsets();let i=window.innerWidth-r.left;if(i<a&&r.right>a){t=n.right-a;e="right"}else{t=r.left;e="left"}return{left:t,horizontalAnchor:e}};p.prototype._verticalPopoverPosition=function(){let e=this.$popover.outerHeight(true);const{fromDateOffset:t,lastDateOffset:a}=this._getPopoverOffsets();let r=s.END===this.selecting?a:t;let n,i;let o=window.innerHeight-r.bottom;if(o<e&&r.top>e){i=r.top-e;n="bottom";this.$popover.addClass("CalendarPicker__popover--topAnchored");this.$caret.addClass("CalendarPicker__caret--topAnchored")}else{i=r.bottom;n="top";this.$popover.removeClass("CalendarPicker__popover--topAnchored");this.$caret.removeClass("CalendarPicker__caret--topAnchored")}return{top:i,verticalAnchor:n}};p.prototype._positionCaret=function(e){var t=s.END===this.selecting?this.$end:this.$start;var a=t.offset();var r=this.$popover.offset();var n=15;var i=this.$caret.outerWidth()/2;var o=a.left;if(this.$popover.attr("horizontal-anchor")==="left"||s.START===this.selecting){o+=n}else{o+=t.outerWidth()-n}var l=o-r.left-i;if(e){this.$caret.animate({left:l})}else{this.$caret.css({left:l})}};p.prototype._getGridManagerOptions=function(){return{autoSync:false,dualGrid:this.options.dualGrid,min:this.options.min,max:this.options.max,quickNav:this.options.quickNav,selectionMode:this.options.selectionMode,disableWeekends:this.options.disableWeekends,disableDays:this.options.disableDays}};p.prototype._createGridManager=function(){var e=this._getGridManagerOptions();var t;if(l.MONTH===this.options.period){t=new y(e)}else{t=new b(e)}t.events.on("select",this._selectHandler.bind(this));t.events.on("periodChange",function(){this._positionPopover();this.events.trigger("onPeriodChange",this)}.bind(this));t.events.on("render",function(){this.events.trigger("onRender",this)}.bind(this));return t};p.prototype._selectHandler=function(e,t,a){this._setRange(t,a);if(this.selecting===e){e=null}this._setSelecting(e)};p.prototype._updateGridManager=function(){var e=this._getPeriodTick();if(!this.gridManager){return}if(l.DAY===this.options.period){this.gridManager.setMonth(e.month(),e.year())}else if(l.MONTH===this.options.period){this.gridManager.setYear(e.year())}this.gridManager.updateSelection(this.selecting,this.start,this.end);this.gridManager.render()};p.prototype._setSelecting=function(e){var t=this._getSelectingInput(this.selecting);this.selecting=e;this._updateInputFocusClasses();if(!this.selecting){t.blur();this._hidePopoverImmediately();return}if(s.START===this.selecting){if(o.RANGE===this.options.selectionMode){this.$end.blur()}if(!this.$start.val().trim()&&o.RANGE===this.options.selectionMode&&!this.$start.is(":focus")){this.$start.focus()}else{this._hidePopoverImmediately()}}else if(o.RANGE===this.options.selectionMode&&s.END===this.selecting){this.$start.blur();if(!this.$end.val().trim()&&o.RANGE===this.options.selectionMode&&!this.$end.is(":focus")){this.$end.focus()}else{this._hidePopoverImmediately()}}};p.prototype._setSelectingFromInput=function(e){this.selecting=o.RANGE===this.options.selectionMode&&e.is(this.$end)?s.END:s.START;this._updateInputFocusClasses();this._updateGridManager()};p.prototype._updateInputFocusClasses=function(){var e;this._getInputs().removeClass(u);if(this._popoverVisible){e=this._getCurrentlySelectingInput();e.addClass(u)}};p.prototype._getSelectingInput=function(e){return o.RANGE===this.options.selectionMode&&s.END===e?this.$end:this.$start};p.prototype._getCurrentlySelectingInput=function(){return this._getSelectingInput(this.selecting)};p.prototype._updateInput=function(e,t,a){var r=e==="end"?this.$end:this.$start;var n=null;var i=r.val();if(!this.options.noFacade){n=e==="end"?this.$hiddenEnd:this.$hiddenStart;n.val(t?moment(t).format(d):"")}if(t){r.val(t.format(this.options.format))}else if(r.val().trim()){r.val("")}if(!a&&r.val()!==i){r.trigger("change")}};p.prototype.setRange=function(e,t){e=this._normalizeToTick(e);t=this._normalizeToTick(t);var a=this._validateRange(e,t);if(a.length){console.error("Invalid range specified",a)}this._setRange(e,t,true)};p.prototype._setRange=function(e,t,a){if(e&&e.isSame(this.start)&&t&&t.isSame(this.end)){return}if(o.RANGE===this.options.selectionMode){if(s.START===this.selecting&&t&&t.isBefore(e)){t=null;this._flashInput(this.$end)}else if(s.END===this.selecting&&e&&e.isAfter(t)){e=null;this._flashInput(this.$start)}}if(this.start!==e){e=e?moment(e).startOf(this.options.period):e;this.start=e;this._updateInput(s.START,this.start,a)}if(o.RANGE===this.options.selectionMode&&this.end!==t){t=t?moment(t).endOf(this.options.period):t;this.end=t;this._updateInput(s.END,this.end,a)}if(!a){this.events.trigger("select",this.start,this.end);this.$anchor.trigger("calendarPicker:rangeSet",this.getValue())}this._updateGridManager()};p.prototype._getTickFromInput=function(e){return this._normalizeToTick(e.val(),true)};p.prototype._getRangeFromInputs=function(){var e={start:this._getTickFromInput(this.$start)};if(o.RANGE===this.options.selectionMode){e.end=this._getTickFromInput(this.$end)}return e};p.prototype._validateRange=function(e,t){var a=[];if(e&&!e.isValid()||t&&!t.isValid()){a.push({code:"INVALID_ARGUMENT",message:"An invalid argument was supplied."})}if(e&&!this._isInRange(e)||t&&!this._isInRange(t)){a.push({code:"OUT_OF_BOUNDS",message:"An argument is outside of the min/max bounds"})}return a};p.prototype._getPeriodTick=function(){var e=this.options.max;var t=this.options.min;var a=moment();var r;var n=l.DAY===this.options.period?"month":"year";var i=false;var o=this.start&&this.start.isSame(this.end,n);if(this.start&&(s.START===this.selecting||o||!this.end)){r=this.start}else if(this.end&&(s.END===this.selecting&&!o||!this.start)){r=this.end;i=true}if(!r){if(this._isInRange(a)){r=a}else if(t&&t.isAfter(a)){r=t}else if(e&&e.isBefore(a)){r=e;i=true}else{r=a}}r=moment(r).startOf(n);if(this.options.dualGrid&&i){r=moment(r).subtract(1,n)}return r};p.prototype._isInRange=function(e){return t.isInRange(e,this.options.min,this.options.max,this.options.period)};p.prototype.validate=function(){var e=this._getRangeFromInputs();var t=this._validateRange(e.start,e.end);return t};p.prototype.validateInput=function(e){const{disableWeekends:a,disableDays:r}=this.options;var n=[];var i=$(e);if(o.RANGE===this.options.selectionMode&&!$.contains(this.$anchor.get(0),i.get(0))||o.RANGE!==this.options.selectionMode&&!this.$anchor.is(i)){throw new Error("The input supplied for validation isn't part of the Calendar Picker")}var s=this._normalizeToTick(i.val(),true);if(s){if(!s.isValid()){n.push({code:"INVALID_ARGUMENT",message:"This input contains an invalid value"})}if(!this._isInRange(s)){n.push({code:"OUT_OF_BOUNDS",message:"This input is outside of the min/max bounds"})}if(a&&t.isWeekend(s)){n.push({code:"NO_WEEKENDS",message:"This input cannot select a day on a weekend."})}if(r.indexOf(s.format("YYYY-MM-DD"))>-1){n.push({code:"DISABLED_DATE",message:"This input cannot select a disabled date."})}}return n};p.prototype.isValid=function(e){var t=e?this.validateInput(e):this.validate();return!t.length};p.prototype.isDirty=function(){var e=this._getRangeFromInputs();return e.start!==this._originalStart||e.end!==this._originalEnd};p.prototype._flashInput=function(e){var t=e[0].style.color;var a=e.css("backgroundColor");e.css({backgroundColor:"#FDFFD7"});setTimeout((function(){e.animate({backgroundColor:a},{complete:function(){e.css({backgroundColor:t})},duration:200})}),200)};p.prototype.getValue=function(e){e=e||d;if(o.RANGE===this.options.selectionMode){return{start:this.start?this.start.format(e):undefined,end:this.end?this.end.format(e):undefined}}return this.start?this.start.format(e):undefined};p.prototype.getFormattedValue=function(){return this.getValue(this.options.format)};function m(e,t){this.rows=e;this.columns=t;this.selecting=s.START;this.selectionMode=o.SINGLE;this.displayingTick=moment();this.data=[];this.events=new a;this.$element=$('<div class="CalendarGrid">')}m.prototype.setOptions=function(e){this.options={...this.options,...e};this.render()};m.prototype._wireEvents=function(){this.$element.off(".calendarGrid");this.$element.on("hover.calendarGrid","[data-cell-value]:not([data-cell-disabled])",function(e){var t=this._getTickFromCell(e.currentTarget);if(!t){return}this.events.trigger("cellHover",t);if(o.SINGLE!==this.selectionMode){this.highlightToTick(t)}}.bind(this));this.$element.on("click.calendarGrid","[data-cell-value]:not([data-cell-disabled])",function(e){var t=this._getTickFromCell(e.currentTarget);var a=this.selecting;e.stopPropagation();e.preventDefault();if(o.RANGE===this.selectionMode){this._setRangeBoundary(t,this.selecting)}else{this.start=t}if(o.RANGE===this.selectionMode){a=s.START===this.selecting?"end":"start"}this.selecting=a;this.events.trigger("cellSelect",a,this.start,this.end);this.render()}.bind(this));this.$element.on("selectstart",(function(e){e.preventDefault()}))};m.prototype._setRangeBoundary=function(e,t){if(s.START===this.selecting){this.start=e}else if(s.END===this.selecting){this.end=e}};m.prototype._getTickFromCell=function(e){if(e.hasAttribute("data-cell-value")){return moment(e.getAttribute("data-cell-value"))}};m.prototype._getCellFromTick=function(e){var t=e.toISOString();return this.$element.find('[data-cell-value="'+t+'"]')};m.prototype._isInRange=function(e){if(!this.start||!this.end){return false}return this.start.isSameOrBefore(e)&&this.end.isSameOrAfter(e)};m.prototype.highlightToTick=function(e){if(s.START===this.selecting&&this.start&&this.end&&this.end.isAfter(e)){this._getCellFromTick(this.start).removeClass("CalendarGrid__cell--selected")}else if(s.END===this.selecting&&this.end&&this.start&&this.start.isBefore(e)){this._getCellFromTick(this.end).removeClass("CalendarGrid__cell--selected")}else if(this.start&&this.end){this.resetHighlight();return}this.$element.find("[data-cell-value]").each(function(t,a){var r=this._getTickFromCell(a);var n=this.end&&this.end.isSameOrAfter(e)&&this.end.isSameOrAfter(r)&&r.isSameOrAfter(e);n=n&&s.START===this.selecting;var i=this.start&&this.start.isSameOrBefore(r)&&this.start.isSameOrBefore(r)&&r.isSameOrBefore(e);i=i&&s.END===this.selecting;var o=n||i;if(o){$(a).addClass("CalendarGrid__cell--inRange")}else{$(a).removeClass("CalendarGrid__cell--inRange")}this._toggleEdgeClasses(a,o)}.bind(this))};m.prototype._toggleEdgeClasses=function(e,t){var a=$(e);var r=a.prev();var n=a.next();if(!t){a.removeClass("CalendarGrid__cell--inRangeLeading CalendarGrid__cell--inRangeTrailing");return}if(!r.length||r.is("[data-cell-empty]")){a.addClass("CalendarGrid__cell--inRangeLeading")}else if(!n.length||n.is("[date-cell-empty]")){a.addClass("CalendarGrid__cell--inRangeTrailing")}};m.prototype.resetHighlight=function(){if(typeof this.onResetHighlight==="function"&&this.onResetHighlight()===false){return}this.$element.find("[data-cell-value]").each(function(e,t){var a=this._getTickFromCell(t);var r=this._isInRange(a);$(t).toggleClass("CalendarGrid__cell--inRange",r);this._toggleEdgeClasses(t,r);if(this.start&&this.start.isSame(a)||this.end&&this.end.isSame(a)){$(t).addClass("CalendarGrid__cell--selected")}}.bind(this))};m.prototype._getCellClasses=function(e){var t=e.tick;var a=["CalendarGrid__cell","CalendarGrid__cell--withValue"];if(this.start&&this.start.isSame(t)||this.end&&this.end.isSame(t)){a.push("CalendarGrid__cell--selected")}var r=o.RANGE===this.selectionMode;r=r&&this.start&&this.start.isSameOrBefore(t);r=r&&this.end&&this.end.isSameOrAfter(t);if(r){a.push("CalendarGrid__cell--inRange")}if(e.isNow){a.push("CalendarGrid__cell--now")}if(e.isDisabled){a.push("CalendarGrid__cell--disabled")}return a.join(" ")};m.prototype._adjustRowsForData=function(e){while(e*this.columns<this.data.length){e++}return e};m.prototype.render=function(){if(!this.rows){throw new Error("The number of rows must be specified to render a CalendarGrid")}if(!this.columns){throw new Error("The number of columns must be specified to render a CalendarGrid")}var e;var t=this._adjustRowsForData(this.rows);var a=0;var r="";r+='<div class="CalendarGrid__body">';for(var n=0;n<t;n++){r+='<div class="CalendarGrid__row">';for(var i=0;i<this.columns;i++){e=this.data[a];a++;if(!e||!e.tick){r+='<div class="CalendarGrid__cell CalendarGrid__cell--empty" data-cell-empty></div>';continue}r+='<div class="'+this._getCellClasses(e)+'" data-cell-value="'+e.tick.toISOString()+'"'+(e.isDisabled?"data-cell-disabled":"")+">";r+=e.text;r+="</div>"}r+="</div>"}r+="</div>";this.$element.html(r);this._wireEvents();return this.$element};function h(){var e;var t=moment().year();if(typeof arguments[0]==="object"){e=arguments[0]}else if(typeof arguments[1]==="object"){e=arguments[1]}else if(typeof arguments[0]==="number"){t=arguments[0]}m.call(this,3,4);this.options=$.extend(true,{},e);this.displayingTick=moment().startOf("year").year(t);this.data=this._generateGridData()}h.prototype=Object.create(m.prototype);h.prototype._getDisplayTick=function(e){e=typeof e==="number"?e:moment().year();return moment().startOf("year").year(e)};h.prototype.setYear=function(e){if(typeof e!=="number"){throw new Error("Invalid year argument")}this.displayingTick=this._getDisplayTick(e);this.data=this._generateGridData()};h.prototype._generateGridData=function(){var e=moment(this.displayingTick);var t=moment(this.displayingTick).endOf("year");var a=moment();var r=this.options.min;var n=this.options.max;var i=[];var o=e;while(o.isBefore(t)){i.push({isDisabled:r&&r.isAfter(o,"month")||n&&n.isBefore(o,"month"),isNow:a.isSame(o,"month"),text:o.format("MMM"),tick:o});o=moment(o).add(1,"months")}return i};function v(){var e=typeof arguments[0]==="number"?arguments[0]:moment().month();var t=typeof arguments[1]==="number"?arguments[1]:moment().year();var a=arguments.length===3&&typeof arguments[2]==="object"?arguments[2]:arguments[0];m.call(this,4,7);this.options=$.extend(true,{},a);this.setMonth(e,t);this.data=this._generateGridData()}v.prototype=Object.create(m.prototype);v.prototype._getDisplayingTick=function(e,t){t=typeof t==="number"?t:moment().year();e=typeof e==="number"?e:moment().month();return moment(new Date(t,e))};v.prototype.setMonth=function(e,t){if(typeof e!=="number"){throw new Error("Invalid year argument")}this.displayingTick=this._getDisplayingTick(e,t);this.data=this._generateGridData()};v.prototype._generateGridData=function(){var e=moment(this.displayingTick).startOf("month");var a=moment(this.displayingTick).endOf("month");var r=moment();const{min:n,max:i,disableWeekends:o,disableDays:s}=this.options;var l=new Array(e.weekday());var d=e;while(d.isBefore(a)){const e=n&&n.isAfter(d,"day");const a=i&&i.isBefore(d,"day");const c=o&&t.isWeekend(d);const u=s.indexOf(d.format("YYYY-MM-DD"))>-1;l.push({isDisabled:e||a||c||u,isNow:r.isSame(d,"day"),text:d.format("D"),tick:d});d=moment(d).add(1,"days")}return l};v.prototype.renderDaysOfWeek=function(){var e=moment().startOf("week");var t=moment().endOf("week");var a=e;var r="";r+='<div class="CalendarGrid__daysOfWeek">';while(a<t){r+='<div class="CalendarGrid__dayOfWeek">'+a.format("dd").substr(0)+"</div>";a.add(1,"days")}r+="</div>";return $(r)};v.prototype.render=function(){var e=m.prototype.render.call(this);var t=$('<div class="CalendarGrid__header">');t.append(this.renderDaysOfWeek);e.prepend(t);return e};function g(e){this.options=$.extend(true,{},this._getDefaultOptions(),e);this.events=new a;this._previousViewState={};this.$element=$('<div class="CalendarGridManager">')}g.prototype.setOptions=function(e){this.options=$.extend(true,{},this._getDefaultOptions(),this.options,e);var t={min:e.min,max:e.max,disableWeekends:this.options.disableWeekends,disableDays:this.options.disableDays};if(this.firstGrid){this.firstGrid.setOptions(t)}if(this.lastGrid){this.lastGrid.setOptions(t)}this.render()};g.prototype.getMin=function(e){e=e||this.options;let t=moment(e.min);if(t.isAfter(this.start)){t=this.start}return t};g.prototype.getMax=function(e){e=e||this.options;let t=moment(e.max);if(t.isBefore(this.end)&&e.selectionMode===o.RANGE){t=this.end}else if(t.isBefore(this.start)){t=this.start}return t};g.prototype._getDefaultOptions=function(){return{autoSync:true,display:"month",dualGrid:false,end:null,max:moment().add(20,"years"),min:moment().subtract(100,"years"),selectionMode:o.SINGLE,start:moment(),disableWeekends:false,disableDays:[]}};g.prototype._wireGrids=function(){this.firstGrid.selectionMode=this.options.selectionMode;if(this.options.dualGrid){this.lastGrid.selectionMode=this.options.selectionMode}};g.prototype._wireEvents=function(){this.$element.off(".calendarGridManager");this.$element.on("mouseleave.calendarGridManager",function(){this.firstGrid.resetHighlight();if(this.lastGrid){this.lastGrid.resetHighlight()}}.bind(this));this.$element.on("click.calendarGridManager","[data-prev-button]",function(){if(this._isPreviousDisabled()){return}this.previous();this.render();this.events.trigger("periodChange")}.bind(this));this.$element.on("click.calendarGridManager","[data-next-button]",function(){if(this._isNextDisabled()){return}this.next();this.render();this.events.trigger("periodChange")}.bind(this));this.$element.on("selectstart",(function(e){e.preventDefault()}));e.call(this);function e(){this.firstGrid.events.off("cellSelect",this._boundSelectHandler);if(this.options.dualGrid){this.lastGrid.events.off("cellSelect",this._boundSelectHandler)}this._boundSelectHandler=this._selectHandler.bind(this);this.firstGrid.events.on("cellSelect",this._boundSelectHandler);if(this.options.dualGrid){this.lastGrid.events.on("cellSelect",this._boundSelectHandler);this.firstGrid.events.off("cellHover",this._boundHoverHandler);this.lastGrid.events.off("cellHover",this._boundHoverHandler);this._boundHoverHandler=this._hoverHandler.bind(this);this.firstGrid.events.on("cellHover",this._boundHoverHandler);this.lastGrid.events.on("cellHover",this._boundHoverHandler)}}};g.prototype._selectHandler=function(e,t,a){this.events.trigger("select",e,t,a);if(this.options.autoSync){this.updateSelection(e,t,a);this.render()}};g.prototype._needsRender=function(){var e={displayTick:this.displayTick,end:this.end,selecting:this.selecting,start:this.start};return!t.isEqual(this._previousViewState,e)};g.prototype._isDisplayTickChanged=function(){return this._previousState.displayTick!==this.displayTick};g.prototype._hoverHandler=function(e){this.firstGrid.highlightToTick(e);this.lastGrid.highlightToTick(e)};g.prototype._getGridHeaderContent=function(e){return'<div class="CalendarGridManager__gridTitle">'+e.displayingTick.format(this.titleFormat)+"</div>"};g.prototype._isNextDisabled=function(){return false};g.prototype._isPreviousDisabled=function(){return false};g.prototype._renderGrid=function(e,t){var a=[""];var r=["CalendarGridManager__previousButton"];var n=["CalendarGridManager__nextButton"];var i=null;var o="";if(t==="previous"){a.push("CalendarGridManager__gridHeader--paddedRight")}else if(t==="next"){a.push("CalendarGridManager__gridHeader--paddedLeft")}if(this._isPreviousDisabled()){r.push("CalendarGridManager__previousButton--disabled")}if(this._isNextDisabled()){n.push("CalendarGridManager__nextButton--disabled")}o+='<div class="CalendarGridManager__grid">';o+='\t<div class="CalendarGridManager__gridHeader'+a.join(" ")+'">';if(t==="both"||t==="previous"){o+='\t<div class="'+r.join(" ")+'" data-prev-button></div>'}o+='\t\t<div class="CalendarGridManager__gridHeaderContent js-CalendarGridManager__gridHeaderContent"></div>';if(t==="both"||t==="next"){o+='\t<div class="'+n.join(" ")+'" data-next-button></div>'}o+="\t</div>";o+="</div>";i=$(o).append(e.render());i.find(".CalendarGridManager__gridHeaderContent").append(this._getGridHeaderContent(e));return i};g.prototype.updateSelection=function(e,t,a){this.start=t;this.end=a;this.selecting=e;this.firstGrid.start=this.start;this.firstGrid.end=this.end;this.firstGrid.selecting=this.selecting;if(this.options.dualGrid){this.lastGrid.start=this.start;this.lastGrid.end=this.end;this.lastGrid.selecting=this.selecting}};g.prototype.next=function(){throw new Error("This method should be implemented by a child class")};g.prototype.previous=function(){throw new Error("This method should be implemented by a child class")};g.prototype.render=function(){if(!this._needsRender()){return}this._previousViewState={displayTick:this.displayTick,end:this.end,selecting:this.selecting,start:this.start};this.$element.empty();var e=$('<div class="CalendarGridManager__grids">').appendTo(this.$element);var t=this._renderGrid(this.firstGrid,this.options.dualGrid?"previous":"both");t.appendTo(e);var a;if(this.options.dualGrid){a=this._renderGrid(this.lastGrid,"next");a.appendTo(e)}this._wireEvents();this.events.trigger("render");return this.$element};function y(){var e=typeof arguments[0]==="number"?arguments[0]:moment().year();var t=arguments.length===2?arguments[1]:arguments[0];g.call(this,t);this.titleFormat="YYYY";var a={min:t.min,max:t.max};this.firstGrid=this.lastGrid=new h(e,a);if(this.options.dualGrid){this.lastGrid=new h(e,a)}this._wireGrids();this.setYear(e)}y.prototype=Object.create(g.prototype);y.prototype._getDisplayTick=function(e){e=typeof e==="number"?e:moment().year();return moment().startOf("year").year(e)};y.prototype._isPreviousDisabled=function(){return moment(this.firstGrid.displayingTick).isSameOrBefore(this.getMin(),"year")};y.prototype._isNextDisabled=function(){return moment(this.lastGrid.displayingTick).isSameOrAfter(this.getMax(),"year")};y.prototype._getGridHeaderContent=function(e){var a;var r=false;var n=e.displayingTick;var i=this.getMax();var o=this.getMin();if(this.options.quickNav==="disabled"||this.options.quickNav==="auto"&&this.options.dualGrid){return g.prototype._getGridHeaderContent.call(this,e)}if(n.isAfter(i,"year")){i.add(1,"year");r=true}if(n.isBefore(o,"year")){o.subtract(1,"year");r=true}var a=t.createYearDropdown(o,i,n);a.prop("disabled",r);a.on("change",function(t){var a=parseInt($(t.target).val(),10);if(e!==this.firstGrid&&e===this.lastGrid){a--}this.setYear(a);this.render();this.events.trigger("periodChange")}.bind(this));return a.addClass("CalendarGridManager__gridHeaderDropdown")};y.prototype.setYear=function(e){this.displayTick=this._getDisplayTick(e);this.firstGrid.setYear(e);var t=moment(this.displayTick).add(1,"years");if(this.options.dualGrid){this.lastGrid.setYear(t.year())}};y.prototype.previous=function(){var e=moment(this.displayTick).subtract(1,"year");this.setYear(e.year())};y.prototype.next=function(){var e=moment(this.displayTick).add(1,"year");this.setYear(e.year())};function b(){var e=typeof arguments[0]==="number"?arguments[0]:moment().month();var t=typeof arguments[1]==="number"?arguments[1]:moment().year();var a=arguments.length===3&&typeof arguments[2]==="object"?arguments[2]:arguments[0];var r={min:a.min,max:a.max,disableWeekends:a.disableWeekends,disableDays:a.disableDays};g.call(this,a);this.titleFormat="MMMM YYYY";this.firstGrid=this.lastGrid=new v(e,t,r);if(this.options.dualGrid){this.lastGrid=new v(e,t,r)}this._wireGrids();this.setMonth(e,t)}b.prototype=Object.create(g.prototype);b.prototype._getDisplayTick=function(e,t){t=typeof t==="number"?t:moment().year();e=typeof e==="number"?e:moment().month();return moment(new Date(t,e))};b.prototype._isPreviousDisabled=function(){return moment(this.firstGrid.displayingTick).isSameOrBefore(this.getMin(),"month")};b.prototype._isNextDisabled=function(){return moment(this.lastGrid.displayingTick).isSameOrAfter(this.getMax(),"month")};b.prototype._getGridHeaderContent=function(e){var a,r;var n=false;var i=e.displayingTick;var o=this.getMax();var s=this.getMin();if(this.options.quickNav==="disabled"||this.options.quickNav==="auto"&&this.options.dualGrid){return g.prototype._getGridHeaderContent.call(this,e)}if(i.isAfter(o,"month")){o=o.add(1,"months");n=true}if(i.isBefore(s,"month")){s=s.subtract(1,"months");n=true}r=t.createYearDropdown(s,o,i);r.prop("disabled",n);r.on("change",function(t){var a=parseInt($(t.target).val(),10);var r=i.month();if(e!==this.firstGrid&&e===this.lastGrid){r=i.subtract(1,"months").month()}this.setMonth(r,a);this.render();this.events.trigger("periodChange")}.bind(this));a=t.createMonthDropdown(s,o,i);a.prop("disabled",n);a.on("change",function(t){var a=parseInt($(t.target).val(),10);var r=moment().month(a).year(i.year());if(e!==this.firstGrid&&e===this.lastGrid){r.subtract(1,"months")}this.setMonth(r.month(),r.year());this.render();this.events.trigger("periodChange")}.bind(this));return $().add(a).add(r).addClass("CalendarGridManager__gridHeaderDropdown")};b.prototype.setMonth=function(e,t){this.displayTick=this._getDisplayTick(e,t);this.firstGrid.setMonth(this.displayTick.month(),this.displayTick.year());var a=moment(this.displayTick).add(1,"months");if(this.options.dualGrid){this.lastGrid.setMonth(a.month(),a.year())}};b.prototype.previous=function(){var e=moment(this.displayTick).subtract(1,"months");this.setMonth(e.month(),e.year())};b.prototype.next=function(){var e=moment(this.displayTick).add(1,"months");this.setMonth(e.month(),e.year())};return p})($,moment)},202167:(e,t,a)=>{"use strict";var jQuery=a(992005);var $=a(992005);(function(){function e(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-]*/g,"")}jQuery.validator.addMethod("maxWords",(function(t,a,r){return this.optional(a)||e(t).match(/\b\w+\b/g).length<=r}),jQuery.validator.format("Please enter {0} words or less."));jQuery.validator.addMethod("minWords",(function(t,a,r){return this.optional(a)||e(t).match(/\b\w+\b/g).length>=r}),jQuery.validator.format("Please enter at least {0} words."));jQuery.validator.addMethod("rangeWords",(function(t,a,r){var n=e(t),i=/\b\w+\b/g;return this.optional(a)||n.match(i).length>=r[0]&&n.match(i).length<=r[1]}),jQuery.validator.format("Please enter between {0} and {1} words."))})();jQuery.validator.addMethod("accept",(function(e,t,a){var r=typeof a==="string"?a.replace(/\s/g,"").replace(/,/g,"|"):"image/*",n=this.optional(t),i,o;if(n){return n}if(jQuery(t).attr("type")==="file"){r=r.replace(/\*/g,".*");if(t.files&&t.files.length){for(i=0;i<t.files.length;i++){o=t.files[i];if(!o.type.match(new RegExp(".?("+r+")$","i"))){return false}}}}return true}),jQuery.validator.format("Please enter a value with a valid mimetype."));jQuery.validator.addMethod("alphanumeric",(function(e,t){return this.optional(t)||/^\w+$/i.test(e)}),"Letters, numbers, and underscores only please");jQuery.validator.addMethod("bankaccountNL",(function(e,t){if(this.optional(t)){return true}if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e)){return false}var a=e.replace(/ /g,""),r=0,n=a.length,i,o,s;for(i=0;i<n;i++){o=n-i;s=a.substring(i,i+1);r=r+o*s}return r%11===0}),"Please specify a valid bank account number");jQuery.validator.addMethod("bankorgiroaccountNL",(function(e,t){return this.optional(t)||$.validator.methods.bankaccountNL.call(this,e,t)||$.validator.methods.giroaccountNL.call(this,e,t)}),"Please specify a valid bank or giro account number");jQuery.validator.addMethod("bic",(function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-2])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e)}),"Please specify a valid BIC code");jQuery.validator.addMethod("cifES",(function(e){"use strict";var t=[],a,r,n,i,o,s;e=e.toUpperCase();if(!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}for(n=0;n<9;n++){t[n]=parseInt(e.charAt(n),10)}r=t[2]+t[4]+t[6];for(i=1;i<8;i+=2){o=(2*t[i]).toString();s=o.charAt(1);r+=parseInt(o.charAt(0),10)+(s===""?0:parseInt(s,10))}if(/^[ABCDEFGHJNPQRSUVW]{1}/.test(e)){r+="";a=10-parseInt(r.charAt(r.length-1),10);e+=a;return t[8].toString()===String.fromCharCode(64+a)||t[8].toString()===e.charAt(e.length-1)}return false}),"Please specify a valid CIF number.");jQuery.validator.addMethod("creditcardtypes",(function(e,t,a){if(/[^0-9\-]+/.test(e)){return false}e=e.replace(/\D/g,"");var r=0;if(a.mastercard){r|=1}if(a.visa){r|=2}if(a.amex){r|=4}if(a.dinersclub){r|=8}if(a.enroute){r|=16}if(a.discover){r|=32}if(a.jcb){r|=64}if(a.unknown){r|=128}if(a.all){r=1|2|4|8|16|32|64|128}if(r&1&&/^(5[12345])/.test(e)){return e.length===16}if(r&2&&/^(4)/.test(e)){return e.length===16}if(r&4&&/^(3[47])/.test(e)){return e.length===15}if(r&8&&/^(3(0[012345]|[68]))/.test(e)){return e.length===14}if(r&16&&/^(2(014|149))/.test(e)){return e.length===15}if(r&32&&/^(6011)/.test(e)){return e.length===16}if(r&64&&/^(3)/.test(e)){return e.length===16}if(r&64&&/^(2131|1800)/.test(e)){return e.length===15}if(r&128){return true}return false}),"Please enter a valid credit card number.");jQuery.validator.addMethod("currency",(function(e,t,a){var r=typeof a==="string",n=r?a:a[0],i=r?true:a[1],o;n=n.replace(/,/g,"");n=i?n+"]":n+"]?";o="^["+n+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$";o=new RegExp(o);return this.optional(t)||o.test(e)}),"Please specify a valid currency");jQuery.validator.addMethod("dateITA",(function(e,t){var a=false,r=/^\d{1,2}\/\d{1,2}\/\d{4}$/,n,i,o,s,l;if(r.test(e)){n=e.split("/");i=parseInt(n[0],10);o=parseInt(n[1],10);s=parseInt(n[2],10);l=new Date(s,o-1,i,12,0,0,0);if(l.getFullYear()===s&&l.getMonth()===o-1&&l.getDate()===i){a=true}else{a=false}}else{a=false}return this.optional(t)||a}),"Please enter a correct date");jQuery.validator.addMethod("dateNL",(function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)}),"Please enter a correct date");jQuery.validator.addMethod("extension",(function(e,t,a){a=typeof a==="string"?a.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(t)||e.match(new RegExp(".("+a+")$","i"))}),jQuery.validator.format("Please enter a value with a valid extension."));jQuery.validator.addMethod("giroaccountNL",(function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)}),"Please specify a valid giro account number");jQuery.validator.addMethod("iban",(function(e,t){if(this.optional(t)){return true}var a=e.replace(/ /g,"").toUpperCase(),r="",n=true,i="",o="",s,l,d,c,u,f,p,m,h;if(!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(a)){return false}s=a.substring(0,2);f={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"};u=f[s];if(typeof u!=="undefined"){p=new RegExp("^[A-Z]{2}\\d{2}"+u+"$","");if(!p.test(a)){return false}}l=a.substring(4,a.length)+a.substring(0,4);for(m=0;m<l.length;m++){d=l.charAt(m);if(d!=="0"){n=false}if(!n){r+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(d)}}for(h=0;h<r.length;h++){c=r.charAt(h);o=""+i+""+c;i=o%97}return i===1}),"Please specify a valid IBAN");jQuery.validator.addMethod("integer",(function(e,t){return this.optional(t)||/^-?\d+$/.test(e)}),"A positive or negative non-decimal number please");jQuery.validator.addMethod("ipv4",(function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)}),"Please enter a valid IP v4 address.");jQuery.validator.addMethod("ipv6",(function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)}),"Please enter a valid IP v6 address.");jQuery.validator.addMethod("lettersonly",(function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)}),"Letters only please");jQuery.validator.addMethod("letterswithbasicpunc",(function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)}),"Letters or punctuation only please");jQuery.validator.addMethod("mobileNL",(function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)}),"Please specify a valid mobile number");jQuery.validator.addMethod("mobileUK",(function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)}),"Please specify a valid mobile number");jQuery.validator.addMethod("nieES",(function(e){"use strict";e=e.toUpperCase();if(!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}if(/^[T]{1}/.test(e)){return e[8]===/^[T]{1}[A-Z0-9]{8}$/.test(e)}if(/^[XYZ]{1}/.test(e)){return e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23)}return false}),"Please specify a valid NIE number.");jQuery.validator.addMethod("nifES",(function(e){"use strict";e=e.toUpperCase();if(!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}if(/^[0-9]{8}[A-Z]{1}$/.test(e)){return"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8)}if(/^[KLM]{1}/.test(e)){return e[8]===String.fromCharCode(64)}return false}),"Please specify a valid NIF number.");jQuery.validator.addMethod("nowhitespace",(function(e,t){return this.optional(t)||/^\S+$/i.test(e)}),"No white space please");jQuery.validator.addMethod("pattern",(function(e,t,a){if(this.optional(t)){return true}if(typeof a==="string"){a=new RegExp(a)}return a.test(e)}),"Invalid format.");jQuery.validator.addMethod("phoneNL",(function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)}),"Please specify a valid phone number.");jQuery.validator.addMethod("phoneUK",(function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)}),"Please specify a valid phone number");jQuery.validator.addMethod("phoneUS",(function(e,t){e=e.replace(/\s+/g,"");return this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)}),"Please specify a valid phone number");jQuery.validator.addMethod("phonesUK",(function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)}),"Please specify a valid uk phone number");jQuery.validator.addMethod("postalcodeNL",(function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)}),"Please specify a valid postal code");jQuery.validator.addMethod("postcodeUK",(function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)}),"Please specify a valid UK postcode");jQuery.validator.addMethod("require_from_group",(function(e,t,a){var r=$(a[1],t.form),n=r.eq(0),i=n.data("valid_req_grp")?n.data("valid_req_grp"):$.extend({},this),o=r.filter((function(){if($(this).is(":checkbox"))return $(this).is(":checked");return i.elementValue(this)})).length>=a[0];n.data("valid_req_grp",i);if(!$(t).data("being_validated")){r.data("being_validated",true);r.each((function(){i.element(this)}));r.data("being_validated",false)}return o}),jQuery.validator.format("Please fill at least {0} of these fields."));jQuery.validator.addMethod("skip_or_fill_minimum",(function(e,t,a){var r=$(a[1],t.form),n=r.eq(0),i=n.data("valid_skip")?n.data("valid_skip"):$.extend({},this),o=r.filter((function(){return i.elementValue(this)})).length,s=o===0||o>=a[0];n.data("valid_skip",i);if(!$(t).data("being_validated")){r.data("being_validated",true);r.each((function(){i.element(this)}));r.data("being_validated",false)}return s}),jQuery.validator.format("Please either skip these fields or fill at least {0} of them."));jQuery.validator.addMethod("strippedminlength",(function(e,t,a){return jQuery(e).text().length>=a}),jQuery.validator.format("Please enter at least {0} characters"));jQuery.validator.addMethod("time",(function(e,t){return this.optional(t)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(e)}),"Please enter a valid time, between 00:00 and 23:59");jQuery.validator.addMethod("time12h",(function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)}),"Please enter a valid time in 12-hour am/pm format");jQuery.validator.addMethod("url2",(function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}),jQuery.validator.messages.url);jQuery.validator.addMethod("vinUS",(function(e){if(e.length!==17){return false}var t=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],a=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],r=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],n=0,i,o,s,l,d,c;for(i=0;i<17;i++){l=r[i];s=e.slice(i,i+1);if(i===8){c=s}if(!isNaN(s)){s*=l}else{for(o=0;o<t.length;o++){if(s.toUpperCase()===t[o]){s=a[o];s*=l;if(isNaN(c)&&o===8){c=t[o]}break}}}n+=s}d=n%11;if(d===10){d="X"}if(d===c){return true}return false}),"The specified vehicle identification number (VIN) is invalid.");jQuery.validator.addMethod("zipcodeUS",(function(e,t){return this.optional(t)||/^\d{5}-\d{4}$|^\d{5}$/.test(e)}),"The specified US ZIP Code is invalid");jQuery.validator.addMethod("ziprange",(function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)}),"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx")},663144:(e,t,a)=>{"use strict";var $=a(992005);var _=a(273641);var jQuery=a(992005);var r=a(565862);var n=r(a(417842));var i=a(479706);var o=a(108201);var s=a(845382);var l=a(774548);var d=a(153821);var c=a(273641);var u=r(a(496406));var f=r(a(20026));var p=a(495836);var m=a(95844);var h=a(136391);const v=["input","select","textarea"];const g=(0,i.isEnabled)("jade");if(!g){v.push("ba-select")}var y=$.__("Whoops... No worries. Please fix any missing or incorrect information and try again.");function b(){const e=w();return e===""?"/ajax/employee_emails.php":e}function w(){if(typeof window.SESSION_USER==="undefined"){return""}else if(window.isOnboardingUser||window.SESSION_USER&&window.SESSION_USER.isOnboardingUser){return"/self_onboarding/packet/validate"}return"/employees/validate"}$.fn.isFieldRequired=function(){return!!$(this).rules().required};$.fn.syncingPayScheduleSelected=function(){const e=$(this).closest("form").find("ba-select.js-paySchedule");const t=e.length>0?e.find("ba-option:selected"):[];if(t.length>0){return E(e,t[0].value)}return $(this).hasClass("syncingScheduleSelected")||false};$.fn.toggleRequired=function(e){$(this).each((function(){var t=$(this);var a=t.closest(".fieldBox");var r=!!t.rules().required;if(_.isUndefined(e)){e=!r}a.toggleClass("required",e);if(!e){a.removeAttr("aria-required").removeClass("error");t.rules("remove","required")}else{a.attr("aria-required","true");if(!_.isPlainObject(e)){e={required:e}}if(_.isUndefined(e.required)){e.required=true}t.rules("add",e)}}))};$.fn.setTraxRequired=function(e=true){$(this).each((function(){if(!(0,l.hasTrax)()){console.warn("Cannot set fields required when company isn't Trax");return}const t=this.tagName==="SELECT"?$(this).closest("ba-select"):$(this);const a=t.closest(".fieldBox,.fab-FormRow");if(e){a.attr("aria-required",e);t.attr("aria-required",e)}else{a.removeAttr("aria-required");t.removeAttr("aria-required")}a.toggleClass("required",e);a.find("label").toggleClass("fab-Label--required",e);t.toggleClass("requiredWhenTraxSyncing",e).find("select").toggleClass("requiredWhenTraxSyncing",e);t.removeClass("requiredWhenVisible").find("select").removeClass("requiredWhenVisible").closest(".fieldBox").removeClass("requiredWhenVisible");const r=t[0].tagName==="BA-SELECT"?t.find("select"):t;if(!e){r.valid()}}))};$.fn.forceValidateField=function(){const e=$(this);const t=e.is(":visible")||e.closest("ba-select").is(":visible");if(e.length!==1){console.warn("Invalid data for forcing validation check -> Must match element & Must not match multiple elements");return false}else if(e.closest("form").attr("bhrvalidate-initiated")!="true"){console.warn("forceValidateField can only be used on initiated bhrValidate form");return false}else if(e.is("[readonly]")||e.is(":disabled")){console.warn("forceValidateField cannot validate readonly or disabled field");return false}else if(!t){return false}e.valid()};$.fn.initialTraxValidation=function(){if(!(0,l.hasTrax)()||window.currentlyEditingEmployeeId===0){return false}const e=$(this);if(e.get(0).hasSSNBeenValidatedInitially){return false}else{e.get(0).hasSSNBeenValidatedInitially=true}if(!e.is("form")){console.warn("initialTraxValidation can only be called on a form element");return false}const t=e.find(".primary-ssn-field");if(t.length===1){t.data("isInitialValidation",true);t.forceValidateField()}const a=e.find("ba-select.js-paySchedule");if(a.length===1){M(a,null)}};function S(){if(!this.form){this.form=$(this).closest("form")[0]}}function O(e){const t=$(e).data("employeeid");const a=t!="data-employeeid"&&t!=undefined;const r=window.currentlyEditingEmployeeId||"0";return a?t:r}function T(e,t,a,r,n){if(!a.settings.messages[e.name]){a.settings.messages[e.name]={}}a.settings.messages[e.name].remote=r.originalMessage;if(n){let t=a.formSubmitted;a.prepareElement(e);a.formSubmitted=t;a.successList.push(e);delete a.invalid[e.name];a.showErrors();a.settings.unhighlight.call(a,e)}else{let n=a.errorMap||{};let i=a.defaultMessage(e,"remote");n[e.name]=r.message=$.isFunction(i)?i(t):i;a.invalid[e.name]=true;a.showErrors(n);a.settings.highlight.call(a,e)}r.valid=n;a.stopRequest(e,n)}function C(e,t,a,r){let n=P(e,t);if(n&&n.length===1){let e=n.get(0);T(e,e.value,a,a.previousValue(e),r)}}function P(e,t){let a=$(e).closest("form").find(t);let r=a.is(":visible")||a.closest("ba-select").is(":visible");return r?a:false}function E(e,t){const a=P(e,"select.js-paySchedule");if(a){const r=t||a.val();const n=a[0].tagName==="SELECT"?a.closest("ba-select").data("payScheduleIds"):a.data("payScheduleIds");if(n){return n&&r.length&&String(n).includes(r)}else{return $(e).closest("ba-select").find("ba-option:selected").data("syncing-pay-schedule")===true}}return false}function M(e,t){const a=$(e).closest("form");if(E(e,t)){$(".trax-required",a).not(".requiredWhenTraxSyncing, .workflow-additional-field-required, .requiredWhenVisible").setTraxRequired(true)}else{$(".trax-required.requiredWhenTraxSyncing, .trax-required.workflow-additional-field",a).not(".workflow-additional-field-required").setTraxRequired(false)}}$((function(){jQuery.validator.addClassRules({requiredWhenVisible:{required:function(e){const t=$(e);switch(true){case!g&&t.is("select"):return t.next(".chzn-container").is(":visible");case!g&&$(e).hasClass("chzn-container"):return false;case g&&t.is("select:not(visible)"):return t.closest(".fab-Select").is(":visible");default:return $(e).is(":visible")}}},requiredWhenTraxSyncing:{required:function(e){const t=$(e);if(t.is("select:not(visible)")){return t.closest(".fab-Select").is(":visible")}return $(e).is(":visible")}},validateUrl:{urlHttpOptional:true},"validateUrl-http":{url:true},"validateUrl-https":{urlHttpsRequired:true},validateNumber:{number:true},validateEmployeeNumber:{employeeNumber:true},validatePayrollEmployeeNumber:{digits:true,maxLengthDigits:6,noLeadingZeros:true},creditCardLast4Digits:{digits:true,maxLengthDigits:4},checkEmailExists:{bambooEmailValidator:true,check_email_exists:{url:b(),data:{id:O(this),userId:$(this).data("userid")}}},validateEmail:{bambooEmailValidator:true},"ssn-field":{regex:"^[0-9]{3}-[0-9]{2}-[0-9]{4}$"},"primary-ssn-field":{check_ssn:{url:w(),data:{id:O(this),check_field:"ssn",check_action:"checkSSN"}}},"sin-field":{regex:"^[0-9]{3}-[0-9]{3}-[0-9]{3}$"},"primary-sin-field":{check_sin_exists:{url:w(),data:{id:O(this),check_field:"sin",check_action:"checkSIN"}}},"js-validate-nin":{regex:/^([0-9a-z]{2}\s?){4}\s?[0-9a-z]{1}$/i},"js-validate-overtimeRate-trax":{valueGreaterThanZeroTrax:true,currencyTypeMatchTrax:"USD"},"js-validate-primary-nin":{check_nin_exists:{url:w(),data:{id:O(this),check_field:"nin",check_action:"checkNIN"}}},"js-validate-national-id":{regex:/^[0-9a-z]{6,16}$/i},"js-validate-primary-national-id":{check_national_id_exists:{url:w(),data:{id:O(this),check_field:"national_id",friendly_name:"National ID",check_action:"checkNationalID"}}},"js-validate-passport-number":{regex:/^[A-Z0-9]{1,20}$/i,maxlength:20},essRequiredFields:{essRequiredFields:true},"js-validate-inlineEdit":{validateInlineEdit:true},"js-validate-ccNumber":{minlength:13,maxlength:16},"js-validate-todayAndFuture":{todayAndFuture:true},"js-multiSelect-quantityCheck":{multiSelectQuantityCheck:true},"js-validate-ss-required":{validateSelfServiceEmailRequired:true,validateTraxEmailRequired:true},"js-validate-date-field":{validateDateField:true},"js-validate-to-date":{validateDateFrom_to:true},"js-validate-mindate":{validateMinDate:true},"js-validate-maxdate":{validateMaxDate:true},"js-validate-hire-date":{validateDateBetween:{from:"1900-01-01",to:(0,u.default)().add(3,"y")}},"js-validate-birth-date":{validateDateBetween:{from:"1900-01-01",to:(0,u.default)()}},"js-validate-smalldate":{validateDateBetween:{from:"1900-01-01",to:"2079-06-06"}},"js-ToggleButton__validate":{validateToggleButton:true},"js-validate-payRate":{validatePayRate:true},"js-validate-payRate-trax":{currencyTypeMatchTrax:"USD"},"js-validate-noEmptyWhitespace":{trimIsNotEmpty:true},"js-validate-directDeposit":{directDepositValidator:true,directDeposit100Validator:true},"js-validate-range-1-5":{smartRange:[1,5]},"js-validate-range-0-24":{smartRange:[0,24]},"js-paySchedule":{check_pay_schedule:{url:w(),data:{action:"checkPayScheduleForEmployee"}}},"js-validate-zip-trax":{validateUSZipTrax:true},"js-validate-salaried-hours-per-week":{validateSalariedHoursPerWeek:true}});$('form.BhrForms:not([bhrvalidate-initiated=true]):not(".js-noValidate"):not(".dynamic-form")').each((function(){$(this).bhrValidate({})}))}));(function(jQuery){const e=jQuery.validator.prototype.resetForm;var $=jQuery;jQuery.fn.bhrValidOnClick=function(){if($(this).valid()&&!$("#footer-buttons .btn").hasClass("disabled")){if(g){document.dispatchEvent(new CustomEvent("SiteFooterActions:toggleProcessing"))}else{$("#footer-buttons .btn").addClass("disabled processing")}$(this).submit()}};jQuery.validator.prototype.resetForm=function(){e.call(this);this.elements().each(((e,t)=>{jQuery.validator.prototype.resetElement.call(this,t)}))};jQuery.validator.prototype.elements=function(){var e=this,t={};return $(this.currentForm).find(v.join(", ")).not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter((function(){if(!this.name&&e.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in t||!e.objectLength($(this).rules())){return false}t[this.name]=true;return true})).each(S)};jQuery.fn.bhrValidate=function(e,t){var a,r;if(t==undefined){t=y}if($(this).attr("bhrvalidate-initiated")!="true"){$(this).attr("bhrvalidate-initiated","true")}else{$(this).each(((t,a)=>{if(window.BambooHR.env.dev&&a instanceof HTMLFormElement){console.warn(".bhrValidate() called multiple times",e)}}))}if(e==undefined){e={}}$(this).find(".requiredWhenVisible").find(":input").addClass("requiredWhenVisible");const i=Object.keys($.validator.classRuleSettings)||[];$(this).find("ba-select").each((function(){if(g){const e=Array.from(this.classList);const t=i.filter((t=>e.includes(t)));if(t.length){this.querySelector("select").classList.add(...t)}}S.call(this)}));if(typeof e.customMessages=="undefined"){r={}}else{r=e.customMessages}$(this).find(".checkEmailExists").each((function(){r[$(this).attr("name")]={remote:$.__("This email is already being used.")}}));$(this).find(".ssn-field").each((function(){r[$(this).attr("name")]={remote:jQuery.validator.messages.check_ssn};$(this).attr("data-errorclass","ssn-field--error")}));$(this).find(".sin-field").each((function(){r[$(this).attr("name")]={remote:$.__("There is already an employee with this SIN in the system.")}}));$(this).find(".creditCardLast4Digits").each((function(){r[$(this).attr("name")]={remote:$.__("The field has too many characters.")}}));a={ignore:".ignore",messages:r,errorPlacement:function(e,t){if(g){(0,m.jadeErrorPlacement)(e,t);return}var a;var r=t.attr("type")=="email"||t.hasClass("validateEmail");var n=t.hasClass("inline-error")||$('label[for="'+t.attr("id")+'"]').hasClass("inline-error");if((r||n)&&e.html()!=jQuery.validator.messages.required){if(t.closest("form").hasClass("newFormDesign")){if(t.siblings(".fieldInfo").length>0){t.siblings(".fieldInfo").addClass("error").html(e.html())}else{t.closest(".fieldDiv").append('<span class="fieldInfo error">'+e.html()+"</span>")}}else if(t.closest("form").hasClass("BhrForms")){a=null;if(t.closest(".fieldRow").find(".fieldBox:visible").length>1){a=t.closest(".fieldRow").find(".fieldBox:last-child")}else{a=t.closest(".fieldBox:visible")}if(a.find(".formNote").length>0){a.find(".formNote").text(e.html()).addClass("error")}else if(a.length===1){a.append('<span class="formNote error">'+e.html()+"</span>")}}}},highlight:function(e){if(e){e.dispatchEvent(new CustomEvent("validation",{bubbles:true,cancelable:true,detail:{isValid:false}}))}if(g){(0,m.jadeHighlight)(e);return}var t=$(e);var a=t.closest(".fieldBox");var r=t.closest("form");var n=t.closest(".mceWrapper--editor");if(t.is("ba-select")){t.attr("error","")}if(n.length==1){n.addClass("mceWrapper--error")}else{a.addClass("error");t.closest(".fieldGroup").addClass("validate-group-error");if(t.hasClass("inline-error")||$('label[for="'+t.attr("id")+'"]').hasClass("inline-error")){var i=t.attr("data-error-msg")==undefined?$('label[for="'+t.attr("id")+'"]').attr("data-error-msg"):t.attr("data-error-msg");if(i==undefined){return}if(r.hasClass("newFormDesign")){if(a.find(".fieldInfo").length>0){a.find(".fieldInfo").text(i).addClass("error")}else if(t.closest(".fieldDiv").length==1){t.closest(".fieldDiv").append('<span class="fieldInfo error">'+i+"</span>")}else{a.append('<div class="fieldDiv"><span class="fieldInfo error">'+i+"</span></div>")}}else if(r.hasClass("BhrForms")){if(a.find(".formNote").length>0){a.find(".formNote").text(i).addClass("error")}else if(a.length==1){a.append('<span class="formNote error">'+i+"</span>")}}}}},unhighlight:function(e){if(e){e.dispatchEvent(new CustomEvent("validation",{bubbles:true,cancelable:true,detail:{isValid:true}}))}if(g){(0,m.jadeUnhighlight)(e);return}var t=$(e);var a=t.closest(".fieldBox");var r=t.closest(".fieldRow");var n=t.closest(".mceWrapper--editor");if(e&&e.matches("ba-select[error]")){e.removeAttribute("error","")}if(n.length==1){n.removeClass("mceWrapper--error")}else{a.removeClass("error");if(r.find(".fieldBox.error").length==0){r.find(".fieldInfo.error").removeClass("error").empty();r.find(".fieldBox:last-child .formNote.error").removeClass("error").empty();a.find(".formNote.error").removeClass("error").empty()}if(t.closest(".fieldGroup.validate-group-error").find(".error").length==0){t.closest(".fieldGroup").removeClass("validate-group-error")}}},invalidHandler:function(a,r){let n=r.errorList;let i=r.errorMap;if(e.debug){console.log(n)}if(n.length>0){const a=typeof t==="function"?t(n,y):t;let o=$("<div></div>");if(e.debug){console.log(i);n.forEach((e=>console.log(e)))}o.html(a);setMessage(o.html(),"error");r.errorList[0].element.focus();$(".btn.processing").toggleProcessing(false)}},focusInvalid:false,onkeyup:function(e){var t=$(e).attr("id");var a=$(e).attr("name");var r=this.settings.rules[t]==undefined?this.settings.rules[a]:this.settings.rules[t];if(r!=undefined&&r.onkeyup!==false){$.validator.defaults.onkeyup.apply(this,arguments)}},submitHandler:function(t,...a){if((0,c.isFunction)(e.submitHandler)&&e.submitHandler(t,...a)===false){return}const{ajaxMethod:r}=t.dataset;const i=$(t);const o=i.find(".btn.btnAction");o.toggleProcessing(true);n.default.request({url:t.action,method:r,data:i.serialize()}).then((e=>{const{success:a,successMessage:r}=e.data||{};if(!a){throw n.default.createError(e)}const i=!t.dispatchEvent(new CustomEvent("ajaxSubmit",{bubbles:true,cancelable:true,detail:e}));if(i){return}o.toggleProcessing(false);if((0,c.isString)(r)){setMessage(r,"success")}})).catch((e=>{const a=!t.dispatchEvent(new CustomEvent("ajaxSubmitFail",{bubbles:true,cancelable:true,detail:e.response}));if(a){return}let{error:r,errorMessage:n,validationErrors:i}=e.response.data;r=r||e.message||e.response.statusText;console.error(r,e);n=e.response.errorMessage||n||y;if((0,c.isString)(n)){setMessage(n,"error")}o.toggleProcessing(false);if((0,c.isPlainObject)(i)){this.showErrors(i)}}))}};$(this).closest("form").on("submit",(function(){$(this).data("validation-submitting",true)}));let o;$(this).each(((t,r)=>{const n=$(r);let i=n.attr("data-ajax-method");o=n.validate({...a,...e,submitHandler:i?a.submitHandler:e.submitHandler||false})}));$(".required :input:not(.requiredWhenVisible)",$(this)).each((function(){$(this).rules("add",{required:true})}));$(".required select:not(.requiredWhenVisible)",$(this)).each((function(){$(this).rules("add",{excludeZero:true})}));$(".required.noZeroAllowed input",$(this)).each((function(){$(this).rules("add",{excludeZero:true})}));$("input[name=uploadValidatorHiddenInput]",$(this)).each((function(){$(this).rules("add",{fileUploader:true})}));$(".visuallyRequired.multipleCheckbox",$(this)).each((function(){var e=$(this).find("input[type=checkbox]").attr("data-checkbox_id")||false;if(e){$("."+e).each((function(){$(this).rules("add",{require_from_group_when_visible:[1,"."+e]})}))}}));$("select.conditionallyRequired, input.conditionallyRequired",$(this)).each((function(){let e=$(this);let t=this.name;let a=$(e.data("conditionally-required-selector"));e.rules("add",{conditionallyRequired:true});a.change((function(){j($('[name="'+t+'"]'),$(this))}));j(e,a)}));$("ba-select.conditionallyRequired",$(this)).each((function(){let e=$(this);let t=this.getAttribute("name");let a=$(this.dataset.conditionallyRequiredSelector);let r=e.find(`select[name='${t}']`);r.rules("add",{conditionallyRequired:true});j(e,a)}));if($(".primaryContact:checked.requiredWhenVisible").length>0){const e=$(".primaryContact:checked.requiredWhenVisible");$(".primaryContact").removeClass("requiredWhenVisible");e.addClass("requiredWhenVisible")}if(!$(this).hasClass("BhrForms--view")){setTimeout((()=>{$(this).initialTraxValidation()}))}$(this).on("change keyup paste",".checkEmailExists",(0,c.debounce)((function(){$(this).valid()}),600)).on("change",".required .chzn-done:not(.customOnChange),.required select[multiple], .required textarea, :input",(function(e){if(!$(this).is("ba-select")){$(this).valid()}})).on("ba:selectChange",(function(e){if(g){const t=e.target.querySelector("select");if(t){window.setTimeout((()=>{$(t).valid()}))}return}window.setTimeout((()=>{$(e.target).valid()}))})).on("invalid-form.bhrValidate",(function(){$(document).trigger(...arguments)}));return o}})(jQuery);jQuery.extend(jQuery.validator.messages,{required:$.__("This field is required."),remote:$.__("Please fix this field."),email:$.__("Invalid email address."),url:$.__("Please enter a valid URL."),urlHttpsRequired:$.__("Please enter a valid HTTPS URL."),date:$.__("Please enter a valid date."),dateField:$.__("Please enter a valid date."),dateISO:$.__("Please enter a valid date (ISO)."),number:$.__("Please enter a valid number or remove any leading zeros."),employeeNumber:$.__("Please enter a valid number."),noLeadingZeros:$.__("Value must not start with a 0."),digits:$.__("Please enter only digits."),creditcard:$.__("Please enter a valid credit card number."),equalTo:$.__("Please enter the same value again."),accept:$.__("Please enter a value with a valid extension."),textOnly:$.__("Please enter a value with only alphabetic characters."),maxLengthDigits:jQuery.validator.format($.__("Please enter no more than %1 digits.","{0}")),maxlength:jQuery.validator.format($.__("Please enter no more than %1 characters.","{0}")),minlength:jQuery.validator.format($.__("Please enter at least %1 characters.","{0}")),rangelength:jQuery.validator.format($.__("Value must be between %1 and %2 characters long.","{0}","{1}")),range:jQuery.validator.format($.__("Value must be between %1 and %2.","{0}","{1}")),max:jQuery.validator.format($.__("Value must be less than or equal to %1.","{0}")),min:jQuery.validator.format($.__("Value must be greater than or equal to %1.","{0}")),require_from_group:jQuery.validator.format($.__("At least %1 of these fields is required.","{0}")),require_from_group_when_visible:jQuery.validator.format($.__("At least %1 of these fields is required.","{0}")),check_email_exists:jQuery.validator.format($.__("This email is already being used.")),check_ssn:jQuery.validator.format(window.SESSION_USER&&window.SESSION_USER.isAdmin?$.__("Oops, this is not a valid SSN or it is a duplicate of another SSN in your account."):$.__("Oops! Double check the numbers you entered. If everything is correct please contact your administrator.")),check_ssn_exists:jQuery.validator.format($.__("This SSN is already being used.")),check_sin_exists:jQuery.validator.format($.__("This SIN is already being used.")),check_nin_exists:jQuery.validator.format($.__("This NIN is already being used.")),check_national_id_exists:jQuery.validator.format($.__("This National ID is already being used.")),greaterThan:jQuery.validator.format($.__("Value must be greater than %1.","{0}")),valueGreaterThanZero:jQuery.validator.format($.__("Value must be greater than 0")),currencyTypeMatch:jQuery.validator.format($.__("Currency must be %1","{0}")),lessThan:jQuery.validator.format($.__("Value must be less than %1.","{0}")),regex:jQuery.validator.format($.__("This value is not valid.")),sameSiblingValue:jQuery.validator.format($.__("These two values cannot be the same.")),sameRowValue:jQuery.validator.format($.__("These values cannot be the same.")),futureDate:jQuery.validator.format($.__("This must be a future date.")),todayAndFuture:jQuery.validator.format($.__("This must be today or a future date.")),fromToDatesOrder:jQuery.validator.format($.__("Beginning date must be before end date.")),minDate:jQuery.validator.format($.__("Please enter a valid date.")),maxDate:jQuery.validator.format($.__("Please enter a valid date.")),isCurrency:jQuery.validator.format($.__("This currency must be %1.","{0}")),isCountryCode:jQuery.validator.format($.__("Only US employees can be included in payroll.","{0}")),isPayType:jQuery.validator.format($.__("Pay type must be hourly or salary to include this employee in payroll.")),USZip:jQuery.validator.format($.__("Please enter a valid US Zip code."))});jQuery.validator.addMethod("bambooEmailValidator",(function(e,t){return this.optional(t)||BambooHR.Utils.validateEmail(e)}),jQuery.validator.messages.email);jQuery.validator.addMethod("check_email_exists",(function(e,t,a){if(e==""){return true}if($(t).hasClass("requiredWhenVisible")&&!$(t).is(":visible")){return true}a.data.id=O(t);a.data.userId=$(t).data("userid");a.data.email=e;a.data.action="checkUserEmail";a.data.validate=true;a.type="POST";return jQuery.validator.methods.remote.call(this,e,t,a)}));jQuery.validator.addMethod("check_ssn",(function(e,t,a){if(e==""){return true}if($(t).hasClass("requiredWhenVisible")&&!$(t).is(":visible")){return true}let r=this;if(this.settings.ignoreSSNField){return true}let n={},i=P(t,"select.js-paySchedule");n.url=w();n.data={};n.data.id=O(t);n.data[a.data.check_field]=e;n.data.action=a.data.check_action;n.type="POST";n.data.validate=true;if(i){n.data.payScheduleListValueId=i.val();t.defaultValue=`nomatch-${window.BambooHR.Utils.makeUid()}`}n.complete=function(a){const n=$(t).data("isInitialValidation");$(t).removeData("isInitialValidation");if(!n&&e==="001-00-0000"&&!r.settings.isNHPPage&&e!==t.defaultValue){(0,p.SSNWarnSyncModal)()}if((0,l.hasTrax)()&&E(t)){const e=a.responseText==true||a.responseText==="true";C(t,"select.js-paySchedule",r,e)}};return jQuery.validator.methods.remote.call(this,e,t,n)}),jQuery.validator.messages.check_ssn);jQuery.validator.addMethod("check_ssn_exists",(function(e,t,a){if(e==""||e==t.defaultValue){return true}if($(t).hasClass("requiredWhenVisible")&&!$(t).is(":visible")){return true}let r=this.previousValue(t),n=this;if(this.settings.ignoreField){return true}let i={};i.url=a.url||w();i.data={};i.data.id=$(t).data("employeeid");i.data[a.data.check_field]=e;i.data.action=a.data.check_action;i.data.validate=true;i.type="POST";i.complete=function(){if(n.invalid[t.name]){n.startRequest(t);let e=(a.data.friendly_name||a.data.check_field).toUpperCase();let i=$.__("There is already an employee with this %1 in the system. Are you sure you want to create another one?",e);if(g){const a=window.BambooHR.Modal.isOpen();let o={};let s={dangerousContent:`<div className="ValidationModal">\n\t\t\t\t\t\t\t<span className="ValidationModal__alertIcon">\n\t\t\t\t\t\t\t\t<ba-icon name="triangle-exclamation-12x11"></ba-icon>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<p className="ValidationModal__message">\n\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>`,primaryAction:()=>{let e=n.formSubmitted;n.prepareElement(t);n.formSubmitted=e;n.successList.push(t);delete n.invalid[t.name];r.valid=true;n.showErrors();n.hideErrors();n.settings.unhighlight.call(n,t,n.settings.errorClass,n.settings.validClass);n.stopRequest(t,true);if(a){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("Yes"),isOpen:true,title:$.__("Duplicate %1",e)};if(a){o={isOpen:true,sheetProps:s}}else{o=s}window.BambooHR.Modal.setState(o,a)}else{f.default.openModal({footer:{buttons:{primary:{action:function(){let e=n.formSubmitted;n.prepareElement(t);n.formSubmitted=e;n.successList.push(t);delete n.invalid[t.name];r.valid=true;n.showErrors();n.hideErrors();n.settings.unhighlight.call(n,t,n.settings.errorClass,n.settings.validClass);n.stopRequest(t,true);f.default.closeModal()},text:$.__("Yes")}},nostack:false,show:true},html:`\n\t\t\t\t\t\t<div class="ValidationModal">\n\t\t\t\t\t\t\t<span class="ValidationModal__alertIcon">\n\t\t\t\t\t\t\t\t<ba-icon name="triangle-exclamation-12x11"></ba-icon>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<p class="ValidationModal__message">\n\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t`,title:$.__("Duplicate %1",e)})}}};return jQuery.validator.methods.remote.call(this,e,t,i)}));let x=false;jQuery.validator.addMethod("check_pay_schedule",(function(e,t,a){M(t,e);const r=$(".js-validate-payRate-trax, .js-validate-overtimeRate-trax");if(E(t,e)&&r.length>0){r.addClass("syncingScheduleSelected");if(!x){x=true;r.valid()}}else{r.removeClass("syncingScheduleSelected");if(x){r.valid()}x=false}if((0,l.hasTrax)()){if(window.currentlyEditingEmployeeId===0){return true}if(e==""){return true}if($(t).hasClass("requiredWhenVisible")&&!$(t).parents("ba-select").is(":visible")){return true}let r=this.previousValue(t),n=this,i=P(t,".primary-ssn-field");if(i){a.data.ssn=i.val()}a.data.payScheduleId=null;a.data.payScheduleListValueId=e;a.data.id=O(t);a.data.userId=O(t);a.data.validate=true;a.type="POST";a.complete=function(a){const i=a.responseText==true||a.responseText==="true";setTimeout((()=>{T(t,e,n,r,i)}),10);if(!i){const e=$(t).parents("ba-select").find("ba-option[selected]").text();(0,p.SSNInvalidSyncModal)(e)}C(t,".primary-ssn-field",n,i)};return jQuery.validator.methods.remote.call(this,e,t,a)}return true}));jQuery.validator.addMethod("check_sin_exists",(function(e,t,a){return jQuery.validator.methods.check_ssn_exists.call(this,e,t,a)}));jQuery.validator.addMethod("check_nin_exists",(function(e,t,a){return jQuery.validator.methods.check_ssn_exists.call(this,e,t,a)}));jQuery.validator.addMethod("check_national_id_exists",(function(e,t,a){return jQuery.validator.methods.check_ssn_exists.call(this,e,t,a)}));if(g){jQuery.validator.addMethod("bambooRichText",(function(e,t){const a=$(t).closest(".js-bamboo-rich-text").find(".js-bamboo-rich-text-editor");if(a[0]){const e=window.tinyMCE.get(a.attr("id"));if(e){return!!e.getContent()}}}),jQuery.validator.messages.required)}else{jQuery.validator.addMethod("mceEditor",(function(e,t,a){if(a&&typeof tinyMCE!="undefined"&&$(t).attr("id")&&tinyMCE.get($(t).attr("id"))){return tinyMCE.get($(t).attr("id")).getContent()!=""}}),jQuery.validator.messages.required)}jQuery.validator.addMethod("maxLengthDigits",(function(e,t,a){return e.length<=a}),jQuery.validator.messages.maxLengthDigits);jQuery.validator.addMethod("textOnly",(function(e,t,a){return e.match(/^[A-Za-z .]+$/)}),jQuery.validator.messages.textOnly);jQuery.validator.addMethod("validateUSZip",(function(e,t,a){return(0,s.isValidUSZipCode)(e)}),jQuery.validator.messages.USZip);jQuery.validator.addMethod("validateUSZipTrax",(function(e,t,a){const r=this;if(!(0,l.hasTrax)()||t.classList.contains("contact_zip")||!$(t).is(":visible")){return true}const n=$(t).closest("form").find("ba-select.js-paySchedule");const i=n.length>0?n[0].value:null;if(n.length>0){return E(n,i)?jQuery.validator.methods.validateUSZip.call(r,e,t,a):true}if(window.Employee&&window.Employee.payrollSynced){return jQuery.validator.methods.validateUSZip.call(r,e,t,a)}return true}),jQuery.validator.messages.USZip);jQuery.validator.addMethod("currencyTypeMatchTrax",(function(e,t,a){if($(t).syncingPayScheduleSelected()&&(0,l.hasTrax)()){return jQuery.validator.methods.currencyTypeMatch.call(this,e,t,a)}return true}),jQuery.validator.messages.currencyTypeMatch);jQuery.validator.addMethod("currencyTypeMatch",(function(e,t,a){if(!$(t).is(":visible")){return true}let r=$(t).siblings("input.currencyType");if(r.length===0){r=$(t).closest(".fieldRow, .fab-FormRow").find(".js-CurrencyPicker ").find("input.currencyType")}const n=r.length>0?r.val():"";const i=n===a;const{Employee:o={}}=window;const s=o.firstName||"an employee";if(!i){window.setMessage($.__("Oops, please make sure the pay rate is in %1 before adding %2 to a pay schedule that syncs with BambooHR Payroll.",a,s),"error")}return i}),jQuery.validator.messages.currencyTypeMatch);jQuery.validator.addMethod("valueGreaterThanZeroTrax",(function(e,t,a){if($(t).syncingPayScheduleSelected()&&(0,l.hasTrax)()){return jQuery.validator.methods.valueGreaterThanZero.call(this,e,t,a)}return true}),jQuery.validator.messages.valueGreaterThanZero);jQuery.validator.addMethod("valueGreaterThanZero",(function(e,t,a){if(!$(t).is(":visible")){return true}return(0,d.fixCurrencyValue)(e)>0}),jQuery.validator.messages.valueGreaterThanZero);jQuery.validator.addMethod("noLeadingZeros",(function(e,t,a){return e==""||e.charAt(0)!=0}),jQuery.validator.messages.noLeadingZeros);jQuery.validator.addMethod("fileUploader",(function(e,t,a){return $(t).closest(".attach-wrapper").siblings(".files").find(".file-wrapper.uploadDone").length>0}),$.__("Please upload a file."));jQuery.validator.addMethod("passwordValidate",(function(e,t,a){return t.value.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/)}));jQuery.validator.addMethod("excludeZero",(function(e,t,a){return t.value!=0}));jQuery.validator.addMethod("greaterThan",(function(e,t,a){return t.value>a}),jQuery.validator.messages.greaterThan);jQuery.validator.addMethod("lessThan",(function(e,t,a){return t.value<a}),jQuery.validator.messages.lessThan);jQuery.validator.addMethod("regex",(function(e,t,a){var r=new RegExp(a);return this.optional(t)||r.test(e)}),jQuery.validator.messages.regex);jQuery.validator.addMethod("number",(function(e,t,a){var r=new RegExp(GLOBAL_NUMBER_REGEX);return this.optional(t)||r.test(e)}),jQuery.validator.messages.number);var k=GLOBAL_NUMBER_REGEX.replace("(?!0[0-9])","");jQuery.validator.addMethod("employeeNumber",(function(e,t,a){return this.optional(t)||new RegExp(k).test(e)}),jQuery.validator.messages.employeeNumber);jQuery.validator.addMethod("min",(function(e,t,a){return this.optional(t)||getFloatFromStringJS(e)>=a}),jQuery.validator.messages.min);jQuery.validator.addMethod("max",(function(e,t,a){return this.optional(t)||getFloatFromStringJS(e)<=a}),jQuery.validator.messages.max);jQuery.validator.addMethod("urlHttpOptional",(function(e,t,a){return this.optional(t)||/^((https?|s?ftp):\/\/)?(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}),jQuery.validator.messages.url);jQuery.validator.addMethod("urlHttpsRequired",(function(e,t,a){return this.optional(t)||/^((https):\/\/)(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}),jQuery.validator.messages.urlHttpsRequired);jQuery.validator.addMethod("essRequiredFields",(function(e,t,a){var r=false;if($(".checkEmailExists").length>0){$(".checkEmailExists").each((function(e,t){if($(t).val()!==""&&validateEmail($(t).val())){r=true}}))}var n;if(typeof n=="undefined"){n="Active"}var i=$(".employee-status-field").val()||n;return r&&i==="Active"||!t.checked}));jQuery.validator.addMethod("sameSiblingValue",(function(e,t,a){let r=$(t);let n=r.siblings(a);if(r.closest(".fieldBox").is(":hidden")&&n.closest(".fieldBox").is(":hidden")){return true}let i=n.val();return e!==i}),jQuery.validator.messages.sameSiblingValue);jQuery.validator.addMethod("sameRowValue",(function(e,t,a){const r=".formRow, .fab-FormRow";const n=".fieldBox, fab-FormField";const i=$(t);const o=i.closest(r);const s=o.find(a);if(i.closest(n).is(":hidden")&&s.closest(n).is(":hidden")){return true}return i.val()!==s.val()}),jQuery.validator.messages.sameRowValue);function j(e,t){if(t[0]&&t[0].tagName==="BA-SELECT"){const a=e[0];const r=a.querySelector("select");const n=r?r.value:"";const i=t[0].querySelector("select").value;const o=e.data("conditionally-required-values")?e.data("conditionally-required-values").split(",").indexOf(i)>=0:false;return!e.is(":visible")||!o||n.length>0}let a=e.closest(".fieldBox");let r=e.data("conditionally-required-values")?e.data("conditionally-required-values").split(",").indexOf(t.val())>=0:false;a.removeClass("error");if(r){a.addClass("required")}else{a.removeClass("required")}return!a.is(":visible")||!r||e.val().length>0}jQuery.validator.addMethod("conditionallyRequired",(function(e,t){const a=g&&t.tagName==="SELECT"?$(t).closest("ba-select"):$(t);return j(a,$(a.data("conditionally-required-selector")))}));jQuery.validator.addMethod("futureDate",(function(e,t,a){if(!$(t).is(":visible")){return true}var r=new Date;var n=r.getFullYear();var i=$(a.monthSelector).val();var o=$(a.yearSelector).val();var s=i>=1&&i<=12&&o>=n&&o<n+20&&(o==n?i>=r.getMonth()+1:true);if(s){}return s}),jQuery.validator.messages.futureDate);jQuery.validator.addMethod("todayAndFuture",(function(e,t,a){if(e==$(t).attr("placeholder")){return true}var r=new Date;var n=new Date($(t).val());r.setHours(0,0,0,0);return this.optional(t)||n>=r}),jQuery.validator.messages.todayAndFuture);jQuery.validator.addMethod("multiSelectQuantityCheck",(function(e,t,a){return e.length>=$(t).attr("data-quantity-required")}));jQuery.validator.addMethod("validateSelfServiceEmailRequired",(function(e,t,a){var r=$(".ess-field").length>=1&&$(".ess-field:checked").val()=="enabled";if(r){var n=0;$(".js-validate-ss-required").each((function(e,t){if(t.value!=""){n++}}));return n>0}return true}),"");jQuery.validator.addMethod("validateTraxEmailRequired",(function(e,t,a){var r=(0,l.hasTrax)();if(r){var n=0;$(".js-validate-ss-required").each((function(e,t){if(t.value!=""){n++}}));return n>0}return true}),"");jQuery.validator.addMethod("validateDateFrom_to",(function(e,t){var a=$(t);if(a.val()===""){return true}var r=u.default.$(a),n=u.default.$("input.js-validate-from-date[data-calendar-id="+a.data("calendarId")+"]");return r.isValid()&&n.isValid()&&r.isAfter(n,"day")}),jQuery.validator.messages.fromToDatesOrder);jQuery.validator.addMethod("validateToggleButton",(function(e,t){var a=$(t).closest(".fieldDiv");if(a.find(".currency-field").val()==""&&a.find(".percent-field").val()==""){return false}return true}));jQuery.validator.addMethod("validateInlineEdit",(function(e,t){if(!$(t).closest('[saving-inline="true"]').length){return false}return jQuery.validator.methods.required.apply(this,arguments)}));jQuery.validator.addMethod("validateDateField",(function(e,t,a){return e===""||u.default.$(t).isValid()}),jQuery.validator.messages.dateField);jQuery.validator.addMethod("validateMinDate",(function(e,t){var a=$(t),r=u.default.$(t),n=(0,u.default)(a.data("mindate")||a.datepicker("option","minDate"));return r.isValid()&&r.isSameOrAfter(n,"day")}),jQuery.validator.messages.minDate);jQuery.validator.addMethod("validateMaxDate",(function(e,t){var a=$(t),r=u.default.$(t),n=(0,u.default)(a.data("maxdate")||a.datepicker("option","maxDate"));return r.isValid()&&r.isSameOrBefore(n,"day")}),jQuery.validator.messages.maxDate);jQuery.validator.addMethod("validateDateBetween",(function(e,t,a){return this.optional(t)||u.default.$(t).isBetween(a.from,a.to,null,"[]")}));jQuery.validator.addMethod("validateCalendarPicker",(function(e,t){var a=$(this.currentForm);var r=$(t);var n;var i=true;var o=r.closest("[calendar-picker]").data("calendarPicker");if(!o||!(r.is(o.$start)||r.is(o.$end))){throw new Error("You're trying to validate an input that is not part of a Calendar Picker")}if(!r.val().trim()&&!o.isValid()&&(o.isDirty()||a.data("validation-submitting"))){i=false}i=i&&o.isValid(t);r.data("cp-invalid",!i);n=r.is(o.$start)?o.$end:o.$start;if(i&&n&&n.data("cp-invalid")){setTimeout(function(){this.element(n)}.bind(this))}return i}),(function(e,t){var a=$(t);var r=a.closest("[calendar-picker]").data("calendarPicker");var n=r.validate(t)[0];var i="";if(!n){return}switch(n.code){case"BEFORE_MIN":i=$.__("%s is before the earliest allowed date",t.value);break;case"AFTER_MAX":i=$.__("%s is after the last allowed date",t.value);break;case"OUT_OF_BOUNDS":i=$.__("%s is outside of the allowed date range",t.value);break}if(!n.code&&r.isDirty()&&!a.val().trim()){i=$.__("A calendar field is missing")}return i}));jQuery.validator.addMethod("require_from_group_when_visible",(function(e,t,a){var r=$(t).closest(a[2])[0]||t;return!$(r).is(":visible")||jQuery.validator.methods.require_from_group.call(this,e,t,a)}),jQuery.validator.messages.require_from_group);jQuery.validator.addMethod("Compensation_TraxConditionalRequire",(function(e,t,a){var r=$(t).closest("form");var n=["rate[0]","paidPer","payGroup","payPeriod","payType","exempt"];var i=n.map((function(e){return'[name="'+e+'"]'}));var o=false;r.find(i.join(", ")).each((function(e,t){if($(t).val()){o=true}}));return!!e||!o}),jQuery.validator.messages.require_from_group);jQuery.validator.addMethod("validatePayRate",(function(e,t,a){var r=$(t).closest("form");var n=r.find('[name="rate[0]"]').val();var i=r.find('[name="paidPer"]').val();return e||!n&&!i}),jQuery.validator.messages.require_from_group);jQuery.validator.addMethod("isCurrency",(function(e,t,a){var r=$(t).closest(".CurrencyPicker").find("input.js-currency-picker-type");if(_.isString(a)){a=[a]}return _.includes(a,r.val())}),jQuery.validator.messages.isCurrency);jQuery.validator.addMethod("isPayType",(function(e,t){var a=$(t);return a.val()=="Hourly"||a.val()=="Salary"}),jQuery.validator.messages.isPayType);jQuery.validator.addMethod("isCountryCode",(function(e,t,a){var r=$(t);if(_.isString(a)){a=[a]}return _.includes(a,r.val())}),jQuery.validator.messages.isCountryCode);jQuery.validator.addMethod("trimIsNotEmpty",(function(e){if(e.length>0){return e.trim().length!==0}return true}),jQuery.validator.messages.remote);jQuery.validator.addMethod("smartRange",(function(e,t,a){const[r,n]=a;const i=window.getFloatFromStringJS(e);return i>=r&&i<=n}),jQuery.validator.messages.range);jQuery.validator.addMethod("directDepositValidator",(function(e,t,a){if(e.indexOf("%")>=0&&e.match(/\d+/)[0]>=100){return $(t).closest(".js-DirectDepositCard").is(":last-child")}return true}));jQuery.validator.addMethod("directDeposit100Validator",(function(e,t,a){return!(e.indexOf("%")>=0&&e.match(/\d+/)[0]>100)}));jQuery.validator.addMethod("timeOffTypeNameValidator",(function(e,t,a){return!a.error}));jQuery.validator.addMethod("validateSalariedHoursPerWeek",((e,t)=>{const a=t.dataset.validationAllowEmpty==="true";return(0,h.isSalariedHoursPerWeekValueValid)(e,a)}))},374175:(e,t,a)=>{"use strict";a(135938);a(202167);a(663144)},95844:(e,t,a)=>{"use strict";var $=a(992005);var jQuery=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.jadeUnhighlight=t.jadeHighlight=t.jadeErrorPlacement=void 0;const r=`fab-Label--error`;const n=`fab-CheckboxGroup__legend--error`;const i=`fab-RadioGroup__legend--error`;const o='[class*="fab-FormNote--"]:not(.js-fab-FormNote-ignore)';const s=".js-fab-FormNote-toggle";const l=["input","textarea","ba-select"];const d=(e,t)=>{const a=t[0];const r=t.attr("type")=="email"||t.hasClass("validateEmail");const n=t.hasClass("inline-error")||$('label[for="'+t.attr("id")+'"]').hasClass("inline-error");if((r||n)&&e.html()!=jQuery.validator.messages.required){if(t.closest("form").hasClass("BhrForms")){const r=g(a).parentNode;let n=r.querySelector(o);if(!n){n=document.createElement("span");n.innerText=e.html();r.insertAdjacentElement("beforeend",n)}n.className="fab-FormNote fab-FormNote--error "+(t.attr("data-errorclass")||"");n.innerHTML=e.html()}}};t.jadeErrorPlacement=d;const c=e=>{switch(e.nodeName){case"INPUT":if(y(e)){break}else if(e.classList.contains("js-rich-text-hidden-input")){const t=e.closest(".BambooRichText");if(t){t.classList.add("BambooRichText--error")}}else if(e.classList.contains("js-validate-ss-required")&&$(e).closest(".fieldGroup").hasClass("oneEmailRequired")){$(e).closest(".fieldGroup").addClass("oneEmailRequired--error")}else{e.classList.add("fab-TextInput--error")}break;case"TEXTAREA":e.classList.add("fab-Textarea--error");break;case"BA-SELECT":return false;default:}p(e,true);f(e)};t.jadeHighlight=c;const u=e=>{switch(e.nodeName){case"INPUT":if(y(e)){break}else if(e.classList.contains("js-rich-text-hidden-input")){const t=e.closest(".BambooRichText");if(t){t.classList.remove("BambooRichText--error")}}else if(e.classList.contains("js-validate-ss-required")&&$(e).closest(".fieldGroup").hasClass("oneEmailRequired")){$(e).closest(".fieldGroup").removeClass("oneEmailRequired--error")}else{e.classList.remove("fab-TextInput--error")}break;case"TEXTAREA":e.classList.remove("fab-Textarea--error");break;default:}p(e,false);f(e,true);const t=e.closest(".fieldRow")||e.closest(".fab-FormRow");let a;if(t){a=t.querySelector(o)}if(a){a.parentNode.removeChild(a)}};t.jadeUnhighlight=u;const f=(e,t=false)=>{let a=m(e);if(a){if(t){return h(a)}v(a)}};const p=(e,t)=>{const a=e.closest(".fieldRow")||e.closest(".fab-FormRow");let r;if(a){r=a.querySelector(s)}if(r){if(t){r.style.display="none"}else{r.style.display=""}}};const m=e=>{if(y(e)){const t=e.closest(".fab-CheckboxGroup")||e.closest(".fab-RadioGroup");if(t){const e=t.querySelector("legend");if(e){return e}}}if(e.id){const t=document.querySelector(`.fab-Label[for="${e.id}"]`);if(t){return t}}const t=e.closest(".fieldBox")||e.closest(".fab-FormColumn");if(t){return t.querySelector(".fab-Label")}return e.parentNode.querySelector(".fab-Label")};const h=e=>{if(e){e.classList.remove(b(e))}};const v=e=>{if(e){e.classList.add(b(e))}};const g=e=>{const t=e.closest(".fieldRow")||e.closest(".fab-FormRow");const a=t.querySelectorAll(l.join());let r=a[a.length-1];if(r&&r.parentNode.classList.contains("fab-InputWrapper")){r=r.parentNode}if(r.className.includes("masked")){r=t.children[0]}return r};function y({type:e}){return e==="checkbox"||e==="radio"}function b(e){if(e.classList.contains("fab-CheckboxGroup__legend")){return n}else if(e.classList.contains("fab-RadioGroup__legend")){return i}return r}},135938:(e,t,a)=>{"use strict";var jQuery=a(992005);(function($){$.extend($.fn,{validate:function(e){if(!this.length){if(e&&e.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var t=$.data(this[0],"validator");if(t){return t}this.attr("novalidate","novalidate");t=new $.validator(e,this[0]);$.data(this[0],"validator",t);if(t.settings.onsubmit){this.validateDelegate(":submit","click",(function(e){if(t.settings.submitHandler){t.submitButton=e.target}if($(e.target).hasClass("cancel")){t.cancelSubmit=true}if($(e.target).attr("formnovalidate")!==undefined){t.cancelSubmit=true}}));this.submit((function(e){if(t.settings.debug){e.preventDefault()}function a(){var a;if(t.settings.submitHandler){if(t.submitButton){a=$("<input type='hidden'/>").attr("name",t.submitButton.name).val($(t.submitButton).val()).appendTo(t.currentForm)}t.settings.submitHandler.call(t,t.currentForm,e);if(t.submitButton){a.remove()}return false}return true}if(t.cancelSubmit){t.cancelSubmit=false;return a()}if(t.form()){if(t.pendingRequest){t.formSubmitted=true;return false}return a()}else{t.focusInvalid();return false}}))}return t},valid:function(){var e,t;if($(this[0]).is("form")){e=this.validate().form()}else{e=true;t=$(this[0].form).validate();this.each((function(){e=t.element(this)&&e}))}return e},removeAttrs:function(e){var t={},a=this;$.each(e.split(/\s/),(function(e,r){t[r]=a.attr(r);a.removeAttr(r)}));return t},rules:function(e,t){var a=this[0],r,n,i,o,s,l;if(e){r=$.data(a.form,"validator").settings;n=r.rules;i=$.validator.staticRules(a);switch(e){case"add":$.extend(i,$.validator.normalizeRule(t));delete i.messages;n[a.name]=i;if(t.messages){r.messages[a.name]=$.extend(r.messages[a.name],t.messages)}break;case"remove":if(!t){delete n[a.name];return i}l={};$.each(t.split(/\s/),(function(e,t){l[t]=i[t];delete i[t];if(t==="required"){$(a).removeAttr("aria-required")}}));return l}}o=$.validator.normalizeRules($.extend({},$.validator.classRules(a),$.validator.attributeRules(a),$.validator.dataRules(a),$.validator.staticRules(a)),a);if(o.required){s=o.required;delete o.required;o=$.extend({required:s},o);$(a).attr("aria-required","true")}if(o.remote){s=o.remote;delete o.remote;o=$.extend(o,{remote:s})}return o}});$.extend($.expr[":"],{blank:function(e){return!$.trim(""+$(e).val())},filled:function(e){return!!$.trim(""+$(e).val())},unchecked:function(e){return!$(e).prop("checked")}});$.validator=function(e,t){this.settings=$.extend(true,{},$.validator.defaults,e);this.currentForm=t;this.init()};$.validator.format=function(e,t){if(arguments.length===1){return function(){var t=$.makeArray(arguments);t.unshift(e);return $.validator.format.apply(this,t)}}if(arguments.length>2&&t.constructor!==Array){t=$.makeArray(arguments).slice(1)}if(t.constructor!==Array){t=[t]}$.each(t,(function(t,a){e=e.replace(new RegExp("\\{"+t+"\\}","g"),(function(){return a}))}));return e};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(e){this.lastActive=e;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass)}this.addWrapper(this.errorsFor(e)).hide()}},onfocusout:function(e){if(!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))){this.element(e)}},onkeyup:function(e,t){if(t.which===9&&this.elementValue(e)===""){return}else if(e.name in this.submitted||e===this.lastElement){this.element(e)}},onclick:function(e){if(e.name in this.submitted){this.element(e)}else if(e.parentNode.name in this.submitted){this.element(e.parentNode)}},highlight:function(e,t,a){if(e.type==="radio"){this.findByName(e.name).addClass(t).removeClass(a)}else{$(e).addClass(t).removeClass(a)}},unhighlight:function(e,t,a){if(e.type==="radio"){this.findByName(e.name).removeClass(t).addClass(a)}else{$(e).removeClass(t).addClass(a)}}},setDefaults:function(e){$.extend($.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var e=this.groups={},t;$.each(this.settings.groups,(function(t,a){if(typeof a==="string"){a=a.split(/\s/)}$.each(a,(function(a,r){e[r]=t}))}));t=this.settings.rules;$.each(t,(function(e,a){t[e]=$.validator.normalizeRule(a)}));function a(e){if(t){var t=$.data(this[0].form,"validator"),a="on"+e.type.replace(/^validate/,""),r=t.settings;if(r[a]&&!this.is(r.ignore)){r[a].call(t,this[0],e)}}}$(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, "+"[type='number'], [type='search'] ,[type='tel'], [type='url'], "+"[type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], "+"[type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",a);if(this.settings.invalidHandler){$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}$(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++){this.check(t[e])}return this.valid()},element:function(e){var t=this.clean(e),a=this.validationTargetFor(t),r=true;this.lastElement=a;if(a===undefined){delete this.invalid[t.name]}else{this.prepareElement(a);this.currentElements=$(a);r=this.check(a)!==false;if(r){delete this.invalid[a.name]}else{this.invalid[a.name]=true}}$(e).attr("aria-invalid",!r);if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return r},showErrors:function(e){if(e){$.extend(this.errorMap,e);this.errorList=[];for(var t in e){this.errorList.push({message:e[t],element:this.findByName(t)[0]})}this.successList=$.grep(this.successList,(function(t){return!(t.name in e)}))}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},resetElement:function(e){this.errorList=this.errorList.filter((t=>t.element!==e));delete this.errorMap[e.name];delete this.submitted[e.name];this.settings.unhighlight(e)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0,a;for(a in e){t++}return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}}},findLastActive:function(){var e=this.lastActive;return e&&$.grep(this.errorList,(function(t){return t.element.name===e.name})).length===1&&e},elements:function(){var e=this,t={};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter((function(){if(!this.name&&e.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in t||!e.objectLength($(this).rules())){return false}t[this.name]=true;return true}))},clean:function(e){return $(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset();this.toHide=this.errorsFor(e)},elementValue:function(e){var t,a=$(e),r=a.attr("type");if(r==="radio"||r==="checkbox"){return $("input[name='"+a.attr("name")+"']:checked").val()}t=a.val();if(typeof t==="string"){return t.replace(/\r/g,"")}return t},check:function(e){e=this.validationTargetFor(this.clean(e));var t=$(e).rules(),a=$.map(t,(function(e,t){return t})).length,r=false,n=this.elementValue(e),i,o,s;for(o in t){s={method:o,parameters:t[o]};try{i=$.validator.methods[o].call(this,n,e,s.parameters);if(i==="dependency-mismatch"&&a===1){r=true;continue}r=false;if(i==="pending"){this.toHide=this.toHide.not(this.errorsFor(e));return}if(!i){this.formatAndAdd(e,s);return false}}catch(t){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+e.id+", check the '"+s.method+"' method.",t)}throw t}}if(r){return}if(this.objectLength(t)){this.successList.push(e)}return true},customDataMessage:function(e,t){return $(e).data("msg"+t[0].toUpperCase()+t.substring(1).toLowerCase())||$(e).data("msg")},customMessage:function(e,t){var a=this.settings.messages[e];return a&&(a.constructor===String?a:a[t])},findDefined:function(){for(var e=0;e<arguments.length;e++){if(arguments[e]!==undefined){return arguments[e]}}return undefined},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||undefined,$.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var a=this.defaultMessage(e,t.method),r=/\$?\{(\d+)\}/g;if(typeof a==="function"){a=a.call(this,t.parameters,e)}else if(r.test(a)){a=$.validator.format(a.replace(r,"{$1}"),t.parameters)}this.errorList.push({message:a,element:e,method:t.method});this.errorMap[e.name]=a;this.submitted[e.name]=a},addWrapper:function(e){if(this.settings.wrapper){e=e.add(e.parent(this.settings.wrapper))}return e},defaultShowErrors:function(){var e,t,a;for(e=0;this.errorList[e];e++){a=this.errorList[e];if(this.settings.highlight){this.settings.highlight.call(this,a.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(a.element,a.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(e=0;this.successList[e];e++){this.showLabel(this.successList[e])}}if(this.settings.unhighlight){for(e=0,t=this.validElements();t[e];e++){this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map((function(){return this.element}))},showLabel:function(e,t){var a=this.errorsFor(e);if(a.length){a.removeClass(this.settings.validClass).addClass(this.settings.errorClass);a.html(t)}else{a=$("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(t||"");if(this.settings.wrapper){a=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(a).length){if(this.settings.errorPlacement){this.settings.errorPlacement(a,$(e))}else{a.insertAfter(e)}}}if(!t&&this.settings.success){a.text("");if(typeof this.settings.success==="string"){a.addClass(this.settings.success)}else{this.settings.success(a,e)}}this.toShow=this.toShow.add(a)},errorsFor:function(e){var t=this.idOrName(e);return this.errors().filter((function(){return $(this).attr("for")===t}))},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){if(this.checkable(e)){e=this.findByName(e.name).not(this.settings.ignore)[0]}return e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return $(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return $("option:selected",t).length;case"input":if(this.checkable(t)){return this.findByName(t.name).filter(":checked").length}}return e.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):true},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!$(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!$.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){if(!this.pending[e.name]){this.pendingRequest++;this.pending[e.name]=true}},stopRequest:function(e,t){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[e.name];if(t&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false}else if(!t&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(e){return $.data(e,"previousValue")||$.data(e,"previousValue",{old:null,valid:true,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(e,t){if(e.constructor===String){this.classRuleSettings[e]=t}else{$.extend(this.classRuleSettings,e)}},classRules:function(e){var t={},a=$(e).attr("class");if(a){$.each(a.split(" "),(function(){if(this in $.validator.classRuleSettings){$.extend(t,$.validator.classRuleSettings[this])}}))}return t},attributeRules:function(e){var t={},a=$(e),r=e.getAttribute("type"),n,i;for(n in $.validator.methods){if(n==="required"){i=e.getAttribute(n);if(i===""){i=true}i=!!i}else{i=a.attr(n)}if(/min|max/.test(n)&&(r===null||/number|range|text/.test(r))){i=Number(i)}if(i||i===0){t[n]=i}else if(r===n&&r!=="range"){t[n]=true}}if(t.maxlength&&/-1|2147483647|524288/.test(t.maxlength)){delete t.maxlength}return t},dataRules:function(e){var t,a,r={},n=$(e);for(t in $.validator.methods){a=n.data("rule"+t[0].toUpperCase()+t.substring(1).toLowerCase());if(a!==undefined){r[t]=a}}return r},staticRules:function(e){var t={},a=$.data(e.form,"validator");if(a.settings.rules){t=$.validator.normalizeRule(a.settings.rules[e.name])||{}}return t},normalizeRules:function(e,t){$.each(e,(function(a,r){if(r===false){delete e[a];return}if(r.param||r.depends){var n=true;switch(typeof r.depends){case"string":n=!!$(r.depends,t.form).length;break;case"function":n=r.depends.call(t,t);break}if(n){e[a]=r.param!==undefined?r.param:true}else{delete e[a]}}}));$.each(e,(function(a,r){e[a]=$.isFunction(r)?r(t):r}));$.each(["minlength","maxlength"],(function(){if(e[this]){e[this]=Number(e[this])}}));$.each(["rangelength","range"],(function(){var t;if(e[this]){if($.isArray(e[this])){e[this]=[Number(e[this][0]),Number(e[this][1])]}else if(typeof e[this]==="string"){t=e[this].split(/[\s,]+/);e[this]=[Number(t[0]),Number(t[1])]}}}));if($.validator.autoCreateRanges){if(e.min&&e.max){e.range=[e.min,e.max];delete e.min;delete e.max}if(e.minlength&&e.maxlength){e.rangelength=[e.minlength,e.maxlength];delete e.minlength;delete e.maxlength}}return e},normalizeRule:function(e){if(typeof e==="string"){var t={};$.each(e.split(/\s/),(function(){t[this]=true}));e=t}return e},addMethod:function(e,t,a){$.validator.methods[e]=t;$.validator.messages[e]=a!==undefined?a:$.validator.messages[e];if(t.length<3){$.validator.addClassRules(e,$.validator.normalizeRule(e))}},methods:{required:function(e,t,a){if(!this.depend(a,t)){return"dependency-mismatch"}if(t.nodeName.toLowerCase()==="select"){var r=$(t).val();if(t.hasAttribute("data-has-default-value")){return false}return r&&r.length>0}if(this.checkable(t)){return this.getLength(e,t)>0}return $.trim(e).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(e)){return false}var a=0,r=0,n=false,i,o;e=e.replace(/\D/g,"");if(e.length<13||e.length>19){return false}for(i=e.length-1;i>=0;i--){o=e.charAt(i);r=parseInt(o,10);if(n){if((r*=2)>9){r-=9}}a+=r;n=!n}return a%10===0},minlength:function(e,t,a){var r=$.isArray(e)?e.length:this.getLength($.trim(e),t);return this.optional(t)||r>=a},maxlength:function(e,t,a){var r=$.isArray(e)?e.length:this.getLength($.trim(e),t);return this.optional(t)||r<=a},rangelength:function(e,t,a){var r=$.isArray(e)?e.length:this.getLength($.trim(e),t);return this.optional(t)||r>=a[0]&&r<=a[1]},min:function(e,t,a){return this.optional(t)||e>=a},max:function(e,t,a){return this.optional(t)||e<=a},range:function(e,t,a){return this.optional(t)||e>=a[0]&&e<=a[1]},equalTo:function(e,t,a){var r=$(a);if(this.settings.onfocusout){r.unbind(".validate-equalTo").bind("blur.validate-equalTo",(function(){$(t).valid()}))}return e===r.val()},remote:function(e,t,a){if(this.optional(t)){return"dependency-mismatch"}var r=this.previousValue(t),n,i;if(!this.settings.messages[t.name]){this.settings.messages[t.name]={}}r.originalMessage=this.settings.messages[t.name].remote;this.settings.messages[t.name].remote=r.message;a=typeof a==="string"&&{url:a}||a;if(r.old===e){return r.valid}r.old=e;n=this;this.startRequest(t);i={};i[t.name]=e;$.ajax($.extend(true,{url:a,mode:"abort",port:"validate"+t.name,dataType:"json",data:i,context:n.currentForm,success:function(i){var o,s;var l=i===true||i==="true",d,c,u;if(i===null&&((o=a)===null||o===void 0?void 0:(s=o.data)===null||s===void 0?void 0:s.action)!==undefined){var f,p;window.Rollbar.info("EE Validation: limit has been met!",{action:(f=a)===null||f===void 0?void 0:(p=f.data)===null||p===void 0?void 0:p.action})}n.settings.messages[t.name].remote=r.originalMessage;if(l){u=n.formSubmitted;n.prepareElement(t);n.formSubmitted=u;n.successList.push(t);delete n.invalid[t.name];n.showErrors()}else{d={};c=i||n.defaultMessage(t,"remote");d[t.name]=r.message=$.isFunction(c)?c(e):c;n.invalid[t.name]=true;n.showErrors(d)}r.valid=l;n.stopRequest(t,l)}},a));return"pending"}}});$.format=function e(){throw"$.format has been deprecated. Please use $.validator.format instead."}})(jQuery);(function($){var e={},t;if($.ajaxPrefilter){$.ajaxPrefilter((function(t,_,a){var r=t.port;if(t.mode==="abort"){if(e[r]){e[r].abort()}e[r]=a}}))}else{t=$.ajax;$.ajax=function(a){var r=("mode"in a?a:$.ajaxSettings).mode,n=("port"in a?a:$.ajaxSettings).port;if(r==="abort"){if(e[n]){e[n].abort()}e[n]=t.apply(this,arguments);return e[n]}return t.apply(this,arguments)}}})(jQuery);(function($){$.extend($.fn,{validateDelegate:function(e,t,a){return this.bind(t,(function(t){var r=$(t.target);if(r.is(e)){return a.apply(r,arguments)}}))}})})(jQuery)},753289:(e,t)=>{"use strict";var a,r,n;(function(i,o){if(true){!(r=[],a=o,n=typeof a==="function"?a.apply(t,r):a,n!==undefined&&(e.exports=n))}else{}})(void 0,(function(){var e={};function t(t){var a=e[t];if(!a){var r="var p=[],print=function(){p.push.apply(p,arguments);};"+"with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").replace(/\\(?=[^\*]*\*!)/g,"\t").split("\\").join("\\\\").split("\t").join("\\").replace(/'(?=[^\*]*\*!)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/!\*=raw *(.+?);* *\*!/g,"',$1,'").replace(/!\*=html *(.+?);* *\*!/g,"',window.BambooHR.Utils.sanitizeHtml($1),'").replace(/!\*= *(.+?);* *\*!/g,"',window.microTemplate.encodeHtml($1),'").split("!*").join("');").split("*!").join("\np.push('")+"');}return p.join('');";a=new Function("obj","microTemplate",r);e[t]=a}return a}function a(e,r={}){if(typeof e==="function"){return e(r,a)}return t(e)(r,a)}a.encodeHtml=function(e){if(/[<>'"&]/.test(e)){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return e};a.decodeHtml=function(e){var t=document.createElement("div");t.innerHTML=String(e);var a=t.childNodes[0];return a?a.nodeValue:""};a.escapeQuotes=function(e){return String(e).replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")};a.compiler=t;return a}))},341757:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(496406));a(951154);var i=n.default.localeData(),o=i._calendar.nextWeek,s=i._longDateFormat.LL;if(!window.BambooHR.env.dev){n.default.suppressDeprecationWarnings=true}function l(e){return!!(e&&e.constructor&&e.call&&e.apply)}function d(e){var t,a=o,r=s;if(l(a)){a=a.apply(this,arguments)}if(l(r)){r=r.apply(this,arguments)}t=r.replace(/M+/,"MMM");if(this.isSame(e,"year")){t=t.replace(/[^MD]+Y+[^MD]+/,"")}return a.replace(/^[^d]*d+/,t)}n.default.locale(i._abbr,{calendar:$.extend(i._calendar,{lastWeek:d,nextWeek:d,sameElse:d})});$("[ba-date]").observe((function(){var e=$(this),t=e.text().trim(),a=e.attr("ba-date"),r=e.attr("ba-date-format-type"),i=e.attr("ba-date-tz"),o=e.data("ba-date")||n.default.utc(t),s;o=i&&i.toLowerCase()=="utc"?o.utc():o.local();if(a&&r){Object.keys(n.default.convert).some((function(e){if(e.toLowerCase()===r.toLowerCase()){a=n.default.convert[e](a);return true}}))}s=a?o.format(a):o.calendar();e.text(s).data("ba-date",o).addClass("ba-date-loaded")}));n.default.fn.isWeekend=function(){return this.isoWeekday()>=6};n.default.convert={};(function(){var e={jQuery:{dd:"DD",d:"D",oo:"DDDD",o:"DDD",DD:"dddd",D:"ddd",mm:"MM",m:"M",MMM:"MMM",MM:"MMMM",M:"MMM",yyyy:"YYYY",yy:"YYYY",y:"YY","@":"X","!":"[!]"},PHP:{d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:function(){return"["+this.format("Do").replace(/\d*/g,"")+"]"},w:"d",z:function(){return this.format("DDD")-1},W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:function(){return this.daysInMonth()},L:function(){return this.isLeapYear()?1:0},o:"GGGG",Y:"YYYY",y:"YY",a:"a",A:"A",B:function(){var e=this.clone().utc(),t=(e.hours()+1)%24+e.minutes()/60+e.seconds()/3600;return Math.floor(t*1e3/24)},g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"[u]",e:"[e]",I:function(){return this.isDST()?1:0},O:"ZZ",P:"Z",T:"[T]",Z:function(){return parseInt(this.format("ZZ"),10)*36},c:"YYYY-MM-DD[T]HH:mm:ssZ",r:"ddd, DD MMM YYYY HH:mm:ss ZZ",U:"X"}};Object.keys(e).forEach((function(t){var a=new RegExp(Object.keys(e[t]).join("|"),"g");n.default.convert[t]=function(r){var n=this;return(r||"").replace(a,(function(a){return typeof e[t][a]==="function"?e[t][a].call(n):e[t][a]}))}}))})();n.default.defaultFormat=n.default.convert.jQuery(window.GLOBAL_DATEPICKER_MASK)||"MM/DD/YYYY";function c(e){switch(e){case"DD MMM YYYY":return"DD MMM";case"YYYY-MM-DD":return"MM-DD";case"DD/MM/YYYY":return"DD/MM";case"MM/DD/YYYY":default:return"MM/DD"}}n.default.shortFormat=c(n.default.defaultFormat);n.default.$=function(e,t=true){e=$(e).first();const a=e.datepicker("option","dateFormat");const r=a?n.default.convert.jQuery(a):n.default.defaultFormat;return(0,n.default)(e.val(),r,t)};var u=n.default;t.default=u},397683:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFPrintService=u;t.PDFPrintServiceFactory=void 0;var r=s(a(693169));var n=s(a(39327));var i=a(412586);function o(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(o=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=o(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;if(s&&(s.get||s.set)){Object.defineProperty(r,i,s)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}var l=null;var d=null;function c(e,t,a,n){var i=l.scratchCanvas;var o=150;var s=o/72;i.width=Math.floor(n.width*s);i.height=Math.floor(n.height*s);var d=Math.floor(n.width*r.CSS_UNITS)+"px";var c=Math.floor(n.height*r.CSS_UNITS)+"px";var u=i.getContext("2d");u.save();u.fillStyle="rgb(255, 255, 255)";u.fillRect(0,0,i.width,i.height);u.restore();return t.getPage(a).then((function(e){var t={canvasContext:u,transform:[s,0,0,s,0,0],viewport:e.getViewport({scale:1,rotation:n.rotation}),intent:"print"};return e.render(t).promise})).then((function(){return{width:d,height:c}}))}function u(e,t,a,r){this.pdfDocument=e;this.pagesOverview=t;this.printContainer=a;this.l10n=r||i.NullL10n;this.disableCreateObjectURL=e.loadingParams["disableCreateObjectURL"];this.currentPage=-1;this.scratchCanvas=document.createElement("canvas")}u.prototype={layout:function e(){if(window.printPDFInfo){w(window.printPDFInfo);window.printPDFInfo=null}this.throwIfInactive();var t=document.querySelector("body");t.setAttribute("data-pdfjsprinting",true);var a=this.pagesOverview.every((function(e){return e.width===this.pagesOverview[0].width&&e.height===this.pagesOverview[0].height}),this);if(!a){console.warn("Not all pages have the same size. The printed "+"result may be incorrect!")}this.pageStyleSheet=document.createElement("style");var r=this.pagesOverview[0];this.pageStyleSheet.textContent="@supports ((size:A4) and (size:1pt 1pt)) {"+"@page { size: "+r.width+"pt "+r.height+"pt;}"+"#printContainer {height:100%}"+"#printContainer > div {width:100% !important;height:100% !important;}"+"}"+"@media print { body >:not(#printContainer) { display: none !important; } #printContainer { display: block } #printContainer > div > img { height: 100% !important; } }";t.appendChild(this.pageStyleSheet)},destroy:function e(){if(l!==this){return}const t={printContainer:this.printContainer,printStyles:this.pageStyleSheet,scratchCanvas:this.scratchCanvas};if(l.desktopPrint){w(t)}else{window.printPDFInfo=t}this.printStyles=null;this.scratchCanvas=null;l=null;y().then((function(){if(d.active!=="printServiceOverlay"){return}d.close("printServiceOverlay")}))},renderPages:function e(){var t=this;var a=this.pagesOverview.length;var r=function e(r,n){t.throwIfInactive();if(++t.currentPage>=a){m(a,a,t.l10n);r();return}var i=t.currentPage;m(i,a,t.l10n);c(t,t.pdfDocument,i+1,t.pagesOverview[i]).then(t.useRenderedPage.bind(t)).then((function(){e(r,n)}),n)};return new Promise(r)},useRenderedPage:function e(t){this.throwIfInactive();var a=document.createElement("img");a.style.width=t.width;a.style.height=t.height;var r=this.scratchCanvas;a.src=r.toDataURL();var n=document.createElement("div");n.appendChild(a);this.printContainer.appendChild(n);return new Promise((function(e,t){a.onload=e;a.onerror=t}))},performPrint:function e(){var t=this;this.throwIfInactive();return new Promise((function(e){setTimeout((function(){if(!t.active){e();return}window.print();setTimeout(e,20)}),0)}))},get active(){return this===l},throwIfInactive:function e(){if(!this.active){throw new Error("This print request was cancelled or completed.")}}};window.printFile=function e(t){const a=t!=="mobile";if(l){console.warn("Ignored window.printFile() because of a pending print job.");return}y().then((function(){if(l){l.desktopPrint=a;d.open("printServiceOverlay")}}));try{f("beforeprint")}finally{if(!l){console.error("Expected print service to be initialized.");y().then((function(){if(d.active==="printServiceOverlay"){d.close("printServiceOverlay")}}));return}var r=l;l.renderPages().then((function(){return r.performPrint()})).catch((function(){})).then((function(){if(r.active){p(a)}}))}};function f(e){var t=document.createEvent("CustomEvent");t.initCustomEvent(e,false,false,"custom");window.dispatchEvent(t)}function p(){if(l){l.destroy();f("afterprint")}}function m(e,t,a){var r=document.getElementById("printServiceOverlay");var n=Math.round(100*e/t);var i=r.querySelector("progress");var o=r.querySelector(".relative-progress");i.value=n;a.get("print_progress_percent",{progress:n},n+"%").then((function(e){o.textContent=e}))}var h=!!document.attachEvent;window.addEventListener("keydown",(function(e){if(e.keyCode===80&&(e.ctrlKey||e.metaKey)&&!e.altKey&&(!e.shiftKey||window.chrome||window.opera)){window.printFile();if(h){return}e.preventDefault();if(e.stopImmediatePropagation){e.stopImmediatePropagation()}else{e.stopPropagation()}return}}),true);if(h){document.attachEvent("onkeydown",(function(e){e=e||window.event;if(e.keyCode===80&&e.ctrlKey){e.keyCode=0;return false}}))}if("onbeforeprint"in window){var v=function e(t){if(t.detail!=="custom"&&t.stopImmediatePropagation){t.stopImmediatePropagation()}};window.addEventListener("beforeprint",v);window.addEventListener("afterprint",v)}var g;function y(){if(!g){d=new n.OverlayManager;if(!d){throw new Error("The overlay manager has not yet been initialized.")}g=d.register("printServiceOverlay",document.getElementById("printServiceOverlay"),p,true);document.getElementById("printCancel").onclick=p}return g}const b={instance:{supportsPrinting:true,createPrintService:function e(t,a,r,n){if(l){throw new Error("The print service is created and active.")}l=new u(t,a,r,n);return l},clearOverlayPromise:function e(){g=null}}};t.PDFPrintServiceFactory=b;function w(e={}){let{printContainer:t,printStyles:a,scratchCanvas:r}=e;t.textContent="";if(a){a.remove()}r.width=r.height=0}window.clearPrintFile=w},642948:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=i;function r(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(r=function(e){return e?a:t})(e)}function n(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=r(t);if(a&&a.has(e)){return a.get(e)}var n={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;if(s&&(s.get||s.set)){Object.defineProperty(n,o,s)}else{n[o]=e[o]}}}n.default=e;if(a){a.set(e,n)}return n}function i(e,t,r){return Promise.all([new Promise(((t,a)=>{$.get(e).then(t,a)})),Promise.resolve().then((()=>n(a(687717))))]).then((([e,a])=>{const{bambooHRPdfViewer:n}=a;if(window.PDFViewer){window.PDFViewer._initialize(e,t,r)}else{window.PDFViewer=new n(e,t,r)}}))}},735882:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.passwordPrompt=void 0;var r=a(412586);class n{static get className(){return"passwordPrompt"}constructor(e,t){const a=this;const n=r.NullL10n;this.overlayName=e.overlayName;this.container=e.container;this.label=e.label;this.input=e.input;this.submitButton=e.submitButton;this.cancelButton=e.cancelButton;this.overlayManager=t;this.l10n=n;this.updateCallback=null;this.reason=null;this._open=this._open.bind(this);this._close=this._close.bind(this);this._verify=this._verify.bind(this);this.submitButton.addEventListener("click",this._verify.bind(this));this.cancelButton.addEventListener("click",this._close.bind(this));this.input.addEventListener("keydown",(function(e){if(e.keyCode===13){a._verify()}}));this.overlayManager.register(this.overlayName,this.container,this._close.bind(this),true)}_open(){const e=this;this.overlayManager.open(this.overlayName).then((function(){e.input.focus();let t;if(e.reason===e.passwordResponses.INCORRECT_PASSWORD){t=e.l10n.get("password_invalid",null,"Invalid password. Please try again.")}else{t=e.l10n.get("password_label",null,"Enter the password to open this PDF file.")}t.then((function(t){e.label.textContent=t}))}))}_close(){const e=this;return this.overlayManager.close(this.overlayName).then((function(){e.input.value=""}))}_verify(){const e=this.input.value;if(e&&e.length>0){const t=this;this._close().then((function(){t.updateCallback(e)}))}}_setUpdateCallback(e,t){this.updateCallback=e;this.reason=t}_setPasswordResponses(e={}){this.passwordResponses=e}}t.passwordPrompt=n},174670:(e,t,a)=>{"use strict";a(726240);a(22218)},726240:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var jQuery=__webpack_require__(992005);var moment=__webpack_require__(496406);var $=__webpack_require__(992005);(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"sort-descending",cssDesc:"sort-ascending",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};var sortWrapper;function benchmark(e,t){log(e+","+((new Date).getTime()-t.getTime())+"ms")}this.benchmark=benchmark;function log(e){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(e)}else{alert(e)}}function buildParserCache(e,t){if(e.config.debug){var a=""}if(e.tBodies.length==0)return;var r=e.tBodies[0].rows;if(r[0]){var n=[],i=r[0].cells,o=i.length;for(var s=0;s<o;s++){var l=false;if($.metadata&&$(t[s]).metadata()&&$(t[s]).metadata().sorter){l=getParserById($(t[s]).metadata().sorter)}else if(e.config.headers[s]&&e.config.headers[s].sorter){l=getParserById(e.config.headers[s].sorter)}if(!l){l=detectParserForColumn(e,r,-1,s)}if(e.config.debug){a+="column:"+s+" parser:"+l.id+"\n"}n.push(l)}}if(e.config.debug){log(a)}return n}function detectParserForColumn(e,t,a,r){var n=parsers.length,i=false,o=false,s=true;while(o==""&&s){a++;if(t[a]){i=getNodeFromRowAndCellIndex(t,a,r);o=trimAndGetNodeText(e.config,i);if(e.config.debug){log("Checking if value was empty on row:"+a)}}else{s=false}}for(var l=1;l<n;l++){if(parsers[l].is(o,e,i)){return parsers[l]}}return parsers[0]}function getNodeFromRowAndCellIndex(e,t,a){return e[t].cells[a]}function trimAndGetNodeText(e,t){return $.trim(getElementText(e,t))}function getParserById(e){var t=parsers.length;for(var a=0;a<t;a++){if(parsers[a].id.toLowerCase()==e.toLowerCase()){return parsers[a]}}return false}function buildCache(e){if(e.config.debug){var t=new Date}var a=e.tBodies[0]&&e.tBodies[0].rows.length||0,r=e.tBodies[0].rows[0]&&e.tBodies[0].rows[0].cells.length||0,n=e.config.parsers,i={row:[],normalized:[]};for(var o=0;o<a;++o){var s=$(e.tBodies[0].rows[o]),l=[];if(s.hasClass(e.config.cssChildRow)){i.row[i.row.length-1]=i.row[i.row.length-1].add(s);continue}i.row.push(s);for(var d=0;d<r;++d){l.push(n[d].format(getElementText(e.config,s[0].cells[d]),e,s[0].cells[d]))}l.push(i.normalized.length);i.normalized.push(l);l=null}if(e.config.debug){benchmark("Building cache for "+a+" rows:",t)}return i}function getElementText(e,t){var a="";if(!t)return"";if(!e.supportsTextContent)e.supportsTextContent=t.textContent||false;if(e.textExtraction=="simple"){if(e.supportsTextContent){a=t.textContent}else{if(t.childNodes[0]&&t.childNodes[0].hasChildNodes()){a=t.childNodes[0].innerHTML}else{a=t.innerHTML}}}else{if(typeof e.textExtraction=="function"){a=e.textExtraction(t)}else{a=$(t).text()}}return a}function appendToTable(e,t){if(e.config.debug){var a=new Date}var r=t,n=r.row,i=r.normalized,o=i.length,s=i[0].length-1,l=$(e.tBodies[0]),d=[];for(var c=0;c<o;c++){var u=i[c][s];d.push(n[u]);if(!e.config.appender){var f=n[u].length;for(var p=0;p<f;p++){l[0].appendChild(n[u][p])}}}if(e.config.appender){e.config.appender(e,d)}d=null;if(e.config.debug){benchmark("Rebuilt table:",a)}applyWidget(e);setTimeout((function(){$(e).trigger("sortEnd")}),0)}function buildHeaders(e){if(e.config.debug){var t=new Date}var a=$.metadata?true:false;var r=computeTableHeaderCellIndexes(e);var n=$(e.config.selectorHeaders,e).each((function(t){this.column=r[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(e.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(e,t))this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(e,t))this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(e,t);if(!this.sortDisabled){var a=$(this).addClass(e.config.cssHeader);if(e.config.onRenderHeader)e.config.onRenderHeader.apply(a)}e.config.headerList[t]=this}));if(e.config.debug){benchmark("Built headers:",t);log(n)}return n}function computeTableHeaderCellIndexes(e){var t=[];var a={};var r=e.getElementsByTagName("THEAD")[0];var n=r.getElementsByTagName("TR");for(var i=0;i<n.length;i++){var o=n[i].cells;for(var s=0;s<o.length;s++){var l=o[s];var d=l.parentNode.rowIndex;var c=d+"-"+l.cellIndex;var u=l.rowSpan||1;var f=l.colSpan||1;var p;if(typeof t[d]=="undefined"){t[d]=[]}for(var m=0;m<t[d].length+1;m++){if(typeof t[d][m]=="undefined"){p=m;break}}a[c]=p;for(var m=d;m<d+u;m++){if(typeof t[m]=="undefined"){t[m]=[]}var h=t[m];for(var v=p;v<p+f;v++){h[v]="x"}}}}return a}function checkCellColSpan(e,t,a){var r=[],n=e.tHead.rows,i=n[a].cells;for(var o=0;o<i.length;o++){var s=i[o];if(s.colSpan>1){r=r.concat(checkCellColSpan(e,headerArr,a++))}else{if(e.tHead.length==1||s.rowSpan>1||!n[a+1]){r.push(s)}}}return r}function checkHeaderMetadata(e){if($.metadata&&$(e).metadata().sorter===false){return true}return false}function checkHeaderOptions(e,t){if(e.config.headers[t]&&e.config.headers[t].sorter===false){return true}return false}function checkHeaderOptionsSortingLocked(e,t){if(e.config.headers[t]&&e.config.headers[t].lockedOrder)return e.config.headers[t].lockedOrder;return false}function applyWidget(e){var t=e.config.widgets;var a=t.length;for(var r=0;r<a;r++){getWidgetById(t[r]).format(e)}}function getWidgetById(e){var t=widgets.length;for(var a=0;a<t;a++){if(widgets[a].id.toLowerCase()==e.toLowerCase()){return widgets[a]}}}function formatSortingOrder(e){if(typeof e!="Number"){return e.toLowerCase()=="desc"?1:0}else{return e==1?1:0}}function isValueInArray(e,t){var a=t.length;for(var r=0;r<a;r++){if(t[r][0]==e){return true}}return false}function setHeadersCss(e,t,a,r){t.removeClass(r[0]).removeClass(r[1]);var n=[];t.each((function(e){if(!this.sortDisabled){n[this.column]=$(this)}}));var i=a.length;for(var o=0;o<i;o++){if(n[a[o][0]]!==undefined){n[a[o][0]].addClass(r[a[o][1]])}}}function fixColumnWidth(e,t){var a=e.config;if(a.widthFixed){var r=$("<colgroup>");$("tr:first td",e.tBodies[0]).each((function(){r.append($("<col>").css("width",$(this).width()))}));$(e).prepend(r)}}function updateHeaderSortCount(e,t){var a=e.config,r=t.length;for(var n=0;n<r;n++){var i=t[n],o=a.headerList[i[0]];o.count=i[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date}var dynamicExp="sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];if(table.config.parsers[c]==undefined){return cache}var s=table.config.parsers[c].type=="text"?order==0?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):order==0?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c);var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; "}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date)}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}return cache}function makeSortFunction(e,t,a){var r="a["+a+"]",n="b["+a+"]";if(e=="text"&&t=="asc"){return"("+r+" == "+n+" ? 0 : ("+r+" === null ? Number.POSITIVE_INFINITY : ("+n+" === null ? Number.NEGATIVE_INFINITY : ("+r+" < "+n+") ? -1 : 1 )));"}else if(e=="text"&&t=="desc"){return"("+r+" == "+n+" ? 0 : ("+r+" === null ? Number.POSITIVE_INFINITY : ("+n+" === null ? Number.NEGATIVE_INFINITY : ("+n+" < "+r+") ? -1 : 1 )));"}else if(e=="numeric"&&t=="asc"){return"("+r+" === null && "+n+" === null) ? 0 :("+r+" === null ? Number.POSITIVE_INFINITY : ("+n+" === null ? Number.NEGATIVE_INFINITY : "+r+" - "+n+"));"}else if(e=="numeric"&&t=="desc"){return"("+r+" === null && "+n+" === null) ? 0 :("+r+" === null ? Number.POSITIVE_INFINITY : ("+n+" === null ? Number.NEGATIVE_INFINITY : "+n+" - "+r+"));"}}function makeSortText(e){return"((a["+e+"] < b["+e+"]) ? -1 : ((a["+e+"] > b["+e+"]) ? 1 : 0));"}function makeSortTextDesc(e){return"((b["+e+"] < a["+e+"]) ? -1 : ((b["+e+"] > a["+e+"]) ? 1 : 0));"}function makeSortNumeric(e){return"a["+e+"]-b["+e+"];"}function makeSortNumericDesc(e){return"b["+e+"]-a["+e+"];"}function sortText(e,t){if(table.config.sortLocaleCompare)return e.localeCompare(t);return e<t?-1:e>t?1:0}function sortTextDesc(e,t){if(table.config.sortLocaleCompare)return t.localeCompare(e);return t<e?-1:t>e?1:0}function sortNumeric(e,t){return e-t}function sortNumericDesc(e,t){return t-e}function getCachedSortType(e,t){return e[t].type}this.construct=function(e){return this.each((function(){if(!this.tHead||!this.tBodies||this.hasInitialized===true)return;var t,a,r,n,i,o=0,s;this.config={};this.hasInitialized=true;i=$.extend(this.config,$.tablesorter.defaults,e);t=$(this);$.data(this,"tablesorter",i);r=buildHeaders(this);this.config.parsers=buildParserCache(this,r);n=buildCache(this);var l=[i.cssDesc,i.cssAsc];fixColumnWidth(this);r.click((function(e){var a=t[0].tBodies[0]&&t[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&a>0){t.trigger("sortStart");var o=$(this);var s=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(!e[i.sortMultiSortKey]){i.sortList=[];i.sortList.push([s,this.order]);var d=i.sortList.slice(0);if(i.sortForce!=null){var c=i.sortForce;for(var u=0;u<c.length;u++){if(c[u][0]!=s){i.sortList.push(c[u])}}}}else{if(isValueInArray(s,i.sortList)){for(var u=0;u<i.sortList.length;u++){var f=i.sortList[u],p=i.headerList[f[0]];if(f[0]==s){p.count=f[1];p.count++;f[1]=p.count%2}}}else{i.sortList.push([s,this.order])}var d=i.sortList.slice(0)}setTimeout((function(){setHeadersCss(t[0],r,d,l);appendToTable(t[0],multisort(t[0],i.sortList,n))}),1);e.preventDefault();return true}})).mousedown((function(){if(i.cancelSelection){this.onselectstart=function(){return false};return false}}));t.bind("update",(function(e,t){var a=this;setTimeout((function(){a.config.parsers=buildParserCache(a,r);n=buildCache(a);if(t&&t.resort){updateHeaderSortCount(a,a.config.sortList);appendToTable(a,multisort(a,a.config.sortList,n))}}),1)})).bind("updateCell",(function(e,t){var a=this.config;var r=[t.parentNode.rowIndex-1,t.cellIndex];n.normalized[r[0]][r[1]]=a.parsers[r[1]].format(getElementText(a,t),t)})).bind("sorton",(function(e,t){$(this).trigger("sortStart");i.sortList=t;var a=i.sortList;updateHeaderSortCount(this,a);setHeadersCss(this,r,a,l);appendToTable(this,multisort(this,a,n))})).bind("appendCache",(function(){appendToTable(this,n)})).bind("applyWidgetId",(function(e,t){getWidgetById(t).format(this)})).bind("applyWidgets",(function(){applyWidget(this)}));if($.metadata&&$(this).metadata()&&$(this).metadata().sortlist){i.sortList=$(this).metadata().sortlist}if(i.sortList.length>0||i.sortForce!=null&&i.sortForce.length>0){var d=i.sortList.slice(0);if(i.sortForce!=null){var c=i.sortForce;for(var u=0;u<c.length;u++){if(!isValueInArray(c[u][0],i.sortList)){i.sortList.push(c[u])}}}t.trigger("sorton",[i.sortList]);setHeadersCss(this,r,d,l)}applyWidget(this)}))};this.addParser=function(e){var t=parsers.length,a=true;for(var r=0;r<t;r++){if(parsers[r].id.toLowerCase()==e.id.toLowerCase()){a=false}}if(a){parsers.push(e)}};this.addWidget=function(e){widgets.push(e)};this.formatFloat=function(e){var t=parseFloat(e);return isNaN(t)?0:t};this.formatInt=function(e){var t=parseInt(e);return isNaN(t)?0:t};this.isDigit=function(e,t){return/^[-+]?\d*$/.test($.trim(e.replace(/[,.']/g,"")))};this.clearTableBody=function(e){function t(){while(this.firstChild)this.removeChild(this.firstChild)}t.apply(e.tBodies[0])}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(e){return true},format:function(e){return $.trim(e.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(e,t){var a=t.config;return $.tablesorter.isDigit(e,a)},format:function(e){return $.tablesorter.formatFloat(e)},type:"numeric"});ts.addParser({id:"currency",is:function(e){return/^[$?.]/.test(e)},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/[$]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(e){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(e)},format:function(e){var t=e.split("."),a="",r=t.length;for(var n=0;n<r;n++){var i=t[n];if(i.length==2){a+="0"+i}else{a+=i}}return $.tablesorter.formatFloat(a)},type:"numeric"});ts.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\/$/.test(e)},format:function(e){return jQuery.trim(e.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},format:function(e){return $.tablesorter.formatFloat(e!=""?new Date(e.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"date",is:function(e){return moment(new Date(e)).isValid()},format:function(e){return $.tablesorter.formatFloat(moment(new Date(e||0)).unix())},type:"numeric"});ts.addParser({id:"percent",is:function(e){return/\%$/.test($.trim(e))},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(e){return e.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(e){return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(e){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(e)},format:function(e,t){var a=t.config;e=e.replace(/\-/g,"/");if(a.dateFormat=="us"){e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else if(a.dateFormat=="uk"){e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else if(a.dateFormat=="dd/mm/yy"||a.dateFormat=="dd-mm-yy"){e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(e){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(e)},format:function(e){return $.tablesorter.formatFloat(new Date("2000/01/01 "+e).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(e){return false},format:function(e,t,a){var r=t.config,n=!r.parserMetadataName?"sortValue":r.parserMetadataName;return $(a).metadata()[n]},type:"numeric"});ts.addWidget({id:"UpdatebaIconforIE",is:function(e){return false},format:function(e){if(IS_IE_OR_EDGE){let t=e.getElementsByTagName("use");if(t.length){$.each(t,(function(e,t){if(t.href&&t.href.baseVal){t.href.baseVal=t.href.baseVal}}))}}}});ts.addWidget({id:"zebra",format:function(e){if(e.config.debug){var t=new Date}var a,r=-1,n;$("tr:visible",e.tBodies[0]).each((function(t){a=$(this);if(!a.hasClass(e.config.cssChildRow))r++;n=r%2==0;a.removeClass(e.config.widgetZebra.css[n?0:1]).addClass(e.config.widgetZebra.css[n?1:0])}));if(e.config.debug){$.tablesorter.benchmark("Applying Zebra widget",t)}}})})(jQuery);window.TSextractHiddenInput=function(e){var t=$(e);var a=t.children('input[type="hidden"]');return a.val()||t.text()};window.TSextractDataAttr=function(e){var t=$(e);return t.attr("data-sort-value")||t.text()}},22218:(e,t,a)=>{"use strict";var jQuery=a(992005);(function($){$.extend({tablesorterPager:new function(){function e(e){var t=$(e.cssPageDisplay,e.container).val(e.page+1+e.seperator+e.totalPages).trigger("change");c(e)}function t(e,t){var r=e.config;r.size=t;r.totalPages=Math.ceil(r.totalRows/r.size);r.pagerPositionSet=false;s(e);a(e)}function a(e){var t=e.config;var a;if(!t.pagerPositionSet&&t.positionFixed){t=e.config;a=$(e);if(a.offset){t.container.css({top:a.offset().top+a.height()+"px"})}t.pagerPositionSet=true}}function r(e){var t=e.config;t.page=0;s(e)}function n(e){var t=e.config;t.page=t.totalPages-1;s(e)}function i(e){var t=e.config;t.page++;if(t.page>=t.totalPages-1){t.page=t.totalPages-1}s(e)}function o(e){var t=e.config;t.page--;if(t.page<=0){t.page=0}s(e)}function s(e){var t=e.config;if(t.page<0||t.page>t.totalPages-1){t.page=0}l(e,t.rowsCopy)}function l(t,r){var i=t.config;var o=r.length;var s=i.page*i.size;var l=s+i.size;if(l>r.length){l=r.length}var d=$(t.tBodies[0]);$.tablesorter.clearTableBody(t);for(var c=s;c<l;c++){var u=r[c];var o=u.length;for(var f=0;f<o;f++){d[0].appendChild(u[f])}}a(t,d);$(t).trigger("applyWidgets");if(i.page>=i.totalPages){n(t)}$(".prev,.next",i.container).removeClass("inactive");if(i.page==0){$(".prev",i.container).addClass("inactive")}if(i.page==i.totalPages-1){$(".next",i.container).addClass("inactive")}e(i)}function d(e){var t=$(".pagedisplay",e.container).val();var a=e.page;$("a.pagenumber",e.container).removeClass("selected");$('a.pagenumber[data-page-number="'+a+'"]',e.container).addClass("selected");var r=parseInt(t.substring(t.indexOf("/")+1));var n=e.size;var i=a*n;var o=e.totalRows;$(".pagedesc",e.container).html(i+1+" - "+(i+n>o?o:i+n)+" of "+o)}function c(e){var t=$(".pagedisplay",e.container).val();if(t){var a=parseInt(t.substring(t.indexOf("/")+1));$(".pages",e.container).remove();if(a>1){$(".prev",e.container).before('<span class="pages">&nbsp;&nbsp;</span>');for(var r=0;r<a;r++){var n=$('<a href="#" class="pagenumber" data-page-number="'+r+'">'+(r+1)+"</a>");$(".pages",e.container).append(n);$(".pages",e.container).append("&nbsp;&nbsp;")}}else{$(".prev, .next, .pipe",e.container).hide()}d(e);$(".pagedisplay",e.container).change((function(){d(e)}))}}this.appendFunc=function(e,t){var a=e.config;a.rowsCopy=t;a.totalRows=t.length;a.totalPages=Math.ceil(a.totalRows/a.size);l(e,t)};this.defaults={size:10,offset:0,page:0,totalRows:0,totalPages:0,container:null,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssPageNumber:".pagenumber",dataPageNumber:"data-page-number",seperator:"/",positionFixed:true,appender:this.appendFunc};this.construct=function(e){return this.each((function(){let a=$.extend(this.config,$.tablesorterPager.defaults,e);a.size=parseInt($(".pagesize",c).val());var d=this,c=a.container;$(this).trigger("appendCache");$(a.cssFirst,c).click((function(){r(d);return false}));$(a.cssNext,c).click((function(){i(d);return false}));$(a.cssPrev,c).click((function(){o(d);return false}));$(a.cssLast,c).click((function(){n(d);return false}));$(c).on("click",a.cssPageNumber,(function(){d.config.page=parseInt($(this).attr(a.dataPageNumber));s(d);return false}));$(a.cssPageSize,c).change((function(){t(d,parseInt($(this).val()));return false}));$(d).bind("removeRow",(function(e,t){let a;for(a in d.config.rowsCopy){if($(t).is(d.config.rowsCopy[a])){d.config.rowsCopy.splice(a,1)}}$(t).remove();d.config.totalRows=d.config.rowsCopy.length;d.config.totalPages=Math.ceil(d.config.totalRows/d.config.size);l(d,d.config.rowsCopy)}));$.tablesorterPager.config=a}))}}});$.fn.extend({tablesorterPager:$.tablesorterPager.construct})})(jQuery)},144028:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Icon",{enumerable:true,get:function(){return r.Icon}});Object.defineProperty(t,"FabricIcon",{enumerable:true,get:function(){return r.FabricIcon}});Object.defineProperty(t,"default",{enumerable:true,get:function(){return r.Icon}});var r=a(651745)},265390:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return r.Loader}});var r=a(651745)},178045:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.showSlidedown=d;t.hideSlidedown=c;var r=a(783840);var n=a(884479);var i=a(389435);var o=a(311299);const s=(0,n.createLogger)("Alerts.mod");const l="See Alerts.mod/index.js for more info.";window.setMessage=()=>s.warn(`setMessage was called before it was initialized. ${l}`);window.closeMessage=()=>s.warn(`closeMessage was called before it was initialized. ${l}`);document.addEventListener("DOMContentLoaded",(()=>{const e=(0,r.getJsonData)("#sessionMessageJSON",true);(0,o.initializeBambooAlerts)();(0,o.displaySessionMessage)(e);(0,i.showQueryStringMessage)()}));function d(...e){window.setMessage(...e)}function c(...e){window.closeMessage(...e)}},389435:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.showQueryStringMessage=void 0;var r=a(121198);var n=a(489100);const i=()=>{const e=new URL(window.location.href);let t;let a;let i;if((0,n.canUseLocalStorage)()){t=localStorage.getItem("__message__");a=localStorage.getItem("__messageType__");i=parseInt(localStorage.getItem("__messageTimeout__")||null);localStorage.removeItem("__message__");localStorage.removeItem("__messageType__");localStorage.removeItem("__messageTimeout__")}let o=e.searchParams.get("__message__")||t;if(o){const t=e.searchParams.get("__messageType__")||a;const n=parseInt(e.searchParams.get("__messageTimeout__")||i);e.searchParams.delete("__message__");e.searchParams.delete("__messageType__");e.searchParams.delete("__messageTimeout__");window.history.replaceState({},"",e.href);window.setTimeout((()=>{o=(0,r.sanitize)(o,{ALLOWED_ATTR:["class","href"],FORBID_TAGS:["style"]});window.setMessage(o,t);if(!isNaN(n)){window.sessionMessageTimeout=window.setTimeout((()=>{window.closeMessage()}),n)}}),0)}$(document).on("click",".messageCloseWrapper",(function(e){e.preventDefault();window.closeMessage()}))};t.showQueryStringMessage=i},311299:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.displaySessionMessage=t.initializeBambooAlerts=void 0;var n=r(a(573674));var i=a(830734);var o=a(121198);var s=a(651745);const l=()=>{const e=document.getElementById("sessionMessage");if(e){(0,i.render)(n.default.createElement(s.BasicSlidedown,{ref:e=>{window.bambooAlert=e},showOnMount:false}),e);window.closeMessage=window.bambooAlert.hideAlert;window.setMessage=(...t)=>{const a=(0,o.getMaxZIndex)();if(e.style.zIndex!==`${a}`){e.style.zIndex=a+10}window.bambooAlert.setAlert(...t)}}};t.initializeBambooAlerts=l;const d=e=>{if(e&&e.text){window.setTimeout((()=>window.setMessage(e.text,e.type)),0)}};t.displaySessionMessage=d},837223:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(273641);var i=a(121198);var o=a(583769);var s=r(a(576201));var l=r(a(346134));var d=r(a(429018));var c=a(479706);let u=[];let f=false;function p(){let e=u.filter((e=>e.showing));if(e.length&&!f){m()}else if(!e.length&&f){h()}}function m(){window.addEventListener("click",v);f=true}function h(){window.removeEventListener("click",v);f=false}function v(e){b.each((t=>{if(document.body.contains(e.target)&&!t.destroyed&&!t.balloonElement.contains(e.target)&&!t.anchor.contains(e.target)&&!t.settings.persistent){t.hide()}}))}function g(e){if(e.destroyed){throw new Error("This balloon has already been destroyed.")}}function y(e){const t=e.nodeType&&e.nodeType===1?e:document.querySelector(e);if(!t){throw new TypeError("A DOM element, or valid selector must be used as the anchor for a Balloon")}return t}class b{static get className(){return"Balloon"}constructor(e,t){this.anchor=e;this.settings=(0,n.extend)({afterCreation:n.noop,afterDestroy:n.noop,closeX:false,correctBodyPosition:true,delay:0,fadeIn:200,fadeOut:200,html:null,invertOnCollision:false,onClose:n.noop,onHide:n.noop,onShow:n.noop,persistent:false,position:"top",push:0,showImmediately:false,state:{},suppressed:false,tail:false,tailSize:0,tailBackground:null,tailBorder:null,tailOnAnchor:"50%",flipTailOnAnchor:false,tailOnBalloon:"50%",minTailOnBalloon:0,flipTailOnBalloon:false,template:null,themeClass:"Balloon",toggleOnClick:true,triggerEvent:"click"},t);this.eventCallbacks={afterCreation:this.settings.afterCreation,afterDestroy:this.settings.afterDestroy,close:[this.settings.onClose],hide:[this.settings.onHide],show:[this.settings.onShow]};this._boundClickEventHandler=this._clickEventHandler.bind(this);this._boundMouseEnterEventHandler=this._mouseEnterEventHandler.bind(this);this._boundMouseLeaveEventHandler=this._mouseLeaveEventHandler.bind(this);this.create()}create(){u.push(this);this.state=this.settings.state;this.balloonElement=null;this.created=false;this.destroyed=false;this.showing=false;this._showTimer=null;this._positionLock={};this._createBalloon();if(this.settings.showImmediately){this.show()}this._setAnchorElementEvents();return this}show(){g(this);if(this.showing){return this}if(!this.created){this._setupCloseButton();this._setTailStyles();document.body.appendChild(this.balloonElement);this.created=true;this.eventCallbacks.afterCreation(this);this.anchor.dispatchEvent(new CustomEvent("ba:balloonAfterCreation",{bubbles:true}))}if(!this.destroyed){this.balloonElement.style.display="block";Object.assign(this.balloonElement.style,{transitionDuration:this.settings.fadeIn+"ms",transitionDelay:this.settings.delay+"ms",zIndex:(0,i.getMaxZIndex)()+10,opacity:"1"});this.showing=true;this._position();this.eventCallbacks.show.forEach((e=>e(this)));this.anchor.dispatchEvent(new CustomEvent("ba:balloonShow",{bubbles:true}));p()}return this}hide(){g(this);if(!this.showing){return this}const e=window.getComputedStyle(this.balloonElement).opacity;if(this.settings.fadeOut&&e!=="0"){Object.assign(this.balloonElement.style,{opacity:"0",transitionDuration:this.settings.fadeOut+"ms",transitionDelay:"",zIndex:"auto"})}else{Object.assign(this.balloonElement.style,{opacity:"0",display:""});this._unPosition()}this.showing=false;this.eventCallbacks.hide.forEach((e=>e(this)));this.anchor.dispatchEvent(new CustomEvent("ba:balloonHide",{bubbles:true}));p();return this}toggleBalloon(){if(this.showing){this.hide()}else{this.show()}return this}position(){window.Rollbar.info("The deprecated Balloon position() method was called.");return this}resetPositionLock(){this._positionLock={};return this}destroy(){g(this);if(this.created&&!this.destroyed){this.destroyed=true;this.balloonElement.parentNode.removeChild(this.balloonElement);this.balloonElement=null;this.eventCallbacks.afterDestroy(this);this.anchor.dispatchEvent(new CustomEvent("ba:balloonAfterDestroy",{bubbles:true}))}this._removeAnchorElementEvents();u=u.filter((e=>e!==this));p()}suppress(){this.hide();this.settings.suppressed=true;return this}release(){this.settings.suppressed=false;return this}onShow(e){this._addEventCallback("show",e);return this}offShow(e){this._removeEventCallback("show",e);return this}onHide(e){this._addEventCallback("hide",e);return this}offHide(e){this._removeEventCallback("hide",e);return this}onClose(e){this._addEventCallback("close",e);return this}offClose(e){this._removeEventCallback("close",e);return this}setAnchor(e){this._removeAnchorElementEvents();this.anchor=y(e);this._setAnchorElementEvents();return this}setTailColors(e){if(typeof e==="string"){this.settings.tailBackground=e;this.settings.tailBorder=e}else if(typeof e==="object"){this.settings.tailBackground=e.tailBackground||this.settings.tailBackground;this.settings.tailBorder=e.tailBorder||this.settings.tailBorder}this._setTailStyles();return this}_position(e=true){g(this);if(this.created&&this.showing){if(e){this._positionLock={}}o.position.call(this);window.requestAnimationFrame((()=>{if(!this.destroyed){this._position(false)}}))}}_unPosition(){this.balloonElement.style.top="";this.balloonElement.style.left=""}_setAnchorElementEvents(){if(this.settings.triggerEvent==="none"){return}if(this.settings.triggerEvent==="hover"){this.anchor.addEventListener("mouseenter",this._boundMouseEnterEventHandler);this.anchor.addEventListener("mouseleave",this._boundMouseLeaveEventHandler)}else{this.anchor.addEventListener("click",this._boundClickEventHandler)}}_removeAnchorElementEvents(){if(this.settings.triggerEvent==="none"){return}if(this.settings.triggerEvent==="hover"){this.anchor.removeEventListener("mouseenter",this._boundMouseEnterEventHandler);this.anchor.removeEventListener("mouseleave",this._boundMouseLeaveEventHandler)}else{this.anchor.removeEventListener("click",this._boundClickEventHandler)}}_mouseEnterEventHandler(){if(!this.settings.suppressed){this.show()}}_mouseLeaveEventHandler(){this.hide()}_clickEventHandler(){if(this.settings.suppressed){return}if(this.settings.toggleOnClick){this.toggleBalloon()}else{this.show()}}_createBalloon(){if((0,c.isEnabled)("jade")){this.balloonElement=(0,i.fragFromHtml)(l.default).querySelector(".js-balloon")}else{this.balloonElement=(0,i.fragFromHtml)(s.default).querySelector(".js-balloon")}let e="";let t;if(this.settings.html){e=this.settings.html}else if(this.settings.template){t=d.default[this.settings.template.name];e=t(this.settings.template.data)}else{throw new Error("HTML, or a template must be used as content.")}this.balloonElement.style.transitionDuration=this.settings.fadeIn+"ms";this.balloonElement.addEventListener("transitionend",(e=>{if(e.target===this.balloonElement&&!this.showing){this.balloonElement.style.display="";this._unPosition()}}));this.balloonElement.classList.add(this.settings.themeClass);this.balloonContentElement=this.balloonElement.querySelector(".js-balloon-content");this.balloonContentElement.appendChild((0,i.fragFromHtml)(e))}_setupCloseButton(){let e=this.balloonElement.querySelector(".js-balloon-close-x");if(this.settings.closeX){e.addEventListener("click",(()=>{this.hide();this.eventCallbacks.close.forEach((e=>e(this)))}))}else{e.style.display="none"}}_setTailStyles(){let e=this.balloonElement.querySelector(".js-balloon-tail");let t={};let a=Math.pow(this.settings.tailSize,2);let r=t.width=Math.floor(Math.sqrt(a+a));t.height=t.width=r+1+"px";t.display=this.settings.tail?"":"none";if(this.settings.tailBackground){t.backgroundColor=this.settings.tailBackground}if(this.settings.tailBorder){t.borderColor=this.settings.tailBorder}Object.assign(e.style,t)}_addEventCallback(e,t){if((0,n.isFunction)(t)){this.eventCallbacks[e].push(t)}}_removeEventCallback(e,t){this.eventCallbacks[e]=this.eventCallbacks[e].filter((e=>e!==t))}static create(e,t){const a=y(e);return new this(a,t)}static each(e){u.forEach(((t,...a)=>{if(t instanceof this){e(t,...a)}}))}static hasInstance(e){return u.some((t=>t instanceof this&&e===t.anchor))}static getInstance(e){return u.slice().reverse().find((t=>t instanceof this&&(t.balloonElement.contains(e)||t.anchor.contains(e))))}}t.default=b},429018:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(607553));var i=r(a(266105));var o={"popover-standard":n.default,"tooltip-standard":i.default};t.default=o},607553:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=l;var n=a(273641);var i=a(94220);var o=r(a(814129));const s={content:null,contentClass:null,contentCssOverride:{},popoverClass:null,title:null,titleClass:null,titleCssOverride:{},rawContent:false};function l(e){if(!e.content){throw new Error('Content is required to make a "standard" popover')}e=(0,n.extend)({},s,e);e.titleCssOverride=(0,i.convertObjectIntoInlineStylesString)(e.titleCssOverride);e.contentCssOverride=(0,i.convertObjectIntoInlineStylesString)(e.contentCssOverride);return window.microTemplate(o.default,e)}},266105:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=s;var n=a(273641);var i=r(a(557696));const o={title:null,content:null,textAlign:"left"};function s(e){if(!e.content){throw new Error('Content is required to make a "standard" tooltip')}e=(0,n.extend)({},o,e);return window.microTemplate(i.default,e)}},94220:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.convertObjectIntoInlineStylesString=n;t.default=void 0;var r=a(273641);function n(e){return Object.keys(e).map((t=>`${(0,r.kebabCase)(t)}: ${e[t]}`)).join("; ")}var i={convertObjectIntoInlineStylesString:n};t.default=i},583769:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.position=s;t.calculatePixelValue=c;var r=a(273641);var n=a(774548);var i=a(121198);const o=22;function s(){const e=(0,n.getRelativePosition)(this.anchor,undefined,this.settings.correctBodyPosition);const t=this.balloonElement.getBoundingClientRect();const a=(0,i.isElementInViewport)(this.anchor);const o=!(0,r.isEmpty)(this._positionLock);const s=o?this._positionLock.position:this.settings.position;const c=s==="top"||s==="bottom";const u=c?l:d;const f=u.call(this,s,e,t,a,this._positionLock,o);if(!o){this._positionLock=Object.assign({},f);this.anchor.setAttribute("balloon-position",f.position);this.balloonElement.setAttribute("position",f.position);const e=c?"left":"top";this.balloonElement.querySelector(".js-balloon-tail").style[e]=f.tail+"px";Object.assign(this.balloonElement.style,{top:f.top+"px",left:f.left+"px"})}if(f.top!==this._positionLock.top||f.left!==this._positionLock.left){this._positionLock.top=f.top;this._positionLock.left=f.left;Object.assign(this.balloonElement.style,{top:f.top+"px",left:f.left+"px"})}}function l(e,t,a,n,i,s){let{tailOnAnchor:l,flipTailOnAnchor:d,tailOnBalloon:u,flipTailOnBalloon:f,minTailOnBalloon:p,invertOnCollision:m}=this.settings;d=s?i.flipTailOnAnchor:d;f=s?i.flipTailOnBalloon:f;const h=t.top-a.height-this.settings.push;const v=t.bottom+this.settings.push;const g=h<window.pageYOffset;const y=v+a.height>window.innerHeight+window.pageYOffset;const b=c(t.width,l,d);const w=c(a.width,u,f);let S=s?i.tail:(0,r.clamp)(w,p,a.width-p);let O=t.left+b-S;let T=s?i.inverted:false;if(!s&&n){const n=O-(o+window.pageXOffset);const i=window.innerWidth+window.pageXOffset-o-(O+a.width);if(n<0||i<0){if(m){T=true;d=!d;f=!f;const e=c(t.width,l,d);const n=c(a.width,u,f);S=(0,r.clamp)(n,p,a.width-p);O=t.left+e-S}else{const e=Math.min(i,Math.abs(n));S=(0,r.clamp)(S-e,p,a.width-p);O=t.left+b-S}}if(e==="top"&&g&&!y){e="bottom"}if(e==="bottom"&&y&&!g){e="top"}}return{position:e,inverted:T,top:e==="top"?h:v,left:O,tail:S,flipTailOnAnchor:d,flipTailOnBalloon:f}}function d(e,t,a,n,i,s){let{tailOnAnchor:l,flipTailOnAnchor:d,tailOnBalloon:u,flipTailOnBalloon:f,minTailOnBalloon:p,invertOnCollision:m}=this.settings;d=s?i.flipTailOnAnchor:d;f=s?i.flipTailOnBalloon:f;const h=t.left-a.width-this.settings.push;const v=t.right+this.settings.push;const g=h<window.pageXOffset;const y=v+a.width>window.innerWidth+window.pageXOffset;const b=c(t.height,l,d);const w=c(a.height,u,f);let S=s?i.tail:(0,r.clamp)(w,p,a.height-p);let O=t.top+b-S;let T=s?i.inverted:false;if(!s&&n){const n=O-(o+window.pageYOffset);const i=window.innerHeight+window.pageYOffset-o-(O+a.height);if(n<0||i<0){if(m){T=true;d=!d;f=!f;const e=c(t.height,l,d);const n=c(a.height,u,f);S=(0,r.clamp)(n,p,a.height-p);O=t.top+e-S}else{const e=Math.min(i,Math.abs(n));S=(0,r.clamp)(S-e,p,a.height-p);O=t.top+b-S}}if(e==="left"&&g&&!y){e="right"}if(e==="right"&&y&&!g){e="left"}}return{position:e,inverted:T,top:O,left:e==="left"?h:v,tail:S,flipTailOnAnchor:d,flipTailOnBalloon:f}}function c(e,t,a=false){let r=0;if(!isNaN(t)){r=Number(t)}else if(t.indexOf("px")>0){r=parseInt(t)}else if(/^[0-9]+$/.test(t)){r=Number(t)}else if(t.indexOf("%")>0){const a=parseInt(t);r=e*(a/100)}if(a){r=e-r}return r}},333213:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(341757));var i=a(479706);var o=r(a(41371));const s=(0,i.isEnabled)("jade");const l={0:$.__("Which Sundays?"),1:$.__("Which Mondays?"),2:$.__("Which Tuesdays?"),3:$.__("Which Wednesdays?"),4:$.__("Which Thursdays?"),5:$.__("Which Fridays?"),6:$.__("Which Saturdays?")};const d=$("body");if(s){d.on("ba:selectChange",".js-biweekly-select-day",m);d.on("ba:selectChange",".js-biweekly-which-week",h)}else{d.on("change","select.js-biweekly-select-day",m);d.on("change","select.js-biweekly-which-week",h)}function c(e){let t=(0,n.default)().day();return t>e?7+parseInt(e):e}function u(e,t){let a=(0,n.default)().day(c(t.day()));let r={first:a.clone(),second:a.clone().add(1,"week"),jadeEnabled:s};let i=a.diff(t,"week");let l=1;if(i===0&&t.format()===r.second.format()||i%2===1){l=2}let d=microTemplate(o.default,r);if(s){e.find(".js-biweekly-which-week").replaceWith(d);$(e.find(".js-biweekly-which-week").children()[l-1]).attr("selected",true)}else{e.find("select.js-biweekly-which-week").html(d).val(l).trigger("liszt:updated")}}function f(e,t){e.find(".js-biweekly-which-days").text(l[t])}function p(e,t){$(".js-biweekly-start-input").val(t)}function m(e){let t=$(e.target);let a=t.closest(".fieldRow");let r=s?(0,n.default)().day(c(e.originalEvent.detail.value)):(0,n.default)().day(c(t.val()));f(a,r.day());u(a,r);p(a,r.format())}function h(e){let t=$(e.target);let a=t.closest(".fieldRow");let r=t.find(":selected").attr("data-biweekly-date");p(a,r)}function v(){$(".js-biweekly-start-input").each(((e,t)=>{let a=$(t);let r=a.closest(".fieldRow");let i;if(a.val()===""){let e=r.find(".js-biweekly-select-day").val();i=(0,n.default)().day(c(e))}else{i=(0,n.default)(a.val(),n.default.defaultFormat)}let o=i.day();if(s){const e=r.find(".js-biweekly-select-day select").val();$(r.find(".js-biweekly-select-day").children()[e]).attr("selected",false);$(r.find(".js-biweekly-select-day").children()[o]).attr("selected",true)}else{r.find(".js-biweekly-select-day").val(o).trigger("liszt:updated")}f(r,o);u(r,i);p(r,i.format())}))}var g={setFields:v};t.default=g},371003:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(341757));var i=a(273641);const o={saturday:"bhr-grid-start-saturday",sunday:"bhr-grid-start-sunday",monday:"bhr-grid-start-monday"};let s=n.default.locale();n.default.defineLocale(o.saturday,{parentLocale:s,week:{dow:6}});n.default.defineLocale(o.sunday,{parentLocale:s,week:{dow:0}});n.default.defineLocale(o.monday,{parentLocale:s,week:{dow:1}});n.default.locale(s);const l={trail:true,groupByWeek:true,view:"month",startOfWeek:null,showWeekends:true,smartWeekView:true,smartMonthView:false};class d{static get className(){return"CalendarGrid"}constructor(e={}){this._options=(0,i.extend)({},l,e);this._now=(0,n.default)().startOf("day");this._setLocaleOnMomentDate(this._now);this._rangeStart=null;this._rangeEnd=null;this._marker=this._now.clone();this._setupMarker();this._setRange()}grid(){let e=this.constructor.buildRange(this._rangeStart,this._rangeEnd);if(!this._options.showWeekends){e=e.filter((e=>[0,6].indexOf(e.day())===-1))}if(this._options.groupByWeek){e=this.constructor.groupRangeByWeek(e)}return e}isTodayInRange(){return this.constructor.isBetweenInclusive(this._now,this._rangeStart,this._rangeEnd)}momentRange(){return{start:this._rangeStart.clone(),end:this._rangeEnd.clone()}}formattedRange(e=n.default.defaultFormat){return{start:this._rangeStart.format(e),end:this._rangeEnd.format(e)}}setView(e=this._options.view){this._options.view=e;if(this._options.view==="month"){this._marker.endOf("week")}if(this._options.view==="1week"||this._options.view==="2weeks"){if(this._options.smartWeekView&&this.constructor.isBetweenInclusive(this._now,this._rangeStart,this._rangeEnd)){this._marker=this._now.clone().startOf("week")}else{this._marker.startOf("week")}}return this.jumpTo(this._marker)}today(){return this.jumpTo(this._now)}jumpTo(e){e=e.clone();this._setLocaleOnMomentDate(e);this._marker=e;this._setupMarker();this._setRange();return this}next(){switch(this._options.view){case"month":this._marker.add("1","month");break;case"2weeks":this._marker.add("2","weeks");break;case"1week":this._marker.add("1","week");break}this._setRange();return this}prev(){switch(this._options.view){case"month":this._marker.subtract("1","month");break;case"2weeks":this._marker.subtract("2","weeks");break;case"1week":this._marker.subtract("1","weeks");break}this._setRange();return this}toggleWeekends(e=!this._options.showWeekends){this._options.showWeekends=!!e;return this}clone(){return(0,i.cloneDeep)(this)}_setupMarker(){if(!this._marker){this._marker=this._now.clone()}switch(this._options.view){case"month":if(this._options.smartMonthView){this._marker.endOf("week")}this._marker.startOf("month");break;case"2weeks":case"1week":this._marker.startOf("week");break}}_setRange(){switch(this._options.view){case"month":this._rangeStart=this._marker.clone();this._rangeEnd=this._marker.clone().endOf("month");if(this._options.trail){this._rangeStart.startOf("week");this._rangeEnd.endOf("week")}break;case"2weeks":this._rangeStart=this._marker.clone().startOf("week");this._rangeEnd=this._rangeStart.clone().add("13","days");break;case"1week":this._rangeStart=this._marker.clone().startOf("week");this._rangeEnd=this._rangeStart.clone().add("6","days");break}}_setLocaleOnMomentDate(e){if(this._options.startOfWeek){let t=o[this._options.startOfWeek.toLowerCase()];if(t){e.locale(t)}}}static buildRange(e,t){const[a,r,i]=e.toArray();const[o,s,l]=t.toArray();const d=[];const c=n.default.utc([a,r,i]);const u=n.default.utc([o,s,l]);while(c.isSameOrBefore(u,"day")){const[e,t,a]=c.toArray();d.push((0,n.default)([e,t,a]));c.add(1,"d")}return d}static groupRangeByWeek(e){let t=(0,i.groupBy)(e,(e=>e.week()));return Object.keys(t).reduce(((e,a)=>[...e,t[a]]),[]).sort(((e,t)=>e[0].diff(t[0])))}static isBetweenInclusive(e,t,a){return e.isBetween(t,a,null,"[]")}}t.default=d},577193:(e,t,a)=>{"use strict";var $=a(992005);var moment=a(496406);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.createCalendarPickers=p;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(837803);var l=a(121198);a(945341);var d=a(479706);let c="btn btnIcon";let u='<img src="/images/color-branded-icons/calendar-input-icon.svg" class="branded-icon"></span>';if((0,d.isEnabled)("jade")){c="fab-TextInput__button fab-TextInput__button--right";u=(0,s.renderToStaticMarkup)((0,n.default)("span",{className:"fab-TextInput__buttonIcon"},void 0,(0,n.default)(o.Icon,{name:"fab-calendar-15x16"})))}const f={toggleButton:`\n\t\t<button type="button" class="${c}">\n\t\t\t${u}\n\t\t</button>\n\t`,events:{onRender:S,onAfterShow:S}};$((function(){p($("[calendar-picker]"));$("[calendar-picker]").observe((function(){p(this)}))}));function p(e){$(e).each((function(e,t){const a=$(t);const r={...f,customFormat:g(a),noFacade:a[0].hasAttribute("no-facade")&&a[0].getAttribute("no-facade")!=="false"};switch(a.attr("calendar-picker")){case"date-range":case"month-range":y(a,r);break;default:b(a,r);break}}))}function m(e){return!e.is("[no-mask]")}function h(e,t){var a=t||window.GLOBAL_DATE_MASK||"mm/dd/yyyy";if(e.inputmask){e.inputmask({alias:a,oncomplete(){e.trigger("inputmask:complete");e.one("blur",(()=>{e.trigger("change")}))},onincomplete(){e.trigger("inputmask:incomplete")},isComplete(e,t){const r=moment.convert.jQuery(a);return moment(e.join(""),r,true).isValid()}}).trigger("masked")}}function v(e){if(!e.attr("placeholder")&&(0,d.isEnabled)("jade")){e.attr("placeholder",e.inputmask("getemptymask"))}e.data("placeholderTrigger","focus");$.placeholder.shim({selector:e[0]})}function g(e){let t=null;switch(e.attr("calendar-picker")){case"month":case"month-range":t="MMM YYYY";break}return t}function y(e,t){var a=e.find("[range-start]");var r=e.find("[range-end]");if(m(e)){h(a,t.customFormat);h(r,t.customFormat)}e.calendarPicker(t);v(a);v(r);w(a);w(r)}function b(e,t){if(m(e)){h(e,t.customFormat)}e.calendarPicker(t);v(e);setTimeout((()=>{w(e)}))}function w(e){var t=e.closest("[bhrvalidate-initiated]");if(!t.length){return}e.rules("add",{validateCalendarPicker:true})}function S(e){const{$popover:t}=e;const a=t.find("select");if(!t.is(":visible")){return}e.$popover.css({zIndex:(0,l.getMaxZIndex)()});a.attr("data-disable-search","true").chosen()}},588124:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.cancelableRequestObject=r;t.default=void 0;class a{static get className(){return"Cancelable"}constructor(){this.instance=null}on(e){this.cancel();this.instance=e;e.promise.then((()=>{this.instance=null}));return e}cancel(){if(this.instance){this.instance.cancel();this.instance=null}}}function r(e,...t){return{promise:e,request:t.reduce(((e,t)=>e.concat(t)),[]),cancel:function(){this.request.forEach((e=>e.abort()))}}}var n=a;t.default=n},676955:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AreaChart",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"BarChart",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"BarChartSingle",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"BarChartStacked",{enumerable:true,get:function(){return s.default}});Object.defineProperty(t,"DetailedMultiLineAreaChart",{enumerable:true,get:function(){return l.default}});Object.defineProperty(t,"DonutChart",{enumerable:true,get:function(){return d.default}});Object.defineProperty(t,"DonutPercentageChart",{enumerable:true,get:function(){return c.default}});Object.defineProperty(t,"GroupedSliceChart",{enumerable:true,get:function(){return u.default}});Object.defineProperty(t,"HorizontalBarChart",{enumerable:true,get:function(){return f.default}});Object.defineProperty(t,"RadialProgressChart",{enumerable:true,get:function(){return p.default}});Object.defineProperty(t,"LineChart",{enumerable:true,get:function(){return m.default}});Object.defineProperty(t,"SliceChart",{enumerable:true,get:function(){return h.default}});Object.defineProperty(t,"SimpleMultiLineAreaChart",{enumerable:true,get:function(){return v.default}});var n=r(a(885666));var i=r(a(720904));var o=r(a(820776));var s=r(a(77762));var l=r(a(436012));var d=r(a(395124));var c=r(a(167310));var u=r(a(845594));var f=r(a(529355));var p=r(a(597738));var m=r(a(147958));var h=r(a(903029));var v=r(a(437418))},885666:(e,t,a)=>{"use strict";var moment=a(496406);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(212172);var i=a(61527);var o=a(183818);var s=a(439821);var l=a(903857);var d=a(273641);var c=a(553745);var u=a(479706);var f=r(a(418257));a(244964);const p="AreaChart";const m={chartClass:"",container:{height:200,width:400,margin:{top:10,right:10,bottom:30,left:0}},xAxisTickCount:l.timeDay.every(1),xAxisTickFormat:moment.shortFormat,yAxisLabelWidth:40,yAxisMin:null,yAxisMax:null,pathStrokeWidth:2,drawEndDot:false};const h=(0,u.isEnabled)("jade");class v extends f.default{static get className(){return"AreaChart"}constructor(e,t=m){super();this._minYDrawnValue=0;this._selector=e;this._CLASS_NAME=p;this._settings=(0,d.defaultsDeep)({},t,m);this._validateRequirements();this._createRoot()}draw(e){const{areas:t,xAxisExtraInfo:a}=e;this._areas=t;this._xAxisExtraInfo=a;const r=t.map((e=>e.points.map((e=>e.x)))).reduce(((e,t)=>e.concat(t)));const i=t.map((e=>e.points.map((e=>e.y)))).reduce(((e,t)=>e.concat(t)));const o=this._settings;const s=o.yAxisMin===null?Math.floor((0,n.min)(i)/10)*10:o.yAxisMin;const l=o.yAxisMax===null?Math.ceil((0,n.max)(i)/10)*10:o.yAxisMax;this._minYDrawnValue=s;this._xScale=this._getXScale(r);this._yScale=this._getYScale(s,l);this._drawAreas();this._drawXAxis(r);this._drawXAxisExtraInfo();this._drawYAxis()}_getXScale(e){const{container:{margin:t},yAxisLabelWidth:a}=this._settings;return(0,o.scaleTime)().domain((0,n.extent)(e,(e=>new Date(e)))).range([a,this._getContainerWidth()-t.right])}_getYScale(e,t){const{container:{height:a,margin:r}}=this._settings;return(0,o.scaleLinear)().domain([e,t]).nice().range([a,r.top])}_getYScaleText(e){const{yAxisUseWholeValue:t}=this._settings;return`${e}${t?"":"%"}`}_getColor(e,t){const a=this._settings;if(a.colors){e.color=a.colors[t]}return e.color?e.color:""}_drawAreas(){this._drawAreaGroups();this._drawLineGroups()}_removeTrailingNullPoints(e){const t=e.reduce(((e,t,a)=>t&&t.y?a:e),0);return e.filter(((e,a)=>a<=t))}_drawAreaGroups(){const e=this._svg;const t=e.selectAll(this._getClassList("__areaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__areaGroup")}`).attr("id",((e,t)=>{const a=this._getColor(e,t);return a?`tag${a.slice(1)}_${t}`:""}));const r=t.merge(a);const n=(0,s.area)().x((e=>this._xScale(new Date(e.x)))).y0((()=>this._minYDrawnValue?this._yScale(this._minYDrawnValue):this._yScale(0))).y1((e=>this._yScale(e.y)));a.append("path").attr("class",`${h?"AreaChart--themeFill":"baseFillColor"} ${this._buildClassList("__area")}`).style("fill",((e,t)=>this._getColor(e,t)));r.select(this._getClassList("__area")).attr("d",(e=>n(this._removeTrailingNullPoints(e.points))));t.exit().remove()}_drawLineGroups(){const e=this._svg;const t=this._settings;const a=e.selectAll(this._getClassList("__lineGroup")).style("display","initial").data(this._areas);const r=a.enter().append("g").attr("class",`${this._buildClassList("__lineGroup")}`).attr("id",((e,t)=>{const a=this._getColor(e,t);return a?`tag${a.slice(1)}_${t}`:""}));const n=a.merge(r);const i=(0,s.line)().x((e=>this._xScale(new Date(e.x)))).y((e=>this._yScale(e.y)));r.append("path").attr("class",`${h?"AreaChart--themeStroke":"baseStrokeColor"} ${this._buildClassList("__line")}`).style("fill","none").style("stroke",((e,t)=>this._getColor(e,t))).style("stroke-width",t.pathStrokeWidth+"px");if(t.drawEndDot){const e=({x:e,y:t})=>({x:this._xScale(new Date(e)),y:this._yScale(t)});const t=t=>t&&t.points?e(this._removeTrailingNullPoints(t.points).pop()):{x:this._xScale(0),y:this._yScale(0)};r.append("circle").attr("class",`${h?"AreaChart--themeFill":"baseFillColor"} ${this._buildClassList("__endDot")}`).attr("fill",this._getColor.bind(this)).attr("pointer-events","none").attr("r",4).attr("cx",(e=>t(e).x)).attr("cy",(e=>t(e).y))}n.select(this._getClassList("__line")).attr("d",(e=>i(this._removeTrailingNullPoints(e.points))));a.exit().remove()}_drawXAxis(e){const{container:{height:t},xAxisTickCount:a,xAxisTickFormat:r}=this._settings;const o=this._svg;this._xScale.domain((0,n.extent)(e.map((e=>this._resetTimeValues(e))),(e=>this._resetTimeValues(e))));const s=(0,i.axisBottom)(this._xScale).ticks(a).tickFormat((e=>moment(e).format(r)));const l=o.select(this._getClassList("__xAxis")).empty();if(l){o.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(0, ${t})`).call(s)}else{o.select(this._getClassList("__xAxis")).call(s)}}_drawXAxisExtraInfo(){if(this._xAxisExtraInfo){const e=this._svg;const t=e.selectAll(this._getClassList("__xAxisExtraInfo")).data(this._xAxisExtraInfo);const a=t.enter().append("g").attr("class",this._buildClassList("__xAxisExtraInfo")).on("mouseover",c.mouseOver);const r=t.merge(a);t.exit().remove();this._drawXAxisExtraInfoLine(a,r);this._drawXAxisExtraInfoCircle(a,r);this._drawXAxisExtraInfoIcon(a,r)}}_drawXAxisExtraInfoLine(e,t){const{container:{height:a,margin:r}}=this._settings;const n=a+r.bottom-33;const i=n+14;e.append("line").attr("class",this._buildClassList("__xAxisExtraInfoLine"));t.select(this._getClassList("__xAxisExtraInfoLine")).attr("x1",(e=>this._xScale(this._resetTimeValues(e.x)))).attr("x2",(e=>this._xScale(this._resetTimeValues(e.x)))).attr("y1",n).attr("y2",i).style("stroke","#d8d8d8").style("stroke-width","1px")}_drawXAxisExtraInfoCircle(e,t){const{container:{height:a,margin:r}}=this._settings;e.append("circle").attr("class",this._buildClassList("__xAxisExtraInfoCircle"));t.select(this._getClassList("__xAxisExtraInfoCircle")).attr("cx",(e=>this._xScale(this._resetTimeValues(e.x)))).attr("cy",a+r.bottom-10).attr("r",10).style("fill","#fff").style("stroke","#d8d8d8").style("stroke-width","1px")}_drawXAxisExtraInfoIcon(e,t){const{container:{height:a,margin:r}}=this._settings;e.append("svg").attr("class",this._buildClassList("__xAxisExtraInfoIcon"));t.select(this._getClassList("__xAxisExtraInfoIcon")).attr("height",12).attr("width",12).attr("x",(e=>this._xScale(this._resetTimeValues(e.x))-6)).attr("y",a+r.bottom-16).style("fill","#b1b1b1").append("svg:use").attr("xlink:href",(e=>this._getIcon(e.event)))}_getIcon(e){const t={launch:"#fab-star-13x12",email:"#fab-envelope-12x10"};return t[e]}_drawYAxis(){const{container:{margin:e,width:t},yAxisLabelWidth:a}=this._settings;const r=this._svg;const n=(0,i.axisLeft)(this._yScale).ticks(5).tickFormat((e=>this._getYScaleText(e)));const o=r.select(this._getClassList("__yAxis")).empty();if(o){r.append("g").attr("transform",`translate(${a})`).attr("class",this._buildClassList("__yAxis")).call(n)}else{r.select(this._getClassList("__yAxis")).call(n)}r.select(this._getClassList("__yAxis")).selectAll("line").attr("x2",(()=>t-a-e.right)).attr("style",((e,t,a)=>{if(t===0){return"stroke-dasharray: 0"}}))}_resetTimeValues(e){const t=new Date(e);return t.setHours(0,0,0,0)}}t.default=v},436012:(e,t,a)=>{"use strict";var moment=a(496406);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(212172);var i=a(61527);var o=a(183818);var s=a(331760);var l=a(439821);var d=a(903857);var c=a(273641);var u=r(a(418257));a(319944);const f="DetailedMultiLineAreaChart";const p={chartClass:"",container:{height:433,width:560,margin:{top:27,right:20,bottom:10,left:20}},xAxisTickCount:d.timeDay.every(1),xAxisTickFormat:"MMM YYYY",yAxisLabel:null,yAxisLabelXOffset:0,yAxisMin:-100,yAxisMax:100,pathStrokeWidth:3};class m extends u.default{static get className(){return"DetailedMultiLineAreaChart"}constructor(e,t=p,a,r){super();this._minYDrawnValue=0;this._destroyPopover=void 0;this._data=void 0;this._selector=e;this._CLASS_NAME=f;this._settings=(0,c.defaultsDeep)({},t,p);this._onMouseOver=a;this._onFocus=r;this._validateRequirements();this._createRoot()}draw(e){this._data=e;const{areas:t,xAxisExtraInfo:a}=e;this._areas=t;this._xAxisExtraInfo=a;this._allXPoints=t.map((e=>e.points.map((e=>e.x)))).reduce(((e,t)=>e.concat(t))).slice(0,this._areas[0].points.length).map((e=>this._resetTimeValues(e)));const{yAxisMin:r,yAxisMax:n}=this._settings;this._minYDrawnValue=r;this._xScale=this._getXScale(this._allXPoints);this._yScale=this._getYScale(r,n);this._svg.style("overflow","visible");this._drawYAxis();this._drawXAxis();this._drawAreas()}_getXScale(e){const{container:{margin:t}}=this._settings;return(0,o.scaleLinear)().domain([0,e.length-1]).range([t.left,this._getContainerWidth()-t.right])}_getYScale(e,t){const{container:{height:a,margin:r}}=this._settings;return(0,o.scaleLinear)().domain([e,t]).nice().range([a-r.bottom,r.top])}_drawAreas(){this._drawAreaGroups();this._drawDivider();this._drawLineGroups();this._drawMouseOverAreas()}_drawDivider(){const e=this._svg.selectAll(this._getClassList("dividerLine")).data([this._allXPoints]);const t=e.enter().append("line").attr("class",this._buildClassList("dividerLine")).attr("y1",this._yScale(0)).attr("y2",this._yScale(0)).style("stroke","white").style("stroke-width",3);const a=e.merge(t);a.attr("x1",(e=>this._xScale(0))).attr("x2",(e=>this._xScale(e.length-1)));e.exit().remove()}_drawXAxis(){const{container:{height:e},xAxisTickFormat:t}=this._settings;const a=this._svg;const r=this._allXPoints;this._xScale.domain([0,this._allXPoints.length-1]);const n=(0,i.axisBottom)(this._xScale).tickValues([0,1,2,3]).tickFormat((e=>moment(r[e]).format(t)));const o=a.select(this._getClassList("__xAxis")).empty();if(o){a.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(0, ${e})`).call(n)}else{a.select(this._getClassList("__xAxis")).call(n)}a.select(this._getClassList("__xAxis")).attr("font-family",`'Lato', sans-serif`);a.select(this._getClassList("__xAxis")).select(".domain").remove();a.select(this._getClassList("__xAxis")).selectAll(".tick line").remove();a.select(this._getClassList("__xAxis")).selectAll(".tick text").attr("class","yAxisLabel__label")}_drawYAxis(){const{container:{margin:e,width:t},yAxisLabel:a,yAxisLabelXOffset:r}=this._settings;const n=this._svg;const o=(0,i.axisLeft)(this._yScale);const s=n.select(this._getClassList("__yAxis")).empty();if(s){n.append("g").attr("class",this._buildClassList("__yAxis")).call(o)}else{n.select(this._getClassList("__yAxis")).call(o)}n.select(this._getClassList("__yAxis")).attr("font-family",`'Lato', sans-serif`);if(a){n.select(this._getClassList("__yAxis")).append("text").text(a).attr("class","yAxisLabel").attr("x",r)}n.select(this._getClassList("__yAxis")).selectAll("line").attr("x2",t).attr("stroke-dasharray","3 5").style("stroke","#adadad");n.select(this._getClassList("__yAxis")).select(".domain").remove();n.select(this._getClassList("__yAxis")).selectAll(".tick text").attr("class","yAxisLabel");const l=n.select(this._getClassList("__yAxis")).selectAll(".tick");const d=(l.size()+1)/2;const c=n.select(this._getClassList("__yAxis")).select(`.tick:nth-child(${d})`);c.select("line").remove();c.append("line").attr("x2",e.left).style("stroke","#e0e0e0");c.append("line").attr("x1",t-e.right).attr("x2",t).style("stroke","#e0e0e0")}_drawAreaGroups(){const e=this._svg;const t=e.selectAll(this._getClassList("__areaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__areaGroup")}`).attr("id",((e,t)=>`area-${t}`));const r=t.merge(a);const n=(0,l.area)().x(((e,t)=>this._xScale(t))).y0((e=>this._yScale(0))).y1((e=>this._yScale(e.y)));a.append("path").attr("class",`AreaChart--themeFill ${this._buildClassList("__area")}`).style("fill",((e,t)=>this._getAreaColor(t)));r.select(this._getClassList("__area")).attr("d",(e=>n(e.points)));t.exit().remove()}_getAreaColor(e){const{colors:t}=this._settings;switch(e){case 0:return t.likes.promoters;case 1:return t.likes.neutrals;case 2:return t.likes.detractors;case 3:return t.dislikes.detractors;case 4:return t.dislikes.neutrals;case 5:return t.dislikes.promoters;default:return""}}_drawMouseOverAreas(){const e=this._svg;const t=e.selectAll(this._getClassList("__hoverAreaGroup")).style("display","initial").data([this._areas[0],this._areas[3]]);const a=t.enter().append("g").attr("class",`${this._buildClassList("__hoverAreaGroup")}`).attr("id",((e,t)=>`hover${t}`));const r=(0,l.area)().x((e=>e.x)).y0((e=>this._yScale(0))).y1((e=>e.y));const n=a.selectAll(this._getClassList("__hoverArea")).data((e=>e.points));const i=n.enter().append("path").classed(this._buildClassList("__hoverArea"),true).style("fill","transparent");const o=n.merge(i);o.attr("d",((e,t)=>{const a=this._areas.find((t=>t.points.includes(e)));const n=this._areas.indexOf(a)===0;const i=[];const o=a.points[t-1]?this._xScale(t-1):null;const s=this._xScale(t);const l=a.points[t+1]?this._xScale(t+1):null;if(o!==null){i.push((s+o)/2)}i.push(s);if(l!==null){i.push((l+s)/2)}const d=[];const c=a.points[t-1]?this._yScale(a.points[t-1].y):null;const u=this._yScale(e.y);const f=a.points[t+1]?this._yScale(a.points[t+1].y):null;if(c!==null){if(u>c){d.push((u+c)/2)}else{d.push((c+u)/2)}}d.push(u);if(f!==null){if(f>u){d.push((f+u)/2)}else{d.push((u+f)/2)}}return r(i.map(((e,t)=>({x:e,y:d[t]}))))})).on("mouseover",(t=>{const a=this._areas.find((e=>e.points.includes(t)));const r=this._areas.indexOf(a)===0;const n=a.points.indexOf(t);const i=this._areas.indexOf(a);const o=Math.abs(this._areas[i+1].points[n].y);const s=Math.abs(this._areas[i+2].points[n].y);const l=Math.abs(t.y);this._addHoverGroup(t,a);const d=this._svg.select("#primaryHoverPoint");this._destroyPopover=this._onMouseOver({detail:{data:{count:l,isPositive:r,promoters:Math.abs(r?l-o:s),neutrals:Math.abs(o-s),detractors:Math.abs(r?s:l-o)}},target:d.node()});e.select(`${this._getClassList("__xAxis")} .tick:nth-child(${n+1}) text`).classed("focusedAreaLabel",true).style("font-weight","bold").style("fill","#555")})).on("mouseleave",(t=>{this._removeHoverGroup(t);this._destroyPopover();e.select(".focusedAreaLabel").classed("focusedAreaLabel",false).style("font-weight","normal").style("fill","#686868")}));n.exit().remove();t.exit().remove()}_addHoverGroup(e,t){const a=this._svg;const r=t.points.indexOf(e);const n=this._areas.indexOf(t);const i=this._areas[n+1].points[r];const o=this._areas[n+2].points[r];const s=this._areas.indexOf(t)===0;const{colors:d}=this._settings;const c=(0,l.line)().x((e=>this._xScale(r))).y((e=>this._yScale(e.y)));const u=a.append("g").attr("id","hoverGroup").style("pointer-events","none");u.append("path").style("fill","none").style("stroke","black").style("stroke-width","2px").style("opacity","0.15").attr("d",c([{x:e.x,y:0},{x:e.x,y:e.y}]));u.append("circle").attr("id","primaryHoverPoint").attr("r",6).attr("cx",this._xScale(r)).attr("cy",this._yScale(e.y)).style("fill",s?d.likes.hoverPoint:d.dislikes.hoverPoint);u.append("circle").attr("r",3).attr("cx",this._xScale(r)).attr("cy",this._yScale(e.y)).style("fill","#fff");u.append("circle").attr("r",3).attr("cx",this._xScale(r)).attr("cy",this._yScale(i.y)).style("fill",s?d.likes.hoverPoint:d.dislikes.hoverPoint);u.append("circle").attr("r",3).attr("cx",this._xScale(r)).attr("cy",this._yScale(o.y)).style("fill",s?d.likes.hoverPoint:d.dislikes.hoverPoint)}_removeHoverGroup(){this._svg.select(`#hoverGroup`).remove()}_drawLineGroups(){const e=this._svg;const t=this._settings;const a=e.selectAll(this._getClassList("__lineGroup")).style("display","initial").data([this._areas[1],this._areas[2],this._areas[4],this._areas[5],this._areas[0],this._areas[3]]);const r=a.enter().append("g").attr("class",`${this._buildClassList("__lineGroup")}`).attr("id",((e,t)=>`line-${t}`));const n=a.merge(r);const i=(0,l.line)().x(((e,t)=>this._xScale(t))).y((e=>this._yScale(e.y)));r.append("path").attr("class",this._buildClassList("__line")).style("fill","none").style("stroke",((e,t)=>this._getLineColors(t))).style("stroke-width",((e,a)=>{if(a===4||a===5){return`${t.pathStrokeWidth}px`}return"1px"}));this._addLineGroupCircles();n.select(this._getClassList("__line")).attr("d",(e=>i(e.points)));a.exit().remove()}_addLineGroupCircles(){const e=this._svg;const{colors:t}=this._settings;const a=this._areas[0];const r=a.points[0];const n=a.points.find(((e,t,a)=>t===a.length-1));const i=this._areas[3];const o=i.points[0];const s=i.points.find(((e,t,a)=>t===a.length-1));const l=e.select("#line-0");const d=l.selectAll("circle").data([r,n]);const c=d.enter().append("circle").attr("r",4).style("fill",t.likes.line);const u=d.merge(c);u.attr("cx",((e,t)=>this._xScale(t===0?t:a.points.length-1))).attr("cy",(e=>this._yScale(e.y)));d.exit().remove();const f=e.select("#line-3");const p=f.selectAll("circle").data([o,s]);const m=p.enter().append("circle").attr("r",4).style("fill",t.dislikes.line);const h=p.merge(m);h.attr("cx",((e,t)=>this._xScale(t===0?t:i.points.length-1))).attr("cy",(e=>this._yScale(e.y)));p.exit().remove()}_getLineColors(e){const{colors:t}=this._settings;switch(e){case 4:return t.likes.line;case 5:return t.dislikes.line;default:return"rgba(255, 255, 255, 0.4)"}}_resetTimeValues(e){const t=new Date(e);return t.setHours(0,0,0,0)}resize(){(0,s.select)(this._selector).select("div").remove();this._createRoot();this.draw(this._data)}}t.default=m},437418:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(212172);var i=a(183818);var o=a(439821);var s=a(331760);var l=a(273641);var d=r(a(418257));a(151545);const c="SimpleMultiLineAreaChart";const u={chartClass:"",container:{height:180,width:"auto",margin:{top:0,right:0,bottom:0,left:0}},yAxisMin:null,yAxisMax:null,pathStrokeWidth:3};class f extends d.default{static get className(){return"SimpleMultiLineAreaChart"}constructor(e,t=u,a,r){super();this._minYDrawnValue=0;this._destroyPopover=void 0;this._data=void 0;this._selector=e;this._CLASS_NAME=c;this._settings=(0,l.defaultsDeep)({},t,u);this._onMouseOver=a;this._onFocus=r;this._validateRequirements();this._createRoot()}draw(e){this._data=e;const{areas:t,xAxisExtraInfo:a}=e;this._areas=t;this._xAxisExtraInfo=a;const r=t[0].points.length;const i=t[0].points.map((e=>e.y));const o=t[1].points.map((e=>e.y));const s=this._settings;const l=s.yAxisMin===null?Math.floor((0,n.min)(o)):s.yAxisMin;const d=s.yAxisMax===null?Math.ceil((0,n.max)(i)):s.yAxisMax;this._minYDrawnValue=l;this._xScale=this._getXScale(r);this._yScale=this._getYScale(l,d);this._svg.style("overflow","visible");this._svg.select("defs").remove();this._defs=this._svg.append("defs");this._addLinearGradients();this._drawAreas()}_getXScale(e){const{container:{margin:t}}=this._settings;return(0,i.scaleLinear)().domain([0,e-1]).range([t.left,this._getContainerWidth()-t.right])}_getYScale(e,t){const a=Math.max(Math.abs(e),t);const r=a+a*.1;e=r*-1;t=r;const{container:{height:n,margin:o}}=this._settings;return(0,i.scaleLinear)().domain([e,t]).nice().range([n,o.top])}_addLinearGradients(){const e=this._defs.append("linearGradient").attr("id","likesGradient").attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%");e.append("stop").attr("offset","0%").attr("style",`stop-color: ${this._settings.colors.likes.gradientStart}`);e.append("stop").attr("offset","100%").attr("style",`stop-color: ${this._settings.colors.likes.gradientEnd}`);const t=this._defs.append("linearGradient").attr("id","dislikesGradient").attr("x1","0%").attr("x2","0%").attr("y1","100%").attr("y2","0%");t.append("stop").attr("offset","0%").attr("style",`stop-color: ${this._settings.colors.dislikes.gradientStart}`);t.append("stop").attr("offset","100%").attr("style",`stop-color: ${this._settings.colors.dislikes.gradientEnd}`)}_drawAreas(){this._drawAreaGroups();this._drawDivider();this._drawLineGroups();this._drawMouseOverAreas();this._addLastPointLabels()}_drawDivider(){const e=this._svg;const t=e.selectAll(this._getClassList("dividerLine")).data([this._areas[0].points]);const a=t.enter().append("line").attr("class",this._buildClassList("dividerLine")).attr("y1",this._yScale(0)).attr("y2",this._yScale(0)).style("stroke","white").style("stroke-width",3);const r=t.merge(a);r.attr("x1",(e=>this._xScale(0))).attr("x2",(e=>this._xScale(e.length-1)));t.exit().remove()}_drawAreaGroups(){const e=this._svg;const t=e.selectAll(this._getClassList("__areaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__areaGroup")}`).attr("id",((e,t)=>{const{colors:a}=this._settings;const r=t===0?a.likes.area:a.dislikes.area;return r?`tag${r.slice(1)}_${t}`:""}));const r=t.merge(a);const n=(0,o.area)().x(((e,t)=>this._xScale(t))).y0((e=>this._yScale(0))).y1((e=>this._yScale(e.y)));a.append("path").attr("class",`AreaChart--themeFill ${this._buildClassList("__area")}`).style("fill",((e,t)=>t===0?"url(#likesGradient)":"url(#dislikesGradient)"));r.select(this._getClassList("__area")).attr("d",(e=>n(e.points)));t.exit().remove()}_drawMouseOverAreas(){const e=this._svg;const t=e.selectAll(this._getClassList("__hoverAreaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__hoverAreaGroup")}`).attr("id",((e,t)=>`hover${t}`));const r=t.merge(a);const n=(0,o.area)().x((e=>e.x)).y0((e=>this._yScale(0))).y1((e=>e.y));const i=r.selectAll(this._getClassList("__hoverArea")).data((e=>e.points));const s=i.enter().append("path").classed(this._buildClassList("__hoverArea"),true).style("fill","transparent");const l=i.merge(s);l.attr("d",((e,t)=>{const a=this._areas.find((t=>t.points.includes(e)));const r=[];const i=a.points[t-1]?this._xScale(t-1):null;const o=this._xScale(t);const s=a.points[t+1]?this._xScale(t+1):null;if(i!==null){r.push((o+i)/2)}r.push(o);if(s!==null){r.push((s+o)/2)}const l=[];const d=a.points[t-1]?this._yScale(a.points[t-1].y):null;const c=this._yScale(e.y);const u=a.points[t+1]?this._yScale(a.points[t+1].y):null;if(d!==null){if(c>d){l.push((c+d)/2)}else{l.push((d+c)/2)}}l.push(c);if(u!==null){if(u>c){l.push((u+c)/2)}else{l.push((c+u)/2)}}return n(r.map(((e,t)=>({x:e,y:l[t]}))))})).on("mouseover",(e=>{const t=this._areas.find((t=>t.points.includes(e)));const a=this._areas.indexOf(t)===0;const r=this._addHoverPoint(e,t.points.indexOf(e),a);this._destroyPopover=this._onMouseOver({date:e.x,count:e.y,target:r.node(),isPositive:a})})).on("mouseleave",(e=>{this._removeHoverPoint(e);this._destroyPopover()}));i.exit().remove();t.exit().remove()}_addHoverPoint(e,t,a){return this._svg.append("circle").style("pointer-events","none").attr("id","hoverPoint").attr("cx",this._xScale(t)).attr("cy",this._yScale(e.y)).attr("r",4).style("fill",a?this._settings.colors.likes.line:this._settings.colors.dislikes.line)}_removeHoverPoint(){this._svg.select("#hoverPoint").remove("circle")}_getCurrentPeriod(e){return e.find(((t,a)=>a===e.length-1))}_drawLineGroups(){const e=this._svg;const t=this._settings;const a=e.selectAll(this._getClassList("__lineGroup")).style("display","initial").data(this._areas);const r=a.enter().append("g").attr("class",`${this._buildClassList("__lineGroup")}`).attr("id",((e,t)=>{const{colors:a}=this._settings;const r=t===0?a.likes.line:a.dislikes.line;return r?`tag${r.slice(1)}_${t}`:""}));const n=a.merge(r);const i=(0,o.line)().x(((e,t)=>this._xScale(t))).y((e=>this._yScale(e.y)));r.append("path").attr("class",`AreaChart--themeStroke ${this._buildClassList("__line")}`).style("fill","none").style("stroke",((e,t)=>{const{colors:a}=this._settings;return t===0?a.likes.line:a.dislikes.line})).style("stroke-width",`${t.pathStrokeWidth}px`);r.append("circle").attr("class",`${this._buildClassList("__circle0")}`).attr("cx",(e=>this._xScale(0))).attr("cy",(e=>this._yScale(e.points[0].y))).attr("r",4).style("fill",((e,t)=>{const{colors:a}=this._settings;return t===0?a.likes.line:a.dislikes.line}));r.append("circle").attr("class",`${this._buildClassList("__circle1")}`).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y))).attr("r",6).style("fill",((e,t)=>{const{colors:a}=this._settings;return t===0?a.likes.line:a.dislikes.line}));r.append("circle").attr("class",`${this._buildClassList("__circle1--fill")}`).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y))).attr("r",3).style("fill","#fff");n.select(this._getClassList("__line")).attr("d",(e=>i(e.points)));n.select(this._getClassList("__circle0")).attr("cx",(e=>this._xScale(0))).attr("cy",(e=>this._yScale(e.points[0].y)));n.select(this._getClassList("__circle1")).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y)));n.select(this._getClassList("__circle1--fill")).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y)));a.exit().remove()}_getAreaIndex(e){return this._areas.indexOf(e)}_addLastPointLabels(){const e=this._svg;const{colors:t}=this._settings;const a=e.selectAll(this._getClassList("__floatingLabel")).data(this._areas);const r=a.enter().append("text").attr("class",`${this._buildClassList("__floatingLabel")}`).style("font-size","13px").style("line-height","16px").style("text-anchor","middle");const n=a.merge(r);n.text(((e,t)=>this._getCurrentPeriod(e.points).y*(t===0?1:-1))).style("fill",((e,a)=>a===0?t.likes.floatingLabel:t.dislikes.floatingLabel)).attr("x",(e=>this._xScale(e.points.length-1))).attr("y",((e,t)=>this._yScale(this._getCurrentPeriod(e.points).y)+(t===0?-11:22)));a.exit().remove()}_resetTimeValues(e){const t=new Date(e);return t.setHours(0,0,0,0)}resize(){(0,s.select)(this._selector).select("div").remove();this._createRoot();this.draw(this._data)}destroy(){(0,s.select)(this._selector).select("div").remove()}}t.default=f},820776:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(183818);var i=a(331760);var o=a(439821);var s=a(273641);var l=a(479706);var d=r(a(268069));const c="BarChartSingle";const u=1140;const f=993;const p={chartClass:"",title:{fill:["#777","#777"],icon:{name:"",width:"",height:"",fill:""}},defaultFill:"#ddd",container:{height:52,width:993},bar:{height:46,width:993,leftMargin:10,radius:3}};let m=0;class h{static get className(){return"BarChartSingle"}constructor(e,t=p){this.titlePosition=(e,t)=>{let a;let r=e.title.width+e.title.icon.width+e.bar.leftMargin+10;if(r<t(e.bar.width)){a=e.bar.leftMargin;m=0}else{a=t(e.bar.width)+e.bar.leftMargin;m=1}return"translate("+a+", "+e.bar.height/2+")"};this.makeRect=(e,t)=>{let a=t(e.bar.width||1);let r=e.bar.height;let n=e.bar.radius||3;return`\n\t\t\tM 0, 0\n\t\t\th ${a-n}\n\t\t\ta ${n}, ${n} 0 0 1 ${n}, ${n}\n\t\t\tv ${r-2*n}\n\t\t\ta ${n}, ${n} 0 0 1 -${n}, ${n}\n\t\t\th ${n-a}\n\t\t\tz\n\t\t`};this.resize=()=>{let e=document.querySelector(".ReportBody").offsetWidth;let t=document.querySelector(".NotHiredChartSetLegend").offsetWidth;if((0,s.inRange)(e,f,u)){this._options.container.width=e-t;var a=document.querySelectorAll(".BarChartSingle");for(var r=a.length;r--;){a[r].style.width=e-t+"px"}let i=(0,n.scaleLinear)().range([0,this._options.container.width]).domain([0,100]);this._updateBars([this._options],i)}};this._selector=e;this._options=(0,s.defaultsDeep)({},t,p);this._createDom();const a=(0,s.throttle)(this.resize,20);window.addEventListener("resize",a)}_createDom(){let e=(0,i.select)(this._selector).append("div").attr("class",`${c} ${this._options.chartClass}`).style("height",`${this._options.container.height}px`).style("width",`${this._options.container.width}px`);this._svg=e.append("svg").attr("class",`${c}__bar`).attr("viewBox",`0 0 ${this._options.container.width} ${this._options.container.height}`).attr("preserveAspectRatio","xMaxYMin meet").style("height",`${this._options.container.height}px`).style("width",`${this._options.container.widthp}px`)}draw(e){let t=(0,n.scaleLinear)().range([0,e.container.width]).domain([0,100]);this._drawBars([e],t)}_updateBars(e,t){let a=this._svg.select("g").data(e);a.select("path").attr("d",(e=>this.makeRect(e,t)));a.select("g").attr("transform",(e=>this.titlePosition(e,t)))}_drawBars(e,t){let a=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("fill",(e=>e.defaultFill));a.append("path").attr("d",(e=>this.makeRect(e,t))).on("mouseenter",((e,t,a)=>{if(e.hasOwnProperty("popover")){this._onPathEnter(a[t].parentNode,e.popover)}}));let r=a.append("g").attr("transform",(e=>this.titlePosition(e,t))).attr("fill",(e=>e.title.fill[m])).attr("height",(e=>e.bar.height)).attr("width",(e=>e.title.width+e.title.icon.width+e.bar.leftMargin));let n=r.append("svg").attr("width",(e=>e.title.icon.width)).attr("height",(e=>e.title.icon.height)).attr("viewBox","0 0 18 18").attr("x",0).attr("y",(e=>-e.title.icon.height/2)).attr("xmlns:xlink","http://www.w3.org/1999/xlink");n.append("use").attr("xlink:href",(e=>e.title.icon.name));r.append("text").text((e=>e.title.text)).attr("x",(e=>e.title.icon.width+e.bar.leftMargin/2)).attr("y","0").attr("dy","0.7ex")}_onPathEnter(e,t){(0,i.select)(e).transition().duration(150).attr("y",0).attr("height",this._options.bar.height);if(!d.default.hasInstance(e)){d.default.create(e,{template:{name:"popover-standard",data:{title:t.title,content:t.content,rawContent:true,popoverClass:`${c}__popover ${this._options.chartClass}__popover`,titleCssOverride:{color:"#222222","text-align":"center","font-weight":"600","font-size":"18px"},contentCssOverride:{"text-align":"center"}}},position:"top",triggerEvent:"hover",showImmediately:true,closeX:false,push:2,delay:75})}}}t.default=h},77762:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(183818);var i=a(331760);var o=a(439821);var s=a(273641);var l=a(774548);var d=a(479706);var c=r(a(268069));const u="BarChartStacked";const f=1140;const p=993;const m={color:"#ddd",container:{height:62,width:993},bars:[{title:{fontFamily:"BhrHeaderFont, 'Trebuchet MS'",fontSize:"14px",fill:["#fff",(0,l.getBrandColor)()]},bar:{height:62,leftMargin:15}},{fill:"rgba(0, 0, 0, 0.2)",title:{fontFamily:"BhrHeaderFont, 'Trebuchet MS'",fontSize:"14px",fill:["#fff",(0,l.getBrandColor)()]},bar:{height:23,leftMargin:15}}]};let h=0;class v{static get className(){return"BarChartStacked"}constructor(e,t=m){this.titlePosition=(e,t,a,r)=>{let n=e.bar;let i=e.bar.height/3-1;if(t>0){n=a[0].__data__.bar;i=n.height-e.bar.height/2}let o;let s=e.title.width+n.icon.width+n.leftMargin+20;if(s<r(n.width)){o=n.leftMargin;h=0}else{o=r(n.width)+n.leftMargin;h=1}return"translate("+o+", "+i+")"};this.makeRect=(e,t,a,r)=>{let n=e.bar.height;let i=e.bar.radius||3;let o;if(t===0){o=r(e.bar.width||1)}else{let t=r(a[0].__data__.bar.width||1);r.range([0,t]);o=r(e.bar.width);if(o<=9){o=9}}return`\n\t\t\tM 0, ${e.bar.y}\n\t\t\th ${o-i}\n\t\t\ta ${i}, ${i} 0 0 1 ${i}, ${i}\n\t\t\tv ${n-2*i}\n\t\t\ta ${i}, ${i} 0 0 1 -${i}, ${i}\n\t\t\th ${i-o}\n\t\t\tz\n\t\t`};this.resize=()=>{let e=document.querySelector(".ReportBody").offsetWidth;let t=document.querySelector(".ActiveStatusChartSetLegend").offsetWidth;if((0,s.inRange)(e,p,f)){this._options.container.width=e-t;var a=document.querySelectorAll(".BarChartStacked");for(var r=a.length;r--;){a[r].style.width=e-t+"px"}let i=(0,n.scaleLinear)().range([0,this._options.container.width]).domain([0,100]);this._updateBars(this._options.bars,i)}};this._selector=e;this._options=(0,s.defaultsDeep)({},t,m);this._createDom(this._options);const a=(0,s.throttle)(this.resize,20);window.addEventListener("resize",a)}_createDom(e){let t=(0,i.select)(this._selector).append("div").attr("class",`${u}`).style("height",`${this._options.container.height}px`);this._svg=t.append("svg").attr("class",`${u}__bar`).attr("viewBox",`0 0 ${this._options.container.width} ${this._options.container.height}`).style("height",`${this._options.container.height}px`).style("width",`${this._options.container.width}px`)}draw(e){let t=(0,n.scaleLinear)().range([0,e.container.width]).domain([0,100]);this._drawBars(e.bars,t)}_updateBars(e,t){let a=this._svg.selectAll(".bar").data(e);a.select("path").attr("d",((e,a,r)=>this.makeRect(e,a,r,t)));a.select("g").attr("transform",((e,a,r)=>{t.range([0,this._options.container.width]);return this.titlePosition(e,a,r,t)})).attr("fill",(e=>e.title.fill[h]));a.select("text").styles({fill:e=>e.title.fill[h]})}_drawBars(e,t){let a=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("class","bar").attr("fill",(e=>e.fill));a.append("path").attr("d",((e,a,r)=>this.makeRect(e,a,r,t))).on("mouseenter",((e,t,a)=>{this._onPathEnter(a[t].parentNode,e)}));let r=a.append("g").attr("transform",((e,a,r)=>{t.range([0,this._options.container.width]);return this.titlePosition(e,a,r,t)})).attr("fill",(e=>e.title.fill[h])).attr("height",(e=>e.bar.height)).attr("width",(e=>e.title.width+e.bar.icon.width+e.bar.leftMargin));let n=r.append("svg").attr("width",(e=>e.bar.icon.width)).attr("height",(e=>e.bar.icon.height)).attr("viewBox","0 0 18 18").attr("x",0).attr("y",(e=>-e.bar.icon.height/2)).attr("xmlns:xlink","http://www.w3.org/1999/xlink");n.append("use").attr("xlink:href",(e=>e.bar.icon.name));r.append("text").text((e=>e.title.text)).attr("x",(e=>e.bar.icon.width+5)).attr("y",0).attr("dy","0.7ex").styles({"font-size":(e,t)=>this._options.bars[t].bar.fontSize,fill:e=>e.title.fill[h]})}_onPathEnter(e,t){(0,i.select)(e).transition().duration(150).attr("y",0).attr("height",t.bar.height);if(!c.default.hasInstance(e)){c.default.create(e,{template:{name:"popover-standard",data:{title:t.popover.title,content:t.popover.content,rawContent:true,popoverClass:`${u}__popover ${this._options.chartClass}__popover`,titleCssOverride:{color:"#222222","text-align":"center","font-weight":"600","font-size":"18px"},contentCssOverride:{"text-align":"center"}}},position:"top",triggerEvent:"hover",showImmediately:true,closeX:false,push:2,delay:75})}}}t.default=v},720904:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(183818);var n=a(331760);var i=a(212172);var o=a(919902);var s=a(47863);var l=a(273641);var d=a(479706);a(960004);const c={bars:{classNameModifier:"",mouseEvents:{}},barTitles:{classNameModifier:"",padding:7,height:17,uppercase:true},barSubtitles:{show:false,height:14},barValues:{show:true,suffix:""},barTooltips:{className:""},className:"",height:310,paddingTop:57,responsive:true,width:658,useTransitions:false};const u="ba-BarChart";const f=2;const p="#E8E8E8";class m{static get className(){return"BarChart"}constructor(e,t=c){this._selector=e;this._options=(0,l.defaultsDeep)({},t,c);this._maxBarHeight=this._options.height-this._options.barTitles.height-this._options.barTitles.padding-this._options.paddingTop;if(this._options.barSubtitles.show){this._maxBarHeight-=this._options.barSubtitles.height}this._svg=this._createSvg();this._configure()}_createSvg(){let e=(0,n.select)(this._selector).classed(u,true).classed(this._options.className,this._options.className);e.selectAll("*").remove();let t=e.append("div").classed(`${u}__container`,true).classed(`${this._options.className}__container`,this._options.className);let a=t.append("svg").classed(`${u}__svg`,true).classed(`${this._options.className}__svg`,this._options.className).attr("viewBox","0 0 "+this._options.width+" "+this._options.height);if(this._options.responsive){t.classed("container",true).attr("style","display:inline-block;position:relative;width:100%;padding-bottom:47.11%;vertical-align:top;overflow:hidden;");a.classed("responsive",true).attr("style","display:inline-block;position:absolute;left:0;top:0;").attr("preserveAspectRatio","xMinYMin meet")}else{a.style("height",this._options.height+"px").style("width",this._options.width+"px")}this._addDefs(a);return a}_addDefs(e,t){const a=(0,d.isEnabled)("jade")?"BarChart--fillThemeColor":"baseFillColor";let r=t?t.replace("#",""):"";let n=e.append("defs").append("pattern").attr("height",6).attr("id","diagonalHatchPattern"+r).attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(-45)").attr("width",6);let i=n.append("rect").attr("height","100%").attr("fill","rgb(255, 255, 255)").attr("fill-opacity","0.6").attr("width","100%");let o=n.append("rect").attr("height",3).attr("width",6);if(t){i.attr("fill",t);o.attr("fill",t)}else{i.attr("class",a);o.attr("class",a)}}_configure(){const e=(0,d.isEnabled)("jade")?"BarChart--fillThemeColor":"baseFillColor";const t=(0,d.isEnabled)("jade")?"Lato":"Source Sans Pro";this._barsArea=this._svg.append("g").attr("class",`${u}__barsArea ${e}`).classed(`${this._options.className}__barsArea`,this._options.className).attr("transform",`translate(0, ${this._options.paddingTop})`).attr("opacity",.8);this._valuesArea=this._svg.append("g").attr("class",`${u}__valuesArea ${e}`).classed(`${this._options.className}__valuesArea`,this._options.className).attr("transform",`translate(0, ${this._options.paddingTop})`).attr("font-family",t).attr("font-size","13").attr("text-anchor","middle");let a=this._options.height-this._options.barTitles.height;if(this._options.barSubtitles.show){a-=this._options.barSubtitles.height}this._titlesArea=this._svg.append("g").classed(`${u}__titlesArea`,true).classed(`${this._options.className}__titlesArea`,this._options.className).attr("transform","translate(0, "+a+")").attr("font-family",t).attr("font-size","13").attr("fill","#777").attr("text-anchor","middle");if(this._options.barTitles.uppercase){this._titlesArea.style("text-transform","uppercase")}if(this._options.barSubtitles.show){this._subtitlesArea=this._svg.append("g").classed(`${u}__subtitlesArea`,true).classed(`${this._options.className}__subtitlesArea`,this._options.className).attr("transform","translate(0, "+(this._options.height-this._options.barSubtitles.height)+")").attr("font-family",t).attr("font-size","10px").attr("fill","#777").attr("text-anchor","middle")}this._groupLabels=this._svg.append("g").classed(`${u}__groupLabelsArea`,true).classed(`${this._options.className}__groupLabelsArea`,this._options.className).attr("transform","translate(0, "+16+")").attr("font-family",t).attr("font-size","19");this._groupDividers=this._svg.append("g").classed(`${u}__groupDividersArea`,true).classed(`${this._options.className}__groupDividersArea`,this._options.className).attr("stroke","#d7d7d7").attr("stroke-width",1).attr("opacity",.9)}draw(e){let t=(0,r.scaleBand)().range([0,this._options.width]).round(true).paddingInner(.42).domain(e.map(((e,t)=>t)));let a=(0,r.scaleLinear)().rangeRound([this._maxBarHeight-f,0]).domain([0,(0,i.max)(e,(e=>Array.isArray(e)?(0,i.max)(e,(e=>Number(e.value))):Number(e.value)))]);const n=e.reduce(((t,a,r)=>{if(r===0||e[r-1].groupName!==a.groupName){t.push(Object.assign(a,{originalIndex:r}))}return t}),[]);const s=this._svg.transition().delay(1e3).duration(600).ease(o.easeCubicInOut);this._drawBars(e,t,a,s);if(this._options.barValues.show){this._drawBarValues(e,t,a,s)}const l=e=>{let t=Array.isArray(e)?e[e.length-1].displayType:e.displayType;let a;if(Array.isArray(e)){a=e[e.length-1].titleColor||e[e.length-1].color}else{a=e.titleColor||e.color}return t==="unselected"?p:a};const d=this._titlesArea.selectAll(`.${u}__title`).data(e);const c=d.enter().append("text").classed(`${u}__title`,true).classed(`${this._options.className}__title`,this._options.className).attr("y",14).merge(d).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).text((e=>Array.isArray(e)?e[e.length-1].title:e.title)).attr("fill",l);if(this._options.barTitles.classNameModifier){c.classed(`${this._options.className}__title--${this._options.barTitles.classNameModifier}`,(e=>Array.isArray(e)?e[e.length-1].modifyTitle:e.modifyTitle))}d.exit().remove();if(this._options.barSubtitles.show){const a=this._subtitlesArea.selectAll(`.${u}__subtitle`).data(e);a.enter().append("text").merge(a).classed(`${u}__subtitle`,true).classed(`${this._options.className}__subtitle`,this._options.className).attr("y",8).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).filter((e=>Array.isArray(e)?e[e.length-1].subtitle&&e[e.length-1].subtitle.length:e.subtitle&&e.subtitle.length)).text((e=>Array.isArray(e)?e[e.length-1].subtitle:e.subtitle)).attr("fill",l)}const m=this._groupLabels.selectAll(`.${u}__groupLabel`).data(n);m.enter().append("text").classed(`${u}__groupLabel`,true).classed(`${this._options.className}__groupLabel`,this._options.className).attr("y",0).merge(m).attr("x",(e=>t(e.originalIndex))).text((e=>e.groupName));m.exit().remove();const h=this._groupDividers.selectAll(`.${u}__groupDivider`).data(n);h.enter().append("line").classed(`${u}__groupDivider`,true).classed(`${this._options.className}__groupDivider`,this._options.className).attr("y1",0).attr("y2",this._options.height).merge(h).attr("visibility",(e=>e.originalIndex===0?"hidden":"visible")).attr("x1",(e=>Math.round(t(e.originalIndex)-(t.step()-t.bandwidth())/2))).attr("x2",(e=>Math.round(t(e.originalIndex)-(t.step()-t.bandwidth())/2)));h.exit().remove();BambooHR.Components.Tooltip.init()}_drawBars(e,t,a,r){let i=e=>this._maxBarHeight-a(e.value);let o=e=>a(e.value);let s=this._barsArea.selectAll(`.${u}__barGroup`).data(e);let l=s.enter().append("g").classed(`${u}__barGroup`,true).classed(`${this._options.className}__barGroup`,this._options.className).attr("data-index",((e,t)=>t));l=s.merge(l).selectAll(`.${u}__bar`).data((e=>Array.isArray(e)?e:[e])).enter().append("rect").classed(`${u}__bar js-${u}__bar`,true).classed(`${this._options.className}__bar`,this._options.className).attr("height",i).attr("width",t.bandwidth()).attr("x",(function(){return t(this.parentNode.getAttribute("data-index"))})).attr("y",o).attr("rx","2").attr("ry","2").attr("data-tip-class",this._options.barTooltips.className).attr("data-tip-z-index","auto").attr("data-tip-content",(e=>e.tooltip)).attr("data-tip-lead",(e=>e.tooltipLead)).on("mouseenter",this._options.bars.mouseEvents.mouseenter||function(){(0,n.select)(this).style("opacity",.85)}).on("mouseleave",this._options.bars.mouseEvents.mouseleave||function(){(0,n.select)(this).style("opacity",1)}).on("click",(function(e){this.dispatchEvent(new CustomEvent("ba:barClick",{bubbles:true,detail:{data:e}}))}));if(this._options.useTransitions){l.attr("height",0).attr("y",this._maxBarHeight);l.transition(r).attr("height",i).attr("y",o)}if(this._options.bars.classNameModifier){l.classed(`${this._options.className}__bar--${this._options.bars.classNameModifier}`,(e=>e.modifyBar))}l.attr("fill",(e=>{if(e.displayType==="unselected"){return p}else if(e.displayType==="partial"){if(e.color){const t=e.color?e.color.replace("#",""):"";const a="#diagonalHatchPattern"+t;if(this._svg.select(a).empty()){this._addDefs(this._svg,e.color)}return`url(${a})`}return"url(#diagonalHatchPattern)"}return e.color}));l.exit().remove()}_drawBarValues(e,t,a,r){let{suffix:i}=this._options.barValues;let o=e=>a(e.value)-5;let l=this._valuesArea.selectAll(`.${u}__valueGroup`).data(e);let d=l.enter().append("g").classed(`${u}__valueGroup`,true).classed(`${this._options.className}__valueGroup`,this._options.className).attr("data-index",((e,t)=>t));d=l.merge(d).selectAll(`.${u}__value`).data((e=>Array.isArray(e)?e:[e])).enter().append("text").classed(`${u}__value`,true).classed(`${this._options.className}__value`,this._options.className).attr("x",(function(){return t(this.parentNode.getAttribute("data-index"))+t.bandwidth()/2})).attr("y",o);if(this._options.useTransitions){d.attr("y",this._maxBarHeight);d.transition(r).attr("y",o).tween("text",(function(e){var t=(0,s.interpolate)(0,e.value);var a=(0,n.select)(this);return function(e){var r=Math.ceil(t(e)*100)/100;a.text(i?r+i:r)}}))}else{d.text((e=>i?e.value+i:e.value))}d.attr("fill",(e=>e.displayType==="unselected"?p:e.color));d.exit().remove()}}t.default=m},199746:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.drawChart=u;var r=a(273641);var n=a(212172);var i=a(61527);var o=a(331760);var s=a(183818);var l=a(439821);var d=a(553745);var c=a(40902);function u(e){var t,a;if(!e.barKeys.includes("total")){e.barKeys.push("total")}const u=this.getSettings();const{container:f}=u;const{label:p,labelLength:m}=f.axis;const{top:h,right:v,bottom:g,left:y}=f.margin;const{width:b,fill:w,labelPosition:S}=u.labelText;const{spacing:O,showTotalValueType:T,color:C,valueEdgePadding:P,showZero:E}=u.valueText;const{padding:M,height:x,colors:k,totalColor:j,totalColorSecondary:I,cursor:F="default"}=u.bar;const D=this._getContainerWidth()-y-v;const N=f.height-h-g;const A=e=>e=+e||0;const L=t=>{const a=[];(0,r.map)(t,(function(t,r){e.barKeys.forEach((e=>{if(e==r){a.push(+t)}}))}));return a};const R=function(e){switch(T){case"total":return e.reduce(((e,t)=>e+t),0);case"stacked":return e.join("/");case"none":case"default":default:return""}};const B=e=>{e.selectAll(".tick line").attr("transform","translate(-2 ,0)")};const H=e=>{e.selectAll(".tick text").each((function(e,t){if(t===0){return}(0,o.select)(this).attr("transform","translate(-2, 0)")}))};const W=e=>{let t=[];e.forEach((e=>{if((0,r.sum)(e)>(0,r.sum)(t)){t=e}}));return t};const U=function(e){switch(T){case"total":{const e=(0,o.select)(this).text("");e.append("tspan").style("fill",C).text(ce);break}case"stacked":{if(e.values){const t=(0,o.select)(this).text("");e.values.forEach(((a,r)=>{t.append("tspan").style("fill",ie(r)).text((()=>{if(a===0){if(E===true&&r===0){return 0}return""}if(e.values.length-1===r&&e.values[r-1]){return`/${a}`}return a}))}))}else{(0,o.select)(this).append("tspan").style("fill",ie(e)).text(ce)}break}case"none":case"default":default:break}};const q=(e===null||e===void 0?void 0:(t=e.bars[0])===null||t===void 0?void 0:(a=t.value)===null||a===void 0?void 0:a.length)||0;const V=[];e.bars.forEach((e=>{e.value.forEach(((t,a)=>{const r={...e,value:{...t,index:a}};V.push(r)}))}));const z=V.map((e=>L(e.value)));const G=W(z);const Y=V.map((e=>{if(!e.popoverValue){e.popoverValue={...e.value}}if(!e.segmented){const t=L(e.value);const a=(0,r.sum)(t);e.value={};e.value.total=a}e.value.title=e.title;e.value.titleId=e.titleId;e.value.popoverValue=e.popoverValue;return e.value}));const K=Y.map((e=>{const t=L(e);const a=(0,r.sum)(t);return{values:t,total:a}}));const Z=Y.map((e=>{const t=L(e);const a=(0,r.sum)(t);return a}));const X=(0,n.max)(Z);const J=R(G);const Q=this._convertValueLengthToPixelSpace(J);const ee=(0,l.stack)().keys(e.barKeys).offset(l.stackOffsetNone);const te=ee(Y);const ae=te.filter((e=>e.key!=="total")).map((e=>e.map((e=>{e.id=(0,r.uniqueId)();return e}))));const re=[];let ne=0;while(Y.length>ne){const e=ne;ae.forEach((t=>{re.push(t[e].id)}));ne++}const ie=(0,s.scaleOrdinal)().domain(Y).range(k);const oe=(0,s.scaleOrdinal)().domain(re).range(k);const se=(e,t)=>{if(e.data.total||e.id===undefined){return t%2===0?j:I}return oe(e.id)};const le=D-b-Q-P;const de=(0,s.scaleLinear)().domain([0,X]).rangeRound([0,le]).nice().clamp(true);let ce=function(e){switch(T){case"total":return e.total;case"stacked":e.values.forEach((function(t,a){if(t==0){e.values.splice(a,1)}}));return e.values.join("/");case"none":case"default":default:return""}};if(this.hasAxis()){const e=(0,i.axisTop)().scale(de);e.tickSizeOuter(0).ticks(6).tickFormat(((e,t,a)=>{const r=(0,o.select)(a[t]);r.style("opacity",1);if(t==0){r.attr("dx",m);return p}return e}));const t=this._g.select(this._getClassList("__xAxis")).empty();if(t){this._g.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(${b+1}, 0)`).call(e).call(H).call(B);this._g.attr("transform","translate(0, 18)");(0,o.select)(this._getClassList("__xAxis")).attr("opacity",1).style("opacity",1)}else{(0,o.select)(this._getClassList("__xAxis")).attr("opacity",1).transition().duration(500).call(e).call(H).call(B)}}const ue=this._g.selectAll(this._getClassList("__series")).data(te);const fe=ue.enter().append("g").attr("id",(e=>e.key)).attr("class",(()=>this._buildClassList("__series")));const pe=fe.merge(ue);const me=pe.selectAll(this._getClassList("__bar")).data((e=>e));const he=this._g.selectAll(this._getClassList("__label")).data(e.bars);const ve=this._g.selectAll(this._getClassList("__value")).data(K);me.exit().transition().duration(500).style("opacity",0).remove();he.exit().transition().duration(500).style("opacity",0).remove();ve.exit().transition().duration(500).style("opacity",0).remove();let _e=0;me.data((e=>e)).transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e){return de(e[0])+1})).attr("width",(function(e){const t=de(A(e[1]))-de(A(e[0]))-1;return t<0?0:t})).attr("fill",se).on("start",(()=>{_e++})).on("end",(()=>{if(--_e===0){this._dynamicallyAdjustSVGHeight()}}));he.transition().duration(500).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return(0,c.truncateLabel)(a,t)}));ve.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e){return de(e.total)+b+1})).each(U);me.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",F).attr("transform",`translate(${b}, 0)`).attr("shape-rendering","crispEdges").attr("height",x).attr("y",(function(e,t){return t*(x+M)+M})).attr("x",(function(e){return de(e[0])+1})).attr("width",(function(e){const t=de(A(e[1]))-de(A(e[0]))-1;return t<0?0:t})).attr("fill",se).on("click",d.mouseClick).on("mouseenter",d.mouseEnter).on("mouseleave",d.mouseLeave).on("mouseover",d.mouseOver);he.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){if(S==="top"){return t*(x+M)+5}return(t*(x+M)+M)*q})).attr("x",0).attr("dx",O).attr("dy","1.3em").attr("fill",w).attr("width",b).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return(0,c.truncateLabel)(a,t)}));ve.enter().append("text").attr("class",this._buildClassList("__value")).attr("y",x/2).attr("dx",O).attr("dy","1.3em").attr("y",(function(e,t){return t*(x+M)+M})).attr("x",(function(e){return de(e.total)+b+1})).each(U)}},119062:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.drawChart=u;var r=a(273641);var n=a(212172);var i=a(61527);var o=a(331760);var s=a(183818);var l=a(439821);var d=a(40902);var c=a(553745);function u(e){if(!e.barKeys.includes("total")){e.barKeys.push("total")}const t=this.getSettings();const{container:a}=t;const{showAxis:u,label:f,labelLength:p}=a.axis;const{top:m,right:h,bottom:v,left:g}=a.margin;const{width:y,fill:b,labelPosition:w}=t.labelText;const{spacing:S,showTotalValueType:O,color:T,valueEdgePadding:C,showZero:P}=t.valueText;const{padding:E,height:M,colors:x,totalColor:k,cursor:j="default"}=t.bar;const I=this._getContainerWidth()-g-h;const F=a.height-m-v;const D=e=>e=+e||0;const N=t=>{const a=[];(0,r.map)(t,(function(t,r){e.barKeys.forEach((e=>{if(e==r){a.push(+t)}}))}));return a};const A=function(e){switch(O){case"total":return e.reduce(((e,t)=>e+t),0);case"stacked":return e.join("/");case"none":case"default":default:return""}};const L=e=>{e.selectAll(".tick line").attr("transform","translate(-2 ,0)")};const R=e=>{e.selectAll(".tick text").each((function(e,t){if(t===0){return}(0,o.select)(this).attr("transform","translate(-2, 0)")}))};const B=e=>{let t=[];e.forEach((e=>{if((0,r.sum)(e)>(0,r.sum)(t)){t=e}}));return t};const H=function(e){switch(O){case"total":{const e=(0,o.select)(this).text("");e.append("tspan").style("fill",T).text(te);break}case"stacked":{if(e.values){const t=(0,o.select)(this).text("");e.values.forEach(((a,r)=>{t.append("tspan").style("fill",J(r)).text((()=>{if(a===0){if(P===true&&r===0){return 0}return""}if(e.values.length-1===r&&e.values[r-1]){return`/${a}`}return a}))}))}else{(0,o.select)(this).append("tspan").style("fill",J(e)).text(te)}break}case"none":case"default":default:break}};const W=e.bars.map((e=>N(e.value)));const U=B(W);const q=e.bars.map((e=>{if(!e.popoverValue){e.popoverValue={...e.value}}if(!e.segmented){const t=N(e.value);const a=(0,r.sum)(t);e.value={};e.value.total=a}e.value.title=e.title;e.value.titleId=e.titleId;e.value.popoverValue=e.popoverValue;return e.value}));const V=q.map((e=>{const t=N(e);const a=(0,r.sum)(t);return{values:t,total:a}}));const z=q.map((e=>{const t=N(e);const a=(0,r.sum)(t);return a}));const G=(0,n.max)(z);const Y=A(U);const K=this._convertValueLengthToPixelSpace(Y);const Z=(0,l.stack)().keys(e.barKeys).offset(l.stackOffsetNone);const X=Z(q);let J=(0,s.scaleOrdinal)().domain(q).range(x);const Q=I-y-K-C;const ee=(0,s.scaleLinear)().domain([0,G]).rangeRound([0,Q]).nice().clamp(true);let te=function(e){switch(O){case"total":return e.total;case"stacked":e.values.forEach((function(t,a){if(t==0){e.values.splice(a,1)}}));return e.values.join("/");case"none":case"default":default:return""}};if(this.hasAxis()){const e=F+m+v;const t=(0,i.axisTop)().scale(ee);t.tickSizeOuter(0).ticks(6).tickFormat(((e,t,a)=>{const r=(0,o.select)(a[t]);r.style("opacity",1);if(t==0){r.attr("dx",p);return f}return e}));const a=this._g.select(this._getClassList("__xAxis")).empty();if(a){this._g.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(${y+1}, 0)`).call(t).call(R).call(L);this._g.attr("transform","translate(0, 18)");(0,o.select)(this._getClassList("__xAxis")).attr("opacity",1).style("opacity",1)}else{this._animateElements((0,o.select)(this._getClassList("__xAxis")).attr("opacity",1),(e=>e.transition().duration(500).call(t).call(R).call(L)))}}const ae=this._g.selectAll(this._getClassList("__series")).data(X);const re=ae.enter().append("g").attr("id",(e=>e.key)).attr("fill",((e,t)=>{if(e.key==="total"){return k}return J(t)})).attr("class",(e=>this._buildClassList("__series")));const ne=re.merge(ae);const ie=ne.selectAll(this._getClassList("__bar")).data((e=>e));const oe=this._g.selectAll(this._getClassList("__label")).data(e.bars);const se=this._g.selectAll(this._getClassList("__value")).data(V);this._animateElements(ie,(e=>e.exit().transition().duration(500).style("opacity",0).remove()));this._animateElements(oe,(e=>e.exit().transition().duration(500).style("opacity",0).remove()));this._animateElements(se,(e=>e.exit().transition().duration(500).style("opacity",0).remove()));let le=0;this._animateElements(ie.data((e=>e)),(e=>e.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t){return ee(e[0])+1})).attr("width",(function(e){const t=ee(D(e[1]))-ee(D(e[0]))-1;return t<0?0:t})).on("start",(()=>{le++})).on("end",(()=>{if(--le===0){this._dynamicallyAdjustSVGHeight()}}))));this._animateElements(oe,(e=>e.transition().duration(500).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return(0,d.truncateLabel)(a,t)}))));this._animateElements(se,(e=>e.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t,a){return ee(e.total)+y+1})).each(H)));ie.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",j).attr("transform",`translate(${y}, 0)`).attr("shape-rendering","crispEdges").attr("height",M).attr("y",(function(e,t){return t*(M+E)+E})).attr("x",(function(e,t){return ee(e[0])+1})).attr("width",(function(e){const t=ee(D(e[1]))-ee(D(e[0]))-1;return t<0?0:t})).on("mouseenter",c.mouseEnter).on("click",c.mouseClick).on("mouseover",c.mouseOver).on("mouseleave",c.mouseLeave);oe.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){if(w==="top"){return t*(M+E)+5}return t*(M+E)+E})).attr("x",0).attr("dx",S).attr("dy","1.3em").attr("fill",b).attr("width",y).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return(0,d.truncateLabel)(a,t)}));se.enter().append("text").attr("class",this._buildClassList("__value")).attr("y",M/2).attr("dx",S).attr("dy","1.3em").attr("y",(function(e,t){return t*(M+E)+E})).attr("x",(function(e,t,a){return ee(e.total)+y+1})).each(H)}},719098:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.drawChart=s;var r=a(212172);var n=a(183818);var i=a(40902);var o=a(553745);function s(e){const{bars:t}=e;const a=this.getSettings();const{container:s}=a;const{top:l,right:d,left:c}=s.margin;const{width:u,fill:f}=a.labelText;const{spacing:p,valueEdgePadding:m}=a.valueText;const{padding:h,height:v,colors:g,cursor:y="default"}=a.bar;const b=(0,r.max)(t.map((e=>parseInt(e.value))));const w=this._convertValueLengthToPixelSpace(b);const S=this._getContainerWidth()-c-d;const O=S-w;const T=O-m-a.labelText.width;const C=(0,n.scaleLinear)().domain([0,b]).range([0,T-d]);const P=(0,n.scaleOrdinal)().domain(t).range(g);const E=this._svg.selectAll(`g${this._getClassList("__chartContainer")}`).data(t);const M=E.enter().append("g").attr("class",this._buildClassList("__chartContainer")).attr("transform",((e,t)=>{const r=l+a.labelText.width;const n=t*(v+h)+h;return`translate(${r}, ${n})`}));const x=this._g.selectAll(this._getClassList("__label")).data(t);E.select(this._getClassList("__bar")).transition().duration(1e3).attr("width",(e=>C(e.value)));E.select(this._getClassList("__value")).transition().duration(1e3).style("opacity",0).attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,C(e.value))})).transition().duration(500).style("opacity",1).text((e=>e.value));x.transition().duration(1e3).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return(0,i.truncateLabel)(a,t)}));E.exit().transition().duration(1e3).style("opacity",0).remove();x.exit().transition().duration(1e3).style("opacity",0).remove();M.append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",y).attr("fill",(e=>P(e))).attr("width",(e=>C(e.value))).attr("height",v).attr("transform","translate(0, 0)").on("mouseenter",o.mouseEnter).on("click",o.mouseClick).on("mouseover",o.mouseOver).on("mouseleave",o.mouseLeave);M.append("text").attr("class",this._buildClassList("__value")).attr("y",v/2).attr("dx",p).attr("dy",".35em").attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,C(e.value))})).style("fill",(e=>P(e))).text((e=>{if(typeof this._settings.bar.formatTextFunction==="function"){return this._settings.bar.formatTextFunction(e.value)}return e.value}));x.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){return t*(v+h)+h})).attr("x",0).attr("dx",p).attr("dy","0.9em").attr("fill",f).attr("width",u).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return(0,i.truncateLabel)(a,t)}))}},256769:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.drawChart=d;var r=a(439821);var n=a(273641);var i=a(553745);var o=a(183818);var s=a(212172);var l=a(331760);function d(e){const t=this.getSettings();const{container:a,emptyCheckCallback:l,emptyLabelCallback:d}=t;const{bottom:c=0,left:u=0,right:f=0,top:p=0}=a.margin;const{colors:m,cursor:h="default",height:v,iconPath:g="/images/bicons/notes-speech-bubble.png",padding:y,summaryBarHeight:b=25}=t.bar;const w=this._getContainerWidth()-u-f;const S=a.height-p-c;const O=l(e);const T=t=>{const a=[];(0,n.map)(t,(function(t,r){e.barKeys.forEach((e=>{if(e==r){a.push(+t)}}))}));return a};const C=e=>e.reduce(((e,t)=>e+t),0);const P=e=>{let t=[];e.forEach((e=>{if((0,n.sum)(e)>(0,n.sum)(t)){t=e}}));return t};const E=e.bars.map((e=>T(e.value)));const M=P(E);const x=e.bars.map(((e,t)=>{e.value.summary=e.summary;return e.value}));const k=C(M);const j=(0,r.stack)().keys(e.barKeys).offset(r.stackOffsetNone);const I=j(x);const F=(0,o.scaleOrdinal)().domain(x).range(m);const D=x.map((e=>{const t=T(e);const a=(0,n.sum)(t);return a}));const N=(0,s.max)(D);const A=(0,o.scaleLinear)().domain([0,N]).rangeRound([0,w]);const L=e=>{const t=A(e[1])-A(e[0])-1;return t<0?0:t};const R=(e,t)=>{const{data:{summary:{displayText:a}}}=e;let r=0;if(a&&e[0]===0){r=b/2}const n=t*(v+y)+y+v/2+6-r;return n};const B=(e,t)=>{if(O[t]){return 15}return(A(e[1])-A(e[0]))/2+A(e[0])-6};const H=(e,t)=>{if(O[t]){const t=e[1]-e[0];return d(t)}const a=Math.round((e[1]-e[0]||0)/k*100);return a&&a>5?`${a}%`:""};const W=(e,t)=>{if(e.summary&&e.summary.displayText){const t=e.summary.value;return t?A(t)-1:5}return 0};const U=e=>{if(e.summary&&e.summary.displayText){return e.summary.displayText}};const q=this._g.selectAll(this._getClassList("__series")).data(I);const V=q.enter().append("g").attr("id",(e=>e.key)).attr("fill",((e,t)=>F(t))).attr("class",(e=>this._buildClassList("__series")));const z=V.merge(q);const G=z.selectAll(this._getClassList("__bar")).data((e=>e));const Y=z.selectAll(this._getClassList("__insideLabel")).data((e=>e));const K=this._g.selectAll(this._getClassList("__summaryBar")).data(e.bars);const Z=this._g.selectAll(this._getClassList("__summaryLabel")).data(e.bars);G.exit().transition().duration(750).style("opacity",0).remove();Y.exit().transition().duration(750).style("opacity",0).remove();K.exit().transition().duration(750).style("opacity",0).remove();Z.exit().transition().duration(750).style("opacity",0).remove();let X=0;G.data((e=>e)).transition().delay((function(e,t){return t*50})).duration(750).attr("x",(function(e,t){return A(e[0])+1})).attr("width",L).on("start",(()=>{X++})).on("end",(()=>{if(--X===0){this._dynamicallyAdjustSVGHeight()}}));Y.transition().duration(750).attr("y",(function(e,t){return R(e,t)})).attr("x",B).text(H);K.data(e.bars).transition().delay((function(e,t){return t*50})).duration(750).attr("x",1).attr("width",W).on("start",(()=>{X++})).on("end",(()=>{if(--X===0){this._dynamicallyAdjustSVGHeight()}}));Z.transition().delay((function(e,t){return t*50})).duration(750).text(U);G.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",h).attr("shape-rendering","crispEdges").attr("height",v).attr("y",(function(e,t){return t*(v+y)+y})).attr("x",(function(e,t){return A(e[0])+1})).attr("width",L).on("mouseenter",i.mouseEnter).on("click",i.mouseClick).on("mouseover",i.mouseOver).on("mouseleave",i.mouseLeave);Y.enter().append("text").attr("class",this._buildClassList("__insideLabel")).attr("cursor",h).attr("y",R).attr("x",B).style("fill","#fff").style("pointer-events","none").text(H);K.enter().append("rect").attr("class",this._buildClassList("__summaryBar")).attr("fill","rgba(0,0,0,0.2)").attr("cursor",h).attr("shape-rendering","crispEdges").attr("height",b).attr("y",(function(e,t){return t*(v+y)+y+(v-b)})).attr("x",1).style("pointer-events","none").attr("width",W);K.enter().append("svg:image").attr("class",this._buildClassList("__summaryIcon")).attr("x",15).attr("y",(function(e,t){return t*(v+y)+y+(v-b)+5})).attr("height",(e=>{if(e.summary&&e.summary.icon){return e.summary.icon.height}})).attr("width",(e=>{if(e.summary&&e.summary.icon){return e.summary.icon.width}})).attr("xlink:href",(e=>{if(e.summary&&e.summary.displayText){return g}}));Z.enter().append("text").attr("class",this._buildClassList("__summaryLabel")).attr("cursor",h).attr("y",(function(e,t){return t*(v+y)+y+(v-b)})).attr("x",40).attr("dy","1.3em").attr("fill","rgba(255, 255, 255, 0.7)").style("pointer-events","none").text(U)}},664303:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.drawChart=u;var r=a(273641);var n=a(212172);var i=a(61527);var o=a(331760);var s=a(183818);var l=a(439821);var d=a(40902);var c=a(553745);function u(e){const t=this.getSettings();const{container:a}=t;const{showAxis:u,label:f,labelLength:p}=a.axis;const{top:m,right:h,bottom:v,left:g}=a.margin;const{width:y,fill:b,labelPosition:w}=t.labelText;const{spacing:S,showTotalValueType:O,color:T,valueEdgePadding:C,showZero:P}=t.valueText;const{padding:E,height:M,colors:x,cursor:k="default"}=t.bar;const j=this._getContainerWidth()-g-h;const I=a.height-m-v;const F=t=>{const a=[];(0,r.map)(t,(function(t,r){e.barKeys.forEach((e=>{if(e==r){a.push(+t)}}))}));return a};const D=function(e){switch(O){case"total":return e.reduce(((e,t)=>e+t),0);case"stacked":return e.join("/");case"none":case"default":return""}};const N=e=>{e.selectAll(".tick line").attr("transform","translate(-2 ,0)")};const A=e=>{e.selectAll(".tick text").each((function(e,t){if(t===0){return}(0,o.select)(this).attr("transform","translate(-2, 0)")}))};const L=e=>{let t=[];e.forEach((e=>{if((0,r.sum)(e)>(0,r.sum)(t)){t=e}}));return t};const R=function(e){switch(O){case"total":{const e=(0,o.select)(this).text("");e.append("tspan").style("fill",T).text(Q);break}case"stacked":{if(e.values){const t=(0,o.select)(this).text("");e.values.forEach(((a,r)=>{t.append("tspan").style("fill",Z(r)).text((()=>{if(a===0){if(P===true&&r===0){return 0}return""}else if(e.values.length-1===r&&e.values[r-1]){return`/${a}`}return a}))}))}else{(0,o.select)(this).append("tspan").style("fill",Z(e)).text(Q)}break}case"none":case"default":break}};const B=e.bars.map((e=>F(e.value)));const H=L(B);const W=e.bars.map((e=>{e.value.title=e.title;e.value.titleId=e.titleId;e.value.popoverValue=e.popoverValue;return e.value}));const U=W.map((e=>{const t=F(e);const a=(0,r.sum)(t);return{values:t,total:a}}));const q=W.map((e=>{const t=F(e);const a=(0,r.sum)(t);return a}));const V=(0,n.max)(q);const z=D(H);const G=this._convertValueLengthToPixelSpace(z);const Y=(0,l.stack)().keys(e.barKeys).offset(l.stackOffsetNone);const K=Y(W);let Z=(0,s.scaleOrdinal)().domain(W).range(x);const X=j-y-G-C;const J=(0,s.scaleLinear)().domain([0,V]).rangeRound([0,X]).nice().clamp(true);let Q=function(e){switch(O){case"total":return e.total;case"stacked":e.values.forEach((function(t,a){if(t==0){e.values.splice(a,1)}}));return e.values.join("/");case"none":case"default":return""}};if(this.hasAxis()){const e=I+m+v;const t=(0,i.axisTop)().scale(J);t.tickSizeOuter(0).ticks(6).tickFormat(((e,t,a)=>{const r=(0,o.select)(a[t]);r.style("opacity",1);if(t==0){r.attr("dx",p);return f}return e}));const a=this._g.select(this._getClassList("__xAxis")).empty();if(a){this._g.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(${y+1}, 0)`).call(t).call(A).call(N);this._g.attr("transform","translate(0, 18)");(0,o.select)(this._getClassList("__xAxis")).attr("opacity",1).style("opacity",1)}else{(0,o.select)(this._getClassList("__xAxis")).attr("opacity",1).transition().duration(500).call(t).call(A).call(N)}}const ee=this._g.selectAll(this._getClassList("__series")).data(K);const te=ee.enter().append("g").attr("id",(e=>e.key)).attr("fill",((e,t)=>Z(t))).attr("class",(e=>this._buildClassList("__series")));const ae=te.merge(ee);const re=ae.selectAll(this._getClassList("__bar")).data((e=>e));const ne=this._g.selectAll(this._getClassList("__label")).data(e.bars);const ie=this._g.selectAll(this._getClassList("__value")).data(U);re.exit().transition().duration(500).style("opacity",0).remove();ne.exit().transition().duration(500).style("opacity",0).remove();ie.exit().transition().duration(500).style("opacity",0).remove();let oe=0;re.data((e=>e)).transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t){return J(e[0])+1})).attr("width",(function(e){const t=J(e[1])-J(e[0])-1;return t<0?0:t})).on("start",(()=>{oe++})).on("end",(()=>{if(--oe===0){this._dynamicallyAdjustSVGHeight()}}));ne.transition().duration(500).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return(0,d.truncateLabel)(a,t)}));ie.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t,a){return J(e.total)+y+1})).each(R);re.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",k).attr("transform",`translate(${y}, 0)`).attr("shape-rendering","crispEdges").attr("height",M).attr("y",(function(e,t){return t*(M+E)+E})).attr("x",(function(e,t){return J(e[0])+1})).attr("width",(function(e){const t=J(e[1])-J(e[0])-1;return t<0?0:t})).on("mouseenter",c.mouseEnter).on("click",c.mouseClick).on("mouseover",c.mouseOver).on("mouseleave",c.mouseLeave);ne.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){if(w==="top"){return t*(M+E)+5}return t*(M+E)+E})).attr("x",0).attr("dx",S).attr("dy","1.3em").attr("fill",b).attr("width",y).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return(0,d.truncateLabel)(a,t)}));ie.enter().append("text").attr("class",this._buildClassList("__value")).attr("y",M/2).attr("dx",S).attr("dy","1.3em").attr("y",(function(e,t){return t*(M+E)+E})).attr("x",(function(e,t,a){return J(e.total)+y+1})).each(R)}},972915:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.drawChart=o;var r=a(212172);var n=a(183818);var i=a(553745);function o(e){const{bars:t}=e;const a=this.getSettings();const{container:o}=a;const{top:s,right:l,left:d}=o.margin;const{spacing:c}=a.labelText;const{spacing:u}=a.valueText;const{padding:f,height:p,colors:m,cursor:h="default"}=a.bar;const v=25;const g=(0,r.max)(t.map((e=>parseInt(e.value))));const y=this._convertValueLengthToPixelSpace(g);const b=this._getContainerWidth()-d-l;const w=b-y-v;const S=(0,n.scaleLinear)().domain([0,g]).range([0,w]);const O=(0,n.scaleOrdinal)().domain(t).range(m);const T=this._svg.selectAll(`g${this._getClassList("Group")}`).data(t);const C=T.enter().append("g").attr("class",this._buildClassList("Group")).attr("transform",(function(e,t){const a=s;const r=t*(p+f)+f;return`translate(${a}, ${r})`}));T.select(this._getClassList("__bar")).transition().duration(1e3).attr("width",(e=>S(e.value)));T.select(this._getClassList("__label")).transition().duration(1e3).style("opacity",0).transition().duration(500).style("opacity",1).text((e=>e.title));T.select(this._getClassList("__value")).transition().duration(1e3).style("opacity",0).attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,S(e.value))})).transition().duration(500).style("opacity",1).text((e=>e.value));T.exit().transition().duration(1e3).style("opacity",0).remove();C.append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",h).attr("fill",(e=>O(e))).attr("height",p).attr("width",(e=>S(e.value))).attr("transform",`translate(0, 0)`).on("mouseenter",i.mouseEnter).on("click",i.mouseClick).on("mouseover",i.mouseOver).on("mouseleave",i.mouseLeave);C.append("text").attr("class",this._buildClassList("__label")).attr("y",p-p-c).attr("x",0).attr("dy",".65em").style("fill",(e=>this._settings.labelText.color)).text((e=>e.title));C.append("text").attr("class",this._buildClassList("__value")).attr("y",p/2).attr("dx",u).attr("dy",".35em").attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,S(e.value))})).style("fill",(e=>this._settings.valueText.color)).text((e=>{if(typeof this._settings.bar.formatTextFunction==="function"){return this._settings.bar.formatTextFunction(e.value)}return e.value}))}},418257:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(331760);class n{static get className(){return"BaseChart"}constructor(){this._setupResizeEventListener()}draw(e){console.error("BaseChart.draw() Must be implemented via the extending class")}resize(){console.error("BaseChart.resize() Must be implemented via the extending class")}getSettings(){return this._settings}hasAxis(){let e=this.getSettings();if(typeof e.container.axis==="undefined"){return false}return typeof e.container.axis.hasAxis!=="undefined"&&e.container.axis.hasAxis}_createRoot(){let{height:e,flexHeight:t,margin:a}=this.getSettings().container;let n=e+a.top+a.bottom;let i=this._getContainerWidth()+a.left+a.right;this._svg=(0,r.select)(this._selector).append("div").attr("class",this._buildClassList("Container")).style("height",(e=>{if(!t){return`${n}px`}return`auto`})).append("svg").attr("class",this._buildClassList()).style("width",`${i}px`).style("height",`${n}px`).attr("transform",`translate(${a.left}, ${a.top})`);this._g=this._svg.append("g")}_validateRequirements(){let{chartClass:e}=this.getSettings();if(!e){console.error(`${this._CLASS_NAME} requires 'chartClass' settings object to be populated`)}}_buildClassList(e=""){let t=`${this._CLASS_NAME}${e}`;let a=this.getSettings();if(a.chartClass!==""){t+=` ${a.chartClass}${e}`}return t}_getClassList(e=""){let{chartClass:t}=this.getSettings();return`.${t}${e}`}_setupResizeEventListener(){window.addEventListener("resize",(()=>{this._updateSVGWidth();this.resize()}))}_getContainerWidth(){const e=this.getSettings();let t=e.container.width;if(t==="auto"&&this._selector){t=this._selector.clientWidth}return t}_getSVGDimensionsObject(){let e=this._svg.node();let t=e.getBBox();return t}_updateSVGWidth(){const e=this._svg.node();if(!e){return}const t=this._getContainerWidth();(0,r.select)(e).style("width",`${t}px`)}_animateElements(e,t){if(this.getSettings().animate){return t(e)}return e}_dynamicallyAdjustSVGHeight(){let e=this._svg.node();if(!e){return}let t=this._getSVGDimensionsObject();let a=15;let n=t.y+t.height+a;let i=0;this._animateElements((0,r.select)(e),(t=>t.transition().duration(500).style("height",`${n}px`).on("start",(()=>{i++})).on("end",(()=>{if(--i===0&&document.contains&&document.contains(e)){this._dynamicallyAdjustAxisHeight()}})))).style("height",`${n}px`)}_dynamicallyAdjustAxisHeight(){if(this.hasAxis()){const e=this._svg.node();(0,r.select)(this._getClassList("__xAxis")).selectAll("line").transition().delay(1e3).filter((function(){return document.contains(e)})).attr("y2",(()=>{const e=this._getSVGDimensionsObject();return e.height}))}}_convertValueLengthToPixelSpace(e){this._svg.append("g").attr("translate","transition(10000, 0").attr("class","text-to-pixel-group").append("text").text(e);let t=(0,r.select)(".text-to-pixel-group");let a=t.select("text").node().getComputedTextLength();t.remove();return a}}t.default=n},167310:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(212172);var i=a(273641);var o=r(a(395124));var s=r(a(988259));var l=r(a(283058));var d=a(845382);var c=r(a(268069));const u="DonutPercentageChart";const f={chartClass:"",color:["#8aba00","#e8454d","#f96422","#7092eb","#d05489","#3bab38","#ffcb15","#11b9aa","#9a6dc8","#1b8ab4","#6a6a6a"],getColor:null,donut:{},groupedPopoverTemplate:"",legend:{},maxVisibleItems:7,preserveOrder:true,boldLegendOnSliceHover:false};class p extends l.default{static get className(){return"DonutPercentageChart"}constructor(e,t=f){let a;super();this._options=(0,i.defaultsDeep)({},t,f);a=$("<div>").attr("class",`${u} ${this._options.chartClass}`);this.element=typeof e==="string"?document.querySelector(e):e;a.appendTo(this.element);this._donut=new o.default(a[0],this._options.donut);this._donut.on("sliceEnter",this._sliceEnterHandler.bind(this));this._donut.on("sliceLeave",this._sliceLeaveHandler.bind(this));this._legend=new s.default(a[0],this._options.legend)}draw(e){const t=this._createInternalModel(e);this._donut.draw(t.visible);this._legend.draw(t.visible.data)}_createInternalModel(e){let{maxVisibleItems:t}=this._options;let a,r;let o=e.data;e=(0,i.cloneDeep)(e);if(e.data.length>this._options.maxVisibleItems){t--}if(!this._options.preserveOrder){o=o.sort(((e,t)=>t.count-e.count))}a=o.slice(t);r=o.slice(0,t);if(a.length){r.push({label:$.__("Other"),count:(0,n.sum)(a,(e=>e.count)),items:a})}e.data=r.map(((e,t)=>{e.color=this._options.color[t];if(typeof this._options.getColor==="function"){e.color=this._options.getColor(e.label)}e.id=(0,i.uniqueId)("donut-percentage-item-");return e}));return{visible:e}}_sliceEnterHandler(e,t){this.trigger("sliceEnter",...arguments);if(this._options.boldLegendOnSliceHover){this._legend.sliceEnter(t.id)}if(!e.items){return}if(this._options.groupedPopoverTemplate){this._groupedPopover=c.default.create(t,{closeX:false,html:microTemplate(this._options.groupedPopoverTemplate,{data:e})}).show()}}_sliceLeaveHandler(e,t){this.trigger("sliceLeave",...arguments);if(this._options.boldLegendOnSliceHover){this._legend.sliceLeave(t.id)}if(this._groupedPopover){this._groupedPopover.destroy();this._groupedPopover=null}}}t.default=p},553745:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mouseClick=o;t.mouseEnter=s;t.mouseOver=l;t.mouseLeave=d;var r=a(51298);const n=e=>({bubbles:true,detail:e});function i(e,t){return e.dispatchEvent(t)}function o(e,t,a){let o=a[t];let s=new CustomEvent(r.MOUSE_CLICK,n(e));i(o,s)}function s(e,t,a){let o=a[t];let s=new CustomEvent(r.MOUSE_ENTER,n(e));i(o,s)}function l(e,t,a){let o=a[t];let s=new CustomEvent(r.MOUSE_OVER,n(e));i(o,s)}function d(e,t,a){let o=a[t];let s=new CustomEvent(r.MOUSE_LEAVE,n(e));i(o,s)}},955632:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.barGrow=s;t.barShrink=l;t.popOver=d;t.snappyPopover=c;t.toolTip=u;var n=a(331760);var i=r(a(268069));var o=r(a(184712));function s(e){const t=(0,n.select)(e.target).node().getBBox();(0,n.select)(e.target).attr("height",(e=>t.height+4)).attr("y",(e=>t.y-2))}function l(e){const t=(0,n.select)(e.target).node().getBBox();(0,n.select)(e.target).attr("height",(e=>t.height-4)).attr("y",(e=>t.y+2))}function d(e,t,a={}){let r;const o=(0,n.mouse)(e.target)[0];const s=e.target.getAttribute("x")||e.target.getAttribute("cx");const{push:l=15}=a;r=s?o-s:o;i.default.create(e.target,{showImmediately:true,closeX:false,push:l,tailSize:9,triggerEvent:"hover",onShow(e){e.balloonElement.style.pointerEvents="none";window.addEventListener("scroll",(function t(){if(!e.destroyed){e.hide()}window.removeEventListener("scroll",t,true)}),true)},onHide(e){if(e&&!e.destroyed){e.destroy()}},tailOnAnchor:r,html:t})}function c(e,t,a){const r={};const{push:n=15}=r;let o;i.default.create(t,{showImmediately:true,closeX:false,push:n,position:a,tailSize:9,triggerEvent:"hover",onShow(e){o=e;e.balloonElement.style.pointerEvents="none";window.addEventListener("scroll",(function t(){if(!e.destroyed){e.hide()}window.removeEventListener("scroll",t,true)}),true)},onHide(e){if(e&&!e.destroyed){e.destroy()}},html:e});return()=>{if(o&&!o.destroyed){o.destroy()}}}function u(e,t){o.default.create(e,t)}},51298:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MOUSE_LEAVE=t.MOUSE_OVER=t.MOUSE_ENTER=t.MOUSE_CLICK=void 0;const a="ba";const r=e=>`${a}:${e}`;const n=r("chartMouseClick");t.MOUSE_CLICK=n;const i=r("chartMouseEnter");t.MOUSE_ENTER=i;const o=r("chartMouseOver");t.MOUSE_OVER=o;const s=r("chartMouseLeave");t.MOUSE_LEAVE=s},845594:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(61527);var i=a(183818);var o=a(331760);var s=a(439821);var l=a(273641);var d=r(a(268069));const c="GroupedSliceChart";const u={bar:{margin:20,width:60,height:162,minCount:3},chartClass:"",colors:["#8db812","#5b9fb2","#f19d11","#db6021"],height:200,reverseCellOrder:true,showEmptyBar:true,width:330};class f{static get className(){return"GroupedSliceChart"}constructor(e,t=u){this._selector=e;this._options=(0,l.defaultsDeep)({},t,u);this._svg=this._createSvg()}_createSvg(){let e=(0,o.select)(this._selector).append("div");let t=e.append("svg").attr("viewBox",`0 0 ${this._options.width} ${this._options.height}`);t.style("height",`${this._options.height}px`).style("width",`${this._options.width}px`);return t}draw(e){let t=[];if(e.hasData){let a=this._options.reverseCellOrder?s.stackOrderReverse:s.stackOrderAscending;let r=(0,s.stack)().keys(e.keys).order(a);t=r(e.values)}let a=(0,i.scaleLinear)().range([this._options.bar.height,0]).domain([0,1]);let r=(0,i.scaleBand)().range([0,this._options.width]).round(true).paddingInner(.445).paddingOuter(.2225).domain(e.values.map(((e,t)=>t)));let n=(0,i.scaleOrdinal)(this._options.colors);this._drawTitles(e.values,r);if(this._options.showEmptyBar){this._drawEmptyBars(e.values,r)}this._drawAxis(r);if(e.hasData){this._drawBars(t,r,a,n)}this._drawLabels(e.values,r)}_drawTitles(e,t){const a=this._svg.append("g").selectAll("text").data(e);a.enter().append("text").attr("class",`${c}__title ${this._options.chartClass}__title`).merge(a).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).attr("text-anchor","middle").attr("y",this._options.bar.margin/2).text((e=>this._setText(e,e.title)))}_setText(e,t){let a="";if(e.isEmpty){a=this._options.showEmptyBar?t:""}else{a=t}return a}_drawEmptyBars(e,t){const a=this._svg.selectAll(`${c}__emptyBar ${this._options.chartClass}__emptyBar`).data(e);a.enter().filter((e=>e.isEmpty)).append("rect").attr("transform",`translate(0, ${this._options.bar.margin})`).attr("class",`${c}__emptyBar ${this._options.chartClass}__emptyBar`).attr("x",(e=>t(e.xPosition))).attr("width",(()=>t.bandwidth())).attr("y",0).attr("height",this._options.bar.height-2)}_drawAxis(e){let t=(0,n.axisTop)().tickSize(0).tickValues([]).scale(e);for(var a=1;a<4;a++){this._svg.append("g").attr("class",`${c}__axis ${this._options.chartClass}__axis`).attr("transform",`translate(0,${Math.round(this._options.bar.margin+this._options.bar.height/4*a)-2})`).call(t)}}_drawBars(e,t,a,r){let n=this;const i=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("transform",`translate(0, ${this._options.bar.margin})`).attr("class",`${c}__stackedBar ${this._options.chartClass}__stackedBar`).attr("fill",(e=>r(e.key)));const o=i.selectAll("rect").data((e=>e));o.enter().append("rect").merge(o).attr("x",((e,a)=>t(a))).attr("width",(()=>t.bandwidth())).attr("y",(e=>e.data.isEmpty?0:a(e[1]))).attr("height",(e=>{let t=a(e[0])-a(e[1])-2;t=t>0?t:0;return e.data.isEmpty?0:t})).attr("class",`${c}__cell ${this._options.chartClass}__cell`).on("mouseenter",(function(e){if(!d.default.hasInstance(this)){let t=this.parentNode.getAttribute("fill");d.default.create(this,{html:`<div class="${c}__percentage ${n._options.chartClass}__percentage" style="color: ${t}">${Math.round((e[1]-e[0])*100)}%</div>`,position:"left",triggerEvent:"hover",showImmediately:true,closeX:false,push:-14,tailSize:8})}}))}_drawLabels(e,t){const a=this._svg.append("g").selectAll("text").data(e);a.enter().append("text").attr("class",`${c}__label ${this._options.chartClass}__label`).merge(a).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).attr("text-anchor","middle").attr("y",this._options.height-this._options.bar.margin/2+6).text((e=>this._setText(e,e.label)))}}t.default=f},529355:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(273641);var i=r(a(418257));var o=a(972915);var s=a(719098);var l=a(664303);var d=a(256769);var c=a(119062);var u=a(199746);const f="HorizontalBarChart";const p={chartClass:"",needsAxis:false,container:{flexHeight:false,height:210,width:70,margin:{top:0,right:0,bottom:10,left:0}},labelText:{color:"#777",spacing:12,alignmentLeft:false},valueText:{color:"#777",spacing:4,showZero:false},bar:{colors:["#ccc"],height:16,padding:28,formatTextFunction:null},animate:!window.navigator.webdriver};class m extends i.default{static get className(){return"HorizontalBarChart"}constructor(e,t=p){super();this._selector=e;this._CLASS_NAME=f;this._settings=(0,n.defaultsDeep)({},t,p);this._validateRequirements();this._createRoot()}draw(e){this._data=e;if(e.type==="hybrid"){c.drawChart.call(this,e)}if(e.type==="double"){u.drawChart.call(this,e)}if(e.type==="stacked"){l.drawChart.call(this,e)}if(e.type==="stacked-summary"){d.drawChart.call(this,e)}if(e.type==="simple"){if(this.getSettings().labelText.alignmentLeft){s.drawChart.call(this,e)}else{o.drawChart.call(this,e)}}this._dynamicallyAdjustSVGHeight()}resize(){this.draw(this._data)}}t.default=m},147958:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(212172);var i=a(61527);var o=a(183818);var s=a(331760);var l=a(439821);var d=a(273641);var c=a(169937);var u=a(553745);var f=r(a(418257));var p=r(a(988259));a(728280);const m="LineChart";const h={chartClass:"",container:{height:100,margin:{bottom:0,left:0,right:0,top:0},width:214},drawDotsAlongLines:true,fadedLineOpacity:.2,hasSelectableColumns:false,lineToBringToFrontId:null,numberOfYAxisTicks:4,onSelectableAreaClick:null,pathStrokeWidth:4,partialValueColor:"#afafaf",partialValueLightColor:"#c0c0c0",pointColorClassName:"LineChart--strokeThemeColor",pointLightColorClassName:"LineChart--strokeLightThemeColor",pointLightColorEnabled:true,pointRadius:5,pointStrokeWidth:3,pointSubtitles:{height:16,formatter:null},pointTitles:{height:18,formatter:null},yAxisLabelWidth:0,yDomainRangeMax:10,animate:!window.navigator.webdriver};class v extends f.default{static get className(){return"LineChart"}constructor(e,t=h){super();this._selector=e;this._CLASS_NAME=m;this._settings=(0,d.defaultsDeep)({},t,h);this._barVerticalOffset=this._settings.container.height-this._settings.pointTitles.height-this._settings.pointSubtitles.height;this._xTitlesVerticalOffset=this._barVerticalOffset+1;this._xSubtitlesVerticalOffset=this._xTitlesVerticalOffset+this._settings.pointTitles.height;this._minPointVerticalOffset=this._barVerticalOffset-16;this._validateRequirements();this._createRoot();this._configure()}updateSettings(e){this._settings=(0,d.defaultsDeep)({},e,h)}draw(e){this._data=e;const t=e.lines?e.lines:this._prepLinesData(e);const a=e.xAxisTitles?e.xAxisTitles:this._prepTitlesData(e,"title");this._xAxisTitlesData=this._settings.pointTitles.formatter?this._settings.pointTitles.formatter(a):a;const r=e.xAxisSecondaryTitles?e.xAxisSecondaryTitles:this._prepTitlesData(e,"subtitle");const i=this._settings.pointSubtitles.formatter?this._settings.pointSubtitles.formatter(r):r;const o=t.map((e=>e.points.map((e=>e===null||e===void 0?void 0:e.y)))).reduce(((e,t)=>e.concat(t)));const s=(0,n.min)(o);const l=(0,n.max)(o);const d=Math.floor(s/10)*10;const c=Math.ceil(l/10)*10;this._xScale=this._getXScale();this._xScaleUsingX=(t,a)=>this._xScale(e.xAxisPositionMap&&t!==null&&t!==void 0&&t.x?e.xAxisPositionMap.get(t.x):a);const u=this._settings.yDomainMin||d;const f=this._settings.yDomainMax||c;this._yScale=this._getYScale(u,f);this._minY=u;if(this._settings.hasSelectableColumns)this._drawSelectableAreas();this._drawLines(t);this._drawXAxisTitles();this._drawXAxisSecondaryTitles(i);this._drawYAxis();this._drawLegend(e.legend)}resize(){const e=this._svg;e.style("width",null);const t=e.node().parentNode.clientWidth;e.style("width",`${t}px`);if(!this.hasAxis()){e.select(this._getClassList("__divider")).attr("x2",t)}this.draw(this._data)}_animateElements(e,t){if(this._settings.animate){return e.transition().duration(t)}return e}_configure(){if(!this.hasAxis()){this._bar=this._svg.append("line").style("stroke","#AFAFAF").style("shape-rendering","crispEdges").attr("class",this._buildClassList("__divider")).attr("x1",0).attr("x2",this._getContainerWidth()).attr("y1",this._barVerticalOffset).attr("y2",this._barVerticalOffset)}this._xTitles=this._svg.append("g").style("font-size","12px").style("fill","#adadad").attr("class",this._buildClassList("__titles")).attr("text-anchor","middle").attr("transform",`translate(0, ${this._xTitlesVerticalOffset})`);this._xSubtitles=this._svg.append("g").style("font-size","10px").style("fill","#AFAFAF").attr("class",this._buildClassList("__subtitles")).attr("text-anchor","middle").attr("transform",`translate(0, ${this._xSubtitlesVerticalOffset})`);if(this._settings.legend){const e=(0,s.select)(this._selector).append("div").attr("class",this._buildClassList("__legend"));const t={onClick:this._handleLegendClick,...this._settings.legend};this._legend=new p.default(e.node(),t)}}_handleLegendClick(e){const t=!e.active;const a=t?"none":"initial";const r=`#tag${e.color.slice(1)}_${e.keyOrder}`;const n=(0,s.select)(r);this._animateElements(n,100).style("display",a);e.active=t}_prepLinesData(e){if(Array.isArray(e)){return[{points:e}]}if(!Array.isArray(e)&&typeof e==="object"&&e.points){return[e]}}_prepTitlesData(e,t){if(Array.isArray(e)){return e.map((e=>e[t]))}if(!Array.isArray(e)&&typeof e==="object"&&e.points){return e.points.map((e=>e[t]))}}_getXScale(){var e;const t=this._xAxisTitlesData;return(0,o.scaleBand)().domain(t.map(((e,t)=>t))).range([((e=this._settings)===null||e===void 0?void 0:e.yAxisLabelWidth)??0,this._getContainerWidth()]).round(true).paddingOuter(.4).paddingInner(1)}_getYScale(e,t){return(0,o.scaleLinear)().domain([e,t]).range([this._minPointVerticalOffset,this._settings.yDomainRangeMax])}_getLineColor({color:e,displayType:t,alternateColors:a},r){const n=this._settings;if(n.colors){e=n.colors[r]}if(t==="default"||t===undefined)return e?e:"";if(t==="faded")return a?a.faded:"";return""}_getAlternatePointStyles(e){const{alternatePointStyleKeys:t,alternatePointStyles:a}=this._settings;const r=t===null||t===void 0?void 0:t.find((t=>e[t]));return a&&a[r]}_getPointFill(e){var t;const{alternatePointStyle:a,alternatePointStyleKey:r}=this._settings;const n=e[r]&&(a===null||a===void 0?void 0:a.pointFill)||((t=this._getAlternatePointStyles(e))===null||t===void 0?void 0:t.pointFill)||"";return n}_getPointRadius(e){var t;const{alternateLineStyle:a,alternateLineStyleKey:r,alternatePointStyle:n,alternatePointStyleKey:i,pointRadius:o}=this._settings;const s=e&&e[r]&&(a===null||a===void 0?void 0:a.pointRadius);const l=e&&e[i]&&(n===null||n===void 0?void 0:n.pointRadius)||((t=this._getAlternatePointStyles(e))===null||t===void 0?void 0:t.pointRadius);const d=s||l||o;return d}_getPointStrokeWidth(e){var t;const{alternatePointStyle:a,alternatePointStyleKey:r,pointStrokeWidth:n}=this._settings;const i=e[r]&&(a.pointStrokeWidth||((t=this._getAlternatePointStyles(e))===null||t===void 0?void 0:t.pointStrokeWidth)||n);return i}_drawLines(e){const t=this._drawLineGroups(e);this._drawCircleGroups(t)}_drawLineGroups(e){const t=this._svg;const a=this._settings;const r=t.selectAll(this._getClassList("__lineGroup")).style("display","initial").data(e,(e=>e.id));const n=r.enter().append("g").attr("class",this._buildClassList("__lineGroup")).attr("id",((e,t)=>{if(e.id)return e.id;const a=this._getLineColor(e,t);return a?`tag${a.slice(1)}_${t}`:""}));const i=r.merge(n);const o=(0,l.line)().x(((e,t)=>this._xScale(t))).y((()=>this._yScale(this._minY)));const s=(0,l.line)().defined(((e,t)=>e!==undefined&&e!==null)).x(this._xScaleUsingX).y(((e,t)=>this._yScale(e.y)));n.append("path").attr("class",`${"LineChart--strokeThemeColor"} ${this._buildClassList("__line")}`).style("fill","none").attr("pointer-events","none").style("stroke",((e,t)=>this._getLineColor(e,t))).style("stroke-width",`${a.pathStrokeWidth}px`).attr("d",(e=>o(e.points)));const d=i.select(this._getClassList("__line")).style("stroke",((e,t)=>this._getLineColor(e,t)));this._animateElements(d,300).attr("d",(e=>s(e.points)));i.raise();if(a.lineToBringToFrontId!==null){t.select(`${this._getClassList("__lineGroup")}[id="${a.lineToBringToFrontId}"]`).raise()}r.exit().remove();return{lineGroupUpdate:r,lineGroupEnter:n}}_drawCircleGroups({lineGroupEnter:e,lineGroupUpdate:t}){const a=this._settings;const r=e.append("g").attr("class",`${a.pointColorClassName} ${this._buildClassList("__circleGroup")}`).attr("fill",((e,t)=>this._getLineColor(e,t)||"#fff")).style("stroke",((e,t)=>this._getLineColor(e,t))).style("stroke-width",`${a.pointStrokeWidth}px`);const n=t.select(this._getClassList("__circleGroup"));const i=n.merge(r);i.style("stroke",((e,t)=>this._getLineColor(e,t))).style("fill",((e,t)=>this._getLineColor(e,t)));this._drawCircles(i)}_drawCircles(e){const t=this._settings;const a=e.selectAll(this._getClassList("__innerCircleGroup")).data((e=>e.points));const r=a.enter().append("g").attr("class",this._buildClassList("__innerCircleGroup"));r.append("circle").attr("r",((e,a,r)=>{if(t.drawDotsAlongLines)return this._getPointRadius(e);if(a===r.length-1)return this._getPointRadius(e);return 0})).attr("data-tip-z-index","auto").attr("class",this._buildClassList("__circle")).attr("pointer-events",t.hasSelectableColumns?"none":"visiblePainted").attr("cx",this._xScaleUsingX).attr("cy",(e=>this._yScale(this._minY)));r.append("circle").attr("r",(e=>{if((e===null||e===void 0?void 0:e.displayType)!=="hollow")return 0;return 3})).attr("data-tip-z-index","auto").attr("class",this._buildClassList("__innerCircle")).attr("fill","#fff").attr("stroke","none").attr("stroke-width",0).attr("pointer-events",t.hasSelectableColumns?"none":"visiblePainted").attr("cx",this._xScaleUsingX).attr("cy",(e=>this._yScale(this._minY)));const n=a.merge(r);n.select(this._getClassList("__circle")).on("mouseenter",(function e(a){const r=(0,s.select)(this);if((a===null||a===void 0?void 0:a.displayType)==="partial"){r.style("stroke",t.partialValueLightColor)}else if(t.pointLightColorEnabled){r.classed(t.pointLightColorClassName,true);r.classed(t.pointColorClassName,false)}})).on("mouseleave",(function e(a){const r=(0,s.select)(this);if((a===null||a===void 0?void 0:a.displayType)==="partial"){r.style("stroke",t.partialValueColor)}else if(t.pointLightColorEnabled){r.classed(t.pointLightColorClassName,false);r.classed(t.pointColorClassName,true)}})).on("mouseover",u.mouseOver).filter((e=>(e===null||e===void 0?void 0:e.displayType)==="partial")).style("stroke",t.partialValueColor);const i=n.select(this._getClassList("__circle")).attr("r",((e,a,r)=>{if(t.drawDotsAlongLines)return this._getPointRadius(e);if(a===r.length-1)return this._getPointRadius(e);return 0}));this._animateElements(i,300).attr("visibility",(e=>!e?"hidden":"")).attr("cx",this._xScaleUsingX).attr("cy",(e=>e?this._yScale(e.y):this._yScale(this._minY)));const o=n.select(this._getClassList("__innerCircle")).attr("r",(e=>{if((e===null||e===void 0?void 0:e.displayType)!=="hollow")return 0;return 3}));this._animateElements(o,300).attr("cx",this._xScaleUsingX).attr("cy",(e=>e?this._yScale(e.y):this._yScale(this._minY)));a.exit().remove()}_drawXAxisTitles(){if(this._xAxisTitlesData){const{_data:{xAxisSelectedTitle:e}}=this;this._xTitles.selectAll(this._getClassList("__title")).remove();const t=this._xTitles.selectAll(this._getClassList("__title")).data(this._xAxisTitlesData);t.enter().append("text").attr("class",((_,t)=>{if(t===e){return`${this._buildClassList("__title")} ${this._buildClassList("__title--selected")}`}return this._buildClassList("__title")})).attr("y",16).merge(t).attr("x",((e,t)=>this._xScale(t)+this._xScale.bandwidth()/2)).text((e=>e))}}_drawXAxisSecondaryTitles(e){if(e){const{_data:{xAxisSelectedTitle:t}}=this;this._xSubtitles.selectAll(this._getClassList("__subtitle")).remove();const a=this._xSubtitles.selectAll(this._getClassList("__subtitle")).data(e);a.enter().append("text").attr("class",((_,e)=>{if(e===t){return`${this._buildClassList("__subtitle")} ${this._buildClassList("__subtitle--selected")}`}return this._buildClassList("__subtitle")})).attr("y",12).merge(a).attr("x",((e,t)=>this._xScale(t)+this._xScale.bandwidth()/2)).text((e=>e))}}_drawYAxis(){if(this.hasAxis()){const e=this._settings;const t=(0,i.axisLeft)().scale(this._yScale);t.tickSizeOuter(0).ticks(e.numberOfYAxisTicks).tickFormat(((e,t,a)=>{const r=(0,s.select)(a[t]);r.style("opacity",1);return e}));const a=this._g.select(this._getClassList("__yAxis")).empty();if(a){this._g.append("g").attr("class",this._buildClassList("__yAxis")).call(t);this._g.attr("transform",`translate(${e.yAxisLabelWidth}, 0)`);(0,s.select)(this._getClassList("__yAxis")).attr("opacity",1).style("opacity",1)}else{(0,s.select)(this._getClassList("__yAxis")).attr("opacity",1).call(t)}(0,s.select)(this._getClassList("__yAxis")).selectAll("line").attr("x2",(()=>this._svg.node().parentNode.clientWidth-e.yAxisLabelWidth)).attr("style",((e,t,a)=>{if(t===0){return"stroke-dasharray: 0"}})).attr("pointer-events","none")}}_drawLegend(e){if(e&&this._settings.legend){if(this._settings.colors){e.forEach(((e,t)=>{e.color=this._settings.colors[t]}))}this._legend.draw(e)}}_drawHoverCircles(e){const t=this._svg;const{lineToBringToFrontId:a=null}=this._settings;const{xAxisPositionMap:r,xAxisTitles:n}=this._data;const i=t.selectAll(this._getClassList("__hoverAreaGroup")).filter(((t,a)=>a===e));const o=new Map;if(r){const e=Array.from(r.values());Array.from(r.keys()).forEach(((t,a)=>{o.set(e[a],t)}))}this._data.lines.forEach((t=>{const r=o.get(e);const n=r?t.points.find((e=>e&&e.x===r)):t.points[e];let s=false;if(a&&a===t.id){s=true}if(n&&(r===undefined||r===n.x)){i.append("circle").attr("class",`${this._buildClassList("__hoverCircle")} ${s&&"front"}`).attr("fill",this._getLineColor(t,e)).attr("pointer-events","none").attr("r",4).attr("cx",this._xScaleUsingX({x:r},e)).attr("cy",this._yScale(n.y))}}));if(a){t.select(`${this._getClassList(`__hoverCircle`)}.front`).raise()}}_removeHoverCircles(){const e=this._svg;e.selectAll(this._getClassList("__hoverCircle")).remove()}_drawSelectableAreas(){const e=this._svg;const t=e.select(this._getClassList("__hoverAreaContainer"));if(!t.size()){e.append("g").attr("class",this._buildClassList("__hoverAreaContainer")).lower()}const a=e.select(this._getClassList("__hoverAreaContainer")).selectAll(this._getClassList("__hoverAreaGroup")).style("display","initial").data(this._xAxisTitlesData.map(((e,t)=>t)));const r=a.enter().append("g").attr("class",this._buildClassList("__hoverAreaGroup")).style("cursor","pointer").attr("id",((e,t)=>`hover-${t}`));r.append("path").classed(this._buildClassList("__hoverArea"),true).style("fill","transparent").attr("d",((e,t)=>this._getDForHoverArea(t))).on("mouseover",(t=>{this._drawHoverCircles(t);this._hoverArea=t;e.selectAll(this._getClassList("__hoverArea")).filter(((e,a)=>a===t)).style("fill",c.colors.gray1)})).on("mouseleave",(t=>{e.selectAll(this._getClassList("__hoverArea")).filter(((e,a)=>a===t)).style("fill","transparent");this._hoverArea=undefined;this._removeHoverCircles()})).on("click",(e=>{const{onSelectableAreaClick:t}=this._settings;if(t)t(e)}));this._removeHoverCircles();if(this._hoverArea){this._drawHoverCircles(this._hoverArea)}const n=a.merge(r);n.select(this._getClassList("__hoverArea")).attr("d",((e,t)=>this._getDForHoverArea(t)));a.exit().remove()}_getDForHoverArea(e){const t=(0,l.area)().x((e=>e.x)).y0((e=>this._yScale(0))).y1((e=>e.y));const a=e=>t(e.map((e=>({x:e,y:0}))));if(e===0){var r;const e=((r=this._settings)===null||r===void 0?void 0:r.yAxisLabelWidth)??0;const t=this._xScale(0)-e;const n=[e,this._xScale(0)+t];return a(n)}const n=this._xScale(e)-this._xScale(e-1);const i=[this._xScale(e)-n/2,this._xScale(e)+n/2];return a(i)}}t.default=v},597738:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(273641);var i=r(a(418257));var o=a(162976);const s="RadialProgressChart";const l={chartClass:"",showInnerBar:false,innerBar:{colors:[]},animate:!window.navigator.webdriver};class d extends i.default{static get className(){return"RadialProgressChart"}constructor(e,t=l){super();this._selector=e;this._CLASS_NAME=s;this._settings=(0,n.defaultsDeep)({},t,l);this._validateRequirements();this._createRoot();o.setupChart.call(this)}draw(e){o.drawChart.call(this,e);this._dynamicallyAdjustSVGHeight()}}t.default=d},162976:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setupChart=x;t.drawChart=k;var r=a(439821);var n=a(331760);var i=a(47863);var o=a(183818);var s=a(919902);var l=a(553745);var d=a(479706);const c=e=>e<=-40;const u=e=>e>-40&&e<=0;const f=e=>e>0;const p=(e,t)=>{if(c(e)||u(e)){return(0,i.interpolateRgb)(t,P)}if(f(e)){return(0,i.interpolateRgb)(t,O)}};const m=e=>{if(c(e)){return C}if(u(e)){return T}if(f(e)){return O}};const h=(e,t)=>(0,i.interpolateRgb)(t,m(e));function v(e){const t=(0,i.interpolate)(this._current,e);this._current=t(0);return function(e){return M(t(e))}}const g=e=>function(t){const a=(0,i.interpolate)(t.endAngle,e);return function(e){t.endAngle=a(e);return E(t)}};const{PI:y}=Math;const b=-.8*y;const w=.8*y;const S="warning";const O="#8db812";const T="#f19d11";const C="#db6021";const P="#555";let E;let M;function x(){const e=this.getSettings();const{radius:t,width:a,color:n}=e.mainBar;const{color:i}=e.backgroundBar;const{text:o}=e.secondaryText;const{text:s}=e.ternaryText;E=(0,r.arc)().innerRadius(t).outerRadius(t-a).startAngle(b);this._arcContainer=this._svg.append("g").attr("class","arc-info").attr("transform","translate(166, 170)");this._arcContainer.append("path").datum({endAngle:w}).attr("d",E).attr("fill",i).attr("class",this._buildClassList("__backgroundRing")).attr("transform","translate(20, 20)");this._arcContainer.append("path").attr("fill",n).attr("class",this._buildClassList("__primaryRing")).attr("transform","translate(20, 20)").on("mouseover",l.mouseOver);if(e.showInnerBar){const e=t-30;const a=t-40;const n=(0,r.arc)().innerRadius(e).outerRadius(a).startAngle(b);this._arcContainer.append("path").datum({endAngle:w}).attr("d",n).attr("fill",i).attr("class",this._buildClassList("__backgroundRing")).attr("transform","translate(20, 20)")}this._innerInfoContainer=this._svg.append("g").attr("class","inner-info").attr("transform","translate(166, 170)");this._innerInfoContainer.append("text").attr("class",`${this._buildClassList("__secondaryText")} baseFillColor`).attr("text-anchor","middle").attr("x",20).attr("y",30).text(o);this._innerInfoContainer.append("line").attr("class",this._buildClassList("__zeroMarkLine")).attr("x1",20).attr("y1",-160).attr("x2",20).attr("y2",-117).attr("stroke-width",1).attr("stroke","white");this._innerInfoContainer.append("text").attr("class",this._buildClassList("__zeroMarkNumber")).attr("text-anchor","middle").attr("x",20).attr("y",-108).attr("dy",".5rem").text("0");this._innerInfoContainer.append("text").attr("class",this._buildClassList("__rangeNumber")).attr("text-anchor","middle").attr("x",-50).attr("y",150).attr("dy",".5rem").text("-100");this._innerInfoContainer.append("text").attr("class",this._buildClassList("__rangeNumber")).attr("text-anchor","middle").attr("x",90).attr("y",150).attr("dy",".5rem").text("+100")}function k(e){const t=this.getSettings();const a=this._svg;const{radius:c}=t.mainBar;const{colors:u}=t.innerBar;const{text:T}=t.ternaryText;const{value:C}=e.mainBar;const{innerBar:x}=e;const k=-100;const j=100;const I=(0,o.scaleLinear)().range([b,w]).domain([k,j]).clamp(true);const F=I(C);const D=this._innerInfoContainer.selectAll(`.${this._CLASS_NAME}__primaryText`).data([e]);const N=this._innerInfoContainer.selectAll(`.${this._CLASS_NAME}__ternaryText`).data([e]);const A=this._innerInfoContainer.selectAll(`.${this._CLASS_NAME}__icon`).data([e]);D.exit().remove();N.exit().remove();A.exit().remove();this._animateElements(D,(e=>e.transition().duration(1500).styleTween("fill",(function(e){return p(C,this.style.fill)})).tween("text",(function(e){const t=this;const a=+t.textContent;const r=+e.mainBar.value;const n=(0,i.interpolateRound)(a,r);return function(e){t.textContent=n(e)}}))));this._animateElements(N,(e=>e.transition().duration(1e3))).attr("x",(e=>{if(e.ternaryIconTheme===S){return 34}return 20})).text((e=>`${e.ternaryValue} ${T} (${e.ternaryPercent})`));this._animateElements(A,(e=>e.transition().duration(1e3))).style("opacity",(e=>{if(e.ternaryIconTheme===S){return 1}return 0}));D.enter().append("text").attr("class",this._buildClassList("__primaryText")).attr("text-anchor","middle").attr("x",20).attr("y",-10).style("fill",(e=>{if(f(e.mainBar.value)){return O}return P})).text((e=>e.mainBar.value));N.enter().append("text").attr("class",(()=>`${this._buildClassList("__ternaryText")} ${this._buildClassList("__ternaryText--link")}`)).attr("text-anchor","middle").attr("x",(e=>{if(e.ternaryIconTheme=="warning"){return 34}return 20})).attr("y",57).text((e=>`${e.ternaryValue} ${T} (${e.ternaryPercent})`)).on("click",l.mouseClick).on("mouseover",l.mouseOver);A.enter().append("svg:image").attr("class",this._buildClassList("__icon")).attr("x",(0,d.isEnabled)("enpsSentimentScoreTrend")?-75:-50).attr("y",40).attr("width",20).attr("height",24).style("opacity",(e=>{if(e.ternaryIconTheme=="warning"){return 1}return 0})).attr("xlink:href",`/images/bicons/warning-icon-lrg.png`);const L=a.select(this._getClassList("__primaryRing")).each((e=>{this._currentEndAngle=e?e.endAngle:b})).datum({endAngle:t.animate?this._currentEndAngle:F,data:e}).attr("d",E);const R=e=>{if(t.showInnerBar){const t=c-30;const a=c-40;const n=(0,o.scaleOrdinal)().domain([1,2,3]).range(u);M=(0,r.arc)().outerRadius(t).innerRadius(a);const i=(0,r.pie)().startAngle(-.8*y).endAngle(e.endAngle).sort(null).value((e=>e.value));const d=this._arcContainer.selectAll(`.${this._CLASS_NAME}__innerSlice`).data(i(x),(function(e){return e.data.label}));const f=d.enter().append("path").attr("class",this._buildClassList("__innerSlice")).attr("transform","translate(20,20)").on("mouseover",l.mouseOver).each((function(e){this._current=e}));this._animateElements(d,(e=>e.transition().ease(s.easePoly).duration(500).attrTween("d",v)));d.exit().remove();d.merge(f).attr("fill",(function(e){return n(e.data.order)})).attr("d",M)}};const B=this._animateElements(L,(e=>e.transition().ease(s.easePoly).duration(500).attrTween("fill",(function(e){const t=(0,n.select)(this);const a=t.style("fill");return h(C,a)})).attrTween("d",g(F)).on("end",R)));if(!t.animate){R(B.attr("fill",m(C)).datum())}}},79971:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.findNeighborArc=a;function a(e,t,a,i){let o=r(e,t,a,i)||n(e,t,a,i);if(o){return{startAngle:o.endAngle,endAngle:o.endAngle}}return null}function r(e,t,a,r){var n=t.length;while(--e>=0){var i=r(a[e]);for(var o=0;o<n;++o){if(r(t[o])===i){return t[o]}}}}function n(e,t,a,r){var n=a.length;var i=t.length;while(++e<n){var o=r(a[e]);for(var s=0;s<i;++s){if(r(t[s])===o){return t[s]}}}}},40902:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.truncateLabel=a;function a(e,t){if(e&&t.length>e){return`${t.substring(0,e-3)}...`}return t}},395124:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(331760);var i=a(439821);var o=a(132621);var s=a(212172);var l=a(919902);var d=a(47863);a(761571);var c=a(273641);var u=r(a(283058));var f=a(845382);var p=a(79971);const m="BhrDonut";const h={chartClass:"",icon:{visible:true},size:260,valueLabel:{visible:true},useRelativeSizes:{label:true,percentage:true,percentageSign:true}};const v={placeholderLabelFontSize:.063,valueFontSize:.194,valueLabelFontSize:.067,valuePercentageSignFontSize:.109};const g={placeholderLabelFontSize:13};const y=750;function b(e,t){return t}class w extends u.default{static get className(){return"Donut"}constructor(e,t){super();this._options=(0,c.defaultsDeep)({},t,h);this._size=this._options.size;this._radius=this._size*.5;this._setUpDom(e)}_setUpDom(e){const t=this._options.size;const a=t*.125;const r=a*.3;const o=t/2;const s=o-a*1.5;const l=(0,n.select)(e).append("div").attr("class",`${m} ${this._options.chartClass}`).styles({height:`${t}px`,width:`${t}px`});const d=l.append("svg").attr("preserveAspectRatio","xMidYMid meet").attr("width","100%").attr("height","100%").attr("style","box-sizing: border-box;").attr("viewBox",`0 0 ${t} ${t}`);this._donutGroup=d.append("g").attr("transform",`translate(${o}, ${o})`);this._donutPathGroup=this._donutGroup.append("g");this._chartArc=(0,i.arc)().innerRadius(s).outerRadius(o-a/2);this._chartArcOver=(0,i.arc)().innerRadius(s).outerRadius(o);this._donutGroup.append("circle").attr("r",s+r/2).attr("style","stroke-opacity: 0.1; fill: none; stroke: #000000; pointer-events: none;").style("stroke-width",r);this._setUpContentDom(l,s)}_setUpContentDom(e,t){let a=Math.sqrt(Math.pow(t,2)*2);let r=e.append("div").attr("class",`${m}__container ${this._options.chartClass}__container`).attr("style",(0,f.trimLines)(`\n\t\t\t\t\theight: ${a}px;\n\t\t\t\t\tmargin-left: ${-a/2}px;\n\t\t\t\t\tmargin-top: ${-a/2}px;\n\t\t\t\t\twidth: ${a}px\n\t\t\t\t`));this._setUpPlaceholderDom(r);this._setUpValueDom(r)}_setUpPlaceholderDom(e){this._placeholderContainer=e.append("div").attr("class",`${m}__content ${this._options.chartClass}__content`);if(this._options.icon.visible){this._placeholderIcon=this._placeholderContainer.append("svg").attr("class",`${m}__icon ${this._options.chartClass}__icon js-BhrPercentDonutChart-icon-svg`).attr("xmlns:xlink","http://www.w3.org/1999/xlink");this._placeholderIcon.append("use")}this._placeholderTitle=this._placeholderContainer.append("div").attr("class",`${m}__title ${this._options.chartClass}__title`);this._placeholderLabel=this._placeholderContainer.append("div").attr("class",`${m}__label ${this._options.chartClass}__label`)}_setUpValueDom(e){this._value=e.append("div").attr("class",`${m}__value ${this._options.chartClass}__value`);this._valuePercentage=this._value.append("span");this._valuePercentageSign=this._value.append("span").text("%");if(this._options.valueLabel.visible){this._valueLabel=this._value.append("div").attr("class",`${m}__valueLabel ${this._options.chartClass}__valueLabel`)}}draw(e){const t=typeof e.icon==="string"?(0,o.getIconObject)(e.icon):e.icon;this._sizes=this._getSizes();this._trigger=false;this._drawPaths(e.data);if(this._options.useRelativeSizes.label){this._placeholderLabel.style("font-size",this._sizes.placeholderLabelFontSize+"px").style("line-height",this._sizes.placeholderLabelFontSize+2+"px")}if(!this._options.hidePlaceholderLabel){this._placeholderLabel.text(e.name)}if(t&&this._options.icon.visible){this._placeholderIcon.attr("height",(t.height||0)+"px").attr("width",(t.width||0)+"px");this._placeholderIcon.select("use").attr("xlink:href",t.path)}else if(this._options.hidePlaceholderTitle){this._placeholderTitle.text("")}else{this._placeholderTitle.text(e.totalCount)}}_drawPaths(e){const t=(0,i.pie)().padAngle(.015).value((e=>e.count)).sort(null);const a=this._donutPathGroup.selectAll("path");const r=a.data();const n=t(e.filter((e=>!!e.count)));const o=(0,s.sum)(e,(e=>e.count));let l=a.data(n,b);let d,c,u;d=l.enter().append("path").each((function(e,t){this._current=(0,p.findNeighborArc)(t,r,n,b)||e}));c=d.merge(l).attr("id",(e=>e.data.id)).attr("fill",(e=>e.data.color));this._addSlideTransition(c,o);u=l.exit().datum((function(e,t){return(0,p.findNeighborArc)(t,n,r,b)||e}));this._addSlideTransition(u,o).remove()}_getSizes(){return Object.keys(v).reduce(((e,t)=>{let a=Math.round(v[t]*this._options.size);let r=g[t]||0;e[t]=Math.max(a,r);return e}),{})}_addSlideTransition(e,t){const a=this;const r=function(e){const t=(0,d.interpolate)(this._current,e);this._current=t(0);return function(e){var r=t(e);return a._chartArc(r)}};return e.on("mouseenter",null).on("mouseleave",null).transition().duration(y).attrTween("d",r).on("end",(function(){(0,n.select)(this).on("mouseenter",(function(e){a._onPathEnter((0,n.select)(this),e,t)})).on("mouseleave",(function(e){a._onPathLeave((0,n.select)(this),e,t)}))}))}_onPathEnter(e,t,a){let r=this._getSizes();this._trigger=true;setTimeout((()=>{if(this._trigger){e.node().dispatchEvent(new CustomEvent("ba:donutSliceEnter",{bubbles:true,detail:t.data}));this.trigger("sliceEnter",t.data,e.node());this._value.styles({color:t.data.color,display:"block"});this._valuePercentage.text(Math.round(t.data.count/a*100));if(this._options.useRelativeSizes.percentage){this._valuePercentage.style("font-size",r.valueFontSize+"px")}if(this._options.useRelativeSizes.percentageSign){this._valuePercentageSign.style("font-size",r.valuePercentageSignFontSize+"px")}if(this._options.valueLabel.visible){this._valueLabel.text(t.data.label).styles({color:t.data.color,"font-size":r.valueLabelFontSize+"px"})}this._placeholderContainer.style("display","none");e.transition().duration(150).ease(l.easeCircleInOut).attr("d",this._chartArcOver)}}),150)}_onPathLeave(e,t,a){this._trigger=false;setTimeout((()=>{e.node().dispatchEvent(new CustomEvent("ba:donutSliceLeave",{bubbles:true,detail:t.data}));this.trigger("sliceLeave",t.data,e.node());if(!this._trigger){this._value.style("display","none");this._placeholderContainer.style("display","block")}e.transition().duration(150).ease(l.easeCircleInOut).attr("d",this._chartArc)}),150)}}var S=w;t.default=S},988259:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(331760);var i=a(212172);a(761571);var o=r(a(60042));var s=a(273641);var l=a(479706);const d=(0,l.isEnabled)("ElfDeepLinking");const c="BhrLegend";const u={chartClass:"",showCounts:true,truncate:true,onClick:null};class f{static get className(){return"Legend"}constructor(e,t){this._options=(0,s.defaultsDeep)({},t,u);this._setUpDom(e)}_setUpDom(e){const t=(0,n.select)(e).append("div").attr("class",(0,o.default)(`${c}`,{[`${this._options.chartClass}`]:this._options.chartClass}));this._legendList=t.append("ul").attr("class",(0,o.default)(`${c}__legendList`,{[`${this._options.chartClass}__legendList`]:this._options.chartClass,[`${c}__legendList--columnLayout`]:this._options.columnLayout}));this._total=t.append("div").attr("class",(0,o.default)(`${c}__total`,{[`${this._options.chartClass}__total`]:this._options.chartClass}));this._total.append("span").style("flex-grow",1).text($.__("Total"));this._totalCount=this._total.append("span")}draw(e){let t,a;const r=(0,i.sum)(e,(e=>e.count));const n=e.slice();t=this._legendList.selectAll(".js-BhrPercentDonutChart-legendItem").data(n);t.exit().remove();a=t.enter().append("li").attr("class",(0,o.default)({[`${c}__legendItem`]:true,[`${this._options.chartClass}__legendItem`]:this._options.chartClass,"js-BhrPercentDonutChart-legendItem":true}));if(this._options.onClick){a.attr("style","cursor: pointer").on("click",this._options.onClick)}a.append("span").attr("class",(0,o.default)({[`${c}__swatch`]:true,[`${this._options.chartClass}__swatch`]:this._options.chartClass,"js-BhrPercentDonutChart-swatch":true}));const s=this._options.truncate?"truncate":"";a.append("span").attr("class",(0,o.default)({[`${c}__legendText`]:true,[`${this._options.chartClass}__legendText`]:this._options.chartClass,"js-BhrPercentDonutChart-legendText":true,[`${s}`]:s}));t=a.merge(t);t.filter((function(e){return e.isTotal})).styles({"border-top":"1px solid #d8d8d8","padding-top":"8px"});t.select(".js-BhrPercentDonutChart-legendText").attr("id",(e=>e.id)).style("font-weight",(e=>e.color===null?"600":"normal")).text((e=>e.label)).filter((e=>e.subLabel)).append("span").attr("class",(0,o.default)(`${c}__legendSubLabel`,{[`${this._options.chartClass}__legendSubLabel`]:this._options.chartClass})).text((e=>e.subLabel)).style("font-weight","normal");t.select(".js-BhrPercentDonutChart-swatch").style("background-color",(e=>e.color));if(this._options.showCounts){this._total.style("display","flex");this._totalCount.text(r);this._drawLegendItemCounts(t)}else{this._total.style("display","none")}}_drawLegendItemCounts(e){const t=e.selectAll(".js-BhrPercentDonutChart-legendCount").data((e=>[e]));t.enter().append("span").attr("class",(0,o.default)(`${c}__legendCount`,{[`${this._options.chartClass}__legendCount`]:this._options.chartClass,"js-BhrPercentDonutChart-legendCount":true})).merge(t).text((e=>{if(!e.hasOwnProperty("countDetailLink")||e.countDetailLink===null){return e.count}return null})).filter((e=>e.hasOwnProperty("countDetailLink")&&e.countDetailLink!==null)).append("a").attr("href",d&&this._options.onClick?null:e=>e.countDetailLink).text((e=>e.count));t.exit().remove()}sliceEnter(e){this._legendList.selectAll(".js-BhrPercentDonutChart-legendText").filter((t=>t.id===e)).style("font-weight","600")}sliceLeave(e){this._legendList.selectAll(".js-BhrPercentDonutChart-legendText").filter((t=>t.id===e)).style("font-weight","normal")}}t.default=f},903029:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(183818);var i=a(331760);var o=a(439821);var s=r(a(268069));var l=a(273641);const d="SliceChart";const c={chartClass:"",colors:["#8db812","#5b9fb2","#f19d11","#db6021"],container:{height:57,width:887},slice:{height:17,hoverMargin:4,width:700}};class u{static get className(){return"SliceChart"}constructor(e,t=c){this._selector=e;this._options=(0,l.defaultsDeep)({},t,c)}_createDom(e){const t=(0,i.select)(this._selector).append("div","hr").attr("class",`${d} ${this._options.chartClass}`).style("height",`${this._options.container.height}px`);if(e.title){this._title=t.append("div").attr("class",`${d}__title ${this._options.chartClass}__title`).text(e.title).append("span").attr("class",`${d}__subtitle ${this._options.chartClass}__subtitle`).text(`(${e.count})`)}this._svg=t.append("svg").attr("class",`${d}__bar ${this._options.chartClass}__bar`).attr("viewBox",`0 0 ${this._options.slice.width} ${this._options.slice.height+this._options.slice.hoverMargin}`).style("height",`${this._options.slice.height+this._options.slice.hoverMargin}px`).style("width",`${this._options.slice.width}px`)}draw(e){this._createDom(e);const t=this;t.totals=e.totals;const a=(0,o.stack)().keys(e.keys).order(o.stackOrderReverse);const r=a([e.values]);const i=(0,n.scaleLinear)().range([this._options.slice.height+this._options.slice.hoverMargin,0]).domain([0,1]);const s=(0,n.scaleLinear)().range([0,this._options.slice.width]).domain([0,1]);this.barColors=(0,n.scaleOrdinal)(this._options.colors);if(typeof this._options.getColor==="function"){this.barColors=this._options.getColor}this._drawBars(r,s,t)}_drawBars(e,t,a){const r=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("fill",(e=>this.barColors(e.key)));const n=r.selectAll("rect").data((e=>e));n.enter().append("rect").merge(n).attr("x",(e=>t(e[0]))).attr("width",(e=>{const a=t(e[1])-t(e[0])-2;return a>0?a:0})).attr("y",this._options.slice.hoverMargin/2).attr("height",this._options.slice.height).attr("class",`${d}__cell ${this._options.chartClass}__cell`).on("mouseenter",(function(e){a._onPathEnter(this,e,(0,i.select)(this.parentNode).datum(),a===null||a===void 0?void 0:a.totals)})).on("mouseleave",(function(e){a._onPathExit(this)}))}_onPathEnter(e,t,a,r){(0,i.select)(e).transition().duration(150).attr("y",0).attr("height",this._options.slice.height+this._options.slice.hoverMargin);if(typeof this._options.getHoveredValue==="function"){this._options.getHoveredValue(a.key)}if(!s.default.hasInstance(e)){var n,o,l,c,u,f,p;s.default.create(e,{template:{name:"popover-standard",data:{title:(n=this._options)!==null&&n!==void 0&&(o=n.popover)!==null&&o!==void 0&&o.title?this._options.popover.title(a):`${Math.round((t[1]-t[0])*100)}%`,content:(l=this._options)!==null&&l!==void 0&&(c=l.popover)!==null&&c!==void 0&&c.content?(u=this._options)===null||u===void 0?void 0:u.popover.content(a,r):a.key,popoverClass:`${d}__popover ${this._options.chartClass}__popover `,titleCssOverride:{color:"#222222","text-align":"center","font-weight":"600"},contentCssOverride:{"text-align":"center"},rawContent:(f=this._options)!==null&&f!==void 0&&(p=f.popover)!==null&&p!==void 0&&p.rawContent?this._options.popover.rawContent:false}},position:"top",triggerEvent:"hover",showImmediately:true,closeX:false,push:6,delay:75})}}_onPathExit(e){if(typeof this._options.getHoveredValue==="function"){this._options.getHoveredValue("")}(0,i.select)(e).transition().duration(150).attr("y",this._options.slice.hoverMargin/2).attr("height",this._options.slice.height)}}t.default=u},402436:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.Component=void 0;var r=a(774548);var n=a(273641);let i=new WeakMap;let o=new WeakMap;let s=new WeakMap;let l=new WeakMap;let d=new WeakMap;class c{static get className(){return"Component"}static init(e,t,a){if(!(e instanceof c)){if(this===c){throw new Error("You must pass a component class to Component.init()")}else{e=this}}if(!(0,r.isJqueryElement)(t)){t=(0,r.getCurrentScript)(e.className)}if(!(0,n.isPlainObject)(a)){a=(0,r.getScriptConfig)(t,null,{[e.className]:e})}if((0,r.isJqueryElement)(t)&&new RegExp(`\\/js\\/${e.className}\\.dist\\.js`).test(t.attr("src"))){let r=new e(t,a)}return c}static getComponent(e){return d.get($(e)[0])}get config(){return i.get(this)}get id(){return l.get(this)}get Theme(){return s.get(this)||{}}get $element(){return o.get(this)}constructor(e,t){if(this.constructor.className==="Component"){throw new Error("Component is meant to me extended, not instantiated directly.")}if(arguments.length===1&&(0,n.isPlainObject)(e)){t=e;e=null}if((0,n.isString)(e)||(0,n.isElement)(e)){e=$(e)}t=t||{};let{defaultConfig:a,themes:c,className:u,stylePath:f}=this.constructor;if((0,n.isString)(f)&&$(`link#${u}`).length<1){$(`<link id="${u}__css" rel="stylesheet"/>`).attr("href",window.Res.get(f)).add(`\n\t\t\t\t\t<style>\n\t\t\t\t\t\t.${u} {\n\t\t\t\t\t\t\tvisibility: hidden;\n\t\t\t\t\t\t}\n\t\t\t\t\t</style>\n\t\t\t\t`).appendTo(document.head)}if((0,r.isJqueryElement)(e)){t.id=t.id||e.attr("id")}t.id=t.id||`${u}__${(0,r.makeUid)()}`;(0,n.defaults)(t,(0,r.getScriptConfig)(e,a,{[this.constructor.className]:this.constructor}));i.set(this,t);l.set(this,t.id);let p=$("<div/>").attr("id",this.id).addClass(`${u}`);o.set(this,p);d.set(p[0],this);t.$element=p;p.data(u,this);if((0,n.isString)(a.theme)&&(0,n.isPlainObject)(c)&&(0,n.isString)(c.DEFAULT)){let e=`${(0,n.capitalize)(t.theme)}Theme`;if(!c[e]){t.theme=a.theme;e=c.DEFAULT}let r=`--${(0,n.kebabCase)(e)}`;p.addClass(u+r);let i=c[e];let o=new i(t,this);o._modifier=r;s.set(this,o)}if((0,n.isFunction)(this.constructor.setup)){this.constructor.setup(this)}if(!(0,r.isJqueryElement)(e)){e=$($(`.${u}:not(.${u}--loaded):not(script)`)[0]||this.config.$script)}e.replaceWith(p);let m=this.Theme._modifier;setTimeout((()=>{this.render().done((()=>{p.find(`[class^="${u}__"], [class*=" ${u}__"]`).each((function(){let e=$(this);let t=new RegExp(`(^| )${u}__([^ ]+)`);let a=t.exec(e.attr("class"))[2];if(a){e.addClass(`${u}__${a}${m}`)}}));p.addClass(`${u}--loaded`).triggerHandler(`${u}:init`,[this])}))}),0)}render(){let e=this.Theme.mainTmpl||this.config.mainTmpl||this.mainTmpl||this.constructor.mainTmpl;let t=this.Theme.mainTmplData||this.config.mainTmplData||this.mainTmplData||this.constructor.mainTmplData;t=(0,r.fnResult)(t,this);return(0,r.when)(e,t).done(((e,t)=>{let a=$(window.microTemplate(e||"",t||{}));this.$element.triggerHandler(`${this.constructor.className}:prerender`,[this,a]);this.$element.html("").append(a).triggerHandler(`${this.constructor.className}:rendered`,[this])}))}on(e,...t){if(!(0,n.startsWith)(e,this.constructor.className+":")){e=`${this.constructor.className}:${e}`}this.$element.on(e,...t);return this}off(e,...t){if(!(0,n.startsWith)(e,this.constructor.className+":")){e=`${this.constructor.className}:${e}`}this.$element.off(e,...t);return this}one(e,...t){if(!(0,n.startsWith)(e,this.constructor.className+":")){e=`${this.constructor.className}:${e}`}this.$element.one(e,...t);return this}}t.Component=c},698108:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(273641);class n{static get className(){return"Confetti"}constructor(e,t=null){this.target=$(e);this.canvas=null;this.context=null;this.drawInterval=0;this.setRelative=true;this.offsetX=0;this.offsetY=0;this.offsetWidth=0;this.offsetHeight=0;this.numParticles=30;this.particles=[];this.angle=0;this.tiltAngle=0;if(!(0,r.isNil)(t)){for(var a in t){this[a]=t[a]}}$(window).resize(this.setDimensions.bind(this));this.initialize();if(this.easterEgg&&this.panda){this.panda.onload=this.start.bind(this);this.panda.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAcCAYAAAB2+A+pAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAF7UlEQVRIDY2WS2iVRxTHz82NMdFgKxqbCPGNxEJRExdKqyQLQcxWEjEES1UE2027kCyq6EKK7cZFKzQKqQ9KjRYFqeQhRBBUsBof0MYnNkajsZqo0TzuY/r/zb1f+t1Ybf5wvpk5c87/zOs7M2YhOOeioWZGVX1ZkkiGMtSgD5uQKqOqvgzu7KCXjkgkknj27Nl7kydP/kz6lZJ8SZ/kF/X9DLEEn4TESQCDgTQhm6T6a1Svlrwv6Ze09Pb2NqjveRBDOu9kgULlR9I1Pn36tOTChQvW3d1ts2bNsoqKCotGoz/I+Quc3gb5f59IJD5va2uze/fuWVFRkS1dutSmTJnSIZ8q+V8PYhHUL5/KDyR/nT9/npkMSeJpiVVXV8cHBwfV7XZLvpb8KmlOC3V0u7FZu3YtfrGQ/xCcQqekUHofk33xS6zym0ePHtVplMOSnPz8fBORTZs2zS5duuQaGxvd6tWrs+7evWv379+3J0+ewGEFBQVWXFxsc+bMsVOnTiWrqqoiZWVlkZ6eHsvNzbX+/n5WbliSU1hY+J1mvZWY2aqwX8z6k9OnT8OVjcOtW7dMfSwxugiEy5cvTyxatMgRRAPzK3Xz5k3X1NRkV65ciZw9e9Yba6usq6uLmdns2bM9Z2trq9XW1n4MFzH94dqxYwck0aEhVlhrHI/bpEmTbOLEiX6v1q1bZ+vXr7eFCxdGWQEGFAYBmOHVq1ft0KFDdvjwYb+/r1698lzYDg8PU0S1clmaRMIfLDRy/vHOnTvs7/D06dPduHHjqLvjx487Eag7hWQy6f5Lgv7Xr197H3zhgEv1GNxCveqpmGr4f0/lAknXmTNnMEzOnTvXafmkSkGn1QcM2qNLBoNNAHzhgAtOoUuyIB049b9L4fdG5bHHjx9jHL9+nZPvPBmkY0V4AHDABadwLB3Uxwovdbn22C1btix54sQJH0d7PdZ4b9gFvnDBCbdQHgRnyowKbGlvb7cJEyYkKisrvSIrK4uBmWbhhfrbMNoOXwAXnHALW/gIKSI5zdD+9OrkOv1Sfl3/b0/l806ElxxOuIkhpxmp2IR3bo1+Bzdz5syEEkMGoRKGUwp0LS0t7tq1axkHKDBkkPRhgy0+YcAJNzGENeHA2zs6OpxGFYMEDAwMuH379rEkGXLy5Enfz4wQgG60Hb5wADjhJoawncCpjTArJgVqVBbszZEjR2zTpk3+kuCimD9/PvZWX19vIvRJhERCHR3ABlsEXzgAnHCn02yx1/kesxz9+JadnbolX7x4YQ0NDb6rr6/POjs7jTQIpk6dOjI42pCiA9hgiw+AAy4ANzGEHD7BjAdIkYw+gJbEV3HQqTQleN/esGGDjR8/3qdCUit1dAAbbIMJBBz0wU0MYZCPhwy+1P3pVqxYEZeBms7t37/f75uIR/Zv7969LhaLuaNHj7q6ujov1NHRJ7IMHzgAnHATQ/gqHdaf6iVahnhpaWny3LlzdDpdZ+7AgQNu1apVXg4ePOhIAkr2btu2bSNBqKOjD5vAHl84AJxwE0PNsmC2/qqRopkLW8sU075g70H95cuXQXOkVEJwyGhgO9ofzvRjoJmg8onw8fusskwS27lzp1O2iT9/zhPpX/DrMCu9n7zywYMHDgHo6At+L6/UBw644BRiEj9blamzpUpwSWxU3e3atYuljF28eDEjYZB/dem7PXv2uM2bN3uhji7Izfjz3+ILB1xpbEzPNnVJ0ADqDILXqt6vx57TazNRU1MTI+XpWRQQZNzP4bsaG2zxwRcOuCS14RjU/f5SATII3l8fqvmtTmMlyV0HxbhT9WJMlJSU2Lx58yJ6HnlfHni3b992N27cMO1jtLy8PKIsZYsXL7a8vLzfxLNVieaPgJs4ICMwirCB6hVSfapypbJOkd7cpl/CHj586B9x2PMo1CvDZyY9Y3n8dStQq7p+UtmGTZiTNngjMEoZ+s2XYzLdJjUtkZRKeEUUSPIkgKzDk/NPyWXJ7/L7W+UbPOjGBEYaDGJMDmkjfPB9l88/4YuLNj6XJrEAAAAASUVORK5CYII="}else{this.start()}}initialize(){this.canvas=document.createElement("canvas");if(this.cssClass){this.canvas.classList.add(this.cssClass)}if(this.setRelative){this.target.css("position","relative")}this.target.prepend(this.canvas);$(this.canvas).css("position","absolute");$(this.canvas).css("top",this.offsetY);$(this.canvas).css("left",this.offsetX);this.setDimensions();this.context=this.canvas.getContext("2d");for(var e=0;e<this.numParticles;e++){this.particles.push(this.getNewParticle())}if((window.ENV==="dev"||window.SESSION_USER.companyId.match(/28448|2218|20/))&&this.easterEgg){this.panda=new Image;for(let e=0;e<this.numParticles/5;e++){this.particles.push({...this.getNewParticle(),isPanda:true})}}}setDimensions(){this.canvas.width=this.target.outerWidth()+this.offsetWidth-1;this.canvas.height=this.target.outerHeight()+this.offsetHeight-1}draw(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(let e=0;e<this.particles.length;e++){const t=this.particles[e];if(t.isPanda){this.context.drawImage(this.panda,t.xPos,t.yPos)}else{this.context.beginPath();this.context.lineWidth=t.size*.3;this.context.strokeStyle=t.color;this.context.moveTo(t.xPos+t.tilt+t.size*.25,t.yPos);this.context.lineTo(t.xPos+t.tilt,t.yPos+t.tilt*.5+t.size*.1);this.context.stroke()}}this.update()}getNewParticle(){return{xPos:Math.random()*this.canvas.width,yPos:Math.random()*this.canvas.height,size:this.randomFromTo(5,30),density:Math.random()*this.numParticles+10,color:`rgba(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, 0.7)`,tilt:Math.floor(Math.random()*10)-10,tiltAngleIncremental:Math.random()*.04+.03,tiltAngle:0}}randomFromTo(e,t){return Math.floor(Math.random()*(t-e+1)+e)}update(){this.angle+=.01;this.tiltAngle+=.1;for(let e=0;e<this.particles.length;e++){const t=this.particles[e];t.tiltAngle+=t.tiltAngleIncremental;t.yPos+=(Math.cos(this.angle+t.density)+1+t.size*.5)*.15;t.xPos+=Math.sin(this.angle)*.5;t.tilt=Math.sin(t.tiltAngle-e/3)*15;if(t.xPos>this.canvas.width+15||t.xPos<-15||t.yPos>this.canvas.height+15){t.tilt=Math.floor(Math.random()*10)-10;if(e%5>0||e%2==0){t.xPos=Math.random()*this.canvas.width;t.yPos=-10}else{t.yPos=Math.random()*this.canvas.height;if(Math.sin(this.angle)>0){t.xPos=-5}else{t.xPos=this.canvas.width+5}}}}}start(){this.drawInterval=setInterval(this.draw.bind(this),20)}stop(){clearTimeout(this.drawInterval);if(!(0,r.isNil)(this.context)){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}}}t.default=n},481292:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"SendSignatureRequest",{enumerable:true,get:function(){return n.default}});t.default=void 0;var n=r(a(821095));var i={};i.SendSignatureRequest=n.default;var o=i;t.default=o},821095:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(479706);var s=r(a(417842));var l=r(a(506521));const d=(0,o.isEnabled)("jade");var c={_additionalSignersUri:"/ajax/employees/files/update_additional_signers.php?id=",_selectors:{additionalSigners:".js-additional-signers",templates:".js-esignature-template-list"},init(){this.$=BambooHR.Utils.setupWrappers(this._selectors);this._attachHandlers()},primaryActionFunction(){window.BambooHR.Modal.setState({isProcessing:true},true);this.send(this.employeeId).then((({success:e})=>{if(e){window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true)}}))},openModal(e){const t=`/ajax/employees/files/send_signature_request.php?employeeId=${e}`;if(d){window.BambooHR.Modal.setState({isLoading:true,isOpen:true});this.employeeId=e;s.default.get(t).then((({data:e})=>{if(e){const{html:t}=e;window.BambooHR.Modal.setState({content:(0,n.default)("div",{dangerouslySetInnerHTML:{__html:t}}),isLoading:false,title:$.__("Request Signature"),primaryAction:null,primaryActionText:$.__("Send Request")},true);this.init()}}));return}var a=this;SimpleModal.openModal({classes:"no-overflow",callbacks:{open:{after(){window.Employees.Files.SendSignatureRequest.init()}}},footer:{show:true,buttons:{primary:{disabled:true,text:$.__("Send Request"),action(){SimpleModal.Footer.Buttons.startProcessing();a.send(e)}}}},title:$.__("Request Signature"),url:t})},send(e){return $.post("/ajax/employees/files/send_signature_request.php?employeeId="+e,$(".js-send-signature-request-form").serialize(),(function(e){setMessage(e.error,e.success===true?"success":"error");if(e.success===true){SimpleModal.closeModal()}SimpleModal.Footer.Buttons.stopProcessing()}),"json")},_attachHandlers(){if(d){document.querySelector(this._selectors.templates).addEventListener("ba:selectChange",(({detail:e})=>{const{value:t}=e;if(t){l.default.fetchDisclaimer(t);this.$.additionalSigners.load(`${this._additionalSignersUri}${t}`);window.BambooHR.Modal.setState({primaryAction:()=>this.primaryActionFunction()},true)}else{l.default.hideDisclaimer();this.$.additionalSigners.html("");window.BambooHR.Modal.setState({primaryAction:null},true)}}));return}const e=this;this.$.templates.on("change",(function(){if(this.value!==""){e.$.additionalSigners.load(e._additionalSignersUri+this.value);SimpleModal.Footer.Buttons.Primary.enable()}else{e.$.additionalSigners.html("");SimpleModal.Footer.Buttons.Primary.disable()}}))}};var u=c;t.default=u},569561:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"RehireModal",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"EmploymentStatusModal",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"CompensationForm",{enumerable:true,get:function(){return o.default}});t.default=void 0;var n=r(a(914280));var i=r(a(167596));var o=r(a(362166));var s={};s.RehireModal=n.default;s.EmploymentStatusModal=i.default;s.CompensationForm=o.default;var l=s;t.default=l},362166:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.toggleOvertimeRateDisplay=P;t.calculateDoubleOvertime=W;t.default=void 0;var r=a(153821);var n=a(774548);var i=a(479706);var o=a(228493);var s=a(627096);a(204059);a(221503);const l=(0,i.isEnabled)("zeroWage");const d={initializeForm(e){this.selectedPayType=$(".js-payType ba-option:selected").text().toLowerCase();setTimeout((()=>{if(e){v(e)}if(!e||e==="updateCompensation"){const e=this.selectedPayType==="hourly";C(e);H(true);if(x()){L();k();j();R();if(l){A();S()}}}if(e==="updateCompensation"){(0,s.initializeHoursPerWeekField)()}}))},formChangeHandler(e){const t=e.target.name;if(t==="payType"){this.selectedPayType=`${e.target.value}`.toLowerCase()}const a=this.selectedPayType==="hourly";C(a);setTimeout((()=>{v("updateCompensation");if(x()){if(t==="payScheduleId"){k();j()}else if(t==="paidPer"){k()}else if(t==="payType"){j()}R()}else{N($(".js-paidPer"));N($(".js-payType"))}I();if(t==="overtimeRate[0]"){H(true)}if(t==="rate[0]"&&l){S()}}))},setupForm(e){let t;let a;let r;if(e==="updateCompensation"){t="input.js-payRate";a='input[name="ymd"]';r='input[name="endYmd"]'}else if(e==="requestChangeApproval"||e==="approvalPreviewForm"){t="input.js-rate";a="input.js-startDate";r="input.js-endDate"}c(t);c(a);c(r);if(e==="updateCompensation"){O(t,"required","requiredWhenVisible")}},addFormNote(){setTimeout((()=>{L()}))},handlePayScheduleChange(e){if(e!==undefined){e.stopPropagation()}k();j();setTimeout((()=>{R()}))},handlePaidPerChange(){setTimeout((()=>{if(x()){k();R()}}))},handlePayTypeChange(e){v(e);if(!e||e==="updateCompensation"||e==="requestChangeApproval"){setTimeout((()=>{if(x()){j();R()}}))}},paidPerAndPayTypeValid(){return B()},handleOvertimeRateChange(){setTimeout((()=>{H()}))}};function c(e){$(e).attr("data-lpignore",true)}function u(e){if(e==="requestChangeApproval"||e==="approvalPreviewForm"){return $(".CustomApprovalForm")}return $("#historyEdit")}function f(e){const t=u(e);return{$payTypeSelectElement:t.find("ba-select.js-payType")}}function p(e){const t=u(e);let a;let r;let n;if(e==="requestChangeApproval"||e==="approvalPreviewForm"){a=t.find("input.js-rate");r=a.siblings("button.js-currency-picker-button");n=a.closest(".fieldRow")}else{a=t.find("input.js-payRate");r=a.siblings("button.CurrencyPicker__button");n=a.closest(".fieldGroup")}return{$payRateInputElement:a,$payRateButtonElement:r,$payRateElement:n}}function m(e){const t=u(e);let a;if(e==="requestChangeApproval"||e==="approvalPreviewForm"){a=t.find("input.js-rate").closest(".fieldBox").find(".fab-FormNote")}else{a=t.find(".compensation-per")}return{$paidPerTextElement:a}}function h(e){const t=u(e);let a;if(e==="requestChangeApproval"||e==="approvalPreviewForm"){a=t.find("ba-select.js-paidPer")}else{a=t.find('ba-select[name="paidPer"]')}return{$paidPerSelectElement:a,$paidPerElement:a.closest(".fieldBox")}}function v(e){w(e);b(e);y(e);g(e)}function g(e){const{$payTypeSelectElement:t}=f(e);const{$paidPerSelectElement:a,$paidPerElement:r}=h(e);(0,o.jqUpdatePaidPerBasedOnPayType)(t,r,a)}function y(e){const{$payTypeSelectElement:t}=f(e);const{$paidPerTextElement:a}=m(e);(0,o.jsUpdatePayPerTextBasedOnPayType)(t,a)}function b(e){const{$payTypeSelectElement:t}=f(e);const{$payRateInputElement:a,$payRateButtonElement:r,$payRateElement:n}=p(e);(0,o.jqUpdatePayRateBasedOnPayType)(t,n,a,r)}function w(e){const{$payTypeSelectElement:t}=f(e);(0,o.jqUpdatePayTypeBasedOnPayType)(t)}function S(){const e=$(".js-payRate");const t=$(".js-overtimeStatus");const a=$(".js-overtimeStatusFormNote");if(!t.length||!e.length){return}const n=(0,r.fixCurrencyValue)(e.val());if(n===0){t.val("Exempt").disable();a.show()}else{t.enable();a.hide()}}function O(e,t,a){const r=$(e);if(r.hasClass(t)){r.removeClass(t);r.addClass(a)}}function T(e){const t=$('.js-paidPer, ba-select[name="paidPer"]');const a=t.attr("name");const i=$(`select[name="${a}"]`).val();const o=$(".js-hourlyOvertimeNote");if(!(0,n.hasTrax)()||i!=="Hour"){if(o){o.remove()}return false}const s=e.data("cursymbol")||"$";const l=(0,r.fixCurrencyValue)((0,r.appendDecimalIfNecessary)(e.val(),s));const d=(Number(l)*2).toFixed(2);const c=(Number(l)*1.5).toFixed(2);const u=e.data("currencysymbolposition")==0?`${s}${c}`:`${c}${s}`;const f=e.data("currencysymbolposition")==0?`${s}${d}`:`${d}${s}`;const p=$.__("Overtime rate is %1 (1.5x), double-time rate is %2",u,f);if(o.length>0){o.html(`<span class="js-hourlyOvertimeNote fab-FormNote">${p}</span>`)}else{$(".js-overtimeStatus, .js-exemptStatus").closest(".fieldBox").append(`<span class="js-hourlyOvertimeNote fab-FormNote">${p}</span>`)}}function C(e=false){const t=$(".js-overtimeRate");const a=$('select[name="exempt"]').val();P(t,a,e);if(a==="Non-exempt"){if(!e){t.find(".currency-field.js-overtimeRate").setTraxRequired(x())}}}function P(e,t,a){let r=$(".js-payRate");if(r.length===0){r=$(".js-rate")}if(t==="Non-exempt"){if(!(0,n.hasTrax)()){e.show()}else if(a&&r.data("currencysymbolposition")==0){T(r);E(e)}else{const t=$(".js-hourlyOvertimeNote");if(t.length>0){t.remove()}e.show()}}else{E(e)}}function E(e){e.hide();e.val("").find("input.currency-field").val("")}function M(){const e=$(".js-paySchedule");const t=e.find("ba-option[selected]");return t.attr("data-syncing-pay-schedule")==="true"}function x(){const e=$(".js-paySchedule");const t=e.find("ba-option[selected]");return t.attr("data-syncing-pay-schedule")==="true"}function k(){const e=$(".js-paidPer");const t=e.attr("name");const a=$(`select[name="${t}"]`).val();const r=M();if(r){F(e);if(a==="Piece"){e.attr("placeholder",a);e.attr("error",true)}else{D(e)}}else if(!r){N(e);D(e)}else if(a!==""){D(e)}}function j(){const e=$(".js-payType");const t=e.attr("name");const a=$(`select[name="${t}"]`).val();const r=M();if(r){F(e);if(a==="Contract"){e.attr("placeholder",a);e.closest(".fieldBox").find("label").addClass("fab-Label--error");e.attr("error",true)}else{D(e)}}else if(!r){N(e);D(e)}else if(a!==""){D(e)}}function I(){const e=x();const t=$(".js-payType ba-option:selected").attr("value");const a=x(e)&&t!=="Commission";$(".js-rate").setTraxRequired(a);$(".js-payRate__label").toggleClass("fab-Label--required",e)}function F(e){const t=e.find("ba-option");e.children().remove();const a=t.map(((e,t)=>{if($(t).attr("data-invalid-payroll-option")==="true"){$(t).attr("hidden",true)}return t}));e.append(a)}function D(e){e.removeAttr("error");e.closest(".fieldBox").find("label").removeClass("fab-Label--error")}function N(e){const t=e.find("ba-option");const a=e.find("ba-option[selected]");e.children().remove();const r=t.map(((e,t)=>{if($(t).attr("data-invalid-payroll-option")==="true"){$(t).removeAttr("hidden");if(a.length>1){$(t).removeAttr("selected")}}return t}));e.append(r)}function A(){const e=$(".js-overtimeStatus").closest(".fieldBox");const t=$(`<span class="fab-FormNote js-overtimeStatusFormNote">${$.__("Non-exempt requires a Pay Rate higher than $0.00")}</span>`);e.append(t)}function L(){const e=$(".js-paySchedule");const t=$('<div id="js-pay-schedule-note" style="position: absolute; left: 224px; width: 230px; display: none;"></div>');const a=$.__("This pay schedule isnt compatible with a couple other fields.");const r=$.__("Make sure to also update the fields highlighted in red.");t.append(`<div class="fab-FormNote CompensationForm__warningNote js-pay-schedule-warning-note">${a}</div>`);t.append(`<div class="fab-FormNote">${r}</div>`);e.parent().append(t)}function R(){const e=$(".js-payType");const t=$(".js-paidPer");if(e.attr("error")||t.attr("error")){$("#js-pay-schedule-note").show()}else{$("#js-pay-schedule-note").hide()}}function B(){const e=$(".js-payType");const t=$(".js-paidPer");if(e.attr("error")||t.attr("error")){return false}return true}function H(e=false){if(!(0,n.hasTrax)()){return false}const t=$(".js-overtimeRate");const a=e?$(".overtimeRate"):t;a.blur();const i=(0,r.fixCurrencyValue)(a.val());const o=$(".js-double-overtime-note");const s=o.length>0;const l=W(i);const d=$.__("The double time rate is $%1.",l);if(s){o.text(d);o.toggle(i!==0)}else if(i!==0){const a=`<span class="fab-FormNote js-double-overtime-note">${d}</span>`;if(e){t.append(a)}else{t.closest(".fieldDiv").append(a)}}}function W(e){return(Number(e)*1.33333333).toFixed(2)}var U=d;t.default=U},167596:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(417842);var n=a(845382);const i={updateTaxTypeInitialOptions(e,t){if(i.checkIfPayrollCustomer()){const a=t||document.querySelector('[name="employeeStatusHistoryItemId"]').value;r.ajax.get(`/ajax/employee_status_history_popup/get_allowable_employee_tax_types/${a}/${e}`).then((e=>{this.updateBaSelect($(".js-employeeTaxTypeFieldSelect"),e.data.options)}))}},init(){i.hideShowTaxTypeField();i.toggleInactiveNote()},formChangeHandler(e){const t=e.target;if(t.name==="employmentStatusId"){if(i.checkIfPayrollCustomer()){i.employmentStatusChangeHandler(e)}}const a=$(t).closest("form");const r=$("ba-select.js-employmentStatusSelect").val();const n=a.find(`.js-employmentStatusSelect ba-option[value='${r}']`);const o=n&&n[0]&&n[0].hasAttribute("data-terminatedoption");a.toggleClass("EmploymentStatusForm--terminated",o===true);this.toggleInactiveNote()},employmentStatusChangeHandler(e,t,a,r){const n=t||document.querySelector('[name="employeeStatusHistoryItemId"]').value;const i=e.target.value?e.target.value:"0";this.getAllowableEmployeeTaxTypes(n,i,a).then((({result:e,forceNewSelection:t,warningType:a})=>{this.updateBaSelect($(".js-employeeTaxTypeFieldSelect"),e.data.options,t);this.addTaxTypePromptWarnings(a);if(r&&typeof r==="function"){r()}}))},getAllowableEmployeeTaxTypes(e,t,a){if(e&&t){return r.ajax.get(`/ajax/employee_status_history_popup/get_allowable_employee_tax_types/${e}/${t}`).then((e=>{const t=e.data.options.map((e=>e.optionValue));const r=parseInt($(a||'select[name="taxEmployeeTypeId"]').val());const n=t.indexOf(r)===-1;const i=n?"updatedTaxType":"verifyTaxType";return{result:e,valueOptions:t,currentSelectionValue:r,forceNewSelection:n,warningType:i}}))}console.warn(`Tried to request tax types with invalid parameters. historyItemId ${e} employmentStatusId ${t}`);return Promise.reject("Missing Required Parameters")},addTaxTypePromptWarnings(e){$(".js-employeeTaxTypeFieldSelect").siblings(".TaxTypeWarningTextWrapper").remove();$(".js-employeeTaxTypeFieldSelect").after('<div class="TaxTypeWarningTextWrapper"></div>');const t=this.createTaxTypePromptText(e);this.addInfoStylesToTaxTypeSelect();$(".TaxTypeWarningTextWrapper").append(t)},createTaxTypePromptText(e){if(!e){return`<div></div>`}const t=e==="updatedTaxType"?$.__("We updated the Employee Tax Type to a value that matches the Employment Status."):$.__("Based on the Employment Status, the Employee Tax Type may need to be updated.");return`<div class="TaxTypeWarningText">\n\t\t\t\t<div class="TaxTypeWarningText__text">\n\t\t\t\t\t${t}\n\t\t\t\t</div>\n\t\t\t\t<div class="TaxTypeWarningText__doubleCheck">\n\t\t\t\t\t${$.__("Double-check and make sure it looks right.")}\n\t\t\t\t</div>\n\t\t\t</div>`},addInfoStylesToTaxTypeSelect(e={}){const t={...{taxTypeSelector:".js-employeeTaxTypeFieldSelect",fieldRowSelector:".fieldRow.EmploymentStatusForm__employeeTaxTypeFieldRow",rowClass:"EmploymentStatusForm__employeeTaxTypeFieldRow--info",labelSelector:".fab-Label",selectFacadeClass:"fab-SelectToggle__innerFacade--infoCondition",infoIconClass:"iconWrapper"},...e};const a=$(t.taxTypeSelector);const r=a.closest(t.fieldRowSelector);const n=r.find(t.labelSelector);setTimeout((()=>{r.addClass(t.rowClass);a.find(".fab-SelectToggle__innerFacade").addClass(t.selectFacadeClass);if(n.length&&!n.find(`.${t.infoIconClass}`).length){n.prepend(`<ba-icon class="${t.infoIconClass}" name="fab-info-circle-13x13"></ba-icon>`)}}),100)},updateBaSelect(e,t,a){const r=e.find("select").length?parseInt(e.find("select").val()):parseInt($('select[name="taxEmployeeTypeId"]').val());e.empty();t.forEach((t=>{const{optionValue:n,optionText:i,selected:o}=t;let s=o;if(!a){if(r===n){s=true}else{s=false}}let l;if(s){l=`<ba-option value="${n}" selected>${i}</ba-option>`}else{l=`<ba-option value="${n}">${i}</ba-option>`}e.append(l)}))},toggleInactiveNote(){const e=window.Employee&&window.Employee.preferredName?(0,n.convertHTMLEntitiesInString)(window.Employee.preferredName):"";const t="EmploymentStatusModal__statusSelectWrapper";const a=`${t}--inactive`;const r="js-employmentStatusInactiveNote";const i=$("ba-select.js-employmentStatusSelect");const o=i.parent();const s=i.find(`ba-option[value='${i.val()}']`);const l=!!(s&&s[0]&&s[0].hasAttribute("data-inactiveoption"));o.addClass(t).toggleClass(a,l);if(o.find(`.${r}`).length===0){const t=$(`<div class="${r} EmploymentStatusForm__inactiveStatusNote">`).text($.__("%1 will not be able to access their BambooHR account past the effective date while in this employment status.",e));o.append(t)}},getTaxTypeField(){return $(".js-employeeTaxTypeFieldSelect")},checkIfPayrollCustomer(){const e=i.getTaxTypeField();return e.length>0&&e.is(":visible")},hideShowTaxTypeField(){const e=i.getTaxTypeField();if(e.length>0){const t=e.data("usBasedAddress");const a=e.data("usBasedLocation");const r=e.closest(".fieldBox");if(!t||!a){r.addClass("hidden")}else{r.removeClass("hidden")}}}};var o=i;t.default=o},914280:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(341757));var s=a(774548);var l=r(a(910531));var d=a(479706);var c=r(a(417842));var u=r(a(272779));let f=false;function p(e){const t=$.getJSON(`/employees/ajax/rehire/${e}`);f=(0,d.isEnabled)("jade");t.then((function(t){t.employeeId=e;t.terminationDate=(0,o.default)(t.terminationDate);m(t)}))}function m(e){const{employeeName:t,employeeId:a}=e;const r=(0,l.default)(u.default,{model:e,generateOptions:g,getCanAddAttributes:h,getSpecialClasses:v,jadeEnabled:f});window.BambooHR.Modal.setState({isOpen:true,content:(0,n.default)("div",{dangerouslySetInnerHTML:{__html:r}}),title:$.__("Rehire Employee"),onOpen(){const t=$(".js-rehire-modal-form");t.find(".js-effectiveDate").attr("data-mindate",e.terminationDate.toISOString());t.bhrValidate();window.BambooHR.VirtualPageView.modal("rehireEmployee");const a=document.querySelector(".js-employmentStatusSelect");if(a){a.addEventListener("change",y)}},onClose(){const e=document.querySelector(".js-employmentStatusSelect");if(e){e.removeEventListener("change",y)}},primaryActionText:$.__("Save"),primaryAction(){const t=$(".js-rehire-modal-form");if(!t.valid()){return}const r={...(0,s.getFormData)(".js-rehire-modal-form"),employeeId:a};const n=c.default.prepareData(r,c.default.prepareDataTypes.FORM_DATA);c.default.post("/employees/ajax/rehire",n).then((({data:t})=>{if(t.status!=="OK"){let a=$.__("Whoops... There was a problem rehiring %1%2%3!","<strong>",e.employeeName,"</strong>");if(t.syncErrors!==""){a=t.syncErrors}window.setMessage(a,"error");return}window.BambooHR.Modal.setState({isOpen:false});window.location.reload();window.setMessage($.__("Success!"),"success")}))},icon:"fab-badge-id-32x28",headerType:"text",headline:t})}function h(e){if(e.meta&&e.meta.insertable){return"can-add=true"}return null}function v(e,t){t=t||[];if(e.meta&&e.meta.insertable){t.push("insertable-list")}return t.join(" ")}function g(e,t){let a;if(!e.options){return}a=`\n\t\t!* field.options.forEach(function(option) { *!\n\t\t\t<ba-option value="!*= option.value *!" !*= (option.value === field.value) ? 'selected' : '' *!>\n\t\t\t\t!*= option.content *!\n\t\t\t</ba-option>\n\t\t!* }); *!\n\t`;return(0,l.default)(a,{field:e,required:t})}function y(){const e=document.querySelector('[name="employmentStatusId"]').value;if(!e){return}c.default.get(`/ajax/employee_status_history_popup/get_allowable_employee_tax_types/0/${e}`).then((e=>{const t=$('[name="taxEmployeeTypeId"]');const a=t.find("select").length?parseInt(t.find("select").val()):parseInt($('select[name="taxEmployeeTypeId"]').val());t.empty();e.data.options.forEach((e=>{const{optionValue:r,optionText:n,selected:i}=e;let o=i;if(a===r){o=true}else{o=false}t.append(`<ba-option value="${r}" ${o?"selected":""}>${n}</ba-option>`)}))}))}var b={open:p};t.default=b},627096:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.initializeHoursPerWeekField=U;var r=a(783840);var n=a(479706);var i=a(493771);const o=40;const s=".HoursPerWeekField__container";const l=".HoursPerWeekField__defaultContainer";const d=".HoursPerWeekField__defaultText";const c="#hoursPerWeekField";const u=".HoursPerWeekField__helpButton";const f='input[name="hoursPerWeek"]';const p=".HoursPerWeekField__inputContainer";const m=`.HoursPerWeekField__popoverButton`;const h="#payScheduleHoursPerWeekMap";const v=".js-paySchedule";const g=`${v} ba-option[selected]`;const y=".js-payType";const b=`${y} ba-option[selected]`;function w(){document.body.style.top="";const e=P();const t=E();let a=$.__n(`This employee's pay schedule has a default of %2$s salaried hour per week.`,`This employee's pay schedule has a default of %2$s salaried hours per week.`,e,t);let r=$.__(`Edit This Employee's Salaried Hours`);let n="update-compensation-modal-hours-per-week-edit-button";if(q()){a=$.__("This employee is using custom salary hours. We will use this value instead of the pay schedule default.");r=$.__(`Use Pay Schedule Default Instead`);n="update-compensation-modal-hours-per-week-use-default-button"}const i=BambooHR.Components.Popover.create(u,{content:`\n\t\t\t<div class="hoursPerWeekPopoverText">${a}</div>\n\t\t\t<button class="fab-TextButton fab-Link HoursPerWeekField__popoverButton" data-bi-id="${n}" type="button">${r}</button>\n\t\t`,title:$.__("Salaried Hours Per Week"),click:true,persistent:false,contentCssOverride:{maxWidth:"240px"}});i.onShow((()=>{const e=document.querySelector(m);e.removeEventListener("click",D);e.addEventListener("click",D);e.focus()}));return i}function S(){const e=T();if(e){e.destroy()}}function O(e){const t=C();const a=(0,i.getNumberFromString)(t,undefined,e);const r=(0,i.formatStringFromNumber)(a);V(r)}function T(){return BambooHR.Components.Popover.selectPopovers(u)[0]}function C(){return document.querySelector(f).value||""}function P(){const e=M();const t=x();return(e===null||e===void 0?void 0:e[t])||o}function E(){return(0,i.formatStringFromNumber)(P())}function M(){return(0,r.getJsonData)(h,true)}function x(){var e;return(e=document.querySelector(g))===null||e===void 0?void 0:e.getAttribute("value")}function k(){var e;return(e=document.querySelector(b))===null||e===void 0?void 0:e.getAttribute("value")}function j(){var e;return((e=document.querySelector(g))===null||e===void 0?void 0:e.getAttribute("data-syncing-pay-schedule"))==="true"}function I(){O(2)}function F(){S();const e=w();setTimeout((()=>{if(!e.showing){e.show()}}),0)}function D(){S();if(q()){Y();W()}else{if(!C()){V(E())}K();H();document.querySelector(f).focus()}}function N(){V("");Z()}function A(){V("");Z()}function L(){return!!(0,r.getJsonData)(c,true)}function R(e){const t=document.querySelector(e);if(t){t.classList.add("hidden")}}function B(){R(s);W()}function H(){R(l)}function W(){V("");document.querySelector(f).dataset.validationAllowEmpty=true;R(p)}function U(){if(L()){const e=document.querySelector(v);if(e){e.addEventListener("change",N)}const t=document.querySelector(y);if(t){t.addEventListener("change",A)}const a=document.querySelector(f);if(a){a.addEventListener("change",I)}document.querySelector(u).addEventListener("click",F);Z()}}function q(){const e=document.querySelector(p);return e&&!e.classList.contains("hidden")}function V(e){document.querySelector(f).value=e}function z(e){const t=document.querySelector(e);if(t){t.classList.remove("hidden")}}function G(){z(s);if(C()){K();H()}else{Y();W()}}function Y(){document.querySelector(d).innerText=$.__("%1$s hours per week",E());z(l)}function K(){document.querySelector(f).dataset.validationAllowEmpty=false;z(p)}function Z(){const e=j();const t=k()==="Salary";if(e&&t){G()}else{B()}}},148315:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"IncludeInPayrollErrorModal",{enumerable:true,get:function(){return n.default}});t.default=void 0;var n=r(a(228111));var i={};i.IncludeInPayrollErrorModal=n.default;var o=i;t.default=o},228111:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(273641);var i=a(108201);var o=r(a(20026));var s=a(479706);function l(e){if((0,s.isEnabled)("jade")){d(e);return}c(e)}function d(e){window.BambooHR.Modal.setState({isOpen:true,alternativeAction:null,primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},icon:"fab-money-circle-54x54",iconColor:"danger",headline:$.__("Before including this employee in payroll you need to correct the following information."),dangerousContent:microTemplate($("#includeInPayrollErrorModalTemplate").html(),{errors:e}),primaryActionText:$.__("OK, Got It"),title:$.__("Oops, that won't work...")})}function c(e){o.default.openModal({footer:{buttons:{primary:{text:$.__("OK, Got It"),action:function(){o.default.closeModal()}},cancel:{show:false}}},html:microTemplate($("#includeInPayrollErrorModalTemplate").html(),{errors:e}),title:$.__("Oops, that won't work...")})}var u={open:l};t.default=u},228493:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.getZeroFormattedCurrencyValue=s;t.jqGetDataInitialValue=l;t.jqGetDataTemporaryValue=d;t.jqGetInputValue=c;t.jqGetSelectedValue=u;t.jqHasDataInitialValue=f;t.jqHasDataTemporaryValue=p;t.jqRemoveDataTemporaryValue=m;t.jqSetDataInitialValue=h;t.jqSetDataTemporaryValue=v;t.jqSetInputValue=g;t.jqSetSelectedValue=y;t.jqTrySetInputDataInitialValue=b;t.jqTrySetSelectDataInitialValue=w;t.jqTryRestoreInputDataTemporaryValue=S;t.jqTryRestoreSelectDataTemporaryValue=O;t.jqUpdatePaidPerBasedOnPayType=T;t.jqUpdatePayRateBasedOnPayType=C;t.jqUpdatePayTypeBasedOnPayType=P;t.jsUpdatePayPerTextBasedOnPayType=E;t.DATA_TEMPORARY_VALUE_IS_SET=t.DATA_TEMPORARY_VALUE=t.DATA_INITIAL_VALUE_IS_SET=t.DATA_INITIAL_VALUE=void 0;const r="data-initial-value";t.DATA_INITIAL_VALUE=r;const n="data-initial-value-is-set";t.DATA_INITIAL_VALUE_IS_SET=n;const i="data-temporary-value";t.DATA_TEMPORARY_VALUE=i;const o="data-temporary-value-is-set";t.DATA_TEMPORARY_VALUE_IS_SET=o;function s(e){const t=e.data("cursymbol")||window.GLOBAL_CURRENCY_SYMBOL||"$";const a=e.data("currencysymbolposition")||0;const r=e.data("decimal-char")||window.GLOBAL_DECIMAL_CHAR||".";const n=e.data("thousands-separator")||window.GLOBAL_THOUSANDS_SEPARATOR||",";const i=$("<input />");i.attr("value","0");if(i.formatCurrency){i.formatCurrency({decimal:r,position:a,symbol:t,thousands:n});return i.attr("value")}return"$0.00"}function l(e){return e.attr(r)}function d(e){return e.attr(i)}function c(e){return e.attr("value")}function u(e){return e.find("ba-option[selected]").attr("value")}function f(e){return e.attr(n)==="true"}function p(e){return e.attr(o)==="true"}function m(e){e.removeAttr(i);e.removeAttr(o)}function h(e,t){e.attr(r,t);e.attr(n,"true")}function v(e,t){e.attr(i,t);e.attr(o,"true")}function g(e,t){e.attr("value",t)}function y(e,t){e.find("ba-option[selected]").removeAttr("selected");e.find(`ba-option[value="${t}"]`).attr("selected","true")}function b(e){if(!f(e)){h(e,c(e))}}function w(e){if(!f(e)){h(e,u(e))}}function S(e){if(p(e)){e.attr("value",d(e));m(e)}}function O(e){if(p(e)){y(e,d(e));m(e)}}function T(e,t,a){w(e);w(a);const r=u(e);a.find('ba-option[value="Hour"]').prop("hidden",true);if(!r){t.removeClass("hidden");a.attr("disabled","true");O(a);const e=u(a);if(e==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}else if(r==="Salary"){t.removeClass("hidden");a.removeAttr("disabled");O(a);const r=u(a);const n=l(e);const i=l(a);if(n==="Salary"&&i==="Hour"){a.find('ba-option[value="Hour"]').prop("hidden",false)}else if(r==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}else if(r==="Hourly"){t.addClass("hidden");a.removeAttr("disabled");const e=u(a);if(!p(a)){v(a,e)}a.find('ba-option[value="Hour"]').prop("hidden",false);y(a,"Hour")}else if(r==="Commission"){t.addClass("hidden");a.removeAttr("disabled");a.find('ba-option[value="Hour"]').prop("hidden",false);const r=u(a);if(!p(a)){v(a,r)}const n=l(e);const i=l(a);if(n==="Commission"){y(a,i)}else{y(a,"Hour")}}else if(r==="Contract"){t.removeClass("hidden");a.removeAttr("disabled");O(a);const r=u(a);const n=l(e);const i=l(a);if(n==="Contract"&&i==="Hour"){a.find('ba-option[value="Hour"]').prop("hidden",false)}else if(r==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}else{t.addClass("hidden");a.removeAttr("disabled");O(a);const e=u(a);if(e==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}}function C(e,t,a,r){w(e);b(a);const n=u(e);if(!n){t.removeClass("hidden");a.prop("disabled",true);r.prop("disabled",true);S(a)}else if(n==="Commission"){t.addClass("hidden");a.prop("disabled",false);r.prop("disabled",false);const n=c(a);if(!p(a)){v(a,n)}const i=l(e);const o=l(a);if(i==="Commission"){g(a,o)}else{const e=s(a);g(a,e)}}else{t.removeClass("hidden");a.prop("disabled",false);r.prop("disabled",false);S(a)}}function P(e){w(e);const t=l(e);const a=u(e);if(t==="Contract"){e.find('ba-option[value="Contract"]').prop("hidden",false)}else{e.find('ba-option[value="Contract"]').prop("hidden",true);if(a==="Contract"){e.find("ba-option[selected]").removeAttr("selected")}}}function E(e,t){const a=u(e);if(!a||a==="Salary"||a==="Contract"){t.text($.__("per"));t.removeClass("hidden")}else if(a==="Hourly"){t.text($.__("per hour."));t.removeClass("hidden")}else{t.addClass("hidden")}}},30473:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Files",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"Job",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"Payroll",{enumerable:true,get:function(){return o.default}});t.default=void 0;var n=r(a(481292));var i=r(a(569561));var o=r(a(148315));var s={};s.Files=n.default;s.Job=i.default;s.Payroll=o.default;var l=s;t.default=l},494995:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.openPasswordResetModal=f;t.quickActionResetPassword=m;var n=r(a(856075));var i=r(a(573674));var o=r(a(417842));var s=a(845382);var l=a(479706);var d=r(a(20026));var c=a(753134);var u=r(a(606312));a(44692);function f({firstName:e,email:t,userId:a}){if(!(0,l.isEnabled)("jade")){return p(...arguments)}window.BambooHR.Modal.setState({content:(0,n.default)("div",{className:"PasswordResetModal__message"},void 0,(0,n.default)(c.Message,{params:[t||$.__("the user")],text:$._("An email with a link to reset their password will be sent to **{1}**")})),headline:$.__("Reset password for %1$s?",e),icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isHeadless:true,isOpen:true,primaryActionText:$.__("Reset Password"),primaryAction(){window.BambooHR.Modal.setState({isProcessing:true},true);m({firstName:e,userId:a}).then((()=>{window.BambooHR.Modal.setState({isOpen:false})})).catch((()=>{window.BambooHR.Modal.setState({isProcessing:false},true)}))}})}function p({firstName:e,email:t,userId:a}){d.default.openModal({title:$.__("Just Checking..."),html:microTemplate(u.default,{firstName:e,email:t}),classes:"jquery-padding ResetPasswordModal",footer:{buttons:{primary:{text:$.__("Reset Password"),action(){m({firstName:e,userId:a})}}}}})}function m({firstName:e,userId:t}){const a=$.__("There was an error resetting the password. Please try again.");d.default.Footer.Buttons.startProcessing();const r=o.default.prepareData({id:t,action:"password"},o.default.prepareDataTypes.FORM_DATA);return new Promise(((t,n)=>{o.default.post("/settings/permissions/edit.php",r).then((r=>{const i=r.data;if(i.success){d.default.closeModal();setMessage($.__("Password reset email was sent to %1$s",(0,s.htmlentities)(e)),"success");t(i)}else{const e=(0,s.htmlentities)(i.message)||a;d.default.Footer.Buttons.stopProcessing();console.error(i);setMessage(e,"error");n(i)}})).catch(((...e)=>{d.default.Footer.Buttons.stopProcessing();console.error(...e);setMessage(a,"error");n(...e)}))}))}},869023:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getEmployeeUrl=a;t.getAvatarUrl=void 0;function a(e){return`/employees/employee.php?id=${e}`}const r=e=>{if(e.image){e.avatarUrl=e.image}if(e&&e.avatarUrl){return e.avatarUrl}if(e&&e.name){let t=e.name.match(/\b(\w)/g);if(t){t=t.join("");return`/employees/photos/initials.php?initials=${t}`}}};t.getAvatarUrl=r},506521:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(417842));function i(e){if(e){const t=document.getElementById("js-saves-to-folder");const a=`/esignatures/template_save_location/${e}`;n.default.get(a).then((e=>{const{savesToEmployeeFileSectionName:a}=e.data;if(a){t.classList.remove("hidden");document.getElementById("js-saves-to-folder-name").innerText=a}else{t.classList.add("hidden")}}),(()=>window.errorFallBack()))}}function o(){document.getElementById("js-saves-to-folder").classList.remove("hidden")}function s(){document.getElementById("js-saves-to-folder").classList.add("hidden")}var l={fetchDisclaimer:i,showDisclaimer:o,hideDisclaimer:s};t.default=l},810165:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.updateFileUploadActions=w;t.centerFileUploadActions=S;t.default=void 0;var n=a(273641);var i=a(774548);var o=a(479706);var s=r(a(394637));const l=new WeakMap;const d=new WeakMap;const c={uploadDialogTmpl:s.default,uploadDialogTmplData:{jadeEnabled:(0,o.isEnabled)("jade")},uploadDialogClasses:"",uploadDialogTitle:$.__("Upload Files"),uploaderId:"multiUpload",uploadLinkHTML:`\n\t\t\t<a class="attach-link">\n\t\t\t\t<span class="btn js-chooseFile">${$.__("Choose File(s)")}</span>\n\t\t\t\t<span style="display:none">+ ${$.__("Add a file")}</span>\n\t\t\t</a>\n\t\t`,uploadJadeLinkHTML:`<span class="attach-link">\n\t\t\t\t\t\t\t\t\t<button class="fab-Button fab-Button--secondary fab-TextButton--noSpace" type="button js-chooseFile">`+$.__("Choose File(s)")+` </button>\n\t\t\t\t\t\t\t\t\t<button class="fab-TextButton fab-link" type="button"\n\t\t\t\t\t\t\t\t\t        style="display: none;"> + `+$.__("Add a file")+` </button>\n\t\t\t\t\t\t\t\t</span>`,fileHiddenInput:({name:e,type:t,size:a,image:r,fid:n})=>`\n\t\t\t<input\n\t\t\t\ttype="hidden"\n\t\t\t\tname="attachId[]"\n\t\t\t\tdata-name="${e}"\n\t\t\t\tdata-type="${t}"\n\t\t\t\tdata-size="${a}"\n\t\t\t\tdata-image="${r}"\n\t\t\t\tvalue="${n}"\n\t\t\t/>\n\t\t`};let u=false;let f;const p="#uploadFilesDialog";function m(...e){l.get(this).triggerHandler(...e);return this}function h(e,t=false){if(u){window.BambooHR.Modal.setState({sheetProps:e},true)}else{window.BambooHR.Modal.setState(e,t)}}function v(e){const t=this;const a=$(".attach-wrapper",e);const{uploadLinkHTML:r,uploadJadeLinkHTML:n,fileHiddenInput:i,uploaderId:s}=y.call(this);const l=()=>{let e=g.call(t);h({isOpen:false});m.call(t,"attach",[e])};let d={linkHTML:r,success(r,n){$(".noFile",e).hide();let o=a.closest("form");o.append(i(r));m.call(t,"upload",[r,n]);SimpleModal.Footer.Buttons.Primary.enable()},removeFile(a){let r=a.attr("id").replace("file-","");if(a.hasClass("uploadDone")){$(`:input[name^="attachId"][value="${r}"]`).remove()}if(w(e)){SimpleModal.Footer.Buttons.Primary.disable()}m.call(t,"remove");return true},onRemove(){if(w(e)){SimpleModal.Footer.Buttons.Primary.disable()}},createFileWrapper(t,a){$(".noFile",e).hide();if($(".files > *",e).length===0){$(".attach-link span, .uploadDesc",e).toggle();S(e,false)}return $.fileUploader.createFileWrapper(t,a)},setDragOverValues(e){},setDragOffValues(){},uploaderId:s};if((0,o.isEnabled)("jade")){d={linkHTML:n,success(r,n){$(".noFile",e).hide();let o=a.closest("form");o.append(i(r));m.call(t,"upload",[r,n]);O.call(t,true,l)},removeFile(a){let r=a.attr("id").replace("file-","");if(a.hasClass("uploadDone")){$(`:input[name^="attachId"][value="${r}"]`).remove()}if(w(e)){O.call(t,false,null)}m.call(t,"remove");return true},onRemove(){if(w(e)){O.call(t,false,null)}},createFileWrapper(t,a){$(".noFile",e).hide();if($(".files > *",e).length===0){$(".attach-link button, .uploadDesc",e).toggle();S(e,false)}return $.fileUploader.createFileWrapper(t,a)},setDragOverValues(e){},setDragOffValues(){},uploaderId:s}}a.closest(p).fileUploader(d);$(".uploadDesc",p).show();$('input[name^="attachId"]',p).remove()}function g(){if((0,o.isEnabled)("jade")){return $(':input[name^="attachId"]',p).toArray().map(((e,t)=>{const a=e.getAttribute("data-name");return{data:{isComplete:null},fileId:e.getAttribute("value"),id:e.getAttribute("value"),image:e.getAttribute("data-image"),info:{icon:e.getAttribute("data-image"),text:(0,i.getExtFromFileName)(e.getAttribute("data-name")).toUpperCase()},key:a+"-"+t,name:a,type:e.getAttribute("data-type"),value:e.getAttribute("value"),size:e.getAttribute("data-size")}}))}return $(':input[name^="attachId"]',f).toArray().map((e=>({name:e.getAttribute("data-name"),type:e.getAttribute("data-type"),value:e.getAttribute("value"),size:e.getAttribute("data-size"),image:e.getAttribute("data-image")})))}function y(e){let t=d.get(this);if(e){return t[e]}return t}class b{static get className(){return"FileManager"}constructor(e={}){d.set(this,(0,n.defaults)(e,c));l.set(this,$("<div />"))}on(e,...t){if((0,n.isString)(e)){e+=".FileManager"}l.get(this).on(e,...t);return this}openUploadModal(){const e=this;const{uploadDialogTmpl:t,uploadDialogTmplData:a,uploadDialogClasses:r,uploadDialogTitle:n}=y.call(e);(0,i.when)(t,a).done(((t,a)=>{if((0,o.isEnabled)("jade")){u=window.BambooHR.Modal.isOpen();const r={dangerousContent:microTemplate(t,a),onClose:()=>{h({isOpen:false})},onOpen:()=>{let t=$(p).find(".multiUpload");v.call(e,t)},primaryAction:null,primaryActionText:$.__("Attach"),isOpen:true,title:n};h(r);O(false)}else{f=SimpleModal.openModal({html:microTemplate(t,a),title:n,classes:"uploadFilesModal "+r,footer:{buttons:{primary:{disabled:true,text:$.__("Attach"),action(){let t=g.call(e);SimpleModal.closeModal();m.call(e,"attach",[t])}},cancel:{action(){m.call(e,"cancel");SimpleModal.closeModal()}}}},callbacks:{close:{before(){m.call(e,"close:before")},after(){m.call(e,"close")}},open:{before(){m.call(e,"open:before")},after(){let t=f.find(".multiUpload");v.call(e,t);m.call(e,"open")}}}})}}));return this}}t.default=b;function w(e){if($(".files > *",e).length===0){$(".noFile",e).show();if(!$(".attach-link .js-chooseFile",e).is(":visible")){$(".attach-link > *, .uploadDesc",e).toggle();S(e)}return true}return false}function S(e,t=true){if(t){$(".attach-wrapper",e).addClass("centerThis");$(".FileUploadActions",e).addClass("centerContent")}else{$(".attach-wrapper",e).removeClass("centerThis");$(".FileUploadActions",e).removeClass("centerContent")}}function O(e,t){if(e){h({primaryAction:t},true)}else{h({primaryAction:null},true)}}},816531:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.openModal=T;t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(20026));var s=r(a(417842));var l=a(479706);var d=r(a(811246));const c=(0,l.isEnabled)("jade");const u="/feeds/ical";const f={createFeed:e=>$.post(u,{definition:e}),updateFeed:e=>$.ajax({type:"PUT",url:`${u}/${e}`}),deleteFeed:e=>$.ajax({type:"DELETE",url:`${u}/${e}`})};let p=[];function m(e){return p.filter((t=>t.definition==e))[0]}function h(e){return document.querySelector(`.js-ical-feed[data-ical-definition="${e}"]`)}function v(e){let t=m(e);f.createFeed(e).done((e=>{Object.assign(t,e);w()}))}function g(e){let t=m(e);f.deleteFeed(t.id).done((()=>{t.publicId=null;w()}))}function y(e){let t=m(e);let a=h(e);a.querySelector(".js-ical-modal-input").value="";f.updateFeed(t.id).done((e=>{Object.assign(t,e);w()}))}function b(e,t){let a=new d.default(e,{target:()=>h(t).querySelector(".js-ical-modal-input")});a.on("success",(a=>{a.clearSelection();e.style.display="none";let r=h(t).querySelector(".js-ical-modal-copied");r.style.display="block";window.setTimeout((()=>{e.style.display="block";r.style.display="none"}),1500)}));a.on("error",(t=>{if(window.BambooHR.Components.Tooltip.selectTooltips(e).length){return false}let a=window.BambooHR.Components.Tooltip.create(e,{content:$.__("Press ctrl+c or command+c to copy the link")}).show();window.setTimeout((()=>a.destroy()),3e3)}))}function w(){let e=document.querySelector("#js-ical-modal-feed-template").innerHTML;document.querySelector("#js-ical-modal-feeds").innerHTML=window.microTemplate(e,{feeds:p});S()}function S(){let e=document.querySelectorAll(".js-ical-feed");[].slice.call(e).forEach((e=>{let t=e.getAttribute("data-ical-definition");let a=e.querySelector(".js-ical-modal-create-feed");if(a){a.addEventListener("click",v.bind(null,t))}else{e.querySelector(".js-ical-modal-update-feed").addEventListener("click",y.bind(null,t));e.querySelector(".js-ical-modal-delete-feed").addEventListener("click",g.bind(null,t));let a=e.querySelector(".js-ical-modal-copy");b(a,t);e.querySelector(".js-ical-modal-input").addEventListener("click",(function(){this.blur();this.focus();this.select()}))}}))}function O(){p=JSON.parse(document.querySelector("#js-ical-modal-data").innerHTML);w();o.default.setPosition()}function T(){const e=$.__("iCalendar Feeds");const t=$.__("Done");if(c){s.default.get(u).then((a=>{window.BambooHR.Modal.setState({isOpen:true,content:(0,n.default)("div",{dangerouslySetInnerHTML:{__html:a.data}}),onOpen(){setTimeout((()=>{O()}))},primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:t,alternativeAction:null,title:e})}))}else{o.default.openModal({method:"get",url:u,title:e,footer:{buttons:{primary:{text:t,action:()=>o.default.closeModal()},cancel:{show:false}}},callbacks:{open:{after:O}}})}}var C={open:T};t.default=C},132621:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=v;t.getIconObject=g;t.getArtboardSize=y;t.getArtboardStyleObject=b;t.getArtboardStyleString=w;t.appendSprite=S;t.LEGACY_SPRITE_PATH=t.SPRITE_PATH=void 0;var r=a(774548);var n=a(121198);var i=a(273641);const o="/images/i.dist.svg";t.LEGACY_SPRITE_PATH=o;const s="";t.SPRITE_PATH=s;const l=window.Res.get(o,null,false);const d=window.Res.get(s,null,false);const c={align:"center",size:"32x32"};const u={bottom:"flex-end",top:"flex-start"};const f={left:"flex-start",right:"flex-end"};const p="center";const m="x";function h(e){let t=true;t=e?e.length<3:t;t=t&&!(f[e[0]]&&f[e[1]]);t=t&&!(u[e[0]]&&u[e[1]]);return t}function v(e,t={},a=c){let i=g(e);let o="";t.width=i.width||"100%";t.height=i.height||"100%";t.style=(0,n.mergeStyleStrings)(t.style,"pointer-events: none");t=Object.keys(t).map((e=>{let a=t[e];if(e==="className"){e="class"}return`${(0,r.htmlentities)(e)}="${(0,r.htmlentities)(a)}"`})).join(" ");if(a.artboard){o+=`<div style="${w(a.artboard)}">`}o+=`<svg ${t} focusable="false">\n\t\t\t<use xlink:href="${i.path}" />\n\t\t</svg>`;if(a.artboard){o+=`</div>`}return o}function g(e){const t=/-(\d+)x(\d+)$/;let a=e;let r;let n,o;if(typeof e!=="string"||e.trim()===""){throw new Error("Icon name is missing a value")}r=t.exec(e);if(r){o=Number(r[1]);n=Number(r[2]);if((0,i.startsWith)(e,"fab-")){a=d+"#"+e}else{a=l+"#i-"+e}}else if(e.indexOf("#")!==0){throw new Error(`${e} is an invalid icon name. Icon names must end with dimensions. Example: "-1x1".`)}return{height:n,path:a,width:o}}function y(e){const t=e.split(m);if(t.length!==2){return{}}return{width:Number(t[0]),height:Number(t[1])}}function b(e=c){let t=e.size?y(e.size):{};let a=e.align?e.align.split(" "):"";const{width:r,height:n}=t;let i,o;if(!r||!n){return{}}i=o=p;if(h(a)){i=f[a[0]]||f[a[1]]||p;o=u[a[0]]||u[a[1]]||p}return{"align-items":o,height:n+"px","justify-content":i,width:r+"px"}}function w(e){const t=b(e);const a=Object.keys(t).reduce(((e,a)=>{e.push(a+":"+t[a]);return e}),[]);return a.join("; ")}function S(){document.addEventListener("DOMContentLoaded",(()=>{let e=new XMLHttpRequest;e.open("GET",d);e.onload=t=>{let a=null;let r=null;if(e.readyState===4&&e.status===200){a=(0,n.fragFromHtml)(e.responseText);r=a.querySelector("svg");r.setAttribute("style","display: none");document.body.append(r)}};e.send()}))}},886757:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a(868893);a(905583);var r=window.Inputmask;t.default=r;delete window.Inputmask},905583:(e,t,a)=>{"use strict";var r=a(565862);var n=r(a(341757));var i=r(a(929392));var o=a(273641);let s=window.Inputmask;let l=n.default.localeData();let d=l.monthsShort();i.default.on("languageChanged",(e=>{l=n.default.localeData();d=l.monthsShort()}));s.extendDefaults({showMaskOnHover:false,colorMask:true});function c(e){return(0,o.deburr)(String(e).trim().toLowerCase())}function u(e){e=c(e);return d.filter((t=>c(t).substring(0,e.length)===e)).length>0}function f(e,t,a){if(Array.isArray(e)){e=e.join("")}return[e.slice(0,a),t,e.slice(a)].join("")}s.extendAliases({"mm/dd/yy":{mask:"m/d/99",placeholder:"mm/dd/yy"},"dd/mm/yy":{mask:"d/m/99",placeholder:"dd/mm/yy"},"yy-mm-dd":{mask:"99-m-d",placeholder:"yy-mm-dd"},"dd MMM YYYY":{mask:"d M{+} y",placeholder:"ddyyyyyyyyyyy",greedy:false,separator:" ",skipOptionalPartCharacter:" ",keepStatic:true,isComplete(e,t){return(0,n.default)(e.join(""),"DD MMM YYYY",true).isValid()},definitions:{M:{cardinality:1,placeholder:"mon",validator(e,t,a){if(e===" "){return false}let r=f(t.buffer,e,a);let n=r.slice("dd ".length,-" yyyy".length);if(n.length==4){n=n.replace(/mon$/,"")}return u(n)}}}},"MMM YYYY":{mask:"M{+} y",placeholder:"yyyyyyyyyyy",greedy:false,separator:" ",skipOptionalPartCharacter:" ",keepStatic:true,isComplete(e,t){return(0,n.default)(e.join(""),"MMM YYYY",true).isValid()},definitions:{M:{cardinality:1,placeholder:"mon",validator(e,t,a){if(e===" "){return false}let r=f(t.buffer,e,a);let n=r.slice(0,-" yyyy".length);if(n.length==4){n=n.replace(/mon$/,"")}return u(n)}}}}})},404192:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;function r(e,t,a,r,i){let o=i?i:$.__("-- Add New --");let s=$(e);return s.each((function(){if($(this).hasClass("js-insertableListModal-complete")){return}$(this).addClass("js-insertableListModal-complete");if(this.options){this.appendChild(new Option(o,"new"));$(this).trigger("liszt:updated")}$(this).change(n.bind(this,t,a,r))}))}function n(e,t,a){if($(this).val()==="new"){e(...t,i.bind(this,a))}}function i(e,t){if(t.ret==="SAVED"){let a=t[e].name;let r=t[e].listValueId?t[e].listValueId:t[e].id;let n=new Option(this.options[this.options.length-1].text,this.options[this.options.length-1].value);this.add(n,null);this.options[this.options.length-2].text=a;this.options[this.options.length-2].value=r;this.selectedIndex=this.options.length-2;$(this).trigger("liszt:updated");$(this).change()}}var o={insertListModal:r};t.default=o},711921:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(417842));var i=a(479706);const o=window.BambooHR.Modal;function s(e,t,a,r,s,c={}){const u=$.isNumeric(e)||$.isNumeric(t["location[listValueId]"])?"Update":"Add";a=typeof a==="undefined"||a==="undefined"?true:a;const f={locationId:e,action:u,listValueId:t["location[listValueId]"],showEditRadioButtons:a};if(c&&c.zenpayroll){f.zenpayroll=c.zenpayroll}let p="post";let m="/location";if(u==="Update"){p="put";m+=`/${e||`lv/${t["location[listValueId]"]}`}`}if((0,i.isEnabled)("jade")){const e=c.hasOwnProperty("isSheet")&&c.isSheet;const a=(e,t,a=true)=>{if(e){o.setState({sheetProps:t},a)}else{o.setState(t,a)}};const i=function(){if(typeof s==="function"){s(f)}};const d=function(){const e=$("#location_form");const a=e.find("input[type=text]:eq(0)");a.attr("onfocus","this.value = this.value").focus();if(t&&typeof t!=="undefined"){$.each(t,(function(t,a){if(t.indexOf("location")>-1&&a&&a!==""){const r=e.find(`:input[name="${t}"]`);r.val(a);if(r.prop("tagName")==="SELECT"){r.trigger("liszt:updated")}else{r.siblings("label").hide()}}}))}$(".zen_phone").mask("(999)999-9999");e.initializeElements();e.bhrValidate();function r(){if($("#remoteLocation").is(":checked")){$(".js-remote-toggle").hide()}else{$(".js-remote-toggle").show();e.initializeElements()}}r();$("#remoteLocation").change((function(){r()}));l()};const h=function(){a(e,{isProcessing:true});const t=$("#location_form");if(!t.valid()){a(e,{isProcessing:false});return}const n={};$.each(t.serializeArray(),(function(_,e){if(n.hasOwnProperty(e.name)){n[e.name]=$.makeArray(n[e.name]);n[e.name].push(e.value)}else{n[e.name]=e.value}}));$.ajax({url:m,type:p,method:p,dataType:"json",data:n,success(t){if(typeof r==="function"){a(e,{isOpen:false});r(t)}window.closeMessage()},error(t){if(t.responseText){window.setMessage(t.responseText,"error");a(e,{isProcessing:false})}else{window.errorFallBack()}}})};n.default.get("/ajax/dialog/location.php",f).then((t=>{if(typeof t.data==="object"){o.setState({...e?{sheetProps:{isOpen:false}}:{isOpen:false}},e);window.setMessage(t.data.error||window.DEFAULT_ERROR_MESSAGE,"error");return}const a={biId:`employee-field-${u==="Update"?$.__("save"):$.__("add")}-location`,dangerousContent:t.data,isOpen:true,isProcessing:false,onClose:i,onOpen:d,primaryAction:h,primaryActionText:u==="Update"?$.__("Save"):$.__("Add"),title:u==="Update"?$.__("Edit Location"):$.__("Add a New Location")};if(e){o.setState({sheetProps:{...a,type:"mediumSheet"}},true)}else{o.setState({...a})}}))}else{window.SimpleModal.openModal({url:"/ajax/dialog/location.php",data:f,classes:"jquery-padding",header:{title:{text:u==="Update"?$.__("Edit Location"):$.__("Add a New Location")}},footer:{buttons:{primary:{text:u==="Update"?$.__("Save"):$.__("Add"),action(){const e=$("#location_form");if(!e.valid()){return}const t={};$.each(e.serializeArray(),(function(_,e){if(t.hasOwnProperty(e.name)){t[e.name]=$.makeArray(t[e.name]);t[e.name].push(e.value)}else{t[e.name]=e.value}}));$.ajax({url:m,type:p,method:p,dataType:"json",data:t,success(e){if(typeof r==="function"){r(e);window.SimpleModal.closeModal({skipCloseCallback:true})}window.closeMessage()},error(e){if(e.responseText){window.setMessage(e.responseText,"error")}else{window.errorFallBack()}}})}},cancel:{action(){window.SimpleModal.closeModal();if(typeof s==="function"){s(f)}}}}},callbacks:{open:{after(){const e=window.SimpleModal.getTopModalSelector();const a=$("#location_form");const r=e.find("input[type=text]:eq(0)");r.attr("onfocus","this.value = this.value").focus();if(t&&typeof t!=="undefined"){$.each(t,(function(t,a){if(t.indexOf("location")>-1&&a&&a!==""){const r=e.find(`:input[name="${t}"]`);r.val(a);if(r.prop("tagName")==="SELECT"){r.trigger("liszt:updated")}else{r.siblings("label").hide()}}}))}a.initializeElements();a.bhrValidate();$(".zen_phone").mask("(999)999-9999");function n(){if($("#remoteLocation").is(":checked")){$(".js-remote-toggle").hide()}else{$(".js-remote-toggle").show();a.initializeElements()}}n();$("#remoteLocation").change((function(){n()}));l();window.SimpleModal.setPosition();window.SimpleModal.Footer.Buttons.Primary.setAttr("data-bi-id","settings-add-location-button")}},close:{before(){d()},after(){if(typeof s==="function"){s(f)}}}}})}}function l(){const e=$(".js-remote-checkbox");const t=e.find("input#remoteLocation");if(t.is(":disabled")){window.BambooHR.Popover.create(e[0],{closeX:false,html:`<div style="max-width: 320px; padding: 8px 12px; background-color: #646464; font-size: 12px; color: #ffffff; text-align: left; line-height: 1.2">${$.__("This location is used by at least one job opening, and job openings require an address.")} ${$.__("You cannot change this location to remote until you adjust the location on the job opening(s).")}</div>`,push:12,tailBackground:"#646464",tailOnAnchor:8,tailOnBalloon:20,triggerEvent:"hover"})}}function d(){const e=window.BambooHR.Popover.getInstance($(".js-remote-checkbox")[0]);if(e){e.destroy()}}var c={showModal:s};t.default=c},910531:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(753289));var i=a(845382);n.default.encodeHtml=i.htmlentities;n.default.decodeHtml=i.htmldecode;var o=n.default;t.default=o},289319:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.NewHirePacketAPI=t.EditEmailAPI=void 0;var r=a(273641);class n{static get className(){return"BaseAPI"}constructor(e){this.Ajax=void 0;this.Ajax=e}}class i extends n{static get className(){return"EditEmailAPI"}constructor(e){super(e);this.DEFAULT_CURRENT_END_POINT="current";this.DEFAULT_PREVIEW_END_POINT="demo";this.DEFAULT_GET_DEFAULT_MESSAGE_END_POINT="default";this.DEFAULT_RESET_END_POINT="reset";this.DEFAULT_SAVE_END_POINT="create";this.getCurrentEmailTemplate=this.getCurrentEmailTemplate.bind(this);this.getEmailDefaultTemplate=this.getEmailDefaultTemplate.bind(this);this.resetEmailTemplateToDefault=this.resetEmailTemplateToDefault.bind(this);this.saveEmailTemplate=this.saveEmailTemplate.bind(this)}getCurrentEmailTemplate(e=this.DEFAULT_CURRENT_END_POINT){return this.Ajax.get(e).then((e=>{if(e.status===200){const{body:t="",defaulted:a=true,subject:r=""}=e.data;return{body:t,defaulted:a,subject:r}}}))}getEmailDefaultTemplate(e=this.DEFAULT_GET_DEFAULT_MESSAGE_END_POINT){return this.Ajax.get(e).then((e=>{const{error:t}=(e===null||e===void 0?void 0:e.data)||{};if(t){window.setMessage($.__("An error has occurred getting the default message, please try again"),"error");throw new Error("Reset default failed")}return e.data}))}previewEmailTemplate(e=this.DEFAULT_PREVIEW_END_POINT,t){return this.Ajax.post(e,t).then((e=>{const{body:t="",error:a={},subject:r=""}=e.data;return{body:t,error:a,errorCode:a.code,subject:r}})).catch((e=>{window.setMessage($.__("An error has occurred while getting the preview, please try again later"),"error");throw e}))}resetEmailTemplateToDefault(e=this.DEFAULT_RESET_END_POINT){return this.Ajax.put(e)}saveEmailTemplate(e=this.DEFAULT_SAVE_END_POINT,t){return this.Ajax.post(e,t)}}t.EditEmailAPI=i;class o extends n{static get className(){return"NewHirePacketAPI"}constructor(e){super(e);this.DEFAULT_CONTACT_MANAGER_ENDPOINT="new_hire_packet/people";this.DEFAULT_GTKY_FILTER_ENDPOINT="new_hire_packet/gtkyoptions";this.DEFAULT_TEMPLATE_ENDPOINT="/employees/new_hire_packet.php";this.DEFAULT_TEMPLATE_DATA_ENDPOINT="/onboarding/nhp/";this.DEFAULT_ONBOARDING_TASKS_DATA_ENDPOINT="/onboarding/tasks/";this.DEFAULT_ONBOARDING_TASKS_IMPORT_ENDPOINT="/onboarding/tasks/importable/";this.getContactAndManagerInfo=this.getContactAndManagerInfo.bind(this)}getNewEmployeeInfoForm(e){return this.Ajax.get(`/onboarding/nhp_preview/${e}`).then((e=>e.data)).catch((e=>{window.setMessage("Uh Oh, something went wrong loading the new hire packet new employee info.","error");throw e}))}getOnboardingTasks(e=this.DEFAULT_ONBOARDING_TASKS_DATA_ENDPOINT,t){return this.Ajax.get(`${e}${t}`).then((e=>e.data)).catch((e=>{window.setMessage("Uh Oh, something went wrong loading the new hire packet tasks.","error");throw e}))}getEmployeePacketDetails(e=this.DEFAULT_TEMPLATE_DATA_ENDPOINT,t){return this.Ajax.get(`${e}${t}`).then((e=>{const{employee:t,newHirePacket:a,payrollFields:r,questionsAndAnswers:n,recipientTypes:i}=e.data;const o={...t};for(const e in o){if(o.hasOwnProperty(e)&&o[e]===null){switch(e){case"id":case"managerId":o[e]=undefined;break;case"payrollSynced":o[e]=false;break;default:o[e]=""}}}return{employee:o,newHirePacket:a,payrollFields:r,questionsAndAnswers:n,recipientTypes:i}})).catch((e=>{window.setMessage("An error occurred getting packet data, please try again","error");throw e}))}getContactAndManagerInfo(e=this.DEFAULT_CONTACT_MANAGER_ENDPOINT){return this.Ajax.get(e).then((e=>{const{data:t}=e;const{employees:a,nhpUserId:r,orderedEmployees:n,orderedUsers:i,users:o}=t;const s=[];const l=[];for(let e=0;e<n.length;e++){s.push({text:a[n[e]],value:`${n[e]}`})}for(let e=0;e<i.length;e++){l.push({text:o[i[e]].name,value:`${i[e]}`})}return{employeeOptions:s,userOptions:l,nhpUserId:r}}))}getTeamContactInfo(e){return this.Ajax.get(`/onboarding/nhp_preview/${e}/team`).then((e=>{const{error:t}=(e===null||e===void 0?void 0:e.data)||{};if(t){window.setMessage($.__("An error has occurred getting the team information, please try again"),"error");throw new Error("Reset default failed")}return e.data})).catch((e=>{window.setMessage($.__("An error occurred getting packet data, please try again"),"error");throw e}))}getGTKYFilterData(e=this.DEFAULT_GTKY_FILTER_ENDPOINT){const t={locations:"location",divisions:"division",departments:"department",employmentStates:"status"};return this.Ajax.get(e).then((e=>{const{data:a}=e;const n=Object.keys(a);return n.map((e=>{const n=t[e]||e;const i=[];const o=a[e];for(let e=0;e<o.length;e++){i.push({parentId:n,text:o[e].value,value:o[e].id})}i.sort(((e,t)=>{if(e.text<t.text){return-1}if(e.text<t.text){return 1}return 0}));return{items:i,name:n,text:(0,r.startCase)(n),value:n}}))}))}getImportableTasks(e=this.DEFAULT_ONBOARDING_TASKS_IMPORT_ENDPOINT,t){const a=s(t);if(a.length>0){return new Promise(((e,t)=>{t({missingData:a})}))}const{deletedOriginalIds:r=[],excludedIds:n=[],managerId:i,hireDate:o,initialImport:l=true}=t;return this.Ajax.post(e,{deletedOriginalIds:r.join(","),excludedIds:n.join(","),managerId:i,hireDate:o}).then((e=>{const{applicableToEmployee:t,files:a,hasImported:r,notApplicableToEmployee:n,semiApplicableToEmployee:i,users:o}=e.data;const s={...i,...l?{}:n};return{applicableTasks:t,files:a,hasImported:r,notApplicableTasks:s,users:o}})).catch((e=>{window.setMessage($.__("Uh oh, something went wrong. Please try again."),"error");throw e}))}getMissingData(e){return this.Ajax.get(`/onboarding/tasks/${e}/missing_fields`).then((e=>e.data)).catch((e=>{setMessage($.__("An error occurred while getting the template information, please try again later"),"error");throw e}))}getTemplates(e){return this.Ajax.get(e).then((e=>e.data)).catch((()=>{setMessage($.__("An error occurred while getting the template list, please try again later"),"error");return false}))}getTemplateData(e){return this.Ajax.get(e).then((e=>{const t={...e.data};t.contactEmployeeId=t.contactEmployeeId?t.contactEmployeeId:"";return t})).catch((()=>{setMessage($.__("An error occurred while getting the template information, please try again later"),"error");return false}))}saveTemplate(e,t,a="post"){return this.Ajax[a](e,t).then((e=>({savedNHPTemplate:true,templateData:e.data}))).catch((()=>({savedNHPTemplate:false})))}deleteTemplate(e){return this.Ajax.delete(e).catch((e=>{setMessage($.__("An error occurred while deleting the template, please try again"),"error");throw e}))}savePacket(e=this.DEFAULT_TEMPLATE_DATA_ENDPOINT,t){return this.Ajax.post(e,t).then((e=>({packetSaved:true,response:e}))).catch((e=>{throw e}))}}t.NewHirePacketAPI=o;function s(e){const{managerId:t="",hireDate:a=""}=e;const r=[];if(typeof t==="string"&&t.length<1||t&&Number.isNaN(t)){r.push("managerId")}if(a.length<1){r.push("hireDate")}return r}},838404:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EditEmailAPI",{enumerable:true,get:function(){return r.EditEmailAPI}});Object.defineProperty(t,"NewHirePacketAPI",{enumerable:true,get:function(){return r.NewHirePacketAPI}});var r=a(289319)},726159:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseEmailFilterData=n;t.parseTemplateData=i;t.transformTemplateListToSelectOptions=o;var r=a(953795);function n(e){let t="";const a=e.map((e=>{t=e.type;return`${(e===null||e===void 0?void 0:e.typeId)||(e===null||e===void 0?void 0:e.id)}`}));return{selectedParentId:t,selectedFilters:a}}function i(e){const t={};const a={...e};const{gtkyQuestions:i,gtkyRecipients:o}=a;const{selectedParentId:s="",selectedFilters:l}=n(o);a.nhpTemplateId=a.id;delete a.id;i.map(((e,a)=>{t[a]=e}));(0,r.updateFormState)({gtkyRecipients:e.gtkyRecipients.map((e=>({allEmployees:false,type:e.type,typeId:e.typeId})))});return{newHirePacket:a,gtkyQuestions:t,emailFilter:{selectData:[],selectedName:s,selectedParentId:s,selectedValues:l}}}function o(e=[]){if(Array.isArray(e)){return e.map((e=>({text:e.name,value:e.id})))}return[]}},220762:()=>{"use strict"},647245:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmailFilter=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(273641);var s=a(651745);var l=a(753134);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class u extends i.PureComponent{static get className(){return"EmailFilter"}constructor(e){super(e);const{selectData:t=[],selectedName:a="",selectedParentId:r="-1",selectedValues:n=[],storeUpdater:i=(e=>e)}=this.props;let s=(0,o.cloneDeep)(t);s=this.disableRootItems(r,s);this.state={selectData:s,selectedName:a,selectedParentId:r,selectedValues:[...n]};const l=n.map((e=>({allEmployees:false,typeId:e,type:a})));i({gtkyRecipients:l});this._handleSelectChange=this._handleSelectChange.bind(this)}disableRootItems(e,t){let a=false;if(Number.parseInt(e)===-1){return t}const r=(0,o.cloneDeep)(t);for(const t of r){if(t.value===e){a=true}else{t.isDisabled=true}}return a?r:t}getToggleTranslation(e,t){let a=null;switch(e.toLowerCase()){case"department":a=(0,n.default)(l.Message,{params:[t],text:$._n("{1} Department","{1} Departments",t)});break;case"location":a=(0,n.default)(l.Message,{params:[t],text:$._n("{1} Location","{1} Locations",t)});break;case"division":a=(0,n.default)(l.Message,{params:[t],text:$._n("{1} Division","{1} Divisions",t)});break;case"status":a=(0,n.default)(l.Message,{params:[t],text:$._n("{1} Status","{1} Statuses",t)});break;default:a=(0,n.default)(l.Message,{params:[t],text:$._n("{1} Item Selected","{1} Items Selected",t)});break}return a}_handleSelectChange(e=[],t=[]){const{selectData:a,storeUpdater:r=(e=>e)}=this.props;const{selectData:n,selectedName:i,selectedParentId:o}=this.state;const s=t.length>0?t[0].parentId:"-1";const l=o===s?n:this.disableRootItems(s,a);let d=i;if(t.length===0){d=""}else if(d===""){const e=a.find((e=>e.value===s));d=e.name||""}this.setState({selectData:l,selectedName:d,selectedParentId:s,selectedValues:e},(()=>{const{selectedName:e,selectedValues:t}=this.state;const a=t.map((t=>({allEmployees:false,typeId:t,type:e})));r({gtkyRecipients:a})}))}render(){const{selectedName:e,selectData:t=[],selectedValues:a=[]}=this.state;return i.default.createElement(i.default.Fragment,null,a.map((t=>(0,n.default)("input",{name:`${e}[]`,type:"hidden",value:t},`${e}_${t}`))),(0,n.default)(s.Select,{canSelectMultiple:true,items:t,onChange:this._handleSelectChange,placeholder:$.__("All Employees"),renderToggleContent:t=>{const a=t.length;return(0,n.default)(i.Fragment,{},void 0,a>0?(0,n.default)("div",{className:"FilterDropdown__toggle"},void 0,(0,n.default)("span",{},void 0,this.getToggleTranslation(e,a))):null)},selectedValues:a,width:7}))}}t.EmailFilter=u},846471:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EmailFilter",{enumerable:true,get:function(){return r.EmailFilter}});var r=a(647245)},412207:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FirstDayInformation=void 0;var n=r(a(856075));var i=p(a(573674));var o=r(a(341757));var s=r(a(562484));var l=r(a(60042));var d=a(651745);var c=a(753134);var u=r(a(242895));a(856919);function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=f(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class m extends i.PureComponent{static get className(){return"FirstDayInformation"}constructor(e){super(e);const{hireDate:t,location:a,otherInstructions:r,selectedArrivalTime:n,selectedContactOptions:i,selectedManagerOptions:o,storeUpdater:s=(()=>0)}=e;this.state={hireDate:t,location:a,otherInstructions:r,selectedArrivalTime:n,selectedContactOptions:i,selectedManagerOptions:o};s(this.state);this._handleChangeLocation=this._handleChangeLocation.bind(this);this._handleChangeInstructions=this._handleChangeInstructions.bind(this);this._handleContactChange=this._handleContactChange.bind(this);this._handleManagerChange=this._handleManagerChange.bind(this);this._handleTimeChange=this._handleTimeChange.bind(this)}_handleUpdateHireDate(e){const{storeUpdater:t=(()=>0),updateHireDate:a}=this.props;const{hireDate:r}=this.state;if(r!==e){if(typeof a==="function"){try{a(e)}catch(e){console.error(e)}}this.setState({hireDate:e},(()=>{t(this.state)}))}}_handleChangeInstructions(e){const{storeUpdater:t=(()=>0)}=this.props;const{value:a=""}=e.target;this.setState({otherInstructions:a},(()=>{t(this.state)}))}_handleChangeLocation(e){const{storeUpdater:t=(()=>0)}=this.props;const{value:a=""}=e.target;this.setState({location:a},(()=>{t(this.state)}))}_handleContactChange(e){const{storeUpdater:t=(()=>0)}=this.props;this.setState({selectedContactOptions:e},(()=>{t(this.state)}))}_handleManagerChange(e){const{storeUpdater:t=(()=>0),updateSelectedManager:a}=this.props;if(typeof a==="function"){try{a(e[0])}catch(e){console.log(e)}}this.setState({selectedManagerOptions:e},(()=>{t(this.state)}))}_handleTimeChange(e){const{storeUpdater:t=(()=>0)}=this.props;this.setState({selectedArrivalTime:e},(()=>{t(this.state)}))}componentDidMount(){const e=document.querySelector(".js-hireDatePickerInput");if(e){e.addEventListener("blur",(e=>{const t=e.target.value;if(!t||t===""){this._handleUpdateHireDate(t)}}))}}render(){const{arrivalTimes:e,contactOptions:t,errorField:a={},infoHighlightFields:r={},managerOptions:i,name:f,templateView:p}=this.props;const{hireDate:m,location:h="",otherInstructions:v="",selectedArrivalTime:g,selectedContactOptions:y,selectedManagerOptions:b}=this.state;const w=(0,l.default)("fab-Label fab-Label--required",{"fab-Label--error":a.hireDate,"fab-Label--info":r.hireDate});const S=(0,l.default)("js-hireDatePickerInput fab-TextInput--width5",{"fab-TextInput--error":a.hireDate,"fab-TextInput--info":r.hireDate});const O=(0,l.default)("fab-Label",{"fab-Label--error":a.manager,"fab-Label--info":r.manager});let T;if(a.manager){T="error"}else if(r.manager){T="info"}return(0,n.default)("div",{className:"fab-FormSection"},void 0,(0,n.default)("legend",{className:"fab-FormSection__legend FirstDayInformation__legend"},void 0,(0,n.default)(d.Icon,{brand:true,name:"fab-map-grid-20x20"}),(0,n.default)("span",{className:"fab-FormSection__legendText"},void 0,$.__("When, Where, and Other Info"),(0,n.default)("span",{className:"fab-FormSection__legendNote"},void 0,(0,n.default)(c.Message,{params:[f],text:$._("Enter information about when {1} should arrive, where to go and who to contact on their first day.")})))),(0,n.default)("div",{className:"FirstDayInformation--indent"},void 0,(0,n.default)("div",{className:"fab-FormRow"},void 0,!p&&(0,n.default)("div",{className:"fab-FormColumn",id:"hireDate"},void 0,(0,n.default)("label",{className:w,htmlFor:"hireDate"},void 0,$.__("Hire Date (First Day)")),(0,n.default)(u.default,{cssClasses:{single:S},name:"employees[hireDate]",noFacade:true,onChange:e=>{this._handleUpdateHireDate(e)},required:true,settings:{start:m},type:"date",unsafeProps:{defaultValue:(0,o.default)(m).format(o.default.defaultFormat)}})),(0,n.default)("div",{className:"fab-FormColumn"},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"arrivalTime"},void 0,$.__("Please Arrive by...")),(0,n.default)(d.Select,{items:e,name:"newHirePackets[arrivalTime]",onChange:this._handleTimeChange,selectedValues:g,width:5})),(0,n.default)("div",{className:"fab-FormColumn"},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"location"},void 0,$.__("Location")),(0,n.default)("div",{className:"fab-InputWrapper"},void 0,(0,n.default)("input",{className:"fab-TextInput fab-TextInput--width10",id:"location",name:"newHirePackets[location]",onChange:this._handleChangeLocation,placeholder:$.__("Enter Address (Leave blank for remote employee)"),type:"text",value:h||"",width:"10"})))),(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("div",{className:"fab-FormColumn"},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"whoToContact"},void 0,$.__("Who to Contact")),(0,n.default)(d.Select,{items:t,name:"newHirePackets[contactEmployeeId]",onChange:this._handleContactChange,selectedValues:y,width:6})),!p&&(0,n.default)("div",{className:"fab-FormColumn",id:"managerSelect"},void 0,(0,n.default)("label",{className:O,htmlFor:"managerContact"},void 0,$.__("Manager")),(0,n.default)(d.Select,{condition:T,items:i,name:"employeeJobHistoryItems[reportsToEmployeeId]",onChange:this._handleManagerChange,selectedValues:b,width:6}))),(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("div",{className:"fab-FormColumn"},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"otherInstructions"},void 0,$.__("Other Instructions")),(0,n.default)(s.default,{className:"fab-Textarea fab-Textarea--width10",name:"newHirePackets[otherInstructions]",onChange:this._handleChangeInstructions,value:v||""})))))}}t.FirstDayInformation=m},656661:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FirstDayInformation",{enumerable:true,get:function(){return r.FirstDayInformation}});var r=a(412207)},119636:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ESIG_TYPE=void 0;const a="esig";t.ESIG_TYPE=a},988802:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FileSection=c;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(293956);a(106843);var l=a(856695);var d=a(119636);function c(e){const{files:t=[],handleRemove:a,handleToggle:r,view:i="display"}=e;const c=(0,l.useStyles)();function u(e){const{currentSignerUserId:t,esignatureRequired:a,esignatureTemplateId:r,esignatureWorkflowId:n,esignatureWorkflowInstanceId:i,extension:o,fileDataId:l,fileName:c,fileId:u,isCompletedEsignature:f,isEsignature:p,scanInfo:m}=e;const h=m===null||m==="skipped";const v=p?d.ESIG_TYPE:o;const g=(0,s.isImgFile)(o.toLowerCase())?"img":"";return{eSigMetaData:{currentSignerUserId:t,esignatureTemplateId:r,esignatureWorkflowId:n,workflowInstanceId:i,isCompletedEsignature:f},fdId:l||"",fileId:u||"",mode:g,name:c,required:a===true,safe:h,type:v}}return(0,n.default)("div",{className:"FileCardContainer FileCards NewHirePacketFiles"},void 0,t.map(((e,l)=>{if(!e){return null}const f=u(e);const{eSigMetaData:p,fdId:m,fileId:h,mode:v,name:g,required:y,safe:b,type:w}=f;const{currentSignerUserId:S,esignatureTemplateId:O,esignatureWorkflowId:T,workflowInstanceId:C,isCompletedEsignature:P}=p;const E=w===d.ESIG_TYPE&&!O&&!T;function M(){if(!P&&w===d.ESIG_TYPE&&O){if(window.SESSION_USER.id===`${S}`){window.lazySigs((e=>{e.Signing.openModal(O,T,C,"Esignatures.init(Esignatures.TYPE_SIGNING)",g)}));return}else{window.lazySigs((e=>{e.Signing.openPreviewModeModal(O,C,g)}));return}}(0,s.previewFile)(m||h,h,g,null,null,true,v)}let x=null;if(i==="display"){if(P){x="signed"}else if(window.SESSION_USER.id===`${S}`){x="required"}else{x="pending"}}const k=E?(0,n.default)("span",{className:c.pendingWorkflow},void 0,g):g;return(0,n.default)("div",{className:c.fileCard,"data-file-id":h},`${l}_${h}`,(0,n.default)(o.FileCard,{fileId:Number.parseInt(h),fileName:k,fileType:w,isSafe:b,onClick:i==="display"&&!E?M:null,onRemove:i==="attachment"?e=>{const n=t.findIndex((t=>Number.parseInt(t.fileId)==e));if(typeof r==="function"){a({fileId:e,fileIndex:n})}}:null,onToggle:e=>{const a=t.findIndex((t=>Number.parseInt(t.fileId)===e));const n=t[a].esignatureRequired===false?"yes":"no";if(typeof r==="function"){r({fileId:e,fileIndex:a,required:n})}},signatureState:x,toggleState:y,view:i}))})))}},617542:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FileSection",{enumerable:true,get:function(){return r.FileSection}});var r=a(988802)},856695:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useStyles=void 0;var r=a(651745);const n=(0,r.makeStyles)((({palette:e,typography:t})=>(0,r.createStyles)({fileCard:()=>({marginRight:"16px",marginBottom:"10px"}),pendingWorkflow:{color:e.gray[1e3],fontWeight:t.fontWeightRegular}})));t.useStyles=n},504756:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.GtkyQuestionList=c;var n=r(a(856075));var i=r(a(573674));var o=a(273641);var s=a(651745);var l=a(372949);var d=a(231147);a(315006);function c(e){const{customQuestions:t}=e;const[a,r,c,u]=(0,d.useDragAndDrop)(Object.values(t));if(a[0].id===undefined){r(a.map(((e,t)=>{e.id=t;return e})))}function f(){const e=(0,o.cloneDeep)(a);const t=Math.max(...e.map((e=>+e.id)));const r={archived:"",id:t+1,is_required:"",question:"",sort_order:`${t+1}`};e.push(r);b(e)}function p(e){const t=(0,o.cloneDeep)(a);t.splice(e,1);b(t)}function m(){u.handleDragEnd();e.updateQuestionsHandler(a)}function h(e,t){u.handleDragOver(e,t)}function v(e,t){u.handleDragStart(e,t);e.dataTransfer.setDragImage(e.target,e.nativeEvent.offsetX||0,e.nativeEvent.offsetY||0)}function g(e,t,r){const n=(0,o.cloneDeep)(a);n[e].question=t;n[e].required=r==="yes";n[e].sortOrder=e;b(n)}function y(e,t,a){return(0,n.default)(l.GtkyQuestion,{canDelete:a>1,focusInput:a>1&&t+1===a&&e.question==="",onDelete:p,onDragEnd:m,onDragOver:h,onDragStart:v,onUpdate:g,position:t,questionData:e},`cqWrapper-${e.id}${e.sort_order}`)}function b(t){r(t);e.updateQuestionsHandler(t)}return i.default.createElement(i.default.Fragment,null,(0,n.default)("div",{className:"fab-FormRow QuestionsList"},void 0,(0,n.default)("div",{className:"QuestionsList__questions",id:"customQuestionsWrapper"},void 0,(0,n.default)("p",{className:"QuestionsList__questionsNote"},void 0,$.__("Get to Know You Questions")),a.map(((e,t)=>y(e,t,a.length))))),a.length<9&&(0,n.default)("div",{className:"fab-FormRow fab-FormRow--tight QuestionsList__addQuestion"},void 0,(0,n.default)(s.Button,{clickAction:f,outline:true,size:"small",text:$.__("Add Question"),type:"button"})))}},78982:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"GtkyQuestionList",{enumerable:true,get:function(){return r.GtkyQuestionList}});var r=a(504756)},168831:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.GtkyQuestion=void 0;var n=r(a(856075));var i=l(a(573674));var o=a(651745);a(696711);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class d extends i.PureComponent{static get className(){return"GtkyQuestion"}constructor(e){super(e);this.inputRef=(0,i.createRef)();this.state={...e.questionData,is_required:e.questionData.required?"yes":"no"};this._handleQuestionInputChange=this._handleQuestionInputChange.bind(this);this.focus=this.focus.bind(this)}componentDidMount(){if(this.props.focusInput){this.focus()}}_handleQuestionInputChange(e){const{position:t,onUpdate:a}=this.props;const r=e.target;this.setState({question:r.value},(()=>{const{question:e,is_required:r}=this.state;return a===null||a===void 0?void 0:a(t,e,r)}))}_handleRequiredInputChange(e){const{position:t,onUpdate:a}=this.props;this.setState({is_required:e?"yes":"no",required:e},(()=>{const{is_required:e,question:r}=this.state;return a===null||a===void 0?void 0:a(t,r,e)}))}focus(){const e=this.inputRef.current;if(e){e.focus()}}render(){const{canDelete:e,onDelete:t,onDragEnd:a,onDragOver:r,onDragStart:s,position:l,questionData:d}=this.props;const{id:c}=d;const{is_required:u,sortOrder:f,question:p,required:m}=this.state;return(0,n.default)("div",{className:"js-cQuestion",draggable:true,id:c?`cqWrapper-${c}`:null,onDragOver:e=>{r(e,c)},onDragStart:e=>{s(e,c)},onDrop:e=>{a(e,c)}},void 0,(0,n.default)("div",{className:"fab-InputWrapper GTKYQuestion"},void 0,i.default.createElement("input",{ref:this.inputRef,className:"fab-TextInput fab-TextInput--width10 fab-TextInput--withNub","data-order":f,name:`employeePersonalQuestions[${c}]`,onChange:this._handleQuestionInputChange,placeholder:$.__("Enter Question"),type:"text",value:p}),(0,n.default)("span",{className:"fab-TextInputNub GTKYQuestion__dragHandle"},void 0,(0,n.default)("span",{className:"fab-TextInputNub__icon"},void 0,(0,n.default)(o.Icon,{name:"fab-lines-12x10"}))),(0,n.default)("div",{className:"GTKYQuestionToggle"},void 0,(0,n.default)(o.Toggle,{id:c?`q${c}Req`:null,isChecked:u==="yes"||m,name:`employeePersonalQuestionsRequired[${c}]`,onChange:e=>{const{checked:t}=e.target;this._handleRequiredInputChange(t)},type:"required"})),e&&(0,n.default)(o.FloatingIconButton,{clickAction:()=>t===null||t===void 0?void 0:t(l),hasBounding:false,icon:"fab-circle-x-16x16",size:"teenie",type:"button"})))}}t.GtkyQuestion=d},372949:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"GtkyQuestion",{enumerable:true,get:function(){return r.GtkyQuestion}});var r=a(168831)},342808:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"TeamIntroduction",{enumerable:true,get:function(){return r.TeamIntroduction}});var r=a(925124)},925124:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.TeamIntroduction=void 0;var n=r(a(856075));var i=f(a(573674));var o=a(273641);var s=a(651745);var l=a(753134);var d=a(467802);var c=a(78982);a(701229);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class p extends i.PureComponent{static get className(){return"TeamIntroduction"}constructor(e){super(e);const{storeUpdater:t}=e;const a=(0,o.cloneDeep)(e.customQuestions);if(Object.keys(a).length<1){const e={archived:"",id:"0",is_required:"",question:"",sort_order:"0"};delete e.is_required;e.required=false;a[0]=e}this.state={currentQuestions:this.getQuestionArray(Object.values(a)),customQuestions:a,sendGetToKnowYouEmail:e.sendGetToKnowYouEmail};if(typeof t==="function"){t({gtkyQuestions:Object.values(a),sendGetToKnowYouEmail:e.sendGetToKnowYouEmail})}this._displayEmailPreview=this._displayEmailPreview.bind(this);this._handleToggleGTKYQuestions=this._handleToggleGTKYQuestions.bind(this);this.updateCurrentQuestions=this.updateCurrentQuestions.bind(this)}_displayEmailPreview(e,t){var a,r;return(a=(r=this.props).previewNewHireEmail)===null||a===void 0?void 0:a.call(r,e,t)}_handleToggleGTKYQuestions(){const{storeUpdater:e=(()=>0)}=this.props;const{sendGetToKnowYouEmail:t}=this.state;window.formChanged=true;this.setState({sendGetToKnowYouEmail:t==="yes"||t===true?false:true},(()=>{e({sendGetToKnowYouEmail:this.state.sendGetToKnowYouEmail})}))}getQuestionArray(e){return e.map((e=>e.question))}updateCurrentQuestions(e){const{storeUpdater:t=(()=>0)}=this.props;window.formChanged=true;this.setState({currentQuestions:this.getQuestionArray(e)},(()=>{t({gtkyQuestions:e})}))}render(){const{emailFilterData:e,employeeId:t,employeeName:a}=this.props;const{currentQuestions:r,customQuestions:i,sendGetToKnowYouEmail:o}=this.state;const{selectData:u,selectedName:f,selectedParentId:p,selectedValues:m}=e;return(0,n.default)("div",{className:"TeamIntroduction fab-FormSection"},void 0,(0,n.default)("legend",{className:"fab-FormSection__legend newHirePacketLegend"},void 0,(0,n.default)(s.Icon,{brand:true,name:"fab-hi-20x20"}),(0,n.default)("span",{className:"fab-FormSection__legendText"},void 0,(0,n.default)(l.Message,{params:[a],text:$._("Introduce {1} to the Team")}),(0,n.default)("span",{className:"fab-FormSection__legendNote"},void 0,(0,n.default)(l.Message,{params:[a],text:$._("Add a few Get to Know You questions to help the team get to know {1} a little better.")})))),(0,n.default)("div",{className:"TeamIntroduction__FormSection--indent"},void 0,(0,n.default)("div",{className:"fab-FormRow fab-FormRow--tight"},void 0,(0,n.default)("div",{className:"TeamIntroduction__gtky"},void 0,(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("div",{className:"fab-InputWrapper "},void 0,(0,n.default)("input",{checked:o==="yes"||o===true,className:"fab-Checkbox__input",id:"customQuestions",name:"newHirePackets[sendGetToKnowYouEmail]",onChange:this._handleToggleGTKYQuestions,type:"checkbox"}),(0,n.default)("label",{className:"fab-Checkbox__label",htmlFor:"customQuestions"},void 0,$.__('Send a "Get to Know You" email on the morning of their first day')))),(o==="yes"||o===true)&&(0,n.default)("div",{className:"fab-FormRow fab-FormRow--tight"},void 0,(0,n.default)("div",{className:"TeamIntroductionPreviewEmail"},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"EmailFilter"},void 0,$.__("Send to")),(0,n.default)(d.EmailFilterContainer,{selectData:u,selectedName:f,selectedParentId:p,selectedValues:m}),(0,n.default)("span",{className:"TeamIntroductionPreviewEmail__button"},void 0,(0,n.default)(s.TextButton,{clickAction:()=>{this._displayEmailPreview(t,r)},iconBefore:"fab-envelope-14x12",muted:true,size:"small",type:"button"},void 0,$.__("Preview Email"))))))),(o==="yes"||o===true)&&(0,n.default)("div",{className:"TeamIntroduction__gtkyWrapper",id:"customQuestionsSection"},void 0,(0,n.default)(c.GtkyQuestionList,{customQuestions:i,updateQuestionsHandler:this.updateCurrentQuestions}))))}}t.TeamIntroduction=p;p.defaultProps={customQuestions:{}}},792744:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TASK_FILE_UPLOAD_OPTIONS=t.FIELD_TYPES=void 0;let a;t.FIELD_TYPES=a;(function(e){e["EMAIL"]="email";e["HIRE_DATE"]="hireDate";e["MANAGER"]="manager"})(a||(t.FIELD_TYPES=a={}));let r;t.TASK_FILE_UPLOAD_OPTIONS=r;(function(e){e["NO"]="no";e["YES"]="yes";e["REQUIRED"]="required"})(r||(t.TASK_FILE_UPLOAD_OPTIONS=r={}))},364236:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmailFilterContainer=l;var n=r(a(368652));var i=r(a(573674));var o=a(846471);var s=a(953795);function l(e){return i.default.createElement(o.EmailFilter,(0,n.default)({},e,{storeUpdater:s.updateFormState}))}},467802:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EmailFilterContainer",{enumerable:true,get:function(){return r.EmailFilterContainer}});var r=a(364236)},475130:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FirstDayInformationContainer=u;var n=r(a(368652));var i=c(a(573674));var o=a(656661);var s=a(953795);var l=a(728936);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function u(e){const{hireDate:t,selectedManagerOptions:a}=e;const{state:r,dispatch:d=(e=>e)}=(0,l.useNewHirePacketForm)()||{};const{errorFields:c,infoHighlightFields:u}=r||{};(0,i.useEffect)((()=>{if(Array.isArray(a)&&a.length>0){d({payload:{hireDate:t,selectedManagerId:a[0]},type:l.ACTION_TYPES.SET_INITIAL})}}),[t,a]);return i.default.createElement(o.FirstDayInformation,(0,n.default)({},e,{errorField:c,infoHighlightFields:u,storeUpdater:s.updateFormState,updateHireDate:e=>{d({payload:e,type:l.ACTION_TYPES.UPDATE_HIRE_DATE})},updateSelectedManager:e=>{d({payload:e,type:l.ACTION_TYPES.UPDATE_MANAGER_ID})}}))}},171941:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FirstDayInformationContainer",{enumerable:true,get:function(){return r.FirstDayInformationContainer}});var r=a(475130)},974729:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"TeamIntroductionContainer",{enumerable:true,get:function(){return r.TeamIntroductionContainer}});var r=a(986387)},986387:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.TeamIntroductionContainer=l;var n=r(a(368652));var i=r(a(573674));var o=a(342808);var s=a(953795);function l(e){return i.default.createElement(o.TeamIntroduction,(0,n.default)({},e,{storeUpdater:s.updateFormState}))}},427716:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"File",{enumerable:true,get:function(){return r.File}});Object.defineProperty(t,"NewHirePacketTask",{enumerable:true,get:function(){return r.NewHirePacketTask}});Object.defineProperty(t,"Task",{enumerable:true,get:function(){return r.Task}});Object.defineProperty(t,"UpdatedFile",{enumerable:true,get:function(){return r.UpdatedFile}});Object.defineProperty(t,"User",{enumerable:true,get:function(){return r.User}});Object.defineProperty(t,"PacketTask",{enumerable:true,get:function(){return n.PacketTask}});t.ACTION_TYPES=void 0;var r=a(220762);var n=a(342454);var i;t.ACTION_TYPES=i;(function(e){e["SET_INITIAL"]="setInitial";e["UPDATE_ERROR_FIELDS"]="updateErrorFields";e["UPDATE_HIGHLIGHTED_FIELDS"]="updateHighlightedField";e["UPDATE_MANAGER_ID"]="updateManager";e["UPDATE_HIRE_DATE"]="updateHireDate"})(i||(t.ACTION_TYPES=i={}))},157642:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.updateErrorFields=i;t.updateHighlightedField=o;t.updateManager=s;t.updateHireDate=l;var r=a(792744);function n(e){const t={};const a=Object.keys(e);a.forEach((a=>{if(e[a]){t[a]=true}}));return t}function i(e,t){const a={...e};a.errorFields=n(t);return a}function o(e,t){const a={...e};a.infoHighlightFields=n(t);return a}function s(e,t){const a={...e};a.selectedManagerId=parseInt(t);if(t){delete a.infoHighlightFields.manager;delete a.errorFields.manager}return a}function l(e,t){const a={...e};a.hireDate=t;if(!t||t.length===0){a.errorFields[r.FIELD_TYPES.HIRE_DATE]=true}return a}},728936:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.NewHirePacketFormProvider=u;t.useNewHirePacketForm=f;Object.defineProperty(t,"State",{enumerable:true,get:function(){return o.State}});Object.defineProperty(t,"ACTION_TYPES",{enumerable:true,get:function(){return o.ACTION_TYPES}});var n=r(a(856075));var i=l(a(573674));var o=a(295627);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=(0,i.createContext)(undefined);let c=false;function u({children:e}){const t={errorFields:{},hireDate:undefined,infoHighlightFields:{},selectedManagerId:undefined};const[a,r]=(0,i.useReducer)(o.taskSectionReducer,t);return(0,n.default)(d.Provider,{value:{state:a,dispatch:r}},void 0,e)}function f(){const e=(0,i.useContext)(d);if(c===false&&e===undefined){c=true;console.warn("useNewHirePacketForm must be used within a NewHirePacketFormContext")}return e}},295627:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.taskSectionReducer=i;Object.defineProperty(t,"ACTION_TYPES",{enumerable:true,get:function(){return r.ACTION_TYPES}});Object.defineProperty(t,"State",{enumerable:true,get:function(){return r.State}});var r=a(427716);var n=a(157642);function i(e,t){const{payload:a,type:i}=t;const o={...e};switch(i){case r.ACTION_TYPES.SET_INITIAL:return{...o,...a};case r.ACTION_TYPES.UPDATE_ERROR_FIELDS:return(0,n.updateErrorFields)(o,a);case r.ACTION_TYPES.UPDATE_HIGHLIGHTED_FIELDS:return(0,n.updateHighlightedField)(o,a);case r.ACTION_TYPES.UPDATE_MANAGER_ID:return(0,n.updateManager)(o,a);case r.ACTION_TYPES.UPDATE_HIRE_DATE:return(0,n.updateHireDate)(o,a);default:{throw new Error(`Unhandled action type: ${t.type}`)}}}},342454:()=>{"use strict"},362876:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BaseFormData=void 0;var r=a(273641);var n=a(108201);class i{static get className(){return"BaseFormData"}constructor(e){this.selectedArrivalTime=void 0;this.selectedContactOptions=void 0;this.id=void 0;this.location=void 0;this.name=void 0;this.otherInstructions=void 0;this.gtkyQuestions=void 0;this.gtkyRecipients=void 0;this.sendGetToKnowYouEmail=void 0;this.hireDate=void 0;this.selectedManagerOptions=void 0;const{arriveByTime:t=["08:00:00"],selectedContactOptions:a=null,id:r,location:n="",name:i,otherInstructions:o="",gtkyQuestions:s=[],gtkyRecipients:l=[],sendGetToKnowYouEmail:d=false}=e;this.selectedArrivalTime=t;this.selectedContactOptions=[a];this.id=r;this.location=n;this.name=i;this.otherInstructions=o;this.gtkyQuestions=s;this.gtkyRecipients=l;this.sendGetToKnowYouEmail=d===true||d==="yes";this.selectedManagerOptions=[]}assignQuestionSortOrderByIndex(){return this.gtkyQuestions.map(((e,t)=>{e.sortOrder=t;return e}))}updateData(e,t=false){if(!t){(0,n.markFormAsChanged)()}const a=e.hireDate&&e.hireDate!=this.hireDate;const i=(0,r.cloneDeep)(e);const o=Object.keys(i);for(let e=0;e<o.length;e++){this[o[e]]=i[o[e]]}if(a){document.dispatchEvent(new Event("nhpForm:formUpdate"))}}}t.BaseFormData=i},788728:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createStore=o;t.FORM_TYPES=void 0;var r=a(806053);var n=a(880417);let i;t.FORM_TYPES=i;(function(e){e["PACKET"]="NEW_HIRE_PACKET";e["TEMPLATE"]="NHP_Template"})(i||(t.FORM_TYPES=i={}));function o(e=i.TEMPLATE,t){switch(e){case i.PACKET:return new r.NewHirePacketFormData(t);case i.TEMPLATE:default:return new n.NHPTemplateFormData(t)}}},64959:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createStore",{enumerable:true,get:function(){return r.createStore}});Object.defineProperty(t,"FORM_TYPES",{enumerable:true,get:function(){return r.FORM_TYPES}});Object.defineProperty(t,"NHPTemplateFormData",{enumerable:true,get:function(){return n.NHPTemplateFormData}});Object.defineProperty(t,"NewHirePacketSaveData",{enumerable:true,get:function(){return n.NewHirePacketSaveData}});Object.defineProperty(t,"NewHirePacketFormData",{enumerable:true,get:function(){return i.NewHirePacketFormData}});var r=a(788728);var n=a(880417);var i=a(806053)},806053:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.NewHirePacketFormData=void 0;var n=r(a(341757));var i=a(362876);var o=a(108201);class s extends i.BaseFormData{static get className(){return"NewHirePacketFormData"}constructor(e){super(e);this.nhpTemplateId=void 0;this.employeeId=void 0;this.files=void 0;this.homeEmail=void 0;this.otherTasks=void 0;this.packetTasks=void 0;this.hireDate=void 0;this.selectedManagerOptions=void 0;this.showPayrollState=void 0;this.showPayrollFederal=void 0;this.showPayrollDirectDeposit=void 0;const{employeeId:t,files:a,homeEmail:r,managerId:n,nhpTemplateId:i,otherTasks:o,packetTasks:s,showPayrollState:l,showPayrollFederal:d,showPayrollDirectDeposit:c}=e;this.employeeId=t;this.files=a;this.homeEmail=r;this.selectedManagerOptions=[n];this.nhpTemplateId=i;this.otherTasks=o;this.packetTasks=s;this.showPayrollState=l||false;this.showPayrollFederal=d||false;this.showPayrollDirectDeposit=c||false}_getEmployeeData(){const e=this.hireDate?(0,n.default)(this.hireDate).format(n.default.defaultFormat):"";return{id:this.employeeId,hireDate:e,email:this.homeEmail,managerId:this.selectedManagerOptions[0]===""?null:this.selectedManagerOptions[0]}}_getNewHirePacketData(){return{arriveByTime:this.selectedArrivalTime[0],contactEmployeeId:this.selectedContactOptions[0],employeeId:this.employeeId,nhpTemplateId:this.nhpTemplateId,location:this.location,otherInstructions:this.otherInstructions,sendGetToKnowYouEmail:this.sendGetToKnowYouEmail,showPayrollState:this.showPayrollState,showPayrollFederal:this.showPayrollFederal,showPayrollDirectDeposit:this.showPayrollDirectDeposit}}_getNewHirePacketSaveData(){const e=this.assignQuestionSortOrderByIndex();const t=this._getEmployeeData();const a=this._getNewHirePacketData();return{employee:t,newHirePacket:a,questionsAndAnswers:e,recipientTypes:this.gtkyRecipients}}getFormData(){return{newHirePacketData:this._getNewHirePacketSaveData(),newHirePacketTasks:this.packetTasks,notApplicableToEmployee:this.otherTasks}}updateData(e,t=false){super.updateData(e,t);const a=e.hireDate&&e.hireDate!=this.hireDate;const r=e.selectedManagerOptions&&e.selectedManagerOptions[0]!=(this===null||this===void 0?void 0:this.selectedManagerOptions[0]);if(!t){(0,o.markFormAsChanged)()}if(a||r){document.dispatchEvent(new Event("nhpForm:formUpdate"))}}}t.NewHirePacketFormData=s},880417:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.NHPTemplateFormData=void 0;var n=r(a(341757));var i=a(362876);class o extends i.BaseFormData{static get className(){return"NHPTemplateFormData"}getFormData(){const e=this.assignQuestionSortOrderByIndex();return{arriveByTime:this.selectedArrivalTime[0],contactEmployeeId:this.selectedContactOptions[0],id:this.id,location:this.location,name:this.name,otherInstructions:this.otherInstructions,gtkyQuestions:e,gtkyRecipients:this.gtkyRecipients,sendGetToKnowYouEmail:this.sendGetToKnowYouEmail===true||this.sendGetToKnowYouEmail==="yes"}}getPacketFormData(){const e=this.getFormData();const t=this.hireDate?(0,n.default)(this.hireDate).format("YYYY-MM-DD"):"";return{...e,hireDate:t,managerId:this.selectedManagerOptions[0]}}}t.NHPTemplateFormData=o},953795:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.previewNewHireEmail=v;t.dateOptions=g;t.registerTemplateFormData=y;t.registerPacketFormData=b;t.setInitialFormState=w;t.updateFormState=S;t.getFormSaveData=O;t.getSelectableEmployees=T;t.getNHPUserId=C;t.hideFooter=P;t.setSelectableEmployees=E;t.setNHPUserId=M;t.showFooter=x;var n=r(a(856075));var i=r(a(573674));var o=r(a(417842));var s=a(975558);var l=r(a(341757));var d=r(a(64937));var c=a(453833);var u=a(608365);var f=a(64959);let p=(0,f.createStore)(f.FORM_TYPES.TEMPLATE,{});let m=[];let h=null;function v(e,t,a){o.default.get(`/onboarding/nhp/gtky_email_preview/${e}`).then((r=>{if(r){const{data:i,status:o}=r;if(o===200){const{body:r=""}=i;const o=(0,n.default)(d.default,{imageAlt:"Image of employee",imageSrc:`/employees/photos/?id=${e}`,isModalHeader:false,theme:"newHire",title:t.fullName},void 0,(0,n.default)(c.EmploymentSubtitles,{jobTitle:t.jobTitle,location:t.jobLocation}));(0,s.showModal)((0,n.default)(u.WelcomeEmailPreviewer,{body:r,employeeBadgeComponent:o,employeeData:t,getToKnowYouQuestions:a,isOpen:true,primaryAction:s.closeModal,showQuestionsPlaceholder:false}))}else{window.setMessage($.__("An error has occurred while getting the preview, please try again later"),"error")}}}));return false}function g(){const e=[];const t="HH:mm:ss";const a=(0,l.default)("00:00:00",t);const r=a.unix();const n=r+60*60*24;let i=r;while(i<n){const a=l.default.unix(i,"HH:mm:ss");e.push({text:a.format("LT"),value:a.format(t)});i+=60*15}return e}function y(e){p=(0,f.createStore)(f.FORM_TYPES.TEMPLATE,e)}function b(e){p=(0,f.createStore)(f.FORM_TYPES.PACKET,e)}function w(e){p.updateData(e,true)}function S(e){p.updateData(e)}function O(){return p.getFormData()}function T(){return m}function C(){return h}function P(){document.dispatchEvent(new CustomEvent("SiteFooter:close"))}function E(e){m=e}function M(e){h=e}function x(){document.dispatchEvent(new CustomEvent("SiteFooter:open"))}},92794:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmployeeInfo=c;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(288015);const l=(0,o.makeStyles)((({palette:e,typography:t})=>(0,o.createStyles)({contactInfo:{marginTop:"20px",display:"flex",flexGrow:1,lineHeight:t.fabricLineHeight("small")},contactImgWrapper:{marginRight:"20px"},contactImg:{borderRadius:"100%",width:"86px",height:"86px"},contactHead:{fontSize:t.fabricFontSize("biggie"),lineHeight:t.fabricLineHeight("biggie"),fontWeight:t.fontWeightMedium},contactSub:{fontSize:t.fabricFontSize("small"),lineHeight:t.fabricLineHeight("small"),color:e.gray[700]},contactPronoun:{fontSize:t.fabricFontSize("small"),color:e.gray[700]},socials:{marginTop:"10px",display:"flex",alignItems:"center","& a":{fill:e.grey[500],marginRight:"10px","&:hover":{fill:e.primary.main}}}})));const d={Aol:(0,n.default)(s.Aim14x15,{}),Facebook:(0,n.default)(s.Facebook20x20,{}),Instagram:(0,n.default)(s.Instagram20x20,{}),LinkedIn:(0,n.default)(s.Linkedin20x20,{}),Pinterest:(0,n.default)(s.Pinterest20x20,{}),Skype:(0,n.default)(s.Skype14x14,{}),Twitter:(0,n.default)(s.Twitter20x20,{})};function c(e){const{employee:t={}}=e;const{email:a,extension:r,firstName:i,lastName:o,phone:c,position:u,profileImageSrc:f,pronounsLabel:p,socials:m}=t;const h=l();return(0,n.default)("div",{className:h.contactInfo},void 0,(0,n.default)("div",{className:h.contactImgWrapper},void 0,(0,n.default)("img",{alt:`${i} ${o}`,className:h.contactImg,src:f})),(0,n.default)("div",{},void 0,(0,n.default)("p",{className:h.contactHead},void 0,i," ",o,p&&(0,n.default)("span",{className:h.contactPronoun},void 0," (",p,")")),(0,n.default)("p",{className:h.contactSub},void 0,u),(0,n.default)("p",{className:h.contactSub},void 0,c," ",r&&(0,n.default)("span",{},void 0,"ext. ",r)),a&&(0,n.default)("a",{href:`mailto:${a}`,rel:"noopener noreferrer",target:"_blank"},void 0,a),(a||m)&&(0,n.default)("div",{className:h.socials},void 0,a&&(0,n.default)("a",{href:`mailto:${a}`,rel:"noopener noreferrer",target:"_blank"},void 0,(0,n.default)(s.Envelope20x16,{})),m&&m.map((e=>(0,n.default)("a",{href:e.href,rel:"noopener noreferrer",target:"_blank"},e.type,d[e.type]))))))}},873436:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EmployeeInfo",{enumerable:true,get:function(){return r.EmployeeInfo}});var r=a(92794)},460044:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Finished=c;var n=r(a(856075));var i=r(a(573674));var o=a(753134);var s=a(540671);var l=a(873436);var d=a(651745);function c(e){const{employeeName:t,companyName:a,children:r,team:c,isNHPTemplate:u=false}=e;const{manager:f,members:p=[]}=c;const m=(0,s.styles)();const h=`${window.location.protocol}//${window.location.hostname}`;return i.default.createElement(i.default.Fragment,null,(0,n.default)(d.Card,{hasBottomGradient:false,size:d.CardSize.FULL},void 0,(0,n.default)(d.CardContent,{},void 0,(0,n.default)("div",{className:m.finishedPage},void 0,(0,n.default)("div",{},void 0,(0,n.default)("h1",{className:m.headerTitle},void 0,(0,n.default)(o.Message,{params:[t],text:$._(`{1}, You're All Ready To Go.`)})),(0,n.default)("p",{className:m.headerDesc},void 0,(0,n.default)(o.Message,{params:[a],text:$._(`We're looking forward to having you here at {1}.`)})),(0,n.default)("hr",{className:m.headerDivider})),r,((p===null||p===void 0?void 0:p.length)>0||f)&&(0,n.default)("div",{},void 0,(0,n.default)("hr",{className:m.divider}),(0,n.default)("h2",{},void 0,$._("Get to Know the Team")),f&&i.default.createElement(i.default.Fragment,null,(0,n.default)("h4",{},void 0,"Your Manager"),(0,n.default)(l.EmployeeInfo,{employee:f})),p&&p.length>0&&(0,n.default)("div",{className:m.membersWrapper},void 0,(0,n.default)("h4",{},void 0,"Your Team"),(0,n.default)("div",{className:m.members},void 0,p.map((e=>(0,n.default)(l.EmployeeInfo,{employee:e},`${e.firstName}_${e.lastName}`))))))))),!u&&(0,n.default)("div",{className:m.footer},void 0,(0,n.default)("div",{className:m.bamboohrLogo},void 0,(0,n.default)(d.Icon,{name:"fab-bamboohr-logo-255x38"})),(0,n.default)("h3",{},void 0,(0,n.default)(o.Message,{params:[a],text:$.__(`{1} uses BambooHR`)})),(0,n.default)("p",{className:m.footerText},void 0,(0,n.default)(o.Message,{text:$.__(`You can access your company's HR site at:`)})),(0,n.default)("a",{href:"#",rel:"noopener noreferrer",target:"_blank"},void 0,h),(0,n.default)("p",{className:m.footerDisclaimer},void 0,(0,n.default)(o.Message,{text:$.__(`(You may want to bookmark this baby.)`)}))))}},740737:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Finished",{enumerable:true,get:function(){return r.Finished}});var r=a(460044)},540671:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.styles=void 0;var r=a(651745);const n=(0,r.makeStyles)((({palette:e,typography:t})=>{const a=(0,r.getTheme)("lime1");return(0,r.createStyles)({finishedPage:{margin:"0",paddingTop:"29px","& h2":{fontWeight:t.fontWeightMedium}},headerTitle:{fontWeight:t.fontWeightMedium,textAlign:"center",fontSize:"32px"},headerDesc:{fontSize:t.fabricFontSize("biggie"),textAlign:"center",color:e.grey[700]},headerDivider:{marginTop:"45px",marginBottom:"35px"},divider:{margin:"35px 0",height:"1px",borderColor:e.grey[300]},membersWrapper:{margin:"60px 0"},members:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))"},footer:{background:e.grey[100],margin:"0 -170px",padding:"45px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:"5px 0"}},bamboohrLogo:{fill:a.palette.primary.lighter},footerText:{color:e.grey[800],fontSize:t.fabricFontSize("medium")},footerDisclaimer:{color:e.grey[600],fontSize:t.fabricFontSize("small")}})}));t.styles=n},27176:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.GetIntroduced=l;var n=r(a(856075));var i=r(a(573674));var o=a(753134);var s=a(432199);function l(e){const t=(0,s.styles)();const{gtkyQuestions:a=[]}=e;const r=a.map(((e,a)=>(0,n.default)("div",{className:t.question},e.sortOrder,(0,n.default)("label",{className:`fab-Label ${e.required?"fab-Label--required":""}`,htmlFor:`question-${a}`},void 0,e.question),(0,n.default)("textarea",{className:"fab-Textarea fab-Textarea--width10",defaultValue:e.employeeResponse??"",disabled:true,id:`question-${a}`}))));return(0,n.default)("div",{},void 0,(0,n.default)("div",{},void 0,(0,n.default)("h2",{className:t.headerTitle},void 0,(0,n.default)(o.Message,{text:$._("Get Introduced to The Team")})),(0,n.default)("p",{className:t.headerDesc},void 0,(0,n.default)(o.Message,{text:$._(`You're almost done, but first we'd like to get to know a bit more about you so we can introduce you to the rest of the team. `)}),(0,n.default)(o.Message,{text:$._(`Please answer the following questions and we'll send out a quick introduction email to the people you'll be working with.`)}))),(0,n.default)("hr",{className:t.divider}),(0,n.default)("h3",{},void 0,(0,n.default)(o.Message,{text:$._("Tell us a little about yourself:")})),(0,n.default)("div",{className:t.inputs},void 0,r))}},241351:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"GetIntroduced",{enumerable:true,get:function(){return r.GetIntroduced}});var r=a(27176)},432199:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.styles=void 0;var r=a(651745);const n=(0,r.makeStyles)((({palette:e,typography:t})=>(0,r.createStyles)({headerTitle:{fontWeight:t.fontWeightMedium,fontSize:"32px"},headerDesc:{fontSize:t.fabricFontSize("biggie"),color:e.grey[700]},divider:{margin:"35px 0"},inputs:{padding:"0 15px",display:"flex",flexDirection:"column"},question:{display:"flex",flexDirection:"column",marginTop:"15px"},questionInput:{maxHeight:"60px",maxWidth:"430px"}})));t.styles=n},384258:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.HeaderNavigation=s;var n=r(a(856075));var i=r(a(573674));var o=a(855357);function s(e){const{pageNames:t,currentPage:a}=e;const r=(0,o.useStyles)();const i=[];t.forEach(((e,o)=>{const s=(0,n.default)("li",{className:`${r.navItem} ${a===o?r.navItemActive:null}`},e,(0,n.default)("div",{className:`${r.navNumber} ${a===o?r.navNumberActive:null}`},void 0,o+1),(0,n.default)("div",{className:r.navName},void 0,e));if(o<t.length-1){i.push(s)}}));return(0,n.default)("div",{className:`NavigationWrapper ${r.navWrapper}`},void 0,(0,n.default)("div",{className:`NHPStepsContainer ${r.navContainer}`},void 0,(0,n.default)("ul",{className:r.nav},void 0,i,(0,n.default)("li",{className:r.navSpacer}))))}},285458:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"HeaderNavigation",{enumerable:true,get:function(){return r.HeaderNavigation}});var r=a(384258)},855357:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useStyles=void 0;var r=a(651745);var n=a(42688);const i=(0,r.makeStyles)((({palette:e,typography:t})=>{const{COMPUTER:a,TABLET:i}=n.BreakPoints;return(0,r.createStyles)({navWrapper:{[i]:{height:"0"}},nav:{padding:"15px 20px",width:"100%",maxWidth:"1348px",display:"flex",justifyContent:"space-around",[i]:{display:"flex",justifyContent:"end",maxWidth:"100%",padding:"0",paddingRight:"30px",width:"10%",minWidth:"300px"}},navContainer:{background:e.gray[900],display:"flex",justifyContent:"center",paddingLeft:"3%",[i]:{background:"transparent",justifyContent:"end",position:"relative",height:"auto",minWidth:0,top:"-20px",zIndex:"2","&:before":{top:"20px"}}},navItem:{position:"relative",display:"inline",fontSize:t.fabricFontSize("biggie"),fontWeight:t.fontWeightRegular,color:e.gray[600],marginRight:"85px",[i]:{float:"none",marginLeft:"40px",marginRight:"0",padding:"0",height:"40px",width:"auto"}},navItemActive:{color:e.gray[100],fontWeight:t.fontWeightHeavy,[a]:{"&::before":{position:"absolute",content:'""',width:0,height:0,top:"44px",left:"50%",borderLeft:"20px solid transparent",borderRight:"20px solid transparent",borderTop:`20px solid ${e.gray[900]}`}}},navNumber:{display:"inline-block",borderRadius:"50%",width:"25px",height:"25px",padding:"2px",background:e.gray[600],color:e.gray[900],textAlign:"center",fontSize:t.fabricFontSize("large"),fontWeight:t.fontWeightRegular,[i]:{color:e.gray[900],backgroundColor:e.gray[300],border:`3px solid white`,display:"flex",width:"27px",height:"27px",alignItems:"center",justifyContent:"center"}},navName:{paddingLeft:"10px",display:"inline-block",[i]:{display:"none"}},navNumberActive:{background:e.gray[100],fontWeight:t.fontWeightHeavy,lineHeight:t.fabricLineHeight("large"),[i]:{backgroundColor:e.primary.main,color:"white"}},navSpacer:{flex:2}})}));t.useStyles=i},905104:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"NewEmployeeInfo",{enumerable:true,get:function(){return r.NewEmployeeInfo}});var r=a(8883)},8883:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.NewEmployeeInfo=p;t.styles=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(651745);var s=a(753134);var l=a(470116);var d=r(a(60042));function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=(0,o.makeStyles)((({palette:e,typography:t})=>(0,o.createStyles)({headerTitle:{fontSize:"32px",fontWeight:t.fontWeightRegular},headerDesc:{fontSize:t.fabricFontSize("biggie"),color:e.grey[700]},divider:{margin:"35px 0"},blankStateDivider:{margin:"35px 0 70px"},blankStateOverride:{marginBottom:"88px","& p":{maxWidth:"none"}},employeePhoto:{position:"absolute",right:"70px",marginTop:"33px",zIndex:1},employeePhotoText:{fontSize:t.fabricFontSize("teenie"),fabColor:e.grey[700],lineHeight:"20px"},hidden:{display:"none"}})));t.styles=f;function p(e){const t=f();const{data:a,isNHPT:r,photoRequired:c=false,photoURL:u="",previewMode:p=true,showPhoto:m=true,employeeId:h=-1,showPayrollFederal:v=false,showPayrollState:g=false}=e;let y="/images/photo_person_150x150.png";let b=false;if(!u.includes("initials")){y=u;b=true}(0,i.useEffect)((()=>{$(".employeeForm .required").removeClass("required").addClass("visuallyRequired");$(".employeeForm span.inputIcons").addClass("disabled");$(".employeeForm .bhrToggle--btn").addClass("bhrToggle--btn--disabled");$(".employeeForm .fab-SelectToggle").addClass("fab-SelectToggle--disabled");setTimeout((function(){$(".employeeForm .fab-Label, .AdditionalWithholding .fab-FormField").addClass("fab-Label--disabled")}));$(".employeeForm .BhrTable__header--section").removeClass("BhrTable__header--section");$(".employeeForm").find("input, button, ba-select").addClass("disabled").attr("disabled",true)}));const w=(0,d.default)(t.employeePhoto,"js-fieldBox",{"required requiredWhenVisible visuallyRequired":c});const S=(0,d.default)("fab-Label",{"fab-Label--required requiredWhenVisible visuallyRequired":c});function O(){if(p){window.disabledForPermsTest()}}return(0,n.default)("div",{},void 0,(0,n.default)("div",{},void 0,(0,n.default)("h2",{className:t.headerTitle},void 0,(0,n.default)(s.Message,{text:$._("New Employee Information")})),(0,n.default)("p",{className:t.headerDesc},void 0,(0,n.default)(s.Message,{text:$._(`Let's start with the basics. `)}),(0,n.default)(s.Message,{text:$._(`Please complete the following new employee form and add your profile photo. `)}),(0,n.default)(s.Message,{text:$._(`This will ensure we have the most up-to-date information. `)}),(0,n.default)(s.Message,{text:$._(`It will also help us get you up and running quickly with the required paperwork. `)})),(0,n.default)("hr",{className:t.divider}),r&&(0,n.default)("div",{className:"NewEmployeeInfoBlankStateWrapper"},void 0,(0,n.default)("div",{className:t.blankStateOverride},void 0,(0,n.default)(o.BlankState,{icon:"fab-person-index-card-120x92",subtitle:$.__("Youll be able to preview this step, along with the actual fields, when sending the actual New Hire Packet."),title:$.__(`Because this is just the template, we cant show an accurate preview of this step.`)}))),!r&&i.default.createElement(i.default.Fragment,null,m&&(0,n.default)("div",{className:w},void 0,(0,n.default)("label",{className:S,htmlFor:"photo"},void 0,$.__("Profile Photo")),(0,n.default)("input",{id:"photo",name:"photo",type:"hidden",value:b===true?1:undefined}),(0,n.default)("div",{className:"Photo childHover",id:"employeePhoto",onClick:O},void 0,(0,n.default)("img",{className:"Avatar Photo__image",src:y}),(0,n.default)("div",{className:"Photo__image-plus phoneHide"},void 0,(0,n.default)("ba-icon",{name:"fab-circle-plus-34x34"})),(0,n.default)("div",{className:`Photo__image-overlay ${b?t.hidden:""}`},void 0,(0,n.default)(s.Message,{text:$._("Add\nPhoto")})))),(0,n.default)("div",{className:"employeeForm"},void 0,(0,n.default)(l.DynamicForm,{additionalOptions:{employeeId:h,isNHPPacket:true,showPayrollFederal:v,showPayrollState:g},data:a,isAddEmployeeForm:false})))))}},935782:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Previewer",{enumerable:true,get:function(){return r.Previewer}});var r=a(435201)},435201:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Previewer=void 0;var n=r(a(856075));var i=f(a(573674));var o=a(651745);var s=a(246501);var l=a(878975);var d=a(285458);var c=a(355027);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const p="https://www.bamboohr.com/privacy-policy";const m="https://www.bamboohr.com/terms-of-service";class h extends i.PureComponent{static get className(){return"PreviewerComponent"}constructor(e){super(e);this.pages=void 0;this.currentPage=void 0;const{loading:t=true,modalState:a,headerName:r,whenAndWhereComponent:n,newEmployeeInfoComponent:i,getIntroducedComponent:o,tasksComponent:s,finishedComponent:l,showGetIntroduced:d,showTasks:c}=e;this.pages=this._populatePages({whenAndWhereComponent:n,newEmployeeInfoComponent:i,getIntroducedComponent:o,showGetIntroduced:d,tasksComponent:s,showTasks:c,finishedComponent:l});let u=0;this.pages.forEach(((e,t)=>{e.index=t;if(location.hash.includes(e.route)){u=t}}));this.state={loading:t,modalState:a,currentPage:u,headerName:r};this._onRequestClose=this._onRequestClose.bind(this);this._nextPage=this._nextPage.bind(this);this._prevPage=this._prevPage.bind(this);this._changePage=this._changePage.bind(this);this._getPageNames=this._getPageNames.bind(this);this._resetPreview=this._resetPreview.bind(this)}_populatePages(e){const t=[];const{whenAndWhereComponent:a,newEmployeeInfoComponent:r,getIntroducedComponent:n,showGetIntroduced:i,tasksComponent:o,showTasks:s,finishedComponent:l}=e;if(a){t.push({name:$.__("When & Where"),route:"when_and_where"})}if(r){t.push({name:$.__("New Employee Info"),route:"new_employee_info"})}if(n&&i){t.push({name:$.__("Get Introduced"),route:"get_introduced"})}if(o&&s){t.push({name:$.__("Tasks to Complete"),route:"tasks_to_complete"})}if(l){t.push({name:$.__("Finished"),route:"finished"})}return t}_onRequestClose(){this.setState({modalState:false,loading:true,currentPage:0});window.previewUser=null;const{history:e}=this.props;e.replace({hash:"",search:window.location.search})}_resetPreview(){window.ASSUMED_USER=undefined;this.setState({currentPage:0})}_nextPage(){let{currentPage:e}=this.state;this._changePage(++e)}_prevPage(){let{currentPage:e}=this.state;this._changePage(--e)}_changePage(e){if(e>-1&&e<this.pages.length){this.setState({currentPage:e});const{history:t}=this.props;t.push({hash:`preview/${this.pages[e].route}`,search:window.location.search})}}_getPageNames(){return this.pages.map((e=>e.name.replace(/([A-Z])/g," $1").trim()))}componentDidUpdate(e){const{whenAndWhereComponent:t,newEmployeeInfoComponent:a,getIntroducedComponent:r,showGetIntroduced:n,tasksComponent:i,showTasks:o,finishedComponent:s}=this.props;this.pages=this._populatePages({whenAndWhereComponent:t,newEmployeeInfoComponent:a,getIntroducedComponent:r,showGetIntroduced:n,tasksComponent:i,showTasks:o,finishedComponent:s});let l=0;this.pages.forEach(((e,t)=>{e.index=t;if(location.hash.includes(e.route)){l=t}}));const{modalState:d,loading:c}=e;const{modalState:u,loading:f}=this.props;let p=d;let m=c;if(u!==d){p=u}if(f!==c){m=f}window.ASSUMED_USER=p?1:undefined;this.setState({loading:m,modalState:p,currentPage:l})}render(){const{classes:e,isNHPT:t=false,logo:a,whenAndWhereComponent:r,newEmployeeInfoComponent:i,getIntroducedComponent:c,tasksComponent:u,finishedComponent:f,headerAction:h,renderHeader:v}=this.props;const{modalState:g,currentPage:y,loading:b=false}=this.state;const w={closeModal:this._onRequestClose,headerAction:h};const S=v(w);const O=(0,n.default)(s.PreviewerFooter,{currentPage:y,nextPageAction:this._nextPage,previousPageAction:this._prevPage,totalPages:this.pages.length});return(0,n.default)(o.FullScreenModal,{isLoading:b,isOpen:g,onCloseComplete:this._resetPreview,onOpenComplete:()=>{window.previewUser=true;window.closeMessage();const e=document.getElementById("fabricModalContent");if(e){e.classList.add("Previewer")}},onRequestClose:this._onRequestClose},void 0,(0,n.default)("div",{className:e.previewerContent},void 0,(0,n.default)(o.FullScreenModal.Body,{renderFooter:O,renderHeader:S},void 0,(0,n.default)(o.FullScreenModal.Constraint,{spacingOverrides:{bottom:o.FullScreenModal.Constraint.Spacing.NONE,left:o.FullScreenModal.Constraint.Spacing.NONE,right:o.FullScreenModal.Constraint.Spacing.NONE}},void 0,(0,n.default)("div",{className:`LogoWrapper ${e.header}`},void 0,(0,n.default)("div",{className:e.subHeader},void 0,(0,n.default)("div",{className:`${e.logoContainer} ${e.contentSpacer}`},void 0,(0,n.default)("img",{alt:a.alt,className:a.classes,src:a.logoSrc,style:{maxHeight:"60px",maxWidth:"300px",height:"auto",width:`${a.width}px`}}),(0,n.default)("div",{className:e.spacer},void 0," "))),!location.hash.includes("finished")&&(0,n.default)(d.HeaderNavigation,{currentPage:y,pageNames:this._getPageNames()})),(0,n.default)("div",{className:`MainPreviewerBody ${e.containerWrapper}`},void 0,(0,n.default)("div",{className:e.container},void 0,(0,n.default)(l.HashRouter,{basename:"/preview",hashType:"noslash"},`${y}_${b}`,(0,n.default)(l.Switch,{},void 0,(0,n.default)(l.Route,{path:"/when_and_where*"},void 0,(0,n.default)(o.Card,{hasBottomGradient:false,size:o.CardSize.CUSTOM},void 0,(0,n.default)(o.CardContent,{},void 0,(0,n.default)("div",{className:e.contentSpacer},void 0,r)))),(0,n.default)(l.Route,{path:"/new_employee_info*"},void 0,(0,n.default)(o.Card,{hasBottomGradient:false,size:o.CardSize.CUSTOM},void 0,(0,n.default)(o.CardContent,{},void 0,(0,n.default)("div",{className:e.contentSpacer},void 0,i)))),(0,n.default)(l.Route,{path:"/get_introduced*"},void 0,(0,n.default)(o.Card,{hasBottomGradient:false,size:o.CardSize.CUSTOM},void 0,(0,n.default)(o.CardContent,{},void 0,(0,n.default)("div",{className:e.contentSpacer},void 0,c)))),(0,n.default)(l.Route,{path:"/tasks_to_complete*"},void 0,(0,n.default)(o.Card,{hasBottomGradient:false,size:o.CardSize.CUSTOM},void 0,(0,n.default)(o.CardContent,{},void 0,(0,n.default)("div",{className:e.contentSpacer},void 0,u)))),(0,n.default)(l.Route,{path:"/finished*"},void 0,f),(0,n.default)(l.Route,{},void 0,(0,n.default)(o.Card,{hasBottomGradient:false,size:o.CardSize.CUSTOM},void 0,(0,n.default)(o.CardContent,{},void 0,(0,n.default)("div",{className:e.contentSpacer},void 0,r)))))))),y===this.pages.length-1&&(0,n.default)("div",{className:`BasicPreviewerFooter ${e.baseFooter} ${e.baseFooter}${t?"--templatePreviewer":""}`},void 0,(0,n.default)("hr",{className:e.footerDivider}),(0,n.default)("div",{className:e.baseFooterContent},void 0,(0,n.default)("span",{},void 0,(0,n.default)("a",{href:p,rel:"noopener noreferrer",target:"_blank"},void 0,"Privacy Policy"),"  ",(0,n.default)("a",{href:m,rel:"noopener noreferrer",target:"_blank"},void 0,"Terms of Service"),"  20082020 BambooHR All rights reserved."),(0,n.default)("div",{className:e.baseFooterLogo},void 0,(0,n.default)("a",{href:"https://www.bamboohr.com",rel:"noopener external nofollow noreferrer",target:"_blank"},void 0,(0,n.default)(o.Icon,{name:"fab-bamboohr-logo-115x17"})))))))))}}const v=(0,l.withRouter)((0,o.withStyles)(c.styles)(h));t.Previewer=v},355027:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.styles=void 0;var r=a(651745);const n=({palette:e,typography:t})=>(0,r.createStyles)({containerWrapper:{display:"flex",justifyContent:"center","& .fab-Card":{}},logoContainer:{maxWidth:"1328px",width:"100%",display:"flex"},contentSpacer:{paddingLeft:"20px"},container:{maxWidth:"1348px",flex:1},header:{position:"relative",margin:"-32px  -16px 0 -16px",backgroundColor:e.grey[100],zIndex:100},subHeader:{display:"flex",alignItems:"center",borderBottom:`4px solid ${e.primary.main}`,justifyContent:"center",padding:"13px 0"},spacer:{flexGrow:2},baseFooter:{margin:"0 -16px",backgroundColor:"white","&--templatePreviewer":{marginTop:"-25px",position:"relative",zIndex:2}},baseFooterContent:{padding:"0 32px 25px 32px",marginBottom:"-25px",color:e.grey[600],display:"flex",fontSize:t.fabricFontSize("teenie"),"& span":{width:"auto"},"& a":{textDecoration:"none",color:e.grey[600],"&:hover":{color:e.primary.main}}},baseFooterLogo:{width:"auto",marginLeft:"auto",fill:e.grey[700],"&:hover":{cursor:"finger",fill:e.grey[800]}},footerDivider:{margin:"25px 0",height:"1px",borderColor:e.grey[300]},previewerContent:{display:"inline","& #fabricModalContent > div":{backgroundColor:e.grey[100]}}});t.styles=n},695417:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.PreviewerFooter=u;var n=r(a(856075));var i=d(a(573674));var o=a(651745);var s=a(69231);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const c=(0,o.makeStyles)((({palette:e,typography:t})=>(0,o.createStyles)({footer:{display:"flex",maxWidth:"1348px",alignItems:"center",justifyContent:"center",width:"100%",margin:"auto"},buttonsWrapper:{display:"flex"},brand:{marginLeft:"auto"}})));function u(e){var t,a;const{totalPages:r,currentPage:l,nextPageAction:d,previousPageAction:u}=e;const f=c();const p=l<r-1?(0,n.default)(o.Button,{clickAction:()=>{d(l+1)},size:"biggie",type:"button"},void 0,$.__("Continue")," "):null;const m=l>0?(0,n.default)(o.TextButton,{clickAction:()=>{u(l-1)},size:"biggie"},void 0,$.__("Previous Step")):null;const h=99;const v=8;const[g,y]=(0,i.useState)(h);const b=(t=document.querySelector("#fabricModalContent .fab-Card"))===null||t===void 0?void 0:(a=t.getBoundingClientRect())===null||a===void 0?void 0:a.height;(0,i.useEffect)((()=>{var e;const t=(e=document.querySelector("#fabricModalContent .fab-Card"))===null||e===void 0?void 0:e.getBoundingClientRect();if(t){const e=window.innerHeight-h;const a=t.bottom<e?e-t.bottom+h+v:null;if(g!==a){y(a)}}}),[g,b,l]);const w=l<r-1;return(0,n.default)("div",{className:"js-PreviewerActionFooter",style:{height:w?g:0}},void 0,w&&(0,n.default)(o.FullScreenModal.Footer,{},void 0,(0,n.default)("div",{className:f.footer},void 0,(0,n.default)("div",{className:f.buttonsWrapper},void 0,p,m),(0,n.default)("div",{className:f.brand},void 0,(0,n.default)(s.ColoredIcon,{fabricColorName:"gray9",iconName:"fab-bamboohr-logo-113x18"})))))}},246501:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"PreviewerFooter",{enumerable:true,get:function(){return r.PreviewerFooter}});var r=a(695417)},263839:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.PreviewerHeader=l;var n=r(a(856075));var i=r(a(573674));var o=a(651745);const s=(0,o.makeStyles)((({palette:e,typography:t})=>(0,o.createStyles)({mainHeader:{backgroundColor:e.grey[1e3],padding:"26px 50px",display:"flex",alignItems:"center"},headerIcon:{width:"auto",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},headerTitles:{width:"auto",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"stretch",paddingLeft:"15px"},title:{flexGrow:1,display:"flex",flexDirection:"column","& h1":{color:"white",fontWeight:t.fontWeightSemibold,fontSize:"40px",marginTop:"5px"}},subTitle:{flexGrow:1,fontSize:t.fabricFontSize("small"),display:"flex",flexDirection:"column",color:e.grey[600],"& p":{position:"relative",top:"5px"},"&__email":{}},buttons:{width:"auto",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"auto"}})));function l(e){const{closeModal:t,name:a="",imageJsx:r,email:o="",subtitle:l,headerAction:d,renderActionButtons:c=(e=>null)}=e;const u=s();const f=()=>{d();t()};return(0,n.default)("div",{className:"PreviewerHeader"},void 0,(0,n.default)("div",{className:u.mainHeader},void 0,i.default.createElement(i.default.Fragment,null,(0,n.default)("div",{className:u.headerIcon},void 0,r),(0,n.default)("div",{className:u.headerTitles},void 0,(0,n.default)("div",{className:u.subTitle},void 0,(0,n.default)("p",{},void 0,l)),(0,n.default)("div",{className:u.title},void 0,(0,n.default)("h1",{},void 0,a)),o&&(0,n.default)("div",{className:`${u.subTitle} ${u.subTitle}__email`},void 0,(0,n.default)("p",{},void 0,o)))),(0,n.default)("div",{className:u.buttons},void 0,c([t,f]))))}},237041:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"PreviewerHeader",{enumerable:true,get:function(){return r.PreviewerHeader}});var r=a(263839)},283234:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Tasks",{enumerable:true,get:function(){return r.Tasks}});var r=a(805758)},205401:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Task",{enumerable:true,get:function(){return r.Task}});var r=a(273995)},273995:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Task",{enumerable:true,get:function(){return r.Task}});var r=a(754062)},754062:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Task=d;t.styles=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(617542);const l=(0,o.makeStyles)((({palette:e,typography:t})=>(0,o.createStyles)({task:{padding:"20px 22px",paddingBottom:"36px",display:"flex"},taskIndex:{display:"flex",paddingTop:"24px"},taskNumber:{paddingLeft:"10px",margin:"0",color:e.grey[600]},taskInfo:{paddingLeft:"20px"},taskTitle:{paddingTop:"22px",margin:"0"},taskDescription:{color:e.grey[700],marginTop:"5px",marginBottom:"10px",fontSize:t.fabricFontSize("small")}})));t.styles=l;function d(e){const t=l();const{task:a,index:r}=e;const{files:i}=a;const d=Object.keys(i).map((e=>i[e]));return(0,n.default)("div",{className:t.task},void 0,(0,n.default)("div",{className:t.taskIndex},void 0,(0,n.default)(o.Checkbox,{checked:a.completed,disabled:true,onChange:null,size:"biggie",value:""}),(0,n.default)("h4",{className:t.taskNumber},void 0,r+1,".")),(0,n.default)("div",{className:t.taskInfo},void 0,(0,n.default)("h3",{className:t.taskTitle},void 0,a.name),(0,n.default)("p",{className:t.taskDescription},void 0,a.description),d.length>0&&(0,n.default)(s.FileSection,{files:d,view:"display"})))}},805758:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Tasks=f;t.styles=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(651745);var s=a(753134);var l=a(205401);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const u=(0,o.makeStyles)((({palette:e,typography:t})=>(0,o.createStyles)({headerTitle:{fontWeight:t.fontWeightMedium,fontSize:"32px"},headerDesc:{fontSize:t.fabricFontSize("biggie"),color:e.grey[700]},divider:{margin:"35px 0"},blankStateDivider:{margin:"35px 0 70px"},blankStateOverride:{marginBottom:"88px","& p":{maxWidth:"none"}},tasksWrapper:{backgroundColor:e.grey[100],borderRadius:"3px",border:`1px solid ${e.grey[300]}`,padding:"10px"},progress:{display:"flex",alignItems:"center"},progressBarBorder:{height:"15px",backgroundColor:e.grey[300],borderRadius:"10px",width:"100px"},progressBar:{backgroundColor:e.primary.main},progressText:{color:e.grey[600]},taskList:{marginTop:"10px",border:`1px solid ${e.grey[300]}`,borderTop:`3px solid ${e.primary.main}`,backgroundColor:e.background.default,"& > div":{"&:not(:last-child)":{borderBottom:`1px solid ${e.grey[300]}`}}}})));t.styles=u;function f(e){const t=u();const{isNHPT:a,tasks:r}=e;let d=0;const[c,f]=(0,i.useState)(d);(0,i.useEffect)((()=>f(d)));function p(){r.sort(((e,t)=>+e.nhpSortOrder-+t.nhpSortOrder));return r.map(((e,t)=>{if(e.completed)d++;return(0,n.default)(l.Task,{index:t,task:e},t)}))}return(0,n.default)("div",{},void 0,(0,n.default)("div",{},void 0,(0,n.default)("h2",{className:t.headerTitle},void 0,(0,n.default)(s.Message,{text:$._("Tasks to Complete")})),(0,n.default)("p",{className:t.headerDesc},void 0,(0,n.default)(s.Message,{text:$._(`We want to make sure that you are ready to go on your first day. Please complete the tasks below so we can get you up and running quickly.`)})),(0,n.default)("hr",{className:t.divider}),a&&(0,n.default)("div",{className:"TasksBlankStateWrapper"},void 0,(0,n.default)("div",{className:t.blankStateOverride},void 0,(0,n.default)(o.BlankState,{icon:"fab-clipboard-outlined-100x120",subtitle:$.__("Youll be able to preview this step on the actual New Hire Packet after tasks are added."),title:$.__(`Because this is just the template, there arent any tasks to preview.`)}))),!a&&(0,n.default)("div",{className:t.tasksWrapper},void 0,(0,n.default)("div",{className:t.progress},void 0,(0,n.default)("div",{className:"ProgressBar ProgressBar--tasklist fl-left"},void 0,(0,n.default)("div",{className:"ProgressBar__bar ProgressBar__bar--tasklist branded-icon baseColorBg",style:{width:`${c/r.length*100}%`}})),(0,n.default)("h5",{className:t.progressText},void 0,c," of ",r.length," Completed")),(0,n.default)("div",{className:t.taskList},void 0,p()))))}},48629:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"WhenAndWhere",{enumerable:true,get:function(){return r.WhenAndWhere}});var r=a(551778)},143420:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.styles=void 0;var r=a(651745);const n=(0,r.makeStyles)((({palette:e,typography:t})=>(0,r.createStyles)({contactContainer:{marginBottom:"30px"},header:{},headerTitle:{fontWeight:t.fontWeightMedium,fontSize:"32px"},headerDesc:{fontSize:t.fabricFontSize("biggie"),color:e.grey[700]},divider:{margin:"35px 0"},boxContent:{display:"flex","& h2":{fontWeight:t.fontWeightMedium}},leftContent:{flex:"50%"},firstDayList:{listStyle:"none",margin:"0",padding:0,"& li":{display:"flex",fontSize:t.fabricFontSize("biggie"),alignItems:"center",marginTop:"20px",flexWrap:"wrap",flexDirection:"row","& div":{display:"flex","& .spacer":{flex:"row",marginLeft:"10px"}}}},firstDayIcon:{width:"24px",display:"flex",alignItems:"center",justifyContent:"center"},directionsLink:{display:"flex",flexBasis:"100%",marginLeft:"36px","& a":{fill:e.info.main,color:e.info.main,"&:hover":{fill:e.info.dark,color:e.info.dark},"& span":{marginLeft:"5px"}}},firstDayIconLink:{marginRight:"5px"},rightContent:{flex:"50%"},contactInfo:{marginTop:"20px",display:"flex",lineHeight:t.fabricLineHeight("small")},contactImg:{marginRight:"20px"},contactHead:{fontSize:t.fabricFontSize("biggie"),fontWeight:t.fontWeightMedium},contactSub:{fontSize:t.fabricFontSize("small"),color:e.gray[700]},otherInstructions:{fontSize:t.fabricFontSize("large"),lineHeight:t.fabricLineHeight("large"),color:e.gray[700],"& p":{marginTop:"10px"}}})));t.styles=n},551778:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.WhenAndWhere=p;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(753134);var l=a(143420);var d=a(873436);var c=r(a(341757));function u(e){const t=(0,c.default)(e,[c.default.ISO_8601,"hh:mm:ss"]).format("h:mm A");return t==="Invalid date"?null:t}function f(e){let t;const a=c.default.defaultFormat;if(e){t=(0,c.default)(e).format(a)}else{return undefined}return t==="Invalid date"?undefined:t}function p(e){const t=(0,l.styles)();const{withHeader:a,firstDayDate:r,employeeName:i,companyName:p,contact:m,arriveByTime:h,location:v,otherInstructions:g}=e;const y=f(r);return(0,n.default)("div",{},void 0,a&&(0,n.default)("div",{className:t.header},void 0,(0,n.default)("h2",{className:t.headerTitle},void 0,(0,n.default)(s.Message,{params:[i],text:$._("Welcome Aboard, {1}!")})),(0,n.default)("p",{className:t.headerDesc},void 0,(0,n.default)(s.Message,{params:[p],text:$._(`We are excited that you are joining us here at {1}. We can't wait for you to start. We've included some helpful information and ask that you complete this new employee packet so you can hit the ground running on your first day. If you have any questions, please don't hesitate to ask.`)})),(0,n.default)("hr",{className:t.divider})),(0,n.default)("div",{className:t.boxContent},void 0,(0,n.default)("div",{className:t.leftContent},void 0,(0,n.default)("div",{},void 0,(0,n.default)("h2",{},void 0,$._("Your First Day")),(0,n.default)("ul",{className:t.firstDayList},void 0,(0,n.default)("li",{},void 0,(0,n.default)("div",{},void 0,(0,n.default)("div",{className:t.firstDayIcon},void 0,(0,n.default)(o.Icon,{brand:true,name:"fab-calendar-24x24"})),(0,n.default)("span",{className:"spacer"},void 0,y||(0,c.default)(Date.now()).add(14,"days").format(c.default.defaultFormat)))),h&&(0,n.default)("li",{},void 0,(0,n.default)("div",{},void 0,(0,n.default)("div",{className:t.firstDayIcon},void 0,(0,n.default)(o.Icon,{brand:true,name:"fab-clock-24x24"})),(0,n.default)("span",{className:"spacer"},void 0,u(h)))),v&&(0,n.default)("li",{},void 0,(0,n.default)("div",{},void 0,(0,n.default)("div",{className:t.firstDayIcon},void 0,(0,n.default)(o.Icon,{brand:true,name:"fab-location-18x24"})),(0,n.default)("span",{className:"spacer"},void 0,v)),(0,n.default)("div",{className:t.directionsLink},void 0,(0,n.default)("a",{href:`https://maps.google.com/?q=${v}`,rel:"noopener noreferrer",target:"_blank"},void 0,(0,n.default)(o.Icon,{name:"fab-compass-14x14"}),(0,n.default)("span",{},void 0,"Map & Directions"))))))),(0,n.default)("div",{className:t.rightContent},void 0,m&&(0,n.default)("div",{className:t.contactContainer},void 0,(0,n.default)("h2",{},void 0,$._("Who to Contact")),(0,n.default)(d.EmployeeInfo,{employee:m})),g&&(0,n.default)("div",{className:t.otherInstructions},void 0,(0,n.default)("h2",{},void 0,$._("Other Instructions")),g.split("\n").map(((e,t)=>(0,n.default)("p",{},t,e)))))))}},54535:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.showQuestionsSection=a;t.transformPacketTasks=r;t.parseQuestions=n;function a(e,t){return(e==="yes"||e===true)&&t.length>0&&(t[0].question.length>0||t.length>1)}function r(e,t){const a=Object.values(e);const r=a.map((e=>{delete e.count;return Object.values(e)}));const n=r.flat(1);n.forEach((e=>{if(e.fileIds.length>0){const a=Object.keys(e.files);a.forEach((a=>{e.files[a]=t[e.files[a].fileId]}))}}));return n}function n(e=[]){const t=[];e.map((e=>{if(e.question.trim().length>0){t.push(e)}return e}));return t}},608365:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"WelcomeEmailPreviewer",{enumerable:true,get:function(){return r.WelcomeEmailPreviewer}});var r=a(58775)},58775:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.WelcomeEmailPreviewer=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(851040);var s=a(753134);var l=a(69231);a(526533);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class u extends i.PureComponent{static get className(){return"WelcomeEmailPreviewer"}_renderGTKYQuestions(e){const{employeeData:t,getToKnowYouQuestions:a=[]}=this.props;if(e){return(0,n.default)("div",{className:"WelcomeEmailPreviewer__placeholderQuestion"},void 0,(0,n.default)(l.ColoredIcon,{classes:"PlaceholderQuestion__icon",fabricColorName:"gray4",iconName:"fab-person-circle-question-36x36"}),(0,n.default)("div",{className:"PlaceholderQuestion__text"},void 0,$.__("The Get to Know You questions and the employee responses will show in this space.")))}return(0,n.default)("div",{className:"WelcomeEmailPreviewerQuestions"},void 0,(0,n.default)("h4",{className:"WelcomeEmailPreviewerQuestions__title"},void 0,"Get to Know ",t.firstName),a.map(((e,t)=>(0,n.default)("div",{},t,(0,n.default)("div",{className:"WelcomeEmailPreviewerQuestions__question"},void 0,e),(0,n.default)("div",{className:"WelcomeEmailPreviewerQuestions__answer"},void 0,"Employee's answer will go here.")))))}render(){const{body:e="",employeeBadgeComponent:t,employeeData:a,isOpen:r,primaryAction:i,showQuestionsPlaceholder:d=false}=this.props;const{fullName:c,firstName:u,jobTitle:f}=a;return(0,n.default)(o.Modal,{alternativeActionText:null,contentHasPadding:false,isOpen:r,onClose:i,primaryAction:i,primaryActionText:$.__("Close"),title:$.__("Preview of Get to Know You Email")},void 0,(0,n.default)("div",{className:"WelcomeEmailPreviewer"},void 0,(0,n.default)("div",{className:"WelcomeEmailPreviewer__emailHeader"},void 0,(0,n.default)("div",{className:"EmailHeader__icon"},void 0,(0,n.default)(l.ColoredIcon,{fabricColorName:"white",iconName:"fab-hi-64x64"})),(0,n.default)("p",{className:"EmailHeader__title"},void 0,(0,n.default)(s.Message,{params:[c],text:$._("Welcome {1}!")})),f!==""&&(0,n.default)("p",{className:"EmailHeader__subTitle"},void 0,(0,n.default)(s.Message,{params:[u,f],text:$._("{1} joins us today as {2}")})),(0,n.default)("div",{className:"borderBar"})),t&&(0,n.default)("div",{className:"WelcomeEmailPreviewer__badgeContainer"},void 0,t),(0,n.default)("div",{className:"WelcomeEmailPreviewer__emailBody"},void 0,(0,n.default)("div",{className:"WelcomeEmailPreviewer__emailBodyText"},void 0,e),(0,n.default)("hr",{}),(0,n.default)("div",{},void 0,this._renderGTKYQuestions(d)))))}}t.WelcomeEmailPreviewer=u},42688:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BreakPoints=void 0;let a;t.BreakPoints=a;(function(e){e["PHONE"]="@media screen and (max-width: 767px)";e["PHONE_PORTRAIT"]="@media screen and (orientation: portrait) and (max-width: 654px)";e["TABLET"]="@media screen and (max-width: 1124px)";e["COMPUTER"]="@media screen and (min-width: 1124px)"})(a||(t.BreakPoints=a={}))},863503:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getBusinessDaysInTheFutureFromDate=a;function a(e,t,a){if(t<=0){return e}let r=1;let n=e.clone();while(r<=t){n.add(1,"days");const e=n.day();if(!(e===0||e===6||a.indexOf(n.format("YYYY-MM-DD"))>-1)){++r}}return n}},380839:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.submitForm=w;t.savePaySchedule=S;t.showPayCalendar=T;t.getPayloadFromForm=C;t.initialize=E;t.addModal=M;t.editModal=x;t.removeModal=k;t.previewModal=j;t.default=void 0;var n=r(a(856075));var i=m(a(573674));var o=a(830734);var s=r(a(417842));var l=r(a(613263));var d=r(a(333213));var c=a(753134);var u=a(479706);var f=a(292789);a(160934);function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=p(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const h=(0,u.isEnabled)("jade");function v(e){let t=e.paySchedule;if(!t.id){return}let a=$(".js-ps-add-edit-form select");let r=$(".js-no-edit-container select");let n=$("select.js-ps-frequency-dropdown");n.val(t.frequency);if(t.count>0||e.hasTimesheetsAssociatedToPaySchedule){r.attr("disabled","disabled")}g(t.frequency,t.modifier);a.trigger("liszt:updated")}function g(e,t){let a=(0,f.prepareModifierDataForDom)(e,t);if(e==="bi-weekly"){$('[data-ps-section="bi-weekly"] .js-biweekly-start-input').val(a)}else{$(`[data-ps-section="${e}"] select`).each(((e,t)=>{t.value=a[e]}))}}function y(e={},t=Function.prototype){const a=e.id?`${e.id}/editDialog`:"addDialog";window.SimpleModal.openModal({url:`/settings/pay_schedules/${a}`,title:e.id?$.__("Edit Pay Schedule"):$.__("Add Pay Schedule"),classes:"jquery-padding no-chosen-breakout",footer:{buttons:{primary:{text:e.id?$.__("Save"):$.__("Add"),action(){w(t)}},secondary:{show:true,text:$.__("Preview"),action:()=>T(C(),true)}}},callbacks:{open:{after(){E()}}}})}function b(e){const t=$.__("Delete Pay Schedule");if(h){s.default.get(`/settings/pay_schedules/${e.id}/delete`).then((({data:a})=>{const{count:r}=a;window.BambooHR.Modal.setState({isOpen:true,title:t,headline:(0,n.default)(c.Message,{params:[e.name],text:$._('Are you sure you want to delete the **"{1}"** pay schedule?')}),type:"aggressiveConfirmation",primaryActionText:$.__("Delete Pay Schedule"),primaryAction:()=>{window.BambooHR.Modal.setState({isProcessing:true},true);s.default.delete(`/settings/pay_schedules/${e.id}/delete`).then((({data:e})=>{if(e.ret==="ERROR"){window.setMessage(e.message,"error");window.BambooHR.Modal.setState({isProcessing:false},true)}else{window.location.reload(true)}})).catch((()=>{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))},secondaryActionText:$.__("Keep Pay Schedule"),secondaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},alternativeAction:null,content:r>0&&(0,n.default)(i.Fragment,{},void 0,r===1&&(0,n.default)(c.Message,{params:[r],text:$._("You have **{1} active employee** with this pay schedule.")},"first-part"),r!==1&&(0,n.default)(c.Message,{params:[r],text:$._("You have **{1} active employees** with this pay schedule.")},"first-part")," ",(0,n.default)(c.Message,{text:$._("We suggest moving employees to a new pay schedule before deleting this one.")},"second-part"))})})).catch((()=>{window.setMessage($.__("We were unable to delete your pay schedule. Please try again."),"error")}));return}$.get(`/settings/pay_schedules/${e.id}/delete`).then((a=>{window.EmployeeFields.openDeleteModal({...e,count:a.count,action:"Delete",label:e.name,list_id:e.listId,title:$.__("Pay Schedule")},{footer:{buttons:{primary:{text:t,action:()=>{$.ajax({url:`/settings/pay_schedules/${e.id}/delete`,type:"DELETE"}).then((e=>{if(e.ret==="ERROR"){window.setMessage(e.message,"error")}else{window.location.reload(true)}}))}}}}})})).fail((()=>{window.setMessage($.__("We were unable to delete your pay schedule. Please try again."),"error")}))}function w(e,t){const a=$("#payschedule_form");const r=!!window.SimpleModal.getTopModalSelector();if(!a.valid()){return}if(r){window.SimpleModal.Footer.Buttons.Primary.startProcessing()}const n=C();S(n,e,t)}function S(e,t,a){const r=!!window.SimpleModal.getTopModalSelector();$.post("/settings/pay_schedules/save",e,(e=>{if(r){window.SimpleModal.Footer.Buttons.Primary.stopProcessing()}if(e.ret==="ERROR"){window.setMessage(e.message,"error");a()}else{t(e);if(r){window.SimpleModal.closeModal()}}}),"json").fail((()=>{window.errorFallBack();a()}))}let O=false;function T(e,t=false){if(O){return}O=true;s.default.get(`/settings/pay_schedules/calendar-preview${t?"":"ById"}`,e).then((({data:{payCycles:a,bankHolidays:r=[]}})=>{if(h){window.BambooHR.Modal.setState({isOpen:true,title:t?$.__("Preview Pay Calendar"):`${$.__("Pay Calendar")} - ${e.name}`,headline:$.__("Pay Schedule"),headerType:"text",primaryAction:()=>window.BambooHR.Modal.setState({isOpen:false}),primaryActionText:$.__("Done"),alternativeActionText:null,contentHasPadding:false,content:(0,n.default)(l.default,{disableDays:r.map((e=>e.date)),isPreview:t,payPeriods:a})});return}window.SimpleModal.openModal({title:t?$.__("Preview Pay Calendar"):`${$.__("Pay Calendar")} - ${e.name}`,html:`<div id="js-pay-schedule-calendar-root"></div>`,footer:{buttons:{primary:{text:$.__("Done"),action:()=>window.SimpleModal.closeModal()},cancel:{show:false}}}});(0,o.render)((0,n.default)(l.default,{disableDays:r.map((e=>e.date)),isPreview:t,payPeriods:a}),document.getElementById("js-pay-schedule-calendar-root"));window.SimpleModal.setPosition()})).catch(window.errorFallBack).finally((()=>{O=false}))}function C(){const e=$("#payschedule_form");const t=$("select.js-ps-frequency-dropdown").val();return{frequency:t,id:e.find("[name=id]").val(),listValueId:e.find("[name=listValueId]").val(),name:e.find("[name=name]").val(),modifier:P(t),payDateDays:e.find("[name=payDateDays]").val(),weekendAndHoliday:e.find("[name=weekendAndHoliday]").val()}}function P(e){let t;if(e==="bi-weekly"){t=$('[data-ps-section="bi-weekly"] .js-biweekly-start-input').val()}else{t=$(`[data-ps-section="${e}"] select`).map(((e,t)=>t.value)).toArray()}return(0,f.createModifierFromDomData)(e,t)}function E(){const e=$("#js-ps-modal-data");const t=JSON.parse(e.html());const a=$("#payschedule_form");v(t);d.default.setFields();let r=$(".js-ps-frequency-dropdown");r.change((function(){let e=$(this);let t=e.find("option:selected").val();let a=`[data-ps-section="${t}"]`;$(".js-ps-sub-field").hide().filter(a).show().initializeElements()}));let n=r.find("option:selected").val();$(`.js-ps-sub-field[data-ps-section="${n}"]`).show().initializeElements();a.bhrValidate({rules:{"semimonthlyMod1[]":{sameSiblingValue:"select.js-semimonthly"},"semimonthlyMod2[]":{sameSiblingValue:"select.js-semimonthly"}}});if(window.SimpleModal.getTopModalSelector()){window.SimpleModal.setPosition();window.SimpleModal.Footer.Buttons.Primary.setAttr("data-bi-id","settings-add-pay-schedule-button")}}function M(e){y({},e)}function x(e,t){y(e,t)}function k(e){b(e)}function j(e){T(e)}var I={addModal:M,editModal:x,removeModal:k,previewModal:j};t.default=I},292789:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.prepareModifierDataForDom=o;t.createModifierFromDomData=s;var n=r(a(341757));var i=a(273641);function o(e,t){if(e==="daily"){return[]}if(e==="bi-weekly"){return(0,n.default)(t,"YYYY-MM-DD").format()}if(e==="semi-monthly"){return t.split(" ")}return t.split(" ").map((e=>e.split("/").reverse())).reduce(((e,t)=>e.concat(t)),[])}function s(e,t){if(e==="daily"){return null}if(e==="bi-weekly"){return(0,n.default)(t,n.default.defaultFormat).format("YYYY-MM-DD")}if(e==="semi-monthly"){return t.join(" ")}if(t.length>1){return(0,i.chunk)(t,2).map((e=>e.reverse().join("/"))).join(" ")}return t[0]}},795263:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=f(a(573674));var o=r(a(417842));var s=a(121198);var l=r(a(242895));var d=r(a(341757));var c=a(863503);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const p=(0,d.default)().startOf("day");const m=3;const h={NO_WEEKENDS:$.__("Pay days cannot be on a weekend"),THREE_DAYS_MINIMUM:$.__("Must be at least three business days from today"),BEFORE_END_DATE:$.__("Pay days cannot be before the period end date"),BANK_HOLIDAY:$.__("Pay days cannot be on a bank holiday")};class v extends i.Component{static get className(){return"ChangeDate"}constructor(e){super(e);this._calculateDisabledDays=()=>{const{payDate:e}=this.props;const{payPeriodEndDate:t}=e;const a=(0,d.default)(t);const r=a.diff(this.threeBusinessDaysFromTodayDate,"days")<0?this.threeBusinessDaysFromTodayDate:a;return Array.from({length:r.diff(p,"days")}).map(((_,e)=>p.clone().add(e,"days").format("YYYY-MM-DD")))};this._createPickerSettings=()=>{const{disableDays:e}=this.props;const{selectedDate:t}=this.state;return{start:t,min:p,max:p.clone().startOf("month").add(14,"months").endOf("month"),disableWeekends:true,disableDays:[...this._calculateDisabledDays(),...e]}};this._handleDateChange=e=>{if(e===undefined){this.setState({selectedDate:e});return}this.setState({selectedDate:e,errorReason:this._isValidateDate(e)})};this._isValidateDate=e=>{if(e===undefined){return"NOT_SET"}const{payDate:t,disableDays:a=[]}=this.props;const{payPeriodEndDate:r}=t;const n=(0,d.default)(e);const i=n.day();if(i===0||i===6){return"NO_WEEKENDS"}if(n.diff(this.threeBusinessDaysFromTodayDate,"days")<0){return"THREE_DAYS_MINIMUM"}if(n.isBefore((0,d.default)(r),"day")){return"BEFORE_END_DATE"}if(a.indexOf((0,d.default)(e).format("YYYY-MM-DD"))>-1){return"BANK_HOLIDAY"}return null};this._handleSubmitFutureDate=()=>{const{payDate:e,onSave:t}=this.props;const{selectedDate:a}=this.state;const r=this._isValidateDate(a);if(r){g();this.setState({errorReason:r});return}window.closeMessage();window.BambooHR.Modal.setState({sheetProps:{isProcessing:true}},true);o.default.post("/settings/pay_schedules/pay_cycles/update_pay_date",{payCycles:[{id:e.id,payDate:(0,d.default)(a).format("YYYY-MM-DD")}]}).then((()=>{t(e.id,a);window.setMessage($.__("Pay date successfully updated."),"success")})).catch((e=>{var t,a;if(((t=e.response.data)===null||t===void 0?void 0:(a=t.error)===null||a===void 0?void 0:a.code)==="PAY_CYCLE_APPROVED"){window.setMessage($.__("Whoops. This pay cycle has been started in TRAXPayroll, and it can't be updated in BambooHR. Please reach out to our Payroll Support team to make changes (866-872-9123 or payrollhelp@bamboohr.com)."),"error")}else{g()}window.BambooHR.Modal.setState({sheetProps:{isProcessing:false}},true)}))};const{payDate:t,disableDays:a=[]}=this.props;this.state={selectedDate:t.payDate,errorReason:null};this.threeBusinessDaysFromTodayDate=(0,c.getBusinessDaysInTheFutureFromDate)(p,m,a)}componentDidMount(){window.BambooHR.Modal.setState({sheetProps:{primaryAction:this._handleSubmitFutureDate}},true)}render(){const{payDate:e}=this.props;const{errorReason:t}=this.state;return(0,n.default)("form",{className:"js-noValidate "},void 0,(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("div",{className:(0,s.classNameFromObject)("fab-FormColumn",{error:!!t})},void 0,(0,n.default)("label",{className:(0,s.classNameFromObject)("fab-Label fab-Label--required",{"fab-Label--error":!!t}),htmlFor:"future-date-change"},void 0,$.__("Pay date for %1$s - %2$s",(0,d.default)(e.payPeriodStartDate).format(),(0,d.default)(e.payPeriodEndDate).format())),(0,n.default)("div",{className:"fab-FormField"},void 0,(0,n.default)(l.default,{cssClasses:{single:t?"fab-TextInput--error":""},id:"future-date-change",name:"futureDateChange",onChange:this._handleDateChange,required:true,settings:this._createPickerSettings(),type:"date"})),t!==null&&(0,n.default)("div",{className:"fab-FormField"},void 0,(0,n.default)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,h[t])))))}}t.default=v;function g(){window.setMessage($.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")}},613263:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=g(a(573674));var o=a(651745);var s=a(121198);var l=r(a(417842));var d=r(a(972445));var c=a(558358);var u=r(a(242895));var f=a(479706);var p=r(a(341757));var m=r(a(795263));var h=a(863503);a(528117);function v(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(v=function(e){return e?a:t})(e)}function g(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=v(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const y=(0,f.isEnabled)("jade");const b=(0,p.default)().startOf("day");const w=3;const S={NO_WEEKENDS:$.__("Pay days cannot be on a weekend"),THREE_DAYS_MINIMUM:$.__("Must be at least three business days from today"),BEFORE_END_DATE:$.__("Pay days cannot be before the period end date"),BANK_HOLIDAY:$.__("Pay days cannot be on a bank holiday")};class O extends i.Component{static get className(){return"PayScheduleCalendar"}constructor(e){super(e);this._createDateDropdownSettings=()=>{const{disableDays:e}=this.props;const{selectedDate:t}=this.state;return{start:t,min:b,max:b.clone().startOf("month").add(14,"months").endOf("month"),disableWeekends:true,disableDays:[...this._calculateDisabledDays(),...e]}};this._createSheetSettings=()=>({onClose:()=>{this.setState({editingId:null,shouldRenderPicker:false});window.closeMessage()},onOpen:()=>{setTimeout((()=>{this.setState({shouldRenderPicker:true})}))},visible:true,options:{footer:{buttons:{primary:{text:$.__("Save"),action:this._handleSubmitFutureDate}}}}});this._handleClickEditFutureDate=e=>{const{byId:t}=this.state;this.setState({editingId:e,selectedDate:t[e].payDate,errorReason:null})};this._handleDateChange=e=>{if(e===undefined){this.setState({selectedDate:e});return}this.setState({selectedDate:e,errorReason:this._isValidateDate(e)})};this._handleSubmitFutureDate=()=>{const{byId:e,editingId:t,selectedDate:a}=this.state;const r=this._isValidateDate(a);if(r){T();this.setState({errorReason:r});return}window.closeMessage();window.SimpleModal.Footer.Buttons.startProcessing();l.default.post("/settings/pay_schedules/pay_cycles/update_pay_date",{payCycles:[{id:t,payDate:a}]}).then((({data:r})=>{e[t].shiftedByUser=window.SESSION_USER.preferredName;e[t].payDate=a;this.setState({editingId:null,byId:{...e}});window.setMessage($.__("Pay date successfully updated."),"success")})).catch((()=>{T();window.SimpleModal.Footer.Buttons.stopProcessing()}))};this._renderIsShiftedIcon=e=>{if(typeof e.shiftedByUser==="string"&&e.shiftedByUser.length>0){return(0,n.default)(d.default,{settings:{content:$.__("Manually updated")},wrapperClassName:"PS_Calendar__adjustedIcon"},void 0,(0,n.default)(o.Icon,{name:"fab-wrench-12x12"}))}if(e.shifted==="yes"){return(0,n.default)(d.default,{settings:{content:$.__("Pay date adjusted for weekend or holiday")},wrapperClassName:"PS_Calendar__adjustedIcon"},void 0,(0,n.default)(o.Icon,{name:"fab-info-circle-13x13"}))}return null};this._calculateDisabledDays=()=>{const{byId:e,editingId:t}=this.state;const{payPeriodEndDate:a}=e[t];const r=(0,p.default)(a);const n=r.diff(this.threeBusinessDaysFromTodayDate,"days")<0?this.threeBusinessDaysFromTodayDate:r;return Array.from({length:n.diff(b,"days")}).map(((_,e)=>b.clone().add(e,"days").format("YYYY-MM-DD")))};this._isValidateDate=e=>{if(e===undefined){return"NOT_SET"}const{disableDays:t=[]}=this.props;const{byId:a,editingId:r}=this.state;const{payPeriodEndDate:n}=a[r];const i=(0,p.default)(e);const o=i.day();if(o===0||o===6){return"NO_WEEKENDS"}if(i.diff(this.threeBusinessDaysFromTodayDate,"days")<0){return"THREE_DAYS_MINIMUM"}if(i.isBefore((0,p.default)(n),"day")){return"BEFORE_END_DATE"}if(t.indexOf(e)>-1){return"BANK_HOLIDAY"}return null};this._launchSheet=e=>{const{disableDays:t}=this.props;const{byId:a}=this.state;window.BambooHR.Modal.setState({sheetProps:{isOpen:true,primaryActionText:$.__("Save"),onClose:()=>{window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)},title:$.__("Change Pay Date"),content:(0,n.default)(m.default,{disableDays:t,onSave:(e,t)=>{a[e].shiftedByUser=`${window.SESSION_USER.firstName} ${window.SESSION_USER.lastName}`;a[e].payDate=t;window.BambooHR.Modal.setState({sheetProps:null},true);this.setState({byId:{...a}})},payDate:e})}},true)};const{payPeriods:t,isPreview:a,disableDays:r=[]}=e;const{allIds:s,byId:c}=t.reduce(((e,t)=>{let r=a?t.payPeriodStartDate:t.id;e.allIds.push(r);e.byId[r]=t;return e}),{allIds:[],byId:{}});this.state={allIds:s,byId:c,editingId:null,shouldRenderPicker:false,selectedDate:null,errorReason:null};this.formRef=(0,i.createRef)();this.validator=null;this.threeBusinessDaysFromTodayDate=(0,h.getBusinessDaysInTheFutureFromDate)(b,w,r)}_makeColumns(){const{isPreview:e}=this.props;const{byId:t}=this.state;const a=[{header:$.__("Period Start"),cell:e=>(0,p.default)(t[e].payPeriodStartDate).format()},{header:$.__("Period End"),cell:e=>(0,p.default)(t[e].payPeriodEndDate).format()},{header:$.__("Pay Date"),cell:e=>{const a=t[e];const r=a.shifted==="yes"||typeof a.shiftedByUser==="string"&&a.shiftedByUser.length>0;if(r){return(0,n.default)("div",{style:{display:"flex",alignItems:"center"}},void 0,(0,p.default)(a.payDate).format(),r&&this._renderIsShiftedIcon(a))}return(0,p.default)(a.payDate).format()}}];if(!e){a.push({headerAriaLabel:$.__("Edit pay date"),showOnHover:true,cell:{type:"actions",actions:e=>{const a=t[e];const r=(0,p.default)(a.payDate);const n=r.diff(b,"days")>3;return[{icon:"fab-pencil-16x16",action:n?()=>this._launchSheet(a):null,tooltipContent:n?$.__("Change Pay Date"):$.__("Pay dates within three days cannot be changed")}]}}})}return a}render(){const{isPreview:e}=this.props;const{allIds:t,byId:a,editingId:r,shouldRenderPicker:l,errorReason:f}=this.state;const m=a[r];if(y){return(0,n.default)("div",{className:"PS_Calendar"},void 0,(0,n.default)(o.Table,{caption:$.__("Upcoming pay schedules for the next year"),columns:this._makeColumns(),rowKey:e=>e,rows:t}))}return(0,n.default)("div",{className:"PS_Calendar"},void 0,(0,n.default)("table",{className:"BhrTable PS_Calendar__table"},void 0,(0,n.default)("thead",{className:"BhrTable__head"},void 0,(0,n.default)("tr",{className:"BhrTable__row"},void 0,(0,n.default)("th",{className:"BhrTable__head PS_Calendar__tableHeader"},void 0,$.__("Period Start")),(0,n.default)("th",{className:"BhrTable__head PS_Calendar__tableHeader"},void 0,$.__("Period End")),(0,n.default)("th",{className:"BhrTable__head PS_Calendar__tableHeader"},void 0,$.__("Pay Date")),(0,n.default)("th",{className:"BhrTable__head PS_Calendar__tableHeader PS_Calendar__tableHeader--iconColumn"}))),(0,n.default)("tbody",{className:"BhrTable__body"},void 0,t.map((t=>{const r=a[t];const i=(0,p.default)(r.payDate);const o=i.diff(b,"days")>3;return(0,n.default)("tr",{className:"BhrTable__row PS_Calendar__tableRow"},r.payPeriodStartDate,(0,n.default)("td",{className:"BhrTable__cell PS_Calendar__tableCell"},void 0,(0,p.default)(r.payPeriodStartDate).format()),(0,n.default)("td",{className:"BhrTable__cell PS_Calendar__tableCell"},void 0,(0,p.default)(r.payPeriodEndDate).format()),e&&(0,n.default)("td",{className:"BhrTable__cell PS_Calendar__tableCell"},void 0,(0,p.default)(r.payDate).format()),!e&&(0,n.default)("td",{className:"BhrTable__cell PS_Calendar__tableCell"},void 0,!o&&(0,n.default)(d.default,{settings:{content:$.__("Pay dates within three days cannot be changed")}},void 0,i.format()),o&&(0,n.default)("div",{className:"PS_Calendar__payDate"},void 0,(0,n.default)("div",{className:"PS_Calendar__futurePayDate"},void 0,i.format(),(0,n.default)("div",{className:"PS_Calendar__editFuturePayDateIcon"},void 0,(0,n.default)("i",{className:"inline-bicon-edit",onClick:()=>this._handleClickEditFutureDate(t)}))))),(0,n.default)("td",{className:"BhrTable__cell PS_Calendar__tableCell PS_Calendar__tableCell--iconColumn"},void 0,this._renderIsShiftedIcon(r)))})))),r!==null&&i.default.createElement(c.Modal,this._createSheetSettings(),i.default.createElement("form",{className:"BhrForms BhrForms--modal-override js-noValidate PS_Calendar__subModal",ref:this.formRef},(0,n.default)("div",{className:"fieldRow"},void 0,(0,n.default)("div",{className:(0,s.classNameFromObject)("fieldBox required",{error:!!f})},void 0,(0,n.default)("label",{htmlFor:"future-date-change"},void 0,$.__("Pay date for %1$s - %2$s",(0,p.default)(m.payPeriodStartDate).format(),(0,p.default)(m.payPeriodEndDate).format())),(0,n.default)("div",{className:"fieldDiv"},void 0,l&&(0,n.default)(u.default,{cssClasses:{component:"BhrForms--modal-override"},id:"future-date-change",name:"futureDateChange",onChange:this._handleDateChange,required:true,settings:this._createDateDropdownSettings(),type:"date"})),f!==null&&(0,n.default)("div",{className:"formNote error PS_Calendar__errorReason"},void 0,S[f]))))))}}t.default=O;function T(){window.setMessage($.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")}},861403:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Generator",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"Widget",{enumerable:true,get:function(){return i.default}});t.default=void 0;var n=r(a(214465));var i=r(a(28145));var o={};o.Generator=n.default;o.Widget=i.default;var s=o;t.default=s},214465:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.buildPlaceholder=P;t.default=void 0;var r=a(774548);const n={};const i=13;const o=4;const s=18;const l=0;const d=2;const c=1;let u;let f;let p;let m;let h;const v="#bd5800";const g="#fff";function y(e){u=i*e;f=o*e;p=s*e;m=l*e;h=d*e}function b(e,t,a,r,n,i){if(r<2*i){i=r/2}if(n<2*i){i=n/2}e.beginPath();e.moveTo(t+i,a);e.arcTo(t+r,a,t+r,a+n,i);e.arcTo(t+r,a+n,t,a+n,i);e.arcTo(t,a+n,t,a,i);e.arcTo(t,a,t+r,a,i);e.closePath();return e}function w(e){const t=e.getContext("2d");let a=e.width;let r=e.height;const n={x:[],y:[]};const i=t.getImageData(0,0,e.width,e.height);let o;let s;let l;for(s=0;s<r;s++){for(o=0;o<a;o++){l=(s*a+o)*4;if(i.data[l+3]>0){n.x.push(o);n.y.push(s)}}}n.x.sort((function(e,t){return e-t}));n.y.sort((function(e,t){return e-t}));const d=n.x.length-1;a=n.x[d]-n.x[0];r=n.y[d]-n.y[0];const c=document.createElement("canvas");c.width=a+(f+m)*2;c.height=p+m*2;return c}function S(e,t,a,r){if(typeof r==="undefined"){r=f+m}const n=e.getContext("2d");n.font=`${u}px lato`;n.fillStyle=a||"#444";n.fillText(t,r,u+c);return e}function O(e){const t=document.createElement("canvas");t.width=1e3;t.height=p+m*2;return w(S(t,e,"#000",0))}function T(e,t,a){let r=e.getContext("2d");if(m>0){r=b(r,m/2,m/2,e.width-m,e.height-m,h);let t=a||"#cccccc";t=`#${(parseInt(t.substring(1),16)-parseInt(303030,16)).toString(16)}`;r.strokeStyle=t;r.lineWidth=m;r.stroke()}else if(h>0){r=b(r,0,0,e.width,e.height,h)}else{r.rect(0,0,e.width,e.height)}r.fillStyle=t||"#e0e0e0";r.fill();return e}function C(){if(window.matchMedia){const e=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");return e&&e.matches||window.devicePixelRatio>1}return false}function P(e){e=e.replace("&amp;","&");y(C()?2:1);let t=O(e);const a=M(t,e,"","","");const n=M(t,e,"#686868","#555","#fff");const i=M(t,e,(0,r.getFabricBrandColor)(),"","#fff");y(1);t=O(e);const o=M(t,e,"#686868","#555","#fff");return{drag:o,selected:n,unselected:a,highlighted:i}}function E(e){for(const t in e){n[t]=P(e[t].name.replace("&amp;","&"))}r.Mediator.publish("placeholders:generator:post-build",n)}function M(e,t,a,r,n){e=T(e,a,r);e=S(e,t,n);return e.toDataURL()}function x(e){e=k(e);y(C()?2:1);const t=O(e);const a=M(t,e,v,v,g);return{drag:a,selected:a,unselected:a}}function k(e){e=e.replace("&amp;","&");e=e.replace("__"," ");e=e.replace("_"," ");e=e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1)}));return e}const j={get(){return n},generate(e){E(e)},generateInvalidPlaceholder(e){return x(e)}};var I=j;t.default=I},28145:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;let r;let n;let i;let o;let s;function l(e,t){let a="";Object.keys(e).forEach((function(r){a+=`\n\t\t\t<li class="PlaceholderWidget__listItem js-placeholder-widgetListItem" data-normalized-name="${e[r].name.toLowerCase()}">\n\t\t\t\t<div class="PlaceholderWidget__listItem-wrap">\n\t\t\t\t\t<div class="PlaceholderWidget__listItem-name">${e[r].name}</div>\n\t\t\t\t\t<div class="PlaceholderWidget__listItem-example">Ex: ${e[r].example}</div>\n\t\t\t\t</div>\n\t\t\t\t<img\n\t\t\t\t\tdata-is-placeholder="true"\n\t\t\t\t\tid="${r}"\n\t\t\t\t\tclass="js-placeholder-img"\n\t\t\t\t\tdraggable="true"\n\t\t\t\t\tsrc="${t[r].drag}"\n\t\t\t\t\tdata-placeholder-name="${r}"\n\t\t\t\t/>\n\t\t\t</li>\n\t\t`}));$(a).insertAfter(r.find(".js-placeholder-widgetFilterWrap"))}function d(e,t){r=$(".js-placeholder-widgetList");l(e,t);s=$(".js-placeholder-widgetListItem");n=$(".js-placeholder-widgetListEmpty");i=$(".js-placeholder-widgetFilter");i.on("input",p);i.removeClass("PlaceholderWidget__listFilter--muteFocusOnLoad");i.attr("readonly",false);o=$(".js-placeholder-widgetFilterClear");o.on("click",f);$(".js-placeholder-img").on("dragstart mouseup",(function(){let e=this;this.style.opacity=1;setTimeout((function(){e.removeAttribute("style")}))})).on("mousedown",(function(e){this.style.opacity=0;this.style.width=this.naturalWidth+"px";this.style.height=this.naturalHeight+"px";this.style.top=e.offsetY-this.naturalHeight/2+"px";this.style.left=e.offsetX-1+"px"})).on("mouseover",(function(){$(this).parent().removeClass("dragEnded")})).on("dragend",(function(){$(this).parent().addClass("dragEnded")})).on("click",(function(e){tinyMCE.execCommand("insert",$(this).attr("id"))}))}function c(){$(".js-placeholder-widgetList").find(".PlaceholderWidget__listItem").remove();$(".js-placeholder-img").off("dragstart mouseup").off("mousedown").off("dragend").off("click")}function u(e){o.toggle(!!e);s.each((function(){const t=$(this);t.toggle(t.data("normalized-name").includes(e))}));n.toggle(!s.find(":visible").length)}function f(){i.val("");u("");i.blur();i.focus()}function p(e){const t=e.target.value.toLowerCase();u(t)}const m={create:d,destroy:c};var h=m;t.default=h},268069:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(273641);var i=r(a(837223));class o extends i.default{static get className(){return"Popover"}constructor(e,t){t=(0,n.extend)({themeClass:"Balloon--popover",closeX:true,push:18,tail:true,tailSize:11,minTailOnBalloon:12},t);super(e,t)}}t.default=o},638678:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;class r{static get className(){return"PrivateContent"}constructor(){$(document).on("click",".ba-privateContent",(function(e){$(this).removeClass("ba-privateContent")}))}}var n=new r;t.default=n},71154:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.ScrollLoader=t.ProgressiveDataStore=void 0;var r=a(273641);class n{static get className(){return"ProgressiveDataStore"}constructor(e,t){t=(0,r.extend)({limit:50,offset:0,onUpdate:()=>{}},t);this.loader=e;this.records=t.initialData?[].concat(t.initialData.records):[];this.limit=t.limit;this.offset=this.records.length;this.totalCount=t.initialData?t.initialData.totalCount:-1;this.onUpdate=t.onUpdate;if(t.loadOnInit){this.loadMore()}}get isComplete(){return this.totalCount>-1&&this.totalCount<=this.offset}get isEmpty(){return this.records.length===0}get isLoading(){return this._isLoading}loadMore(){this._isLoading=true;return $.when(this.loader(this.offset,this.limit)).then((e=>{this._isLoading=false;if(e){this.merge(e)}return{addedRecords:e.records,loadedRecords:this.records}}),(()=>{this._isLoading=false;window.setMessage($.__("Hmm... We couldn't load more records. Please try again."))}))}merge(e){this.records=this.records.concat(e.records);this.offset+=e.records.length;this.totalCount=e.totalCount;this.onUpdate({addedRecords:e.records,loadedRecords:this.records})}reset(){this.records=[];this.offset=0;this.totalCount=0}}t.ProgressiveDataStore=n;class i{static get className(){return"ScrollLoader"}constructor(e,t){this.loader=e;this.loadingClass=t.loadingClass||"ScrollLoader--loading";this.wrapper=t.wrapper?t.wrapper:"BODY";this.store=new n(e,t);this.threshold=t.threshold||2;if(this.wrapper&&typeof this.wrapper==="string"){this.wrapper=document.querySelector(this.wrapper)}this.addHandler()}get hasLoader(){return document.querySelector(".js-ScrollLoader__loader")!==null}addHandler(){this._debouncedScrollHandler=(0,r.debounce)(this.scrollHandler.bind(this),100);this.wrapper.addEventListener("scroll",this._debouncedScrollHandler)}scrollHandler(){if(!this.store.isComplete){this.wrapper.classList.remove("ScrollLoader--done");if(this.wrapper.scrollHeight-Math.ceil(this.wrapper.scrollTop)<=this.wrapper.clientHeight+this.threshold){this.destroyHandler();this.wrapper.classList.add(this.loadingClass);if(!this.hasLoader){this.wrapper.insertAdjacentHTML("beforeend",`<div class="ScrollLoader__loader js-ScrollLoader__loader">\n\t\t\t\t\t\t<div class="circleDotLoader">\n\t\t\t\t\t\t\t<div class="loaderCircle1 loaderCircle"></div>\n\t\t\t\t\t\t\t<div class="loaderCircle2 loaderCircle"></div>\n\t\t\t\t\t\t\t<div class="loaderCircle3 loaderCircle"></div>\n\t\t\t\t\t\t\t<div class="loaderCircle4 loaderCircle"></div>\n\t\t\t\t\t\t\t<div class="loaderCircle5 loaderCircle"></div>\n\t\t\t\t\t\t\t<div class="loaderCircle6 loaderCircle"></div>\n\t\t\t\t\t\t\t<div class="loaderCircle7 loaderCircle"></div>\n\t\t\t\t\t\t\t<div class="loaderCircle8 loaderCircle"></div>\n\t\t\t\t\t\t\t<div class="loaderCircle9 loaderCircle"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`)}this.store.loadMore().then((e=>{if(this.hasLoader){let e=document.querySelector(".js-ScrollLoader__loader");$(e).remove()}this.wrapper.classList.remove(this.loadingClass);$(this.wrapper).trigger("scrollLoader:update",{addedRecords:e,loadedRecords:this.store.records});this.addHandler()}))}}else{this.wrapper.classList.add("ScrollLoader--done")}}destroyHandler(){this.wrapper.removeEventListener("scroll",this._debouncedScrollHandler)}reset(){this.store.reset()}}t.ScrollLoader=i},680210:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=b(a(573674));var s=r(a(496406));var l=a(851040);var d=a(651745);var c=a(69873);var u=a(651745);var f=a(288015);var p=r(a(417842));var m=r(a(60042));var h=a(571439);var v=a(279585);var g=a(21969);a(125710);function y(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(y=function(e){return e?a:t})(e)}function b(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=y(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const w={HIRE_DATE:"hire-date",SPECIFIC_DATE:"specific-date"};class S extends o.Component{static get className(){return"AccrualOptionsModal"}constructor(e){super(e);this._save=()=>{const{timeOffType:e,employeeId:t}=this.props;const{selectedAccrualPolicyId:a,startDate:r}=this.state;if(!(0,s.default)(r).isValid()){setMessage($.__("Invalid date. Please choose a new date and try again."),"error");this.setState({isPreviewing:false,isValid:false});return}const n={id:t,typeId:e.id};const i={policy:a,addedYmd:(0,s.default)(r).format()};this.setState({isSaving:true});p.default.post(`/time_off/policy?${$.param(n)}`,i).then((({data:e})=>{if(e.success){window.location.reload()}else{this.setState({isSaving:false});setMessage(e.error,"error")}})).catch((()=>{window.errorFallBack();this.setState({isSaving:false})}))};this._handlePolicyChange=e=>{const{policies:t,currentPolicy:a}=this.props;const r=t[e];this.setState({selectedAccrualPolicyId:e||a.timeOffPolicyId,...O(r||a)},(()=>{this._getPreview()}))};this._handleDateChange=e=>{this.setState({startDate:e},(()=>{this._getPreview()}))};this._handleDateRadioChange=e=>{const{effectiveHireDate:t,accrualStartDate:a}=this.props;const r=!this.accrualStartDateIsHiringDate?a:(0,s.default)().format("YYYY-MM-DD");this.setState({selectedAccrualStartDateOption:e.value,startDate:e.value===w.SPECIFIC_DATE?r:t},(()=>{this._getPreview()}))};this._handleTableClick=({target:e})=>{const t=$(e).closest(".js-accrual-group");if(t.length){t.hide();$(t.attr("data-accrual-group")).show()}};this._handleSave=()=>{const{policies:e,policyName:t}=this.props;const{selectedAccrualPolicyId:a}=this.state;const r=e[a];if(r.type==="unlimited"){this.setState({sheetProps:{isOpen:true,title:$.__("Just Checking..."),icon:"fab-triangle-exclamation-24x24",iconColor:"action",headline:$.__("This will remove the current balance"),content:(0,i.default)("div",{},void 0,$.__(`Setting this policy to "None" will clear this employee's %1$s balance.`,t)),primaryActionText:$.__("Clear Balance and Save"),primaryAction:()=>{this.setState({sheetProps:{}},this._save)},onClose:()=>{this.setState({sheetProps:{}})}}})}else{this._save()}};const{currentPolicy:t,effectiveHireDate:a,accrualStartDate:r}=e;this.accrualStartDateIsHiringDate=(0,s.default)(r).isSame(a,"day");this.state={isModalOpen:false,selectedAccrualPolicyId:t.timeOffPolicyId,selectedAccrualStartDateOption:this.accrualStartDateIsHiringDate||!(0,s.default)(r).isValid()?w.HIRE_DATE:w.SPECIFIC_DATE,...O(t),isPreviewing:false,isPreviewLoading:false,startDate:r,previewTableHtml:"",isValid:true,isSaving:false,popoverShowing:false,sheetProps:{}};this.popoverOptions={position:"right",onShow:e=>{this.setState({popoverShowing:true});e.balloonContentElement.querySelector(".js-accrual-help-popover-link").setAttribute("target","_blank")},onHide:()=>{this.setState({popoverShowing:false})},template:{name:"popover-standard",data:{title:$.__("Accrual Policies"),rawContent:true,content:`\n\t\t\t\t\t\t${$.__("An accrual policy defines the rules for how this time off balance will accrue over time.")}\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<a class="js-accrual-help-popover-link" href="/zendesk_link.php?page=link&link=hc/en-us/articles/216832107-Time-Off-Setting-Up-a-Type-and-Policy" target="_blank" rel="noopener noreferrer">\n\t\t\t\t\t\t\t${$.__("Show me how to create an accrual policy")} &raquo;\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t${$.__(`Select "None (E.g. Flexible, Unlimited, Etc.)" if you only want to track time used or Manually Updated Balance if you don't want this time off type to automatically accrue.`)}\n\t\t\t\t\t`,popoverClass:"AccrualOptionsModal__helpPopover"}}}}_getPreview(){const{selectedAccrualPolicyId:e,startDate:t}=this.state;const{accrualStartDate:a,currentPolicy:r,effectiveHireDate:n,employeeId:i,policies:o}=this.props;const l=o[e];const d=r.timeOffPolicyId===l.id;const c=a===t;if(d&&c){closeMessage();this.setState({isPreviewing:false,isValid:true});return}if(["unlimited","manual"].indexOf(l.type)>-1){this.setState({isValid:true});return}if((0,s.default)(t).isBefore(n)){setMessage(sprintf(`The accrual start date must be on or after this employee's hire date of %1`,n),"error");this.setState({isPreviewing:false,isValid:true});return}if(!(0,s.default)(t).isValid()){setMessage($.__("Invalid date. Please choose a new date and try again."),"error");this.setState({isPreviewing:false,isValid:false});return}if(!t){this.setState({isValid:false});closeMessage();return}this.setState({isPreviewLoading:true,isValid:true});const u={id:i,policy:e,addedYmd:(0,s.default)(t).format()};p.default.get("/time_off/policy/preview",u).then((({data:e})=>{const t={isPreviewLoading:false};if(e.success){closeMessage();t.isPreviewing=true;t.previewTableHtml=e.html}else{setMessage(e.error,"error")}this.setState(t)})).catch((()=>{this.setState({isPreviewLoading:false});window.errorFallBack()}))}componentDidMount(){setTimeout((()=>{this.setState({isModalOpen:true})}))}render(){const{accrualStartDate:e,currentPolicy:t,currentBalance:a,timeOffType:{unit:r},employee:p,effectiveHireDate:y,headerJSX:b,timeOffType:S,policies:O,setIsOptionsModalOpen:T=(()=>{})}=this.props;const{isPreviewing:C,isManual:P,isNone:E,isModalOpen:M,popoverShowing:x,isPreviewLoading:k,isSaving:j,isValid:I,selectedAccrualStartDateOption:F,selectedAccrualPolicyId:D,startDate:N,previewTableHtml:A,sheetProps:L}=this.state;const R=O[D];const B=t.timeOffPolicyId===(R===null||R===void 0?void 0:R.id);const H=e===N;const W=B&&(H||P||E);const U=!W&&I;const q=I&&!H;const V=(0,m.default)({"fab-Label fab-Label--required":true,"fab-Label--error":!I,"fab-Label--info":q});const z=Object.values(O).filter((e=>e.id!==t.timeOffPolicyId));const G=z.map((({name:e,id:t,type:a})=>{let r={text:e,value:t};if(a==g.PolicyType.UNLIMITED){r.text=v.NONE_POLICY_NAME}else if(a===g.PolicyType.MANUAL){r={type:"group",anchor:"bottom",items:[r],key:"manual"}}return r}));const Y={isClearable:true,items:G,selectedValues:D?[D]:[],onSelect:this._handlePolicyChange,onClear:this._handlePolicyChange,width:8};const K=(0,m.default)({AccrualOptionsModal__previewTableContainer:true,"AccrualOptionsModal__previewTableContainer--loading":k&&C,"AccrualOptionsModal__previewTableContainer--marginTop":true});const Z=(0,m.default)("fab-Label","AccrualOptionsModal__previewTableLabel");return(0,i.default)(l.Modal,{header:b,isOpen:M,isProcessing:j,onClose:()=>{this.setState({isModalOpen:false});T(false)},primaryAction:U?this._handleSave:null,primaryActionText:$.__("Save"),sheetProps:L,title:$.__("%1 for %2",S.name,p.firstName),type:"medium"},void 0,(0,i.default)("div",{},void 0,(0,i.default)("div",{className:"fab-FormRow"},void 0,(0,i.default)("div",{},void 0,(0,i.default)("p",{className:"fab-Label"},void 0,$.__("Current Policy")),(0,i.default)("p",{},void 0,(0,i.default)("span",{},void 0,t.name==="None"?v.NONE_POLICY_NAME:t.name),t.type!==g.PolicyType.UNLIMITED&&(0,i.default)("span",{className:"AccrualOptionsModal__currentPolicyBalance"},void 0,"(",(0,h.formatNumberWithDecimalCheck)(a)," ",r==="hours"?$.__("Hours"):$.__("Days"),")")))),(0,i.default)("div",{className:"fab-FormRow"},void 0,(0,i.default)("div",{},void 0,(0,i.default)("label",{className:"fab-Label",htmlFor:"accrualPolicyType"},void 0,$.__("Update accrual policy to...")),(0,i.default)("div",{className:"fab-InputWrapper"},void 0,o.default.createElement(d.Select,(0,n.default)({},Y,{name:"accrualPolicyType"}))),(0,i.default)("span",{className:"fab-FormNote AccrualOptionsModal__helpIcon"},void 0,(0,i.default)(c.Popover,{settings:this.popoverOptions},void 0,(0,i.default)(u.Icon,{brand:x,name:"fab-question-14x14"}))))),!E&&!P&&!!D&&(0,i.default)(u.RadioGroup,{classes:{root:"AccrualOptionsModalRadioGroup"},label:$.__("Accruals should start from..."),onChange:this._handleDateRadioChange,items:[{label:(0,i.default)("div",{className:"AccrualOptionsModalHireDateLabel"},void 0,(0,i.default)("span",{},void 0,$.__("Hire Date (%1$s)",(0,s.default)(y).format("ll"))),F===w.HIRE_DATE&&!W&&(0,i.default)("span",{className:"AccrualOptionsModalHireDateLabel__note"},void 0,(0,i.default)(f.InfoCircle13x13,{}),(0,i.default)("span",{},void 0,$.__("Accruals will be recalculated from this date forward.")))),value:w.HIRE_DATE},{label:(0,i.default)("div",{},void 0,(0,i.default)("span",{},void 0,$.__("Specific Date")),F===w.SPECIFIC_DATE&&(0,i.default)("div",{},void 0,(0,i.default)(u.DatePicker,{classes:{root:(0,m.default)("AccrualOptionsModalDatePicker",{AccrualOptionsModalDatePicker__marginBottom:C})},minDate:(0,s.default)(y).format("YYYY-MM-DD"),note:!W?(0,i.default)("span",{className:"AccrualOptionsModalDatePicker__note"},void 0,(0,i.default)(f.InfoCircle13x13,{}),(0,i.default)("span",{},void 0,$.__("Accruals will be recalculated from this date forward."))):null,onChange:({value:e})=>this._handleDateChange(e),required:true,value:N}))),value:w.SPECIFIC_DATE}],value:F}),!B&&(E||P)&&(0,i.default)("p",{className:"AccrualOptionsModal__noneAndManualDescription"},void 0,E?$.__(`Select "None (E.g. Flexible, Unlimited, Etc.)" if you prefer to track the amount used instead of available balance.`):$.__(`Select "Manually Updated Balance" if you prefer to keep this employee's accrual balance up to date by manually adjusting it periodically.`)),C&&!E&&!P&&(0,i.default)(o.Fragment,{},void 0,(0,i.default)("span",{className:Z},void 0,$.__("Accrual Preview")),(0,i.default)("div",{className:K},void 0,(0,i.default)("table",{className:"fab-Table"},void 0,(0,i.default)("thead",{},void 0,(0,i.default)("tr",{},void 0,(0,i.default)("th",{className:"fab-Table__header"},void 0,$.__("Date")),(0,i.default)("th",{className:"fab-Table__header"},void 0,$.__("Action")),(0,i.default)("th",{className:"fab-Table__header"},void 0,S.unit==="hours"?$.__("Hours"):$.__("Days")),(0,i.default)("th",{className:"fab-Table__header"},void 0,$.__("Balance")))),(0,i.default)("tbody",{dangerouslySetInnerHTML:{__html:A},onClick:this._handleTableClick})))),k&&!C&&(0,i.default)("div",{},void 0,(0,i.default)("br",{}),(0,i.default)(u.Loader,{small:true}))))}}t.default=S;function O(e){return{isNone:e.type==="unlimited",isManual:e.type==="manual"}}},279585:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.NONE_POLICY_NAME=void 0;const r=$.__(`None (E.g. Flexible, Unlimited, Etc.)`);t.NONE_POLICY_NAME=r},21969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PolicyType=void 0;let a;t.PolicyType=a;(function(e){e["UNLIMITED"]="unlimited";e["MANUAL"]="manual"})(a||(t.PolicyType=a={}))},825799:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.getDateInfo=k;t.onBalanceCloseHandler=j;t.buildRequestPageCalculatorTable=I;t.removeMobilePromotion=F;t.initDatepicker=D;t.addLegend=N;t.validatePtoRequest=A;t.showNegativeBalanceWarningModal=R;t.showTenYearWarningModal=H;t.onPageLoadSetup=W;t.setActionDeny=U;t.updateDailyTotals=G;t.sumAmounts=Y;t.checkInputForLimits=K;t.duplicateTimeOffRequest=Z;t.startDateLessThanEndDate=X;t.isTenYearsOrMore=J;t.addAmountErrorMessage=Q;t.savePTOmodal=ee;t.loadPTOmodal=te;t.accrualLevelStartDate=ae;t.adjustBalance=re;t.requestTimeOffById=de;t.editTimeOff=ce;t.removeTimeOff=ue;t.enterTimeOff=fe;t.showPTOComments=pe;t.assignPolicy=me;t.handleDuplicatedRequestForm=ve;t.commentExistsInADenialModal=_e;t.storeEmployeeTimeOffRequest=ye;var n=r(a(368652));var i=r(a(856075));var o=C(a(573674));var s=a(830734);var l=a(479706);var d=a(604928);var c=a(273641);var u=a(121198);var f=r(a(496406));var p=r(a(417842));var m=r(a(64937));var h=a(845382);var v=r(a(438649));var g=a(44779);var y=r(a(636739));var b=r(a(85855));var w=r(a(680210));var S=r(a(823894));var O=a(853559);a(663222);function T(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(T=function(e){return e?a:t})(e)}function C(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=T(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}let P=false;let E=false;function M(e){return(0,f.default)(e.val(),f.default.defaultFormat).toDate()}function x(){if(window.Employee){return(0,i.default)(m.default,{imageAlt:"Image of employee",imageSrc:window.Employee.photoURL,subTitle:window.Employee.jobTitle,title:`${window.Employee.preferredName} ${window.Employee.lastName}`})}else if(window.common){return(0,i.default)(m.default,{imageAlt:"Image of employee",imageSrc:window.common.profilePictureUrl,subTitle:window.common.jobTitle,title:`${window.common.firstName} ${window.common.lastName}`})}return null}function k(e){const t=e.getMonth()+1;const a=e.getFullYear();const r=e.getDate();const n=`${a}-${t<10?"0":""}${t}-${r<10?"0":""}${r}`;for(let e=0;e<window.requests.length;++e){if(n>=window.requests[e].start&&n<=window.requests[e].end){return[true,window.requests[e].status]}}return[true,""]}function j(e,t,a){if(e===""||e===undefined){return false}if($(a).is(".pto-calendar-field2")){return false}if($(".js-pto-balances").length){$("#side-col").addClass("loading");const a=`/dashboard/ajax/dialog/pto/calculator.php?endDate=${encodeURIComponent(e)}`;$.ajax({url:a,dataType:"json",success(a){if(a){$("#side-col").removeClass("loading");if(t===true){window.ptoTotals=a.totals}if(a.data){const e=(0,f.default)(a.endDate,f.default.defaultFormat);const t=(0,f.default)();let r="";if(t.isSame(e,"d")){r=$.__("As of Today")}else{r=$.__("As of %1$s",e.format("ll"))}$(".js-calculate-as-of-date").text(r);return I(a)}else if(a.result=="ok"){$("#balanceCalc").val(e);$("#balance-selected-date").text(e);$("#pto-balances").html(a.content)}else{setMessage($.__("An error occurred while trying to calculate the future balances"),"error")}}},error(){setMessage($.__("An error occurred while trying to calculate the future balances"),"error");$("#side-col").removeClass("loading")}})}}function I(e){const t=$("#pto-balances");t.html(microTemplate($("#js-template-request-page-balances").html(),e));window.BambooHR.Components.Popover.purge();t.find(".js-balance-list-help-icon").each(((e,t)=>{const n=window.BambooHR.Components.Popover.create(t,{content:`${$.__(`This available time off is calculated based on hours worked.`)} ${$.__(`Since we dont know what hours you will be working in the future we cant calculate your future balance.`)} ${$.__(`Instead we are displaying your currently available time off.`)}`,title:$.__(`A time machine would be handy right now`),placement:"left",contentCssOverride:{"max-width":"410px","font-size":"14px"},titleCssOverride:{"font-size":"20px"}}).onShow((e=>a(e.triggerEl))).onHide((e=>r(e.triggerEl)));$(t).hover(a.bind(null,n.triggerEl),(()=>{if(!n.showing){r(n.triggerEl)}}))}));function a(e){$(e).attr("fill",window.BambooHR.Utils.getBrandColor())}function r(e){$(e).attr("fill","#b7b7b7")}}function F(){$.ajax({url:"/time_off/mobile_promotion/remove",type:"PUT"});$("#js-mobile-promotion").slideUp(200)}function D(e){N(e);if(e==$(".pto-calendar-field2")[0]){const t=$(".pto-calendar-field1").datepicker("getDate");if(!t){$(".pto-calendar-field2").datepicker("option","minDate",0)}else{$(".pto-calendar-field2").datepicker("option","minDate",$(".pto-calendar-field1").datepicker("getDate"))}if(e.value==""){e.value=$(".pto-calendar-field1").val()}}}function N(e){if(e==$(".pto-calendar-field1")[0]||e==$(".pto-calendar-field2")[0]){setTimeout((function(){$("div#ui-datepicker-div div.ui-datepicker-buttonpane button:first").after('<ul id="pto-legend" style="display: none"><li class="approved"><span></span>Approved</li><li class="requested"><span></span>Requested</li></ul>')}),200)}}function A(e){if(J()){H();return false}if($(e).valid()){if(!Y()){setMessage(window.defaultErrorMessage,"error");return false}const e=(0,f.default)($("#startYmd").val(),f.default.defaultFormat);const t=(0,f.default)($("#endYmd").val(),f.default.defaultFormat);const a=t.isBefore(e);if(a){X(true);setMessage($.__("The start date must be on or before the end date."),"error");window.BambooHR.Modal.setState({isOpen:true,isProcessing:false},true);return false}const r=$('input[name="hours"]').val();let n=r;if(!$.isNumeric(r)){n=window.getFloatFromStringJS(r)}const i=$('select[name="type"]');const o=$(`.js-time-off-type ba-option[value="${i.val()}"]`);const s={type:o.text(),date:$("#startYmd").val(),typeBalance:window.ptoTotals[i.val()],requestAmount:r,remainingBalance:window.ptoTotals[i.val()]-n};if(!(0,c.isNil)(window.originalRequest)){window.originalRequest.hours=parseInt(window.originalRequest.hours);const e=$.datepicker.formatDate("yy-mm-dd",$("#startYmd").val());if(window.originalRequest.status=="approved"&&e>=window.originalRequest.startYmd&&window.originalRequest.timeOffTypeId==i.val()){s.remainingBalance+=parseInt(window.originalRequest.hours);s.typeBalance+=parseInt(window.originalRequest.hours)}}if(typeof window.confirmBalance==="undefined"){window.confirmBalance=false}if(window.employeeTimeOffPolicyTypes&&window.employeeTimeOffPolicyTypes[i.val()]!=="unlimited"&&s.remainingBalance.toFixed(2)<0&&window.confirmBalance){s.remainingBalance=s.remainingBalance.toFixed(2);s.typeBalance=s.typeBalance.toFixed(2);if(window.GLOBAL_DECIMAL_CHAR===","){s.remainingBalance=s.remainingBalance.replace(/\./,",");s.typeBalance=s.typeBalance.replace(/\./,",");s.requestAmount=s.requestAmount.replace(/\./,",")}if(typeof Inbox!=="undefined"){return true}R($("#zeroBalModalTemplate").tmpl(s),s)}else{return true}}document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"));return false}function L({onClose:e,...t}){const[a,r]=(0,o.useState)(true);const[i,s]=(0,o.useState)(false);(0,o.useEffect)((()=>{if(!i){return}const e=$("#request");const t=ge(e);const a=$.param(t);const r=p.default.createCancelSource();p.default.post("/time_off/requests",a,{cancelToken:r.token}).then((()=>{window.location.href=e.data("doneUrl")})).catch((e=>{s(false);if(e.response.data){window.setMessage(e.response.data,"error")}else{errorFallBack()}}));return()=>{r.cancel()}}),[i]);return o.default.createElement(O.PoMicroFrontend,(0,n.default)({customClassNamePrefix:(0,c.uniqueId)(),isOpen:a,isProcessing:i,onAfterClose:()=>e(),onConfirmOrCancel:e=>{if(e){s(true)}else{r(false)}},route:"/time-off/negative-balance-modal"},t))}function R(e,t){const a=$.__("Confirm Request");const r=document.createElement("div");if((0,l.isEnabled)("po_time_off_modals")){document.body.appendChild(r);const e=()=>(0,d.unmountComponentAtNode)(r);const a={...t,isoDate:(0,f.default)(t.date,f.default.defaultFormat).toISOString()};(0,s.render)(o.default.createElement(L,(0,n.default)({onClose:e},a)),r)}else if((0,l.isEnabled)("to_modal_refactor")){const e=()=>(0,d.unmountComponentAtNode)(r);(0,s.render)((0,i.default)(b.default,{onClose:e,onSubmit:be,ptoBalanceData:t}),r)}else{(0,s.render)(o.default.createElement(y.default,(0,n.default)({},t,{postRequest:be,title:a})),r)}}function B({startDate:e,endDate:t,onAfterClose:a}){const[r,n]=(0,o.useState)(true);return(0,i.default)(O.PoMicroFrontend,{customClassNamePrefix:(0,c.uniqueId)(),endDate:t,isOpen:r,onAfterClose:a,onRequestClose:()=>n(false),route:"/time-off/ten-year-warning-modal",startDate:e})}function H(){if((0,l.isEnabled)("po_time_off_modals")){const e=(0,f.default)($("#startYmd").val(),f.default.defaultFormat).toISOString();const t=(0,f.default)($("#endYmd").val(),f.default.defaultFormat).toISOString();const a=document.createElement("div");document.body.appendChild(a);const r=()=>{$(".js-pto-request-datepicker[calendar-picker]").data("calendarPicker").setRange(e,e);G();(0,d.unmountComponentAtNode)(a)};(0,s.render)((0,i.default)(B,{endDate:t,onAfterClose:r,startDate:e}),a)}else{const e=$("#startYmd").val();const t=$("#endYmd").val();const a=document.createElement("div");const r=()=>{$(".js-pto-request-datepicker[calendar-picker]").data("calendarPicker").setRange(e,e);G();(0,d.unmountComponentAtNode)(a)};(0,s.render)((0,i.default)(S.default,{endDate:(0,f.default)(t,f.default.defaultFormat).toISOString(),onClose:r,startDate:(0,f.default)(e,f.default.defaultFormat).toISOString()}),a)}}function W(){const e={yearRange:"-70:+20",minDate:null,duration:0,showAnim:false,showOn:"button",beforeShowDay:k,buttonImage:"/images/color-branded-icons/holiday-cal.png",buttonImageOnly:false,buttonText:"",numberOfMonths:1,showButtonPanel:true,beforeShow:D,onClose(e){j(e,true,this)}};const t={yearRange:"-70:+20",minDate:0,duration:0,showAnim:false,beforeShow(e){e.blur();window.trackAction("viewedFutureBalanceWeb",{type:"button"},"view")},buttonImageOnly:false,onClose:j,changeMonth:true,changeYear:true};if(GLOBAL_DATEPICKER_MASK!=undefined){e.dateFormat=GLOBAL_DATEPICKER_MASK;t.dateFormat=GLOBAL_DATEPICKER_MASK}$(".pto-calendar-field2").focus((function(){if(this.value==""){this.value=$(".pto-calendar-field1").val();$(this).trigger("change")}}));$(".pto-calendar-field1, .pto-calendar-field2").bhrdatepicker(e).attr("autocomplete","off").inputmask(window.GLOBAL_DATE_MASK);$("#request").submit((function(e){e.preventDefault();if(A(this)&&!$("#footer-buttons .btn.btnAction").hasClass("disabled")){$("#footer-buttons .btn.btnAction").addClass("disabled processing");$(this)[0].submit()}}));const a=$("#balanceCalc");const r=a.val();a.on("change",(()=>{const e=a.val();j(e,true,this)}));const n=$("#startYmd").val();j(n?n:r,true,this);$(document).on("change","#startYmd",(function(e){const t=$("#balanceCalc").val();const a=$("#startYmd").val();j(a?a:t,true,this)}));$(document).on("change","#endYmd, #startYmd",(function(){const e=$("#startYmd").val();const t=$("#endYmd");const a=t.val();const r=$("#employeeId").val()||"";const n=$("#requestId").val()||"";if(e!==""&&a!==""){const t={startYmd:e,endYmd:a,eid:r,originalRequestId:n};$.get("/ajax/employees/pto/duplicate_check.php",t,(function(e){if(e.result==="error"){Z(true)}else if(e.result!=="ok"){if(e.errorType==="date"){Z(false);X(true)}}else{Z(false);X(false)}}),"json")}G()}));$(document).on("ba:selectChange",".js-time-off-type",(function(){setTimeout(G)}));$(document).on("change, keyup","#multipleDayList",(function(){Y();const e=$(".js-timeoff-master-form");e.bhrValidate()}));$("#approve").submit((function(e){}));const i=document.querySelector('[data-form-id="requestPtoFooter"]');if(i){i.addEventListener("click",(e=>{const t=e.target.closest('button[data-action="SiteFooterAction:submit"]');if(t&&!E&&!t.disabled){E=true;document.dispatchEvent(new CustomEvent("SiteFooterActions:startProcessing"));ye()}}))}}function U(){document.getElementById("action").value="deny";document.approve.submit()}let q=false;let V=false;function z({startDate:e,endDate:t,onClose:a}){const[r,n]=(0,o.useState)(true);return(0,i.default)(O.PoMicroFrontend,{customClassNamePrefix:(0,c.uniqueId)(),endDate:t,isOpen:r,onClose:e=>{n(false);setTimeout((()=>{a(e)}),300)},route:"/time-off/large-request-modal",startDate:e})}function G(){if((0,l.isEnabled)("po_time_off_modals")){const e=M($("#startYmd"));const t=M($("#endYmd"));const a=$("#startYmd").val();const r=$("#endYmd").val();const n=$("#timeOffType").val();const o=$("#requestId").val();const l=$("#employeeId").val();const c=b(e,t);const u=150;if(e!==null&&c>u){if(J()){H()}else if(!V){V=true;const u=document.createElement("div");document.body.appendChild(u);(0,s.render)((0,i.default)(z,{endDate:(0,f.default)(r,f.default.defaultFormat).toISOString(),onClose:i=>{if(i){y(e,t,a,r,n,o,l,c)}else{$(".js-pto-request-datepicker[calendar-picker]").data("calendarPicker").setRange(a,a);G()}(0,d.unmountComponentAtNode)(u);V=false},startDate:(0,f.default)(a,f.default.defaultFormat).toISOString()}),u)}}else{y(e,t,a,r,n,o,l,c)}}else if((0,l.isEnabled)("to_modal_refactor")){const e=M($("#startYmd"));const t=M($("#endYmd"));const a=$("#startYmd").val();const r=$("#endYmd").val();const n=$("#timeOffType").val();const o=$("#requestId").val();const l=$("#employeeId").val();const c=b(e,t);const u=150;if(e!==null&&c>u){if(J()){H()}else if(!q){q=true;const u=document.createElement("div");(0,s.render)((0,i.default)(g.LargeRequestModal,{endDate:(0,f.default)(r,f.default.defaultFormat).toISOString(),isOpen:true,isSheet:P,onClose:i=>{if(i){y(e,t,a,r,n,o,l,c)}else{$(".js-pto-request-datepicker[calendar-picker]").data("calendarPicker").setRange(a,a);G()}(0,d.unmountComponentAtNode)(u);q=false},startDate:(0,f.default)(a,f.default.defaultFormat).toISOString()}),u)}}else{y(e,t,a,r,n,o,l,c)}}else{var e=M($("#startYmd"));var t=M($("#endYmd"));var a=$("#startYmd").val();var r=$("#endYmd").val();var n=$("#timeOffType").val();var o=$("#requestId").val();var c=$("#employeeId").val();var u=b(e,t);var p=150;if(e!==null&&u>p){if(window.dayThresholdModalOpen){return}let s=true;const l={startDay:(0,h.htmlentities)(a),endDay:(0,h.htmlentities)(r),days:(0,h.htmlentities)(u)};const d=$.__("Just Checking...");const f=$.__("Yes, Request These Dates");const p=$.__("No, Ill Select New Dates");const g={html:(0,v.default)(l),title:d,classes:"jquery-padding",callbacks:{close:{before(){if(s){m()}window.dayThresholdModalOpen=false}}},footer:{show:true,buttons:{primary:{disabled:false,show:true,text:f,action(){s=false;y(e,t,a,r,n,o,c,u);SimpleModal.closeModal()}},secondary:{disabled:false,show:true,text:p,action(){SimpleModal.closeModal()}},cancel:{show:false}}}};if(J()){H()}else if(!window.dayThresholdModalOpen){window.dayThresholdModalOpen=true;const m={isOpen:true,title:d,content:(0,i.default)("div",{dangerouslySetInnerHTML:{__html:(0,v.default)(l)}}),primaryActionText:f,primaryAction(){s=false;y(e,t,a,r,n,o,c,u);window.dayThresholdModalOpen=false;if(P){window.BambooHR.Modal.setState({isOpen:true,sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},alternativeActionText:p,alternativeAction(){$(".js-pto-request-datepicker[calendar-picker]").data("calendarPicker").setRange(a,a);G();window.dayThresholdModalOpen=false;if(P){window.BambooHR.Modal.setState({isOpen:true,sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},onClose(){$(".js-pto-request-datepicker[calendar-picker]").data("calendarPicker").setRange(a,a);G();window.dayThresholdModalOpen=false;if(P){window.BambooHR.Modal.setState({isOpen:true,sheetProps:{isOpen:false}},true)}}};if(P){window.BambooHR.Modal.setState({isOpen:true,sheetProps:m},true)}else{window.BambooHR.Modal.setState(m)}}}else{y(e,t,a,r,n,o,c,u)}}function m(){t=e;r=a;$("#endYmd").datepicker("setDate",t);u=b(e,t);y(e,t,a,r,n,o,c,u)}function y(e,t,a,r,n,i,o,s){if(e&&s>p){$("#multipleDayList").addClass("multiple");$("#multipleDayList").html('<div style="height:192px;"><img src="/images/loading-large-for-gray-background.gif" style="margin:auto; display:block; position:relative; height:46px; padding-top:75px;" /></div>')}document.dispatchEvent(new CustomEvent("SiteFooterActions:startProcessing"));$.get("/time_off/requests/daily_fields_twig",{startDate:a,endDate:r,type:n,eid:o,id:i}).done((function(a){$("#multipleDayList").html(a);if(e&&s>1&&e<t&&n!=""){$("#multipleDayList").addClass("ScrollBox")}else{$("#multipleDayList").removeClass("ScrollBox")}if(SimpleModal.getModalCount()>0){SimpleModal.setPosition()}Y();document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"))}))}function b(e,t){return Math.round(Math.abs((new Date(e).getTime()-new Date(t).getTime())/(24*60*60*1e3)))+1}}function Y(){let e=true;$("#multipleDayList").each((function(){let t=0;let a=0;$(this).find("input").each((function(){if($(this).attr("type")=="hidden"){window.rawUnits=this.value}else{let r;let n;if(!$.isNumeric(this.value)){this.value=this.value.replace(/[^0-9\.\,-]/g,"")}if(this.value==""){r=0;n=""}else{r=window.getFloatFromStringJS(this.value);n=r;$(this).siblings(".fieldInfo.error.nonPlugin").remove()}if(!K(this,n)){e=false}t+=r;if(this.value.indexOf(",")>-1){a=1}}}));t=t.toFixed(2).toString();if(a>0){t=t.replace(/\./,",");a=0}$(this).find("#dailyTotalAmount").text(t);$("#singleTotalAmount").val(t)}));return e}function K(e,t){const a=$($(e).parent("li"));let r=true;if(window.rawUnits=="days"&&t>1||window.rawUnits=="days"&&t<-1){Q(e,$.__("A maximum of 1 day is allowed."));r=false;a.addClass("error")}else if(window.rawUnits=="hours"&&t>24||window.rawUnits=="hours"&&t<-24){Q(e,$.__("A maximum of 24 hours is allowed."));r=false;a.addClass("error")}else{a.removeClass("error disabled")}if(t===0){a.addClass("disabled")}return r}function Z(e){$("#startYmd").closest(".fieldRow").children(".fieldInfo.error").remove();if(e){$("#startYmd").addClass("fab-TextInput--warning");$("#startYmdLabel").addClass("fab-Label--warning");$("#endYmd").addClass("fab-TextInput--warning");$("#endYmdLabel").addClass("fab-Label--warning");$("#js-duplicate-entry").show();$("#multipleDayList").removeClass("ScrollBox")}else{$("#startYmd").removeClass("fab-TextInput--warning");$("#startYmdLabel").removeClass("fab-Label--warning");$("#endYmd").removeClass("fab-TextInput--warning");$("#endYmdLabel").removeClass("fab-Label--warning");$("#js-duplicate-entry").hide()}}function X(e){$("#js-duplicate-entry").hide();if(e){$("#startYmd").addClass("fab-TextInput--error");$("#startYmdLabel").addClass("fab-Label--error");$("#endYmd").addClass("fab-TextInput--error");$("#endYmdLabel").addClass("fab-Label--error")}else{$("#startYmd").removeClass("fab-TextInput--error");$("#startYmdLabel").removeClass("fab-Label--error");$("#endYmd").removeClass("fab-TextInput--error");$("#endYmdLabel").removeClass("fab-Label--error")}}function J(){const e=(0,f.default)($("#startYmd").val(),f.default.defaultFormat);const t=(0,f.default)($("#endYmd").val(),f.default.defaultFormat);const a=f.default.duration(t-e).years();return a>=10}function Q(e,t){e=$(e);e.parent("li").addClass("error");if(e.parent("li").find(".fieldInfo").length>0){e.parent("li").find(".fieldInfo").text(t);if(!e.parent("li").find(".fieldInfo").hasClass("nonPlugin")){e.parent("li").find(".fieldInfo").addClass("nonPlugin")}}else{e.parent("li").append(`<span class="RequestPTO__amountError fieldInfo fieldInfo-error error nonPlugin">${t}</span>`)}}function ee(e,t,a,r=`/employees/pto/?id=${e}`){if(a===undefined){a=SimpleModal.getTopModalSelector().find("form").serialize()}SimpleModal.Footer.Buttons.startProcessing();$.post(t,a,(function(e){if(e.success){if(e.nextURL){window.location.href=e.nextURL}else{window.location.href=r}closeModalDialog()}else{setMessage(e.error,"error");window.BambooHR.Modal.setState({isProcessing:false},true)}}),"json").fail((function(){errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))}function te(e,t,a,r,n){$.get(t,a,(function(i){if(i.success){const o=$.extend(true,{html:i.html,title:i.title,classes:"jquery-padding js-PTOmodal",footer:{show:true,buttons:{primary:{disabled:false,show:true,text:i.save,action(){if(window.ASSUMED_USER){window.disabledForPermsTest();return}const r=SimpleModal.getTopModalSelector().find(".BhrForms");if(J()){H()}else if(r.length===0||r.valid()){t+=`?${$.param(a)}`;ee(e,t,undefined,n)}}}}},callbacks:{open:{after(){if(SimpleModal.getTopModalSelector().length){const e=SimpleModal.getTopModalSelector().find(".BhrForms");const t=e.find("textarea");if(typeof t.attr("maxlength")!=="undefined"&&t.attr("maxlength")){t.limitCount(t.attr("maxlength"))}}}}}},r);SimpleModal.openModal(o)}else{setMessage(i.error,"error")}}),"json").fail(errorFallBack)}function ae(e,t){const a="/time_off/ptoHireDate";t.setAttribute("disabled","disabled");let r=null;p.default.get(a,{id:e}).then((n=>{window.BambooHR.Modal.setState({content:(0,i.default)("div",{dangerouslySetInnerHTML:{__html:n.data.html}}),header:x(),isOpen:true,title:$.__("Accrual Level Start Date"),primaryActionText:$.__("Apply"),primaryAction(){window.BambooHR.Modal.setState({isOpen:true,isProcessing:true},true);if(r.valid()){p.default.post(`${a}?id=${e}`,r.serialize().replace("employeeId","id")).then((e=>{if(e.data&&e.data.error){setMessage(e.data.error,"error");window.BambooHR.Modal.setState({isOpen:true,isProcessing:false},true)}else{window.location.reload()}})).catch((()=>{window.BambooHR.Modal.setState({isOpen:true,isProcessing:false},true);window.errorFallBack()}))}},onOpen(){r=$(".js-accrual-date-modal");r.initializeElements()},onClose(){t.removeAttribute("disabled")}})})).catch((()=>{t.removeAttribute("disabled");window.errorFallBack()}));return false}function re(e,t,a,r){let n="/time_off/balance/adjust";const o={id:e,type:t,historyId:r};const s=$.__("Adjust %s Balance",a);let l=null;p.default.get(n,o).then((e=>{window.BambooHR.Modal.setState({content:(0,i.default)("div",{dangerouslySetInnerHTML:{__html:e.data.html}}),header:x(),isOpen:true,title:s,primaryActionText:$.__("Save"),primaryAction(){window.BambooHR.Modal.setState({isOpen:true,isProcessing:true},true);$(".js-adjust-pto-balance").submit()},onOpen(){l=$(".js-adjust-pto-balance");l.initializeElements();d()},onClose(){}})})).catch((()=>{window.errorFallBack()}));return false;function d(){const t=$(".js-adjust-pto-adjustment-hours");t.keyup((function(){let e=window.getFloatFromStringJS(this.value);if(isNaN(e)){e=0}else if(e<0){e=0-e;this.value=e}else if(e===0){const e=/^-0.0+$/;if(e.test(this.value)){this.value=0}}const t=this.value;$(".js-adjust-pto-adjustment-hours").val(t.replace(/[^0-9\,\.]/g,""));$(".js-adjust-action-hours").html(window.formatNumberJS(e,2));le($(".js-adjust-add-subtract-dropdown").val())})).keyup();ne(t.data("realval")>=0?"add":"subtract");let a=null;a=$(".js-adjust-pto-balance").not("[bhrvalidate-initiated=true]");setTimeout((()=>{a.bhrValidate({})}));a.on("submit",(function(){if(a.valid()){n+=`?${$.param(o)}`;const t=a.serializeArray().reduce(((e,t)=>{e[t.name]=t.value;return e}),{});ee(e,n,$.param(t))}else{window.BambooHR.Modal.setState({isProcessing:false},true)}return false}));const r=$(".js-adjust-add-subtract-dropdown");$(".js-adjust-pto-adjustment-hours").on("change",(function(){const e=$('select[name="operator"]');const t=$(`.js-adjust-add-subtract-dropdown ba-option[value="${e.val()}"]`).val();ne(t)}));r.on("ba:selectChange",(e=>{ne(e.originalEvent.detail.value)}))}}function ne(e){if(e==="subtract"){oe()}else{ie()}se();le(e);return false}function ie(){$(".js-adjust-modal-action-add").show();$(".js-adjust-modal-action-subtract").hide();$(".js-adjust-modal-math-row").addClass("AdjustBalanceModalSummary__row--add").removeClass("AdjustBalanceModalSummary__row--subtract");$(".js-adjust-modal-input-adjust-type").val("add")}function oe(){$(".js-adjust-modal-action-add").hide();$(".js-adjust-modal-action-subtract").show();$(".js-adjust-modal-math-row").addClass("AdjustBalanceModalSummary__row--subtract").removeClass("AdjustBalanceModalSummary__row--add");$(".js-adjust-modal-input-adjust-type").val("subtract")}function se(){const e=$(".js-adjust-pto-adjustment-hours");const t=$(".js-adjust-pto-balance").find(".js-adjust-modal-input-adjust-type").val();let a=window.getFloatFromStringJS(e.attr("data-realval"));let r=window.getFloatFromStringJS(e.val());const n=window.getFloatFromStringJS($(".js-adjust-max-hours").text());const i=window.getFloatFromStringJS($(".js-adjust-cur-hours").text());if(isNaN(a)){a=0}if(isNaN(r)){r=0}const o=$(".js-adjust-over-max-notice");if(t==="add"&&n>0&&i+r-a>n){o.show();e.css("color","red")}else{o.hide();e.css("color","#222222")}}function le(e){const t=$(".js-adjust-pto-adjustment-hours");const a=window.getFloatFromStringJS($(".js-adjust-cur-hours").html());let r=window.getFloatFromStringJS(t.attr("data-realval"));let n=window.getFloatFromStringJS(t.val());if(e==="subtract"){n=0-n}if(r===undefined||isNaN(r)){r=0}let i=parseFloat(a+n-r);if(isNaN(i)){i=a-r}$(".js-adjust-total-hours").html(window.formatNumberJS(i,2))}function de(e){window.location.href=`/time_off/requests/create?timeOffTypeId=${e}`}function ce(e,t,a,r,n){let o="/time_off/requests/edit";let s=null;const l=()=>{if(window.ASSUMED_USER){window.disabledForPermsTest();return}const a={isOpen:true,content:$.__("Are you sure you want to cancel this request?"),title:$._("Time Off Request"),primaryActionText:$.__("Cancel Request"),primaryAction(){const r=`/time_off/requests/cancel`;a.isProcessing=true;window.BambooHR.Modal.setState({isOpen:true,isProcessing:true,sheetProps:a},true);p.default.post(r,$.param({id:t})).then((t=>{if(t.data.success){window.location.href=`/employees/pto/?id=${e}`}else{window.errorFallBack()}})).catch((()=>{window.errorFallBack()}))},secondaryAction:null,onClose(){a.isOpen=false;window.BambooHR.Modal.setState({isOpen:true,isProcessing:false,sheetProps:a},true)}};window.BambooHR.Modal.setState({isOpen:true,isProcessing:true,sheetProps:a},true)};const d={id:t,employeeId:e};p.default.get(o,d).then((t=>{P=true;window.BambooHR.Modal.setState({content:(0,i.default)("div",{dangerouslySetInnerHTML:{__html:t.data.html},id:"js-time-off-master-form-modal"}),header:x(),isOpen:true,title:$.__("Edit Time Off Request"),primaryActionText:$.__("Save"),primaryAction(){if(window.ASSUMED_USER){window.disabledForPermsTest();return}if(s.valid()){window.BambooHR.Modal.setState({isProcessing:true},true);const t=ge(s);p.default.post(o+=`?${$.param(d)}`,$.param(t)).then((t=>{if(t.data.success){window.location.href=`/employees/pto/?id=${e}`}else{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}})).catch((()=>{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))}},secondaryActionText:$.__("Cancel Request"),secondaryAction:r!=="false"?l:null,onOpen(){s=$("#js-time-off-master-form-modal .js-timeoff-master-form");s.bhrValidate();$(".js-time-off-type").on("ba:selectChange",(function(){setTimeout(G)}));s.find("textarea[maxlength]").limitCount()},onClose(){he.removePostFixFromElementIds();P=false}})})).catch((()=>{window.errorFallBack()}));return false}function ue(e,t){const a="/time_off/table/history/removeItem";const r={id:e,historyItemId:t};p.default.get(a,r).then((e=>{const{html:t,save:n,success:o,title:s}=e.data;if(o){window.BambooHR.Modal.setState({content:(0,i.default)("div",{dangerouslySetInnerHTML:{__html:t}}),isOpen:true,title:s,primaryActionText:n,primaryAction(){window.BambooHR.Modal.setState({isOpen:true,isProcessing:true},true);p.default.post(a,r).then((()=>{window.location.reload()}))}})}else{setMessage(e.error,"error")}})).catch((()=>{window.errorFallBack()}));return false}function fe(e,t){let a="/time_off/requests/record";const r={employeeId:e,timeOffTypeId:t};let n=null;p.default.get(a,r).then((e=>{P=true;window.BambooHR.Modal.setState({content:(0,i.default)("div",{dangerouslySetInnerHTML:{__html:e.data.html}}),header:x(),isOpen:true,title:$.__("Record Time Off"),primaryActionText:$.__("Save"),primaryAction(){if(n.valid()){window.BambooHR.Modal.setState({isProcessing:true},true);const e=ge(n);a+=`?${$.param(r)}`;p.default.post(a,$.param(e)).then((e=>{if(e.data.success){window.location.reload()}else{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}})).catch((e=>{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))}},onOpen(){n=$(".js-timeoff-master-form");n.bhrValidate();$(".js-time-off-type").on("ba:selectChange",(function(){setTimeout(G)}));n.find("textarea[maxlength]").limitCount()},onClose(){P=false}})})).catch((()=>{window.errorFallBack()}));return false}function pe(e,t,a){const r={cancel_message:"",noscroll:true};$.get("/time_off/table/comments",{type:e,id:t,requestId:a},(function(e){if(e.success){const t={};const a=(0,u.fragFromHtml)(e.html);const r=a.querySelector(".js-request-comment-modal-can-add-comments");if(r){t.additionalActionText=r.innerText;t.additionalAction=()=>{window.location.href=r.href}}window.BambooHR.Modal.setState({isOpen:true,title:e.title,dangerousContent:e.html,primaryActionText:e.save,primaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},...t})}else{window.setMessage(e.error,"error")}}),"json").fail(window.errorFallBack)}function me(e,t,a,r){const i="/time_off/policy";const l={id:t,typeId:a};const d="data-prevent-double-click";if(e.hasAttribute(d)){return}e.setAttribute(d,"true");p.default.get(i,l).then((({data:t})=>{(0,s.render)(o.default.createElement(w.default,(0,n.default)({},t,{headerJSX:x(),policyName:r})),document.createElement("div"));e.removeAttribute(d)}));return false}const he={ids:[],postFix:"TEMP-POSTFIX",addPostFixToElementIds(){const{postFix:e}=this;const t=$("form#request").first();this.ids=t.find("[id]");this.ids.each((function(){const t=this.id+e;const a=$(`label[for="${this.id}"]`);a.attr("for",t);this.id=t}))},removePostFixFromElementIds(){const{ids:e,postFix:t}=this;if(!this.isPostFixAdded()){return}e.each((function(){const e=this.id.replace(t,"");const a=$(`label[for="${this.id}"]`);a.attr("for",e);this.id=e}))},isPostFixAdded(){return $("form#request").find("[id]").first().attr("id").indexOf(this.postFix)>-1}};function ve(e,t,a,r){if(he.isPostFixAdded()){return}he.addPostFixToElementIds();ce(e,t,a,r)}function _e(){let e=[".denialModal #manager_note",".denialModal #comment"],t=false;for(let a=0;a<e.length;a++){if($(e[a]).length){if($.trim($(e[a]).val())){t=true}}}return t}function ge(e){const t=e.serializeArray();const a={};t.forEach((e=>{const t=e.name;let r=e.value;if(t==="startYmd"){r=$("#startYmd").val()}else if(t==="endYmd"){r=$("#endYmd").val()}a[t]=r}));return a}function ye(){if(A("#request")){be()}else{E=false}}function be(){const e=$("#request");const t=ge(e);const a=$.param(t);return p.default.post("/time_off/requests",a).then((()=>{E=false;window.location.href=e.data("doneUrl")})).catch((e=>{if(e.response.data){window.setMessage(e.response.data,"error")}else{errorFallBack()}E=false;window.BambooHR.Modal.setState({isOpen:true,isProcessing:false},true);document.dispatchEvent(new CustomEvent("SiteFooterActions:toggleProcessing"))}))}function we(e,t){const a={header:$.__("This will remove the current balance"),noBalance:$.__("Flexible time off types don't have a balance."),withCurrentName:$.__(`Setting this accrual policy to "Flexible" will clear this employee's %1$s balance.`,e)};const r=`\n\t\t<div class="ZeroOutBalanceModal">\n\t\t<ba-icon name="calculator-warning-44x48" class="ZeroOutBalanceModal__icon"></ba-icon>\n\t\t\t<h3 class="baseColor ZeroOutBalanceModal__header">!*= t10s.header *!</h3>\n\t\t\t<p class="ZeroOutBalanceModal__content">\n\t\t\t\t!*= t10s.noBalance *!\n\t\t\t\t!*= t10s.withCurrentName *!\n\t\t\t</p>\n\t\t</div>\n\t`;const n=microTemplate(r,{policyName:e,t10s:a});SimpleModal.openModal({html:n,title:$.__("Just Checking..."),footer:{show:true,buttons:{primary:{text:$.__("Clear Balance and Save"),action(){window.SimpleModal.closeModal();t()}},cancel:{text:$.__("Cancel"),action(){window.SimpleModal.closeModal()}}}}})}},438649:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a(810895);var n=r(a(365720));var i=n.default;t.default=i},636739:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=l(a(573674));var o=a(851040);a(183768);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class d extends i.Component{static get className(){return"NegativeBalanceModal"}constructor(e){super(e);this._handleModalClose=()=>{this.setState({isOpen:false});document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"))};this._submitRequest=()=>{const{postRequest:e}=this.props;this.setState({isProcessing:true});e()};this.state={isOpen:false,isProcessing:false}}componentDidMount(){setTimeout((()=>{this.setState({isOpen:true})}))}render(){const{isOpen:e,isProcessing:t}=this.state;const{date:a,remainingBalance:r,requestAmount:i,title:s,type:l,typeBalance:d}=this.props;return(0,n.default)(o.Modal,{isOpen:e,isProcessing:t,onClose:this._handleModalClose,primaryAction:this._submitRequest,primaryActionText:$.__("Submit Request"),title:s},void 0,(0,n.default)("div",{className:"NegativeBalanceModal"},void 0,(0,n.default)("h4",{},void 0,$.__("Uh oh! This will leave you with a negative balance. Are you sure you want to submit this request?")),(0,n.default)("div",{className:"NegativeBalanceModal__hoursBox"},void 0,(0,n.default)("div",{className:"NegativeBalanceModal__requestDetails"},void 0,(0,n.default)("span",{className:"NegativeBalanceModal__requestDetails--row"},void 0,(0,n.default)("p",{},void 0,$.__("%1 (as of %2)",l,a)),(0,n.default)("p",{},void 0,d)),(0,n.default)("span",{className:"NegativeBalanceModal__requestDetails--row"},void 0,(0,n.default)("p",{},void 0,$.__("Request for %1",a)),(0,n.default)("p",{},void 0,i))),(0,n.default)("div",{className:"NegativeBalanceModal__remainingBalance"},void 0,(0,n.default)("p",{},void 0,$.__("Remaining Balance")),(0,n.default)("p",{},void 0,r)))))}}t.default=d},20026:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Body",{enumerable:true,get:function(){return l.default}});Object.defineProperty(t,"Footer",{enumerable:true,get:function(){return d.default}});Object.defineProperty(t,"Header",{enumerable:true,get:function(){return c.default}});t.default=void 0;var n=a(121198);var i=a(774548);var o=a(28e4);var s=r(a(198115));var l=r(a(105638));var d=r(a(847534));var c=r(a(17770));var u={closeModal(e){if(this.getModalCount()<1){return false}e=this._mergeCloseOptions(e);var t=this._getTopModalOptions();$(document).trigger("simplemodal:close:before");var a=(0,i.executeFunction)(t.callbacks.close.before);if(a===false){return false}var r=$(this.getTopModalSelector());if(t.footer.show===true&&t.footer.custom.html===""&&t.footer.custom.url===""){this.Footer.Buttons.clearAllEventHandlers(r)}if(e.type==="fast"){r.remove();if(this._openModals.length===1){o.Modal.disableNoScroll()}}else if(this._openModals.length>1&&!t.nostack){r.find(this._selectors.wrapper).velocity("slideUp",{complete(){r.remove()},duration:250})}else{if(t.animation){r.velocity("fadeOut",{complete(e){r.remove()},duration:100,easing:[.25,.5,.5,.9]})}else{r.remove()}if(this._openModals.length===1){o.Modal.disableNoScroll()}}this._openModals.pop();if(!e.skipCloseCallback){(0,i.executeFunction)(t.callbacks.close.after);$(document).trigger("simplemodal:close:after")}},init(){this.$=(0,i.setupWrappers)(this.$);this._enableButtons();this._setupListeners();window.SimpleModal=this},openModal(e){e=this._mergeOptions(e);if(this._openModals.length>0&&JSON.stringify(this._openModals[this._openModals.length-1].options)===JSON.stringify(e)){return false}if(e.url===""&&e.html===""){console.warn("Could not find a url to load from or html to show.");return false}$(document).trigger("simplemodal:open:before");var t=(0,i.executeFunction)(e.callbacks.open.before);if(t===false){return false}var a=this,r=this.$.html.clone(),n=this._selectors.prefix+this._openModals.length,s="."+n;if(typeof e.classes==="undefined"){e.classes=""}if(typeof e.data==="undefined"){e.data={}}r.addClass(e.classes+" "+n);if(e.body&&e.body.classes){r.find(this._selectors.body).addClass(e.body.classes)}this._appendModal(r);if(!this._openModals.length){o.Modal.enableNoScroll()}if(e.animation){$(this._selectors.wrapper).addClass("SimpleModal__wrapper--animate")}var l=$(s);this.Header.Title.setTitle(e.header.title.text||e.title,l);if(e.header.show===false){l.addClass("SimpleModal--noHeader");this.Header.hide(l)}if(e.header.title.show===false){this.Header.Title.hide(l)}if(e.header.hideCloseButton){this.Header.hideCloseButton(l)}this._setZIndex(l);this._setModalBgZIndex(l);this._setModalZIndex(l);this._setLoaderZIndex(l);this._openModals.push({$:l,options:e});if(e.url){$.ajax({url:e.url,data:e.data,type:e.method,success(t){if(e.responseToHTML){a._loadHtml(l,e.responseToHTML(t),e);return}if(t==="ERROR"||typeof t==="object"&&!t.success){if(t.error){setMessage(t.error,"error")}else{setMessage($.__("There was an error processing your request"),"error")}a.closeModal();return}var r;if(typeof t==="object"){r=t.html}else{r=t}a._loadHtml(l,r,e)},error:function(e){if(e.responseText){setMessage(e.responseText,"error")}else{errorFallBack()}a.closeModal()}})}else{this._loadHtml(l,e.html,e)}return l},getTopModalSelector(){if(this._openModals.length>0){return this._openModals[this._openModals.length-1].$}return""},$:{button:".js-simplemodal",html:`<div class="SimpleModal js-simplemodal-container">\n\t\t\t\t\t<div class="SimpleModal__bg js-simplemodal-bg"></div>\n\t\t\t\t\t<div class="SimpleModal__loader js-simplemodal-loader">\n\t\t\t\t\t\t<div class="dotLoader">\n\t\t\t\t\t\t\t<div class="bounce1"></div>\n\t\t\t\t\t\t\t<div class="bounce2"></div>\n\t\t\t\t\t\t\t<div class="bounce3"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${$.__("Loading...")}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="SimpleModal__wrapper js-simplemodal-wrapper">\n\t\t\t\t\t\t<div class="SimpleModal__header js-simplemodal-header clearfix">\n\t\t\t\t\t\t\t<span class="SimpleModal__header-title truncate js-simplemodal-title"></span>\n\t\t\t\t\t\t\t<span class="SimpleModal__header-close js-simplemodal-close">\n\t\t\t\t\t\t\t\t<svg width="11px" height="11px" viewBox="0 0 11 11">\n\t\t\t\t\t\t\t\t\t<g stroke-width="1" sketch:type="MSPage">\n\t\t\t\t\t\t\t\t\t\t<path d="M6.71884008,5.19230161 L9.99010931,1.92103238 C10.4698785,1.44126315 10.5190324,0.705224691 10.0991478,0.28545546 C9.67937854,-0.134429155 8.94334008,-0.0852753088 8.46357085,0.394493922 L5.19230161,3.66576315 L1.92103238,0.394493922 C1.44126315,-0.0852753088 0.705224691,-0.134429155 0.28545546,0.28545546 C-0.134429155,0.705224691 -0.0852753088,1.44126315 0.394493922,1.92103238 L3.66576315,5.19230161 L0.394493922,8.46357085 C-0.0852753088,8.94334008 -0.134429155,9.67937854 0.28545546,10.0991478 C0.705224691,10.5190324 1.44126315,10.4698785 1.92103238,9.99010931 L5.19230161,6.71884008 L8.46357085,9.99010931 C8.94334008,10.4698785 9.67937854,10.5190324 10.0991478,10.0991478 C10.5190324,9.67937854 10.4698785,8.94334008 9.99010931,8.46357085 L6.71884008,5.19230161" class="modalXpath"></path>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="SimpleModal__body js-simplemodal-body" style="visibility: hidden;"></div>\n\t\t\t\t\t\t<div class="SimpleModal__footer-wrapper js-simplemodal-footer-wrapper" style="display: none;">\n\t\t\t\t\t\t\t<div class="SimpleModal__footer js-simplemodal-footer clearfix">\n\t\t\t\t\t\t\t\t<button class="btn btnAction SimpleModal__footer-button-primary js-simplemodal-button-primary"></button>\n\t\t\t\t\t\t\t\t<button class="btn SimpleModal__footer-button-secondary js-simplemodal-button-secondary" style="display: none;"></button>\n\t\t\t\t\t\t\t\t<a class="SimpleModal__footer-cancel js-simplemodal-cancel"></a>\n\t\t\t\t\t\t\t\t<span class="SimpleModal__footer-text js-simplemodal-footer-text" style="display: none;"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},_selectors:{prefix:"js-simplemodal-",openModalButton:".js-simplemodal",background:".js-simplemodal-bg",body:".js-simplemodal-body",buttonPrimary:".js-simplemodal-button-primary",buttonSecondary:".js-simplemodal-button-secondary",cancel:".js-simplemodal-cancel",close:".js-simplemodal-close",container:".js-simplemodal-container",footer:".js-simplemodal-footer",footerWrapper:".js-simplemodal-footer-wrapper",header:".js-simplemodal-header",docHtml:"html",loader:".js-simplemodal-loader",title:".js-simplemodal-title",wrapper:".js-simplemodal-wrapper"},_closeOptions:{type:"",skipCloseCallback:false},_options:{animation:false,body:{classes:""},callbacks:{close:{after(){return true},before(){return true}},open:{after(){return true},before(){return true}}},classes:"",closeOnEscape:true,data:{},footer:{show:true,buttons:{primary:{disabled:false,show:true,text:$.__("Save"),action(e){e=u._verifyModalObject(e);e.find("form").submit()},performActionOnKeyCode:-1},secondary:{disabled:false,show:false,text:"",action(){},performActionOnKeyCode:-1},cancel:{disabled:false,show:true,text:$.__("Cancel"),action(){u.closeModal()},performActionOnKeyCode:-1}},custom:{url:"",html:""},text:{show:false,html:"",text:""}},nostack:true,title:"",header:{hideCloseButton:false,show:true,title:{show:true,text:""}},html:"",url:"",method:"get",responseToHTML:null,deleteModal:{active:false,selector:""},preventSubmit:false},_openModals:[],_appendModal(e){var t=this,a=this._getTopModalOptions();$("body").append(e);var r=e.children(this._selectors.background),n=e.children(this._selectors.loader);if(a.animation){r.velocity("fadeIn",{duration:300});n.velocity("fadeIn",{delay:100,duration:300})}else{r.css("opacity","1");n.addClass("show")}if(this._openModals.length>0){e.addClass("SimpleModal--stacked");e.find(".SimpleModal__footer > .btn").addClass("btnSmall")}},_getDataAttributes(e){return{animation:e.data("animation"),body:{classes:e.data("body-classes")},callbacks:{close:{after:e.data("callbacks-close-after"),before:e.data("callbacks-close-before")},open:{after:e.data("callbacks-open-after"),before:e.data("callbacks-open-before")}},classes:e.data("classes"),closeOnEscape:e.data("close-on-escape"),data:e.data("data"),footer:{show:e.data("footer-show"),buttons:{primary:{disabled:e.data("footer-button-primary-disabled"),show:e.data("footer-button-primary-show"),text:e.data("footer-button-primary-text"),action:e.data("footer-button-primary-action"),performActionOnKeyCode:e.data("footer-button-primary-perform-action-on-key-code")},secondary:{disabled:e.data("footer-button-secondary-disabled"),show:e.data("footer-button-secondary-show"),text:e.data("footer-button-secondary-text"),action:e.data("footer-button-secondary-action"),performActionOnKeyCode:e.data("footer-button-secondary-perform-action-on-key-code")},cancel:{disabled:e.data("footer-button-cancel-disabled"),show:e.data("footer-button-cancel-show"),text:e.data("footer-button-cancel-text"),action:e.data("footer-button-cancel-action"),performActionOnKeyCode:e.data("footer-button-cancel-perform-action-on-key-code")}},custom:{url:e.data("footer-custom-url"),html:e.data("footer-custom-html")},text:{show:e.data("footer-text-show"),html:e.data("footer-text-html"),text:e.data("footer-text-text")}},nostack:e.data("nostack"),title:e.data("title"),header:{show:e.data("header-show"),title:{show:e.data("header-title-show"),text:e.data("header-title-text")}},html:e.data("html"),url:e.data("url"),method:e.data("method"),deleteModal:{active:e.data("delete-modal-active"),selector:e.data("delete-modal-selector")},preventSubmit:e.data("prevent-submit")}},getModalCount(){return this._openModals.length},_getTopModalOptions(){if(this._openModals.length>0){return this._openModals[this._openModals.length-1].options}return""},_deleteModalSetup(e,t){var a=t.find(e);if(a.length>0){a.focus();a.on("keyup",(function(){if(this.value.toUpperCase()==="DELETE"){u.Footer.Buttons.Primary.enable()}else{u.Footer.Buttons.Primary.disable()}}))}},_enableButtons(){var e=this;$("body").on("click",this._selectors.openModalButton,(function(t){var a=$(this);e.openModal(e._getDataAttributes(a))}))},_hideFooter(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.footerWrapper);var a=e.find(this._selectors.header);var r=0;if(a.is(":visible")){r+=a.outerHeight()}this._setBodyAndLoaderHeight(r,e);this.Footer.hide(e)},_loadHtml(e,t,a){e.find(this._selectors.body).html(t);this._setFooter(a.footer,e);this._waitForResourcesToLoad(a,e)},_mergeOptions(e){e=$.extend(true,{},this._options,e);if(e.deleteModal.active){e.footer.buttons.primary.disabled=true}return e},_mergeCloseOptions(e){if(typeof e==="string"){this._closeOptions.type=e}return $.extend(true,{},this._closeOptions,e)},_setBodyAndLoaderHeight(e,t){t=this._verifyModalObject(t);t.find(this._selectors.body).css("height","calc(100% - "+e+"px)")},_setFooter(e,t){var a=this;t=this._verifyModalObject(t);if(e.show===true){var r=t.find(this._selectors.footerWrapper);var n=t.find(this._selectors.header);var i=r.outerHeight();if(n.is(":visible")){i+=n.outerHeight()}if(e.custom.html!==""){r.html(e.custom.html);this._setBodyAndLoaderHeight(a._getHeaderAndFooterHeight(t),t)}else if(e.custom.url!==""){r.empty();$.get(e.custom.url,(function(e){r.html(e);a._setBodyAndLoaderHeight(a._getHeaderAndFooterHeight(t),t)}))}else{this._setFooterButtons(e.buttons,t);this._setFooterText(e.text,t);this._setBodyAndLoaderHeight(a._getHeaderAndFooterHeight(t),t)}r.show()}else{t.addClass("SimpleModal--noFooter");this._hideFooter(t)}},_getHeaderAndFooterHeight:function(e){var t=e.find(this._selectors.footerWrapper);var a=e.find(this._selectors.header);var r=t.outerHeight();if(a.is(":visible")){r+=a.outerHeight()}return r},_setFooterButtons(e,t){var a=this;t=this._verifyModalObject(t);r(e.primary,this.Footer.Buttons.Primary,t);r(e.secondary,this.Footer.Buttons.Secondary,t);r(e.cancel,this.Footer.Buttons.Cancel,t);function r(e,t,r){r=a._verifyModalObject(r);if(e.show===true){t.show(r)}else{t.hide(r)}if(e.disabled===true){t.disable(r)}t.setText(e.text,r);t.addClass(e.classes,r);t.updateAction((function(){e.action(r)}),r);var n=parseInt(e.performActionOnKeyCode);if(n>-1){t.updatePerformActionOnKeyCode(n,r)}}},_setFooterText(e,t){if(e.html!==""){this.Footer.Text.setHtml(e.html,t)}if(e.text!==""){this.Footer.Text.setText(e.text,t)}if(e.show){this.Footer.Text.show(t)}},_setModalBgZIndex(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.background);this._setZIndex(t)},setPosition(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.title),a=e[0].clientWidth,r=e[0].clientHeight,n=window.innerWidth,i=window.innerHeight;if(typeof e==="undefined"||e.length===0){return}t.css("max-width",a-60);if(!e.hasClass("full-screen")){if(!e.hasClass("full-width")){if(this._openModals[this._openModals.length-1].originalWidth>n-100){e.css({width:n-100+"px"})}else{e.css({width:"auto"})}}e.css({left:"calc(50% - "+Math.floor(e[0].clientWidth/2)+"px)",height:""});if(!e.hasClass("full-height")){if(i*.4-50>r/2){e.css({top:"calc(40% - "+Math.floor(r/2)+"px)"})}else{e.css({top:"50px"});if(e.height()>i-100){e.css({height:i-100+"px"})}}}}if(e.hasClass("SimpleModal--stacked")){var o=0;var s=0;var l=this._openModals[0].$;if(!l.find(this._selectors.header).is(":visible")){o=-32}else{s=-32}var d=parseInt(l.css("top"))+36+o;e.css({top:d+"px"});if(!e.hasClass("full-screen")&&e.height()>i-100+s){e.css({height:i-100+s+"px"})}}},_setLoaderZIndex(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.loader);this._setZIndex(t)},_setModalZIndex(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.wrapper);this._setZIndex(t)},_setZIndex(e){var t=(0,n.getMaxZIndex)();$(e).css("zIndex",parseInt(t)+10)},_setupListeners(){$(window).resize((()=>{this._openModals.forEach((e=>{var t=e.$;this.setPosition(t);this._setBodyAndLoaderHeight(this._getHeaderAndFooterHeight(t),t)}))}));this._watchForClose()},_showContent(e,t){var a=this,r=$(this._selectors.container),n=t.find(this._selectors.body),o=$(this._selectors.loader),s=$(this._selectors.footerWrapper);if(t.hasClass("SimpleModal--stacked")){t.find(a._selectors.wrapper).velocity("slideDown",{duration:250,begin:function(){t.addClass("no-overflow")},complete:function(){t.removeClass("no-overflow")}})}l();function l(){if(e.animation){t.find(a._selectors.wrapper).addClass("show")}else{t.find(a._selectors.wrapper).css("opacity","1")}}setTimeout((function(){(0,i.executeFunction)(e.callbacks.open.after)}),0);if(e.deleteModal.active&&e.deleteModal.selector!==""){this._deleteModalSetup(e.deleteModal.selector,t)}if(e.preventSubmit){t.find("form").on("submit",(function(e){e.preventDefault()}))}t.initializeElements();r.removeClass("updating");n.css({visibility:"visible"});n.velocity({opacity:1},{complete(){r.removeClass("updating")},duration:350});s.velocity({opacity:1},{duration:350});o.removeClass("show");this._openModals[this._openModals.length-1].originalWidth=t.width();this.setPosition(t);$(document).trigger("simplemodal:open:after")},_verifyModalObject(e){if(typeof e==="undefined"){e=$(this.getTopModalSelector())}return e},_waitForFooterToLoad(e,t){var a=this;if(e.footer.custom.url!==""&&t.find(a._selectors.footerWrapper).html().length===0){var r=setInterval((function(){if(t.find(a._selectors.footerWrapper).html().length>0){clearInterval(r);a._showContent(e,t)}}),1e3)}else{a._showContent(e,t)}},_waitForResourcesToLoad(e,t){t=this._verifyModalObject(t);var a=t.find(this._selectors.body+" img[src], "+this._selectors.body+' link[type="text/css"]');var r=this,n=a.length,i=0;if(n>0){a.each((function(){var a=document.createElement("img");if(this.src){a.src=this.src}if(this.href){a.src=this.href}a.onload=a.onerror=function(){++i;if(i===n){r._waitForFooterToLoad(e,t)}}}))}else{r._waitForFooterToLoad(e,t)}},_watchForClose(){var e=this;$("body").on("click",this._selectors.close,(function(){e.closeModal()}));$(document).on("keydown",(function(t){let a=e._getTopModalOptions();if(a.closeOnEscape&&(t.which===27||t.keyCode===27)){e.closeModal()}}))},updateModal(e){e=this._mergeOptions(e);this._openModals[this._openModals.length-1].options=e;var t=this,a=$(this._selectors.container),r=$(this._selectors.body),n=$(this._selectors.footerWrapper),o=$(this._selectors.loader),s=$(this.getTopModalSelector());if(typeof window.event!=="undefined"&&window.event.altKey){s.addClass("panda")}$(document).trigger("simplemodal:open:before");var l=(0,i.executeFunction)(e.callbacks.open.before);if(l===false){return false}r.velocity({opacity:0},{begin(){a.addClass("updating");o.addClass("show")},complete(){if(e.url){$.get(e.url,(function(a){t._loadHtml(s,a,e)}))}else{t._loadHtml(s,e.html,e)}},duration:350});n.velocity({opacity:0},{duration:350})}};u.Body=l.default;u.Footer=d.default;u.Header=c.default;u.init();var f=u;t.default=f},105638:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={body:".js-simplemodal-body"};var r={getHeight(e){e=window.SimpleModal._verifyModalObject(e);return e.find(a.body).height()}};var n=r;t.default=n},847534:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Buttons",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"Text",{enumerable:true,get:function(){return i.default}});t.default=void 0;var n=r(a(883158));var i=r(a(103499));var o={footer:".js-simplemodal-footer",footerWrapper:".js-simplemodal-footer-wrapper"};var s={hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(o.footer).hide()},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(o.footer).show()}};s.Buttons=n.default;s.Text=i.default;var l=s;t.default=l},883158:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Cancel",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"Primary",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"Secondary",{enumerable:true,get:function(){return o.default}});t.default=void 0;var n=r(a(66688));var i=r(a(941653));var o=r(a(312605));var s={primary:".js-simplemodal-button-primary",secondary:".js-simplemodal-button-secondary",cancel:".js-simplemodal-cancel"};var l={clearAllEventHandlers(e){this.clearAllActions(e);this.clearAllPerformActionsOnKeyCodes(e)},clearAllActions(e){window.SimpleModal.Footer.Buttons.Primary.clearAction(e);window.SimpleModal.Footer.Buttons.Secondary.clearAction(e);window.SimpleModal.Footer.Buttons.Cancel.clearAction(e)},clearAllPerformActionsOnKeyCodes(e){window.SimpleModal.Footer.Buttons.Primary.clearPerformActionOnKeyCode(e);window.SimpleModal.Footer.Buttons.Secondary.clearPerformActionOnKeyCode(e);window.SimpleModal.Footer.Buttons.Cancel.clearPerformActionOnKeyCode(e)},hide(e){window.SimpleModal.Footer.Buttons.Primary.hide(e);window.SimpleModal.Footer.Buttons.Secondary.hide(e);window.SimpleModal.Footer.Buttons.Cancel.hide(e)},show(e){window.SimpleModal.Footer.Buttons.Primary.show(e);window.SimpleModal.Footer.Buttons.Secondary.show(e);window.SimpleModal.Footer.Buttons.Cancel.show(e)},startProcessing(e){window.SimpleModal.Footer.Buttons.Primary.startProcessing(e);window.SimpleModal.Footer.Buttons.Secondary.startProcessing(e)},stopProcessing(e){window.SimpleModal.Footer.Buttons.Primary.stopProcessing(e);window.SimpleModal.Footer.Buttons.Secondary.stopProcessing(e)}};l.Cancel=n.default;l.Primary=i.default;l.Secondary=o.default;var d=l;t.default=d},66688:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r={button:".js-simplemodal-cancel"};var n={clearAction(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).off("click")},clearPerformActionOnKeyCode(e){e=window.SimpleModal._verifyModalObject(e);$(document).off("keyup"+r.button+e.selector)},click(e){e=window.SimpleModal._verifyModalObject(e);if(this.isEnabled(e)){var t=e.find(r.button);if(t.length>0&&t.is(":visible")){t.click()}}},disable(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).attr("disabled","disabled").prop("disabled",true)},enable(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).removeAttr("disabled").prop("disabled",false)},getAttr(e,t){t=window.SimpleModal._verifyModalObject(t);return t.find(r.button).attr(e)},getText(e){e=window.SimpleModal._verifyModalObject(e);return e.find(r.button).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).hide()},isDisabled(e){e=window.SimpleModal._verifyModalObject(e);var t=e.find(r.button);if(t.length>0&&t.is(":visible")){return t.is(":disabled")}return true},isEnabled(e){return!this.isDisabled(e)},setAttr(e,t,a){a=window.SimpleModal._verifyModalObject(a);a.find(r.button).attr(e,t)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(r.button).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).show()},updateAction(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearAction(t);t.find(r.button).on("click",e)},updatePerformActionOnKeyCode(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearPerformActionOnKeyCode(t);$(document).on("keyup"+r.button+t.selector,(function(a){if(a.which===e){a.stopPropagation();this.click(t)}}))},addClass(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(r.button).addClass(e)}};var i=n;t.default=i},941653:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r={button:".js-simplemodal-button-primary"};var n={clearAction(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).off("click")},clearPerformActionOnKeyCode(e){e=window.SimpleModal._verifyModalObject(e);$(document).off("keyup"+r.button+e.selector)},click(e){e=window.SimpleModal._verifyModalObject(e);if(this.isEnabled(e)){var t=e.find(r.button);if(t.length>0&&t.is(":visible")){t.click()}}},disable(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).attr("disabled","disabled").prop("disabled",true)},enable(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).removeAttr("disabled").prop("disabled",false)},getAttr(e,t){t=window.SimpleModal._verifyModalObject(t);return t.find(r.button).attr(e)},getText(e){e=window.SimpleModal._verifyModalObject(e);return e.find(r.button).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).hide()},isDisabled(e){e=window.SimpleModal._verifyModalObject(e);var t=e.find(r.button);if(t.length>0&&t.is(":visible")){return t.is(":disabled")}return true},isEnabled(e){return!this.isDisabled(e)},setAttr(e,t,a){a=window.SimpleModal._verifyModalObject(a);a.find(r.button).attr(e,t)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(r.button).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).show()},startProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).addClass("processing").attr("disabled",true)},stopProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).removeClass("processing").attr("disabled",false)},updateAction(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearAction(t);t.find(r.button).on("click",e)},updatePerformActionOnKeyCode(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearPerformActionOnKeyCode(t);$(document).on("keyup"+r.button+t.selector,(a=>{if(a.which===e){a.stopPropagation();this.click(t)}}))},addClass(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(r.button).addClass(e)}};var i=n;t.default=i},312605:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r={button:".js-simplemodal-button-secondary"};var n={clearAction(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).off("click")},clearPerformActionOnKeyCode(e){e=window.SimpleModal._verifyModalObject(e);$(document).off("keyup"+r.button+e.selector)},click(e){e=window.SimpleModal._verifyModalObject(e);if(this.isEnabled(e)){var t=e.find(r.button);if(t.length>0&&t.is(":visible")){t.click()}}},disable(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).attr("disabled","disabled").prop("disabled",true)},enable(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).removeAttr("disabled").prop("disabled",false)},getAttr(e,t){t=window.SimpleModal._verifyModalObject(t);return t.find(r.button).attr(e)},getText(e){e=window.SimpleModal._verifyModalObject(e);return e.find(r.button).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).hide()},isDisabled(e){e=window.SimpleModal._verifyModalObject(e);var t=e.find(r.button);if(t.length>0&&t.is(":visible")){return t.is(":disabled")}return true},isEnabled(e){return!this.isDisabled(e)},setAttr(e,t,a){a=window.SimpleModal._verifyModalObject(a);a.find(r.button).attr(e,t)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(r.button).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).show()},startProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).addClass("processing").attr("disabled",true)},stopProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(r.button).removeClass("processing").attr("disabled",false)},updateAction(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearAction(t);t.find(r.button).on("click",e)},updatePerformActionOnKeyCode(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearPerformActionOnKeyCode(t);$(document).on("keyup"+r.button+t.selector,(function(a){if(a.which===e){a.stopPropagation();this.click(t)}}))},addClass(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(r.button).addClass(e)}};var i=n;t.default=i},103499:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={text:".js-simplemodal-footer-text"};var r={hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(a.text).hide()},setHtml(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(a.text).html(e)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(a.text).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(a.text).show()}};var n=r;t.default=n},17770:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Title",{enumerable:true,get:function(){return n.default}});t.default=void 0;var n=r(a(538071));var i={header:".js-simplemodal-header",close:".js-simplemodal-close"};var o={show(e){e=window.SimpleModal._verifyModalObject(e);e.find(i.header).show()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(i.header).hide()},hideCloseButton(e){e=window.SimpleModal._verifyModalObject(e);e.find(i.close).hide()}};o.Title=n.default;var s=o;t.default=s},538071:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={title:".js-simplemodal-title"};var r={setTitle(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(a.title).text(e)},getTitle(e){e=window.SimpleModal._verifyModalObject(e);return e.find(a.title).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(a.title).hide()},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(a.title).show()}};var n=r;t.default=n},797722:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.shareFacebook=n;t.shareLinkedIn=i;t.shareTwitter=o;t.centerDialog=l;var r=a(774548);function n(e){window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(s(e)),"facebook-share-dialog",l(626,436))}function i(e,t){e+=`&uid=${(0,r.makeUid)()}`;window.open(`http://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(s(e))}`+`&title=${encodeURIComponent(t.shareText)}`+"&summary="+"&source=BambooHR","linkedin-share-dialog",l(570,476))}function o(e,t){window.open("https://twitter.com/intent/tweet"+"?text="+encodeURIComponent(t.shareText)+"&original_referer="+encodeURIComponent(document.location.href)+"&related="+t.related+"&source=tweetbutton"+"&url="+encodeURIComponent(s(e)),"twitter-share-dialog",l(500,442))}function s(e){if(e.indexOf("http")<0||e.indexOf("https")<0){return location.protocol+"//"+e}return e}function l(e,t){let a=(document.body.getBoundingClientRect().width-e)/2;let r=(document.body.getBoundingClientRect().height-t)/2;return"height="+t+", width="+e+", top="+r+", left="+a}},495836:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.SocialIdInvalidModal=t.SSNInvalidSyncModal=t.SSNWarnSyncModal=void 0;const r=()=>{const e=window.BambooHR.Modal.isOpen();let t={};const a={content:$.__("Payroll will not be able to run for this user unless they have a valid Social Security Number."),primaryAction:()=>{if(e){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("OK, Got It"),alternativeActionText:"",primaryActionKey:"Enter",isOpen:true,title:$.__("Just So You Know...")};if(e){t={isOpen:true,sheetProps:a}}else{t=a}window.BambooHR.Modal.setState(t,e)};t.SSNWarnSyncModal=r;const n=e=>{const t=window.BambooHR.Modal.isOpen();let a={};const r={isOpen:true,icon:"fab-money-circle-54x54",iconColor:"danger",content:$.__("Before adding this employee to the '%1' pay schedule you need to update the employee's Social Security Number.",e),primaryAction:()=>{if(t){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("OK, Got It"),alternativeAction:null,title:$.__("Oops, That Won't Work...")};if(t){a={isOpen:true,sheetProps:r}}else{a=r}window.BambooHR.Modal.setState(a,t)};t.SSNInvalidSyncModal=n;const i=(e,t,a)=>{const r=window.BambooHR.Modal.isOpen();let n={};const i={content:t,onClose:()=>{if(a&&typeof a==="function"){a(false)}},primaryAction:()=>{if(a&&typeof a==="function"){a(true)}if(r){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("Yes"),iconColor:"danger",primaryActionKey:"Enter",isOpen:true,title:e};if(r){n={isOpen:true,sheetProps:i}}else{n=i}window.BambooHR.Modal.setState(n,r)};t.SocialIdInvalidModal=i},822215:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;const a=new WeakMap;class r{static get className(){return"Sticky"}static getInstance(e){return a.get(e)}constructor(e,t={}){this._element=e;this._settings={anchor:window,...t};this._stuck=false;this._verifySettings();if(!this._settings.alwaysStick){this._wireEvents()}this._addSpacerElement();a.set(this._element,this);if(this._settings.alwaysStick||this._settings.immediate){this._updateStickiness()}}get _elementRect(){return this._getRect(this._element)}get _spacerElementRect(){return this._getRect(this._spacerElement)}get _anchorElementRect(){return this._getRect(this._settings.anchor)}stick(){this._adjustSpacerHeight();this._element.style.position="fixed";if(this._settings.anchor){this._positionAtAnchor()}this._stuck=true;if(this._watchHeight&&!this._watchingHeight){this._watchHeight()}}unStick(){this._adjustSpacerHeight();this._element.style.position="";this._stuck=false;this._watchingHeight=false}destroy(){if(this._spacerElement&&this._spacerElement.parentNode){this._spacerElement.parentNode.removeChild(this._spacerElement)}this._unwireEvents()}_removeSpacerElement(){var e;if((e=this._spacerElement)!==null&&e!==void 0&&e.parentNode){this._spacerElement.parentNode.removeChild(this._spacerElement)}this._spacerElement=null}_addSpacerElement(){const{spacerCSSClass:e}=this._settings;const t=this._element;const a=this._spacerElement=document.createElement("div");if(e){a.classList.add(e)}t.parentNode.insertBefore(a,t);a.appendChild(t)}_adjustSpacerHeight(){if(this._stuck){this._spacerElement.style.height=`${this._elementRect.height}px`}else{this._spacerElement.style.height=""}}_wireEvents(){this._boundScrollHandler=this._scrollHandler.bind(this);window.addEventListener("scroll",this._boundScrollHandler)}_unwireEvents(){window.removeEventListener("scroll",this._boundScrollHandler);this._boundScrollHandler=null}_shouldStick(){const{anchor:e,shouldStick:t}=this._settings;if(typeof t==="function"){return t(this._element,this._elementRect)}if(!e){console.warn(`Could not determine when to stick element ${this._element}`);return false}return this._spacerElementRect.top<this._anchorElementRect.bottom&&this._isFixed(e)}_shouldUnstick(){const{shouldUnstick:e}=this._settings;if(typeof e==="function"){return e(this._element,this._elementRect)}return this._elementRect.top<=this._spacerElementRect.top}_getRect(e){if(e===window){return{bottom:0,height:0,left:0,right:0,top:0,width:0}}return e.getBoundingClientRect()}_isFixed(e){if(e===window){return true}const t=window.getComputedStyle(e).getPropertyValue("position");return t==="fixed"}_positionAtAnchor(){this._element.style.top=`${this._anchorElementRect.bottom}px`}_updateStickiness(){const{alwaysStick:e,onAfterStick:t,onAfterUnstick:a,onBeforeStick:r,onBeforeUnstick:n}=this._settings;if(e||this._shouldStick()){if(typeof r==="function"){r()}this.stick();if(typeof t==="function"){t()}}else if(this._shouldUnstick()){if(typeof n==="function"){n()}this.unStick();if(typeof a==="function"){a()}}this._triggerUpdateEvent()}_triggerUpdateEvent(){this._element.dispatchEvent(new CustomEvent("ba:stickyUpdate",{bubbles:true,detail:{stuck:this._stuck}}))}_verifySettings(){const{anchor:e,shouldStick:t}=this._settings;if(!this._element){throw new Error("An element to make sticky must be provided.")}if(!e&&typeof t!=="function"){throw new Error("An element anchor option or shouldStick callback option is required to use Sticky.")}}_watchHeight(){if(this._watchingHeight){return}if(this._spacerElement.height!==this._anchorElementRect){this._adjustSpacerHeight()}window.requestAnimationFrame((()=>this._watchHeight()))}_scrollHandler(){this._updateStickiness()}}t.default=r},669343:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(822215));class i extends n.default{static get className(){return"StickyTableHeader"}constructor(e,t){if(!e.tHead){throw new Error(`${e} must contain a <thead>. No <thead> was found.`)}super(e.tHead.firstElementChild,t);this._tableElement=e;this._positionAtSpacer();this._updateStickiness()}get _hasPassedBottomOfParent(){const e=this._tableElement.getBoundingClientRect();return this._elementRect.bottom>e.bottom}stick(){this._element.style.position="fixed";if(this._settings.anchor){this._positionAtAnchor()}this._stuck=true}unStick(){this._positionAtSpacer();this._stuck=false}update(){this._addSpacerElement();this._updateStickiness()}_positionAtSpacer(){const e=window.getComputedStyle(this._tableElement);const t=e.getPropertyValue("position");if(t==="static"){this._tableElement.style.position="relative"}this._element.style.position="absolute";this._element.style.left=0;this._element.style.top=0;this._element.style.width="100%"}_positionAtAnchor(){super._positionAtAnchor();this._element.style.left=`${this._spacerElementRect.left}px`;this._element.style.width=`${this._spacerElementRect.width}px`;this._element.style["z-index"]=1}_wireEvents(){super._wireEvents();this._boundResizeHandler=this._resizeHandler.bind(this);window.addEventListener("resize",this._boundResizeHandler)}_unwireEvents(){super._unwireEvents();window.removeEventListener("resize",this._boundResizeHandler);this._boundResizeHandler=null}_resetCells(){const e=[].slice.call(this._element.children);const t=[].slice.call(this._spacerElement.children);t.forEach(((t,a)=>{const r=e[a];t.style.width=r.dataset.sthOriginalWidthStyle;r.style.width=r.dataset.sthOriginalWidthStyle;delete t.dataset.sthOriginalWidthStyle;delete r.dataset.sthOriginalWidthStyle}))}_addSpacerElement(){const e=this._spacerElement;this._spacerElement=this._element.cloneNode(true);this._spacerElement.style.visibility="hidden";this._spacerElement.style.position="static";this._resetCells();if(e&&e.parentNode){this._element.parentNode.replaceChild(this._spacerElement,e)}else{this._element.parentNode.appendChild(this._spacerElement)}}_updateColumnWidths(){const e=[].slice.call(this._element.children);const t=[].slice.call(this._spacerElement.children);this._resetCells();e.forEach(((e,a)=>{const r=t[a];const n=`${r.offsetWidth}px`;e.dataset.sthOriginalWidthStyle=r.style.width;e.style.width=n}))}_updateStickiness(){super._updateStickiness();this._updateColumnWidths()}_resizeHandler(){this._positionAtSpacer();this._updateStickiness()}_scrollHandler(){super._scrollHandler();this._element.style.visibility=this._hasPassedBottomOfParent?"hidden":"visible"}setTableElement(e){if(e){var t;this._removeSpacerElement();this._tableElement=e;this._element=e===null||e===void 0?void 0:(t=e.tHead)===null||t===void 0?void 0:t.firstElementChild;this._addSpacerElement()}}}t.default=i},184712:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(273641);var i=a(479706);var o=r(a(837223));const s=(0,i.isEnabled)("jade");class l extends o.default{static get className(){return"Tooltip"}constructor(e,t){const a=s?8:5;t=(0,n.extend)({themeClass:"Balloon--tooltip",delay:300,tail:true,tailSize:a,minTailOnBalloon:6,triggerEvent:"hover",push:s?10:8},t);super(e,t)}static createStandard(e,t){if(t.template){throw new Error(`You misunderstand the purpose of creating a standard tooltip. You don't need a template option using this creation method.`)}const{title:a,content:r,...n}=t;n.template={name:"tooltip-standard",data:{title:a,content:r}};return super.create(e,n)}}t.default=l},895922:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AccessLevelSelector",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"PayrollAdmin",{enumerable:true,get:function(){return i.PayrollAdmin}});var n=r(a(934950));var i=a(410365);a(641860)},998971:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AdminAccessLevelChangeModal=c;t.showAdminAccessLevelChangeModal=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(121198);var s=a(851040);var l=a(975558);a(362482);const d=new o.BEM("AccessLevelChangeModal");function c(e){const{clickAction:t}=e;return(0,n.default)(s.Modal,{content:(0,n.default)("p",{className:d.elem("copy")},void 0,$.__("Changing your access level could cause you to lose access to BambooHR features and functionality. You may not be able to undo this action.")),headline:$.__("Are you sure you want to change your access level?"),icon:"fab-triangle-exclamation-54x54",iconColor:"attention",isOpen:true,onClose:()=>(0,l.closeModal)(),primaryAction:()=>{if(t){t()}(0,l.closeModal)()},primaryActionText:$.__("Yes, Change My Access Level"),title:$.__("Are You Sure? You May Lose Access...")})}const u=e=>(0,l.showModal)(i.default.createElement(c,e));t.showAdminAccessLevelChangeModal=u},898825:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AdminAccessLevelChangeModal",{enumerable:true,get:function(){return r.AdminAccessLevelChangeModal}});Object.defineProperty(t,"showAdminAccessLevelChangeModal",{enumerable:true,get:function(){return r.showAdminAccessLevelChangeModal}});var r=a(998971)},934950:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(273641);var i=a(774548);var o=r(a(417842));var s=a(895922);var l=a(494995);var d=f(a(552612));var c=a(898825);a(38712);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const p="ba-access-level-selector";const m=["input","button","li","ba-select","ba-option"];const h=m.map((e=>`${e}[${p}]`)).join(", ");const v="/settings/access_levels/group_list";const g="/settings/access_levels/user_info";const y="/ajax/employees/multiple_group_selection.php";const b="/settings/access_levels/save_employees_access_level";const w="/settings/access_levels/preview_as_user/%1";const S=10;const O=500;const T=new WeakMap;const C=new WeakMap;const P=new WeakMap;const E=new WeakMap;const M=new WeakMap;const x=new WeakMap;const k=new WeakMap;const j=new WeakMap;const I=new WeakMap;const F=new WeakMap;const D=new WeakMap;const N=new WeakMap;const A=new WeakMap;let L=[];let R;const B=[];let H;const W=[];const U=[];const q=[];const V={users:{},employees:{}};let z;const G={};function Y(e){if(A.get(e)){return e}e.off(".AccessLevelSelector");A.set(e,true);e.on("hover.AccessLevelSelector",null,e,(()=>J(e))).on("click.AccessLevelSelector","li[data-id]",e,(function(){const t=$(this).attr("data-id");Q(t,e)}));e.$wrapper.closest(".BhrForms").on("reset.AccessLevelSelector",(()=>{e.reset()}));e.$wrapper.closest("ba-dropdown, ba-select").on("ba:dropdownSelect ba:selectChange",(({originalEvent:{type:t,target:a,detail:r}})=>{let n;if(t==="ba:dropdownSelect"){n=r.item.item.dataAccessLevelSelectorId}else if(t==="ba:selectChange"){n=$(a).find(`ba-option[value="${r.value}"]`).data("accessLevelSelectorId")}if(n){Q(n,e)}}));return e}function K(e,t,...a){let r=[];switch(t){case"change":r=[e.user.accessLevelIds,e.user];break}r.push(e);setTimeout((()=>{e.$wrapper.trigger(`AccessLevelSelector:${t}`,r.concat(a))}),0);return e}function Z(e){if(e.userId!==null){window.location.href=window.sprintf(w,[e.userId])}}function X(e){if((0,n.isPlainObject)(e.user)&&e.user.userId){(0,l.openPasswordResetModal)(e.user)}}function J(e){if(e.hasEmployee&&e.hasUser&&!e.hasUserData){e.fetch((()=>{e.refresh()}))}}function Q(e,t){const a=window.SESSION_USER&&window.SESSION_USER.isAdmin;const{employeeId:r}=t.user;e=e||"no_access";if(e==="no_access"||typeof G[e]!=="undefined"){if(a&&r===window.SESSION_USER.employeeId){return(0,c.showAdminAccessLevelChangeModal)({clickAction:()=>t.save(e)})}return t.save(e)}switch(e){case"multiple":ee(t);break;case"preview":Z(t);break;case"resetPassword":X(t);break;default:Rollbar.warn(`[AccessLevelSelector] invalid levelId: "${e}" (${typeof e}) `);break}}function ee(e){const{userId:t,employeeId:a}=e;const r=G["payroll-admin"];o.default.get(y,{userId:t,employeeId:a,header:"employee"}).then((t=>{if(t.status===200){const{data:a}=t;const{user:{employeeName:r}}=e;window.BambooHR.Modal.setState({biId:"multiple-access-levels",isOpen:true,title:$.__("Multiple Access Levels"),primaryAction(){const t=document.querySelectorAll('#multiple-permissions input[type="checkbox"][name="groups"]:checked');const a=[...t].map((e=>e.value));e.save(a).then((()=>{window.BambooHR.Modal.setState({isOpen:false})}))},icon:"fab-lock-person-18x18",headline:r,headerType:"text",primaryActionText:$.__("Save"),dangerousContent:a})}}))}function te(e,t,a){const{employeeId:r,hasEmployee:n,userId:s,user:{firstName:l}}=e;let c=t.length>1?$.__("%1$s Access Levels",t.length):(G[t[0]]||{}).label;let u;let f;let p=`/employees/updateEmails/${r}`;if(!n){p=`/settings/users/edit/${s}`}const m=d.emailModal(e);const h=$.__("Add %1$s to %2$s",l,c);const v=()=>{const r=$("#access-levels-require-email-form");o.default.post(p,r.serialize()).then((function({data:r}){if(!r.success){const{error:e,errorMessage:t}=r;setMessage(t,"error");console.error(e);return}e.user.hasEmail=true;window.BambooHR.Modal.setState({isOpen:false});e.save(t,a).done((()=>{K(e,"changeEmail")}))}))};const g=e=>{const t=$("#access-levels-require-email-form");f=t.find('input[type="text"]');f.on("keyup paste change blur focus",(function(){var e=f.toArray().map((e=>e.value));if(e.map(i.validateEmail).includes(true)){window.BambooHR.Modal.setState({primaryAction:v},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}}))};window.BambooHR.Modal.setState({dangerousContent:m,isOpen:true,onOpen:g,primaryAction:null,primaryActionText:$.__("Save"),title:h})}function ae(e){return s.PayrollAdmin.showSettingsModal(e)}class re{static get className(){return"AccessLevelSelector"}static fetchLevels(e){if((0,n.isFunction)(e)){W.push(e)}clearTimeout(H);H=setTimeout((()=>{$.getJSON(v).done((e=>{z=e.levelTypes;z.forEach((e=>{if(Array.isArray(e.levels)){e.levels.forEach((t=>{t.type=e.name;G[t.id]=t;G[t.name]=t}))}else if(e.id){G[e.id]=e;G[e.name]=e}delete G.undefined}));(0,i.callFunctionQueue)(W);W.length=0}))}),S);return re}static fetchUser(e,t,a,r=false){if(!r&&e===null){(t||n.noop)({accessLevelIds:[],noAccess:false});return re}if(q.length+U.length>=O){(t||n.noop)({});return re}let o=r?"employees":"users";V[o]=V[o]||{};V[o][e]=t;(r?q:U).push(e);clearTimeout(R);R=setTimeout((()=>{$.post(g,{userIds:U,employeeIds:q}).done((({success:e,errorMessage:t,error:r,users:o})=>{if(!e){setMessage(t,"error");console.error(r);return}o.forEach((e=>{(V.users[e.userId]||V.employees[e.employeeId]||n.noop)(e)}));(0,i.callFunctionQueue)(B,null,o);B.length=0;(a||n.noop)(o)}));U.length=0;q.length=0}),S);return re}static fetchEmployee(e,t,a){return re.fetchUser(e,t,a,true)}static hideNotLoaded(){re.$elements.css("visibility","hidden");return re}static each(...e){re.$elements.each(...e);return re}static init(){re.hideNotLoaded().refresh();return re}static refresh(){$((()=>{if(!re.$elements.length){return}re.hideNotLoaded();re.fetchLevels((()=>{L=L.filter((e=>{if(e&&e.$wrapper&&e.$wrapper.closest(document.documentElement).length>0){e.refresh();return true}}));re.each((function(){new re(this)}))}))}));return re}static get $elements(){return $(h)}get $wrapper(){return T.get(this)}get $downList(){return C.get(this)}get $inputWrapper(){return P.get(this)}get $label(){return E.get(this)}get type(){return M.get(this)}get isButton(){return this.type==="button"}get isInput(){return this.type==="input"}get isDropdown(){return this.type==="li"}get isOption(){return this.type==="ba-option"}get userId(){return x.get(this)}get employeeId(){return k.get(this)}get user(){let e=j.get(this);if(!e){e={};j.set(this,e)}return e}get hasUser(){return!!this.userId}get hasEmployee(){return!!this.employeeId}get hasUserData(){return!!(this.user.userId||this.user.employeeId)}get icon(){return I.get(this)||"fab-lock-person-18x18"}get label(){if(this.user.noAccess){return $.__("No Access")}let e=this.user.accessLevelIds||[];let t=e.length;let a;let r;switch(t){case 0:a=F.get(this);break;case 1:r=e[0];a=(G[r]||{}).label;break;default:a=$.__("%1 Access Levels",t);break}return a}get exclude(){return D.get(this)}get tmplData(){var e=this;var t="accessLevelIds";var a="noAccess";if(this.userId){t+=`[${this.userId}]`;a+=`[${this.userId}]`}return{label:this.label,levelTypes:z,fieldType:this.type,isButton:this.isButton,isInput:this.isInput,isDropdown:this.isDropdown,isOption:this.isOption,icon:this.icon,firstName:this.user.firstName,hasEmail:this.user.hasEmail,canPreview:!!this.user.canPreview,accessLevelIds:this.user.accessLevelIds,inputFieldName:t+"[]",noAccessValue:JSON.stringify(this.user.noAccess),noAccessFieldName:a,isSelected(t){if(!t){return false}let a=e.user.accessLevelIds.some((e=>String(e)===String(t.id)));return a&&e.user.noAccess!==true||e.user.noAccess==true&&t.name==="no_access"},isExcluded(t){if((0,n.isString)(t)){t={type:t}}let a=t.type||t.name;return!e.hasEmployee&&a=="employee"||e.exclude.includes(t.type)||e.exclude.includes(t.id)||e.exclude.includes(t.name)}}}constructor(e){var t=$(e);var a=e.nodeName.toLowerCase();M.set(this,a);var r=t.attr("data-icon");I.set(this,r);var i=t.attr("data-placeholder")||`${$.__("None Selected")}`;F.set(this,i);var o=(t.attr("data-exclude")||"").trim().split(/\s*,\s*/g);D.set(this,o);var s=t.attr("data-user-id")||null;s=(0,n.isString)(s)&&s.trim()==="null"?null:s;x.set(this,s);var l=t.attr("data-employee-id")||null;l=(0,n.isString)(l)&&l.trim()==="null"?null:l;k.set(this,l);this.fetch((a=>{if(a.isOwner){t.remove();return}D.set(this,(0,n.union)(this.exclude||[],a.exclude||[]));var r=$(d.wrapper({...this.tmplData,$elem:t}));T.set(this,r);Object.entries(e.dataset).forEach((([e,t])=>{r.attr((0,n.kebabCase)(`data ${e}`),t)}));let i;if(r.is("ba-dropdown, ba-select")){i=r}else{i=r.find(".js-AccessLevelSelector__down-list")}C.set(this,i);var o=r.find(".js-AccessLevelSelector__inputWrapper");P.set(this,o);var s=r.find(".js-AccessLevelSelector__label");E.set(this,s);r.data("AccessLevelSelector",this);if(this.isDropdown){t.html(r).addClass("hasSublist").css("visibility","").data("AccessLevelSelector",this)}else{t.replaceWith(r)}Y(this);this.refresh();K(this,"init")}));L.push(this)}on(...e){this.$wrapper.on(...e);return this}off(...e){this.$wrapper.off(...e);return this}reset(){this.save(null);K(this,"reset");return this}fetch(e,t){let a=this.hasEmployee&&!this.hasUser;let r=a?this.employeeId:this.userId;re.fetchUser(r,(t=>{j.set(this,t);N.set(this,(0,n.clone)(t));(e||n.noop)(t)}),t,a);return this}refresh(){const{tmplData:e}=this;this.$downList.html(d.downList(e));this.$inputWrapper.html(d.inputWrapper(e));this.$label.text(this.label);K(this,"refresh");return this}save(e,t){let a=[];let r=e==="no_access";let i=t||$.Deferred();const o=G["payroll-admin"];if(Array.isArray(e)){a=e.map((e=>String(e)))}else if(e==="no_access"){a=this.user.accessLevelIds||[];r=true}else if(e===null){let e=N.get(this)||{};a=e.accessLevelIds||[];r=!!e.noAccess}else{a=[e]}if(o&&!r&&a.includes(o.id)&&!o.defaultESS&&this.user&&this.user.firstName){ae(this.user).then((({employeeAccessLevel:e})=>{o.defaultESS=e;this.save(a,i)}));return i.promise()}if(this.isInput){this.user.accessLevelIds=a;this.user.noAccess=r;this.refresh();K(this,"change");i.resolve(this.user)}else if(this.userId||this.employeeId){if(!this.user.hasEmail){te(this,a,i);return i.promise()}let e={userIds:[this.userId],employeeIds:[this.employeeId],editType:"change",accessLevelIds:a,noAccess:r};$.post(b,e).done((e=>{if(!e.success){setMessage(e.errorMessage,"error");console.error(e.error);i.reject(e.error);return}let t=e.users[this.userId]||(0,n.find)(e.users,{employeeId:this.employeeId})||{};x.set(this,t.userId||this.userId);this.user.userId=this.userId;this.user.accessLevelIds=t.accessLevelIds||a;this.user.noAccess=t.noAccess||r;this.user.canPreview=t.canPreview;this.refresh();K(this,"change");i.resolve(this.user)}))}return i.promise()}}t.default=re;$(re.init);$(window).on("pushState replaceState popState refreshState",re.init)},365230:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=c;var n=r(a(368652));var i=r(a(856075));var o=d(a(573674));var s=a(651745);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function c({label:e,...t}){const{isButton:a,isInput:r,isExcluded:s,levelTypes:l}=t;return(0,i.default)(o.Fragment,{},void 0,(0,i.default)("ba-toggle-content",{},void 0,e),a&&o.default.createElement(h,t),l.filter((e=>e.name!=="all"&&!s(e.name))).map((e=>o.default.createElement(m,(0,n.default)({},t,{key:e.name,levelType:e})))),!s("multiple")&&o.default.createElement(f,(0,n.default)({anchor:"bottom"},t),o.default.createElement(u,(0,n.default)({},t,{multiple:true}),$.__("Multiple Access Levels..."))),r&&o.default.createElement(v,t))}function u(e){const{_bem:t,children:a,classes:r,accessLevel:n,isSelected:o,multiple:l=false,preview:d=false,resetPassword:c=false}=e;const u=n&&o(n);const f=t("item",{"^checked":u},r);let p;if(l){p="multiple"}else if(d){p="preview"}else if(c){p="resetPassword"}else if(n){p=n.id||"no_access"}return(0,i.default)("ba-option",{"action-only":!n||undefined,"data-access-level-selector-id":p,value:p},void 0,(0,i.default)("div",{className:f},void 0,u&&(0,i.default)("span",{className:t("ico","checked")},void 0,(0,i.default)(s.Icon,{name:"fab-check-14x14"})),a))}function f({children:e,label:t,anchor:a}){return(0,i.default)("ba-option-group",{anchor:a,label:t},void 0,e)}function p(e){const{accessLevel:t,isOption:a}=e;const{label:r,count:n}=t;return o.default.createElement(u,e,r,"",(0,i.default)("span",{className:"ba-Dropdown__optionDescriptorText"},void 0,"(",n,")"))}function m(e){const{levelType:t}=e;let{levels:a,label:r}=t;if(!(Array.isArray(a)&&a.length>0)){a=[t];r=null}if(Array.isArray(a)){return o.default.createElement(f,(0,n.default)({},e,{label:r}),a.map((t=>o.default.createElement(p,(0,n.default)({},e,{key:t.id||t.name,accessLevel:t})))))}return o.default.createElement(p,(0,n.default)({},e,{accessLevel:t}))}function h(e){const{_bem:t,canPreview:a,isExcluded:r,hasEmail:s,firstName:l}=e;const d=a===true&&!r("preview");const c=s&&!r("resetPassword");if(!d&&!c){return null}return o.default.createElement(f,(0,n.default)({anchor:"top"},e),d&&o.default.createElement(u,(0,n.default)({},e,{classes:"js-previewAs",preview:true}),(0,i.default)("span",{className:t("ico","preview")},void 0,(0,i.default)("ba-icon",{name:"fab-eye-16x12"})),$.__("Preview BambooHR as %1",l)),c&&window.SESSION_COMPANY.allowPasswordLogin===true&&o.default.createElement(u,(0,n.default)({},e,{classes:"js-resetPassword",resetPassword:true}),$.__(`Reset User's Password`)))}function v({accessLevelIds:e,inputFieldName:t,noAccessFieldName:a,noAccessValue:r}){return(0,i.default)(o.Fragment,{},void 0,e.map((e=>(0,i.default)("input",{name:t,type:"hidden",value:e},e))),(0,i.default)("input",{name:a,type:"hidden",value:r}))}},552612:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.downList=t.wrapper=t.inputWrapper=t.emailModal=void 0;var n=r(a(368652));var i=r(a(573674));var o=a(837803);var s=r(a(596247));var l=r(a(181779));var d=r(a(888674));var c=r(a(587451));var u=r(a(365230));const f=e=>microTemplate(l.default,e);t.emailModal=f;const p=e=>microTemplate(d.default,e);t.inputWrapper=p;const m=new s.default("AccessLevelSelector",null,{menu:()=>["dropdown-menu"],btn:({isButton:e,icon:t})=>["btn",{btnSmall:e,btnIcon:e&&t!=="none"}],label:({isOption:e})=>["js-AccessLevelSelector__label",{"fab-MenuOption__note":e}],"down-list":()=>["js-AccessLevelSelector__down-list","down-list"],inputWrapper:()=>["js-AccessLevelSelector__inputWrapper"],item:()=>["branded-border-before"]});function h(e,t){const{fieldType:a}=t;const r=(e,r,n)=>new s.default(m,a,n).className(e,r,t);return(0,o.renderToStaticMarkup)(i.default.createElement(e,(0,n.default)({_bem:r},t)))}const v=e=>h(c.default,e);t.wrapper=v;const g=e=>h(u.default,e);t.downList=g},587451:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=o;var n=r(a(856075));var i=r(a(573674));function o({_bem:e,icon:t,isButton:a,isDropdown:r,isOption:i,isInput:o,$elem:s}){if(i){return(0,n.default)("ba-option",{},void 0,$.__("BambooHR Access Level"),(0,n.default)("div",{className:e("label")}),(0,n.default)("ba-option-group",{class:e("down-list")}),(0,n.default)("div",{className:e("inputWrapper"),style:{display:"none !important"}}))}let l;let d;if(s&&s[0]){if(s[0].hasAttribute("width")){l=parseInt(s.attr("width"))}if(s[0].hasAttribute("name")){d=s.attr("name")}}if(a){return(0,n.default)("ba-dropdown",{"button-icon":t,"button-outline":true,"button-secondary":true,"button-size":"teenie",class:e("^"),width:l})}if(o){return(0,n.default)("ba-select",{"button-width":7,name:d,"not-clearable":true,width:l})}return(0,n.default)("div",{className:e("^")},void 0,(0,n.default)("div",{className:e("menu")},void 0,(0,n.default)("div",{className:e("btn")},void 0,r&&(0,n.default)("a",{},void 0,$.__("BambooHR Access Level"),(0,n.default)("br",{}),(0,n.default)("i",{className:e("label")}))),(0,n.default)("ul",{className:e("down-list"),style:{display:"none"}})),(0,n.default)("div",{className:e("inputWrapper"),style:{display:"none !important"}}))}},410365:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"PayrollAdmin",{enumerable:true,get:function(){return n.default}});var n=r(a(401168))},401168:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"showSettingsModal",{enumerable:true,get:function(){return n.default}});t.default=void 0;var n=r(a(78630));var i={showSettingsModal:n.default};t.default=i},923709:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=d;var n=r(a(856075));var i=l(a(573674));var o=a(651745);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function d({employeeAccessLevels:e=[],employeeAccessLevel:t,onChange:a}){const[r,s]=(0,i.useState)(t);return(0,n.default)(o.Select,{id:"AccessLevelsSettingsModal__employeeAccessLevel",isClearable:false,items:e,onChange:([e])=>{s(e);if(typeof a==="function"){a(e)}},selectedValues:[r],width:7})}},78630:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=u;var n=r(a(856075));var i=d(a(573674));var o=r(a(417842));var s=r(a(933521));function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const c="/access_levels/payroll-admin/edit";function u(e){let t=$.__("Payroll Admin Settings");let a=$.__("Save");const r=new URL(c,window.location.href);const i={};if(e){t=$.__("Payroll Admin Employee Access Level");if(typeof e==="object"){const{firstName:t,employeeId:n,userId:i}=e;a=$.__("Save & Add %1$s",t);r.searchParams.append("user[firstName]",t);r.searchParams.append("user[employeeId]",n);r.searchParams.append("user[userId]",i)}else{r.searchParams.append("user","true")}}return new Promise(((e,o)=>{window.BambooHR.Modal.setState({isOpen:true,title:t,headerType:"text",headline:$.__("Payroll Admin"),icon:"fab-lock-16x20",isLoading:true,primaryActionText:a,primaryAction:()=>{if(!i.employeeAccessLevel){window.BambooHR.Modal.setState({isOpen:false});return}f(i).then(e).catch(o)},content:(0,n.default)(s.default,{onEmployeeAccessLevelChange:e=>{i.employeeAccessLevel=e},url:r.href})})}))}function f({employeeAccessLevel:e}){window.BambooHR.Modal.setState({isProcessing:true},true);return o.default.post(c,{employeeAccessLevel:e}).then((({data:t})=>{if(!t.success){throw new Error(t)}if(t.message){window.setMessage(t.message,"success")}window.BambooHR.Modal.setState({isOpen:false});return{...t,employeeAccessLevel:e}})).catch((e=>{window.BambooHR.Modal.setState({isProcessing:false},true);window.setMessage(e.errorMessage||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(e.error||e)}))}},933521:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=c;var n=r(a(856075));var i=d(a(573674));var o=r(a(417842));var s=r(a(923709));function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function c({onEmployeeAccessLevelChange:e,url:t}){const[a,r]=(0,i.useState)(null);const{user:l,employeeAccessLevels:d=[],employeeAccessLevel:c}=a||{};(0,i.useEffect)((()=>{if(a){return r(null)}if(t&&typeof t==="string"){o.default.get(t).then((e=>{r({...e.data,employeeAccessLevels:e.data.employeeAccessLevels.map((({value:e,label:t})=>({text:t,value:e})))})}))}}),[t]);(0,i.useEffect)((()=>{if(a){window.BambooHR.Modal.setState({isLoading:false},true)}}),[a]);return a&&(0,n.default)(i.Fragment,{},void 0,(0,n.default)("fieldset",{className:"fab-FormSection no-margin"},void 0,(0,n.default)("legend",{className:"fab-FormSection__legend no-margin"},void 0,l?(0,n.default)(i.Fragment,{},void 0,l==="true"?(0,n.default)(i.Fragment,{},void 0,$.__(`Hold on!`),"",$.__(`Before you add a Payroll Admin, you need to set a default Employee Access Level that will apply to all Payroll admins.`)):(0,n.default)(i.Fragment,{},void 0,$.__(`Before %1$s can become a Payroll Admin, you need to set a default Employee Access Level for Payroll admins.`,l.firstName)),"",$.__(`You'll only need to do this once, and it can be changed later in Payroll settings.`)):(0,n.default)(i.Fragment,{},void 0,$.__(`Set what Payroll Admins can see about themselves.`)),(0,n.default)("span",{className:"fab-FormSection__legendNote"},void 0,l?(0,n.default)(i.Fragment,{},void 0,$.__(`This determines what information they will be able to see about themselves.`),"",$.__(`If they are also in a Custom Access Level, their permissions will be combined.`)):(0,n.default)(i.Fragment,{},void 0,$.__(`This is done by choosing the Employee Access Level.`),"",$.__(`Note that if they are also in a Custom Access Level, their permissions will be combined.`))))),(0,n.default)("fieldset",{className:"fab-FormSection no-padding"},void 0,(0,n.default)("div",{className:"fab-FormRow no-margin"},void 0,(0,n.default)("div",{className:"fab-FormColumn"},void 0,(0,n.default)("div",{className:"fab-FormColumn"},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"AccessLevelsSettingsModal__employeeAccessLevel"},void 0,$.__(`Which Employee Access Level should Payroll Admins have?`)),(0,n.default)("div",{className:"fab-InputWrapper"},void 0,i.default.createElement(s.default,{onChange:e,employeeAccessLevels:d,employeeAccessLevel:c})))))))}},878851:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AddEmploymentStatusModal=u;var n=r(a(856075));var i=c(a(573674));var o=a(851040);var s=a(52941);var l=a(462796);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function u(e){const{acaStatuses:t,fieldId:a,fieldName:r,onClose:d,onSave:c,showAcaStatus:u}=e;const[f,p]=(0,i.useState)(false);const m=e=>{(0,l.postEmploymentStatus)(a,r,e).then((t=>{p(false);if((0,l.wasSaveSuccessful)(t)){window.setMessage($.__("The Employment Status was added successfully."),"success");c(e.name,t.data.id||t.data.data.id)}else{const e=t.data&&(t.data.message||t.data.error)?t.data.message||t.data.error:"";window.setMessage(e||window.DEFAULT_ERROR_MESSAGE,"error")}})).catch((e=>{window.Rollbar.error("Failed to save employment status",e);p(false)}))};const h=()=>{p(true)};const v=()=>{d()};return(0,n.default)(o.Modal,{isOpen:true,isProcessing:f,onClose:v,primaryAction:h,primaryActionText:$.__("Save"),title:$.__("Add Employment Status")},void 0,(0,n.default)(s.EmploymentStatusModalContent,{acaStatuses:t||[],isProcessing:f,postFormData:m,setIsProcessing:p,showAcaStatus:u}))}},931400:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AddEmploymentStatusModal",{enumerable:true,get:function(){return r.AddEmploymentStatusModal}});var r=a(878851)},462796:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.postEmploymentStatus=o;t.wasSaveSuccessful=s;var n=r(a(417842));var i=a(85656);function o(e,t,a){const r=n.default.prepareData({action:"new-section",ajax:1,field:t,name:a.name,acaStatus:a.acaStatus===""?null:a.acaStatus},n.default.prepareDataTypes.FORM_DATA);const o=(0,i.extendURL)({fieldId:e},"/ajax/list_insert.php");return n.default.post(o,r)}function s(e){const{data:t}=e;if(!t){return false}return t.ret==="SUCCESS"||t.response==="SUCCESS"}},1093:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AddItemModal=f;var n=r(a(856075));var i=u(a(573674));var o=a(851040);var s=a(273641);var l=a(178045);var d=a(945443);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function f(e){const{fieldId:t,isOpen:a,label:r=$.__("Item"),onCancel:c,onSave:u,name:f,url:p="/ajax/list_insert.php"}=e;const m=(0,i.useRef)();const h=(0,s.uniqueId)("add-item");const[v,g]=(0,i.useState)("");const y=async()=>{if(!m.current||!$(m.current).valid()){return}try{const e=await(0,d.addItem)(p,t,f,v);u(v,e);(0,l.showSlidedown)($.__("The %s was added successfully.",r),"success")}catch(e){const t=e.data&&(e.data.message||e.data.error)?e.data.message||e.data.error:$.__("Uh oh. Something went wrong. Please try again.");(0,l.showSlidedown)(t,"error")}};const b=()=>{if(m.current){$(m.current).bhrValidate()}};const w={isOpen:a,onClose:c,onOpen:b,primaryAction:y,primaryActionText:$.__("Save"),title:$.__("Add %s",r)};(0,i.useEffect)((()=>{if(!a){g("")}}),[a]);return i.default.createElement(o.Modal,w,i.default.createElement("form",{className:"BhrForms",ref:m},(0,n.default)("div",{className:"fieldBox required"},void 0,(0,n.default)("label",{className:"fab-Label fab-Label--required",htmlFor:h},void 0,$.__("%s Name",r)),(0,n.default)("input",{className:"fab-TextInput fab-TextInput--width7",id:h,name:f,onChange:e=>g(e.currentTarget.value),required:true,type:"text",value:v}))))}},612069:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AddItemModal=u;var n=r(a(368652));var i=r(a(856075));var o=r(a(573674));var s=a(651745);var l=a(178045);var d=a(273641);var c=a(945443);function u({component:e,endpointUrl:t="/ajax/list_insert.php",field:a,onCancel:r,onSave:u,open:f,title:p}){const{controlled:m,formState:{errors:h},fields:v,handleSubmit:g,reset:y}=(0,s.useForm)([{name:"value"}]);const b=async e=>{try{const{value:r}=e;const n=`field_${a.id}`;const i=await(0,c.addItem)(t,a.id,n,r);u({text:r,value:`${i}`})}catch(e){var r;const t=(0,d.unescape)(e===null||e===void 0?void 0:(r=e.data)===null||r===void 0?void 0:r.message)||$.__("Oops! Something went wrong. Please try again later.");(0,l.showSlidedown)(t,"error")}};const w=()=>{(0,l.showSlidedown)($.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")};const S=e.Constraint.Spacing.LARGE;return(0,i.default)(e,{isOpen:f,onCloseComplete:y,onRequestClose:r},void 0,(0,i.default)(e.Body,{renderFooter:(0,i.default)(e.Footer,{actions:[(0,i.default)(s.Button,{onClick:g(b,w)},"save",$.__("Save")),(0,i.default)(s.TextButton,{onClick:r},"cancel",$.__("Cancel"))]}),renderHeader:(0,i.default)(e.Header,{title:p})},void 0,(0,i.default)(e.Constraint,{spacingOverrides:{bottom:S,top:S}},void 0,m((e=>o.default.createElement(s.TextField,(0,n.default)({},e,{label:a.label,status:h.value?"error":undefined,width:7}))),v.value))))}},49621:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AddItemModal",{enumerable:true,get:function(){return p.AddItemModal}});var n=r(a(856075));var i=r(a(368652));var o=r(a(573674));var s=a(884479);var l=a(830734);var d=a(975558);var c=a(783840);var u=a(1093);var f=a(931400);var p=a(612069);let m=null;function h(e,t={}){const a=a=>(...r)=>{a(...r);h(e,{...t,isOpen:false})};const{isOpen:r=true,onCancel:n,onSave:s}=t;(0,l.render)(o.default.createElement(u.AddItemModal,(0,i.default)({},t,{isOpen:r,onCancel:a(n),onSave:a(s)})),e)}function v(e,t){const{fieldId:a,fieldName:r,onCancel:i,onSave:o,settings:s}=t;const l=e=>(...t)=>{e(...t);(0,d.closeModal)()};if(e==="employmentStatus"){let e=false;let t=[];if(s){e=Boolean(s.showAcaStatus);t=s.acaStatuses}else{const a=(0,c.getJsonData)("#js-employmentStatusModalData",true);if(a){e=Boolean(a.showAcaStatus);t=a.acaStatuses}}(0,d.showModal)((0,n.default)(f.AddEmploymentStatusModal,{acaStatuses:t,fieldId:a,fieldName:r,onClose:l(i),onSave:l(o),showAcaStatus:e}))}}$(document).on("ba:selectAddItem",(e=>{const{originalEvent:t,target:a}=e;const{detail:r}=t;const n=$(a);const i=n.attr("data-add-item-field-id");const o=n.attr("data-add-item-label");const l=n.attr("data-skip-default-modal");const d=n.attr("name")||n.attr("data-name");if(t.defaultPrevented||!i||l){const e=(0,s.createLogger)("AddItem.mod");if(!i){e.warn('`<ba-select>` is missing the required "data-add-item-field-id" attribute. Prevent default on "ba:selectAddItem" to remove this warning.')}if(!d){e.warn('`<ba-select>` is missing a required value in the "name" attribute.')}return}const c=n.attr("data-custom-modal-key");if(c){const e={fieldId:i,label:o,onCancel:()=>r.reject(),onSave:(e,t)=>{r.resolve([{selected:true,text:e,value:t}])},fieldName:d,settings:r.settings};v(c,e);return}if(!m||!m.length){m=$("<div>").appendTo(document.body)}const u={fieldId:i,label:o,onCancel:()=>r.reject(),onSave:(e,t)=>{r.resolve([{selected:true,text:e,value:t}])},name:d,url:n.attr("data-add-item-url")};h(m[0],u)}))},945443:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.addItem=o;var n=r(a(417842));var i=a(85656);function o(e,t,a,r){const o=n.default.prepareData({action:"new-section",ajax:1,field:a,name:r},n.default.prepareDataTypes.FORM_DATA);e=(0,i.extendURL)({fieldId:t},e);return n.default.post(e,o).then(((e={})=>{const{data:t}=e;return t.ret==="SUCCESS"||t.response==="SUCCESS"?t.id||t.data.id:Promise.reject({data:t})}))}},17852:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ConfirmDeleteModal=c;var n=r(a(856075));var i=r(a(573674));var o=a(558358);var s=r(a(528445));var l=a(851040);var d=a(479706);a(888963);function c(e){const{id:t,message:a,title:r,onClose:c,visible:p,onDelete:m,primaryActionText:h,secondaryActionText:v}=e;if((0,d.isEnabled)("jade")){return i.default.createElement(l.Modal,f(p,c,t,m,r,a,h,v))}return i.default.createElement(o.Modal,u(p,c,t,m,r),(0,n.default)("div",{className:"ConfirmDeleteModal"},void 0,(0,n.default)(s.default,{className:"ConfirmDeleteModal__icon",name:"triangle-exclamation-12x11"}),(0,n.default)("span",{},void 0,a)))}function u(e,t,a,r,n){return{visible:e,onClose:t,options:{title:n,footer:{buttons:{primary:{text:$.__("Yes"),action:()=>r(a)}}}}}}function f(e,t,a,r,n,i,o,s){return{alternativeAction:null,headline:i,icon:"fab-trash-can-43x48",iconColor:"danger",isOpen:e,onClose:t,primaryAction:()=>r(a),secondaryAction:t,primaryActionText:o,secondaryActionText:s,title:n}}},7538:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ConfirmDeleteModal",{enumerable:true,get:function(){return r.ConfirmDeleteModal}});var r=a(17852)},436790:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Agreement=o;var n=r(a(856075));var i=r(a(573674));a(798452);function o(e){const{isAccepted:t,onChange:a}=e;return(0,n.default)("div",{className:"DataProcessingAgreeementAgreement"},void 0,(0,n.default)("label",{className:"fab-Checkbox"},void 0,(0,n.default)("input",{checked:t,className:"fab-Checkbox__input",onChange:e=>a(e.target.checked),type:"checkbox"}),(0,n.default)("span",{className:"fab-Checkbox__label"},void 0,$.__("I agree to the Data Processing Agreement"))),(0,n.default)("div",{className:"DataProcessingAgreeementAgreement__summary"},void 0,(0,n.default)("p",{},void 0,$.__(`By accepting the Data Processing Agreement (DPA), I confirm that I am duly authorized to represent my company and accept the DPA on its behalf and that my company has employees in the European Union, EEA, the United Kingdom or Switzerland.`),"",(0,n.default)("a",{className:"DataProcessingAgreeementAgreement__link",href:"https://www.bamboohr.com/data-processing-agreement/",rel:"noopener noreferrer",target:"_blank"},void 0,$.__("Read Full DPA")))))}},646580:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Agreement",{enumerable:true,get:function(){return r.Agreement}});var r=a(436790)},293467:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ConditionalAgreement=u;var n=r(a(856075));var i=r(a(573674));var o=a(646580);var s=a(753134);a(596839);var l=a(121198);var d=a(945632);const c=new l.BEM("DataProcessingAgreementConditionalAgreement");function u(e){const{hasEmployees:t,isAccepted:a,onHasEmployeesChange:r,onIsAcceptedChange:i}=e;const l=e=>{r(e.target.value!=="no")};return(0,n.default)("div",{className:c.elem()},void 0,(0,n.default)(s.Message,{text:$.__("Does your company have employees in the **European Union**, **EEA**, the **United Kingdom** or **Switzerland**?")}),(0,n.default)("fieldset",{className:`${c.elem("answers")} fab-RadioGroup`},void 0,(0,n.default)("label",{className:"fab-Radio"},void 0,(0,n.default)("input",{checked:!t,className:"fab-Radio__input",name:"hasEmployees",onChange:l,type:"radio",value:"no"}),(0,n.default)("span",{className:"fab-Radio__label"},void 0,$.__(`No, we don't`))),(0,n.default)("label",{className:"fab-Radio"},void 0,(0,n.default)("input",{checked:t,className:"fab-Radio__input",name:"hasEmployees",onChange:l,type:"radio",value:"yes"}),(0,n.default)("span",{className:"fab-Radio__label"},void 0,$.__(`Yes, we do`)))),(0,n.default)(d.SlideTransition,{isOpen:t},void 0,(0,n.default)("div",{className:c.elem("agreement")},void 0,(0,n.default)("p",{className:c.elem("requiredMessage")},void 0,$.__(`In order to use BambooHR, youll need to agree to the following.`)),(0,n.default)(o.Agreement,{isAccepted:a,onChange:i}))))}},694486:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ConditionalAgreement",{enumerable:true,get:function(){return r.ConditionalAgreement}});var r=a(293467)},607991:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ConditionalHeadline=c;var n=r(a(856075));var i=r(a(573674));var o=a(753134);var s=a(969525);var l=a(372285);var d=a(823960);function c(){return(0,n.default)(l.Headline,{icon:d.DPA_HEADLINE_ICON},void 0,(0,n.default)(o.Message,{text:s.MODAL_HEADLINE_CONTENT}))}},553056:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.ConditionalDpaModal=h;var n=r(a(856075));var i=m(a(573674));var o=a(851040);var s=a(178045);var l=a(607991);var d=a(694486);var c=a(969525);var u=a(823960);var f=a(525353);function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=p(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function h(e){const{agreement:t={},hasCloseButton:a=false,hasCompleteLaterButton:r=true,isOpen:p,onClose:m}=e;const[h,v]=(0,i.useState)(false);const[g,y]=(0,i.useState)(false);const[b,w]=(0,i.useState)(false);const S=!h||g;const O=async()=>{w(true);try{if(g){await(0,f.acceptDataProcessingAgreement)(t.id)}else{await(0,f.declineDataProcessingAgreement)(t.id)}w(false);(0,s.showSlidedown)(g?c.ACCEPTED_SUCCESS_MESSAGE:c.DECLINED_SUCCESS_MESSAGE,"success");m()}catch(e){w(false);(0,s.showSlidedown)($.__(`Oops. Something went wrong. Please try again.`),"error")}};const T=async()=>{w(true);try{await(0,f.completeDataProcessingAgreementLater)(t.id);(0,s.showSlidedown)(u.COMPLETE_LATER_SUCCESS_MESSAGE,"success");w(false);m()}catch(e){w(false);(0,s.showSlidedown)($.__(`Oops. Something went wrong. Please try again.`),"error")}};return(0,n.default)(o.Modal,{alternativeAction:null,contentHasMaxHeight:false,hasCloseButton:a,isOpen:p,isProcessing:b,onClose:m,primaryAction:S?O:null,primaryActionText:$.__("Done"),secondaryAction:r?T:undefined,secondaryActionText:r?$.__("Complete Later"):undefined,title:c.MODAL_TITLE},void 0,(0,n.default)(l.ConditionalHeadline,{}),(0,n.default)(d.ConditionalAgreement,{hasEmployees:h,isAccepted:g,onHasEmployeesChange:v,onIsAcceptedChange:y}))}},969525:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.MODAL_TITLE=t.MODAL_HEADLINE_CONTENT=t.DECLINED_SUCCESS_MESSAGE=t.ACCEPTED_SUCCESS_MESSAGE=void 0;const r=$.__(`Got it! Thank you for accepting our Data Processing Agreement.`);t.ACCEPTED_SUCCESS_MESSAGE=r;const n=$.__(`Got it! Thank you for responding to our Data Processing Agreement question.`);t.DECLINED_SUCCESS_MESSAGE=n;const i=$.__(`If you have employees in certain countries,\n you'll need to agree to something called a Data\n Processing Agreement.`);t.MODAL_HEADLINE_CONTENT=i;const o=$.__("GDPR Compliance");t.MODAL_TITLE=o},439380:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ConditionalAgreement",{enumerable:true,get:function(){return r.ConditionalAgreement}});Object.defineProperty(t,"ConditionalDpaModal",{enumerable:true,get:function(){return n.ConditionalDpaModal}});Object.defineProperty(t,"ConditionalHeadline",{enumerable:true,get:function(){return i.ConditionalHeadline}});var r=a(694486);var n=a(553056);var i=a(607991)},337307:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Headline=l;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));var s=a(651745);a(38594);function l(e){const{hasSeparator:t=true,icon:a,children:r}=e;return(0,n.default)("div",{className:(0,o.default)("DataProcessingAgreementModalHeadline",{"DataProcessingAgreementModalHeadline--hasSeparator":t})},void 0,(0,n.default)(s.Icon,{brand:true,name:a}),r?(0,n.default)("h3",{},void 0,r):null)}},372285:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Headline",{enumerable:true,get:function(){return r.Headline}});var r=a(337307)},364981:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ConditionalAgreement",{enumerable:true,get:function(){return r.ConditionalAgreement}});Object.defineProperty(t,"ConditionalDpaModal",{enumerable:true,get:function(){return r.ConditionalDpaModal}});Object.defineProperty(t,"ConditionalHeadline",{enumerable:true,get:function(){return r.ConditionalHeadline}});Object.defineProperty(t,"RequestedDpaModal",{enumerable:true,get:function(){return n.RequestedDpaModal}});Object.defineProperty(t,"UpdatedDPAModal",{enumerable:true,get:function(){return i.UpdatedDPAModal}});var r=a(439380);var n=a(59545);var i=a(287057)},59545:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.RequestedDpaModal=h;var n=r(a(856075));var i=m(a(573674));var o=a(851040);var s=a(178045);var l=a(753134);var d=a(646580);var c=a(372285);var u=a(823960);var f=a(525353);function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=p(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function h(e){const{agreement:t,isOpen:a,onClose:r=(()=>{})}=e;const[p,m]=(0,i.useState)(false);const h=async()=>{try{await(0,f.acceptDataProcessingAgreement)(t.id);r();(0,s.showSlidedown)($.__("Another win! Thanks for accepting our Data Processing Agreement."),"success")}catch(e){console.error(e);(0,s.showSlidedown)($.__("Huh? Something went wrong while accepting the Data Processing Agreement. Please contact support."),"error")}};return(0,n.default)(o.Modal,{alternativeAction:null,hasCloseButton:false,isOpen:a,primaryAction:p?h:null,primaryActionText:$.__("Save")},void 0,(0,n.default)(c.Headline,{icon:u.DPA_HEADLINE_ICON},void 0,(0,n.default)(l.Message,{text:$.__("Someone At Your Company Requested Our\n Data Processing Agreement.")})),(0,n.default)("div",{style:{marginTop:"24px"}},void 0,(0,n.default)(d.Agreement,{isAccepted:p,onChange:e=>m(e)})))}},287057:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"UpdatedDPAModal",{enumerable:true,get:function(){return r.UpdatedDPAModal}});var r=a(757073)},757073:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.UpdatedDPAModal=h;var n=r(a(856075));var i=f(a(573674));var o=a(651745);var s=a(288015);var l=r(a(417842));var d=a(525353);var c=a(178045);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const p=(0,o.makeStyles)((e=>({checkboxLine:{display:"flex",alignItems:"center",marginTop:e.spacing(3),marginBottom:e.spacing(1)},label:{color:e.palette.grey[800]},icon:{width:50,height:54},link:{marginLeft:e.spacing(1)},confirmationdetails:{fontSize:e.typography.fabricFontSize("small"),color:e.palette.grey[800],paddingBottom:e.spacing(1.5)}})));const m=$.__("Based on a recent changes in the E.U. courts, we have updated our Data Processing Agreement. For companies with employees in certain countries, we recommend agreeing to our updated version.");function h({agreement:e,isOpen:t,onClose:a=(()=>{})}){const[r,u]=(0,i.useState)("");const[f,h]=(0,i.useState)(false);const[v,g]=(0,i.useState)(true);const y=p();(0,i.useEffect)((()=>{if(t){l.default.get("/data_processing_agreement_message").then((e=>{u(e.data.message||m)})).catch((e=>{console.error(e)})).finally((()=>{g(false)}))}}),[t]);const b=async()=>{if(f){try{await(0,d.acceptDataProcessingAgreement)(e.id);a();(0,c.showSlidedown)($.__("Another win! Thanks for accepting our Data Processing Agreement."),"success")}catch(e){console.error(e);(0,c.showSlidedown)($.__("Huh? Something went wrong while accepting the Data Processing Agreement. Please contact support."),"error")}}};const w=async()=>{try{await(0,d.postponeUpdateDataProcessingAgreement)(e.id)}catch(e){console.error(e)}a()};return(0,n.default)(o.StandardModal,{isOpen:t,onRequestClose:w},void 0,v?(0,n.default)(o.Loader,{}):(0,n.default)(o.StandardModal.Body,{renderFooter:(0,n.default)(o.StandardModal.Footer,{actions:[(0,n.default)(o.Button,{disabled:!f,onClick:b,type:"button"},"close-preview",$.__("Save")),(0,n.default)(o.TextButton,{onClick:w,type:"button"},"cancel-preview",$.__("Cancel"))]}),renderHeader:(0,n.default)(o.StandardModal.Header,{title:$.__("Updated Data Processing Agreement")})},void 0,(0,n.default)(o.StandardModal.Constraint,{spacingOverrides:{top:o.CardContentSpacing.LARGE}},void 0,(0,n.default)(o.StandardModal.HeroHeadline,{hasSeparator:true,icon:(0,n.default)(s.Megaphone26x28,{className:y.icon}),subtext:r,text:$.__("Hear Ye, Hear Ye!")}),(0,n.default)("div",{},void 0,(0,n.default)("div",{className:y.checkboxLine},void 0,(0,n.default)(o.Checkbox,{checked:f,classes:{labelContent:y.label},label:$.__("I agree to the Data Processing Agreement."),onChange:(e,t)=>{h(t.target.checked)}}),(0,n.default)(o.TextButton,{className:y.link,href:"https://www.bamboohr.com/data-processing-agreement/",target:"_blank"},void 0,$.__("Read full DPA"))),(0,n.default)("p",{className:y.confirmationdetails},void 0,$.__("By accepting the Data Processing Agreement (DPA), I confirm that I am duly authorized to represent my company and accept the DPA on its behalf and that my company has employees in the European Union, EEA, the United Kingdom or Switzerland."))))))}},823960:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.DPA_UPDATE_POSTPONED_ON=t.IS_ADMIN=t.DpaStatus=t.DPA_HEADLINE_ICON=t.COMPLETE_LATER_SUCCESS_MESSAGE=void 0;var r;const n=$.__(`Sounds Good! We'll ask again in a week.`);t.COMPLETE_LATER_SUCCESS_MESSAGE=n;const i="fab-eu-globe-58x58";t.DPA_HEADLINE_ICON=i;const o=Object.seal({COMPLETE_LATER:"complete_later",DECLINED:"declined",NEEDS_PROMPT:"needs_prompt",NEEDS_TO_SIGN:"needs_to_sign",SIGNED:"signed",UPDATE_PENDING:"update_pending"});t.DpaStatus=o;const s=!!((r=window.SESSION_USER)!==null&&r!==void 0&&r.isAdmin);t.IS_ADMIN=s;const l="dpa_update_postponed_on";t.DPA_UPDATE_POSTPONED_ON=l},24744:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ConditionalAgreement",{enumerable:true,get:function(){return r.ConditionalAgreement}});Object.defineProperty(t,"ConditionalHeadline",{enumerable:true,get:function(){return r.ConditionalHeadline}});Object.defineProperty(t,"ConditionalDpaModal",{enumerable:true,get:function(){return r.ConditionalDpaModal}});Object.defineProperty(t,"RequestedDpaModal",{enumerable:true,get:function(){return r.RequestedDpaModal}});Object.defineProperty(t,"UpdatedDPAModal",{enumerable:true,get:function(){return r.UpdatedDPAModal}});Object.defineProperty(t,"DpaStatus",{enumerable:true,get:function(){return n.DpaStatus}});Object.defineProperty(t,"DPA_UPDATE_POSTPONED_ON",{enumerable:true,get:function(){return n.DPA_UPDATE_POSTPONED_ON}});Object.defineProperty(t,"acceptDataProcessingAgreement",{enumerable:true,get:function(){return i.acceptDataProcessingAgreement}});Object.defineProperty(t,"completeDataProcessingAgreementLater",{enumerable:true,get:function(){return i.completeDataProcessingAgreementLater}});Object.defineProperty(t,"declineDataProcessingAgreement",{enumerable:true,get:function(){return i.declineDataProcessingAgreement}});Object.defineProperty(t,"getLatestDataProcessingAgreement",{enumerable:true,get:function(){return i.getLatestDataProcessingAgreement}});Object.defineProperty(t,"useCurrentDpa",{enumerable:true,get:function(){return o.useCurrentDpa}});var r=a(364981);var n=a(823960);var i=a(525353);var o=a(304563)},525353:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.acceptDataProcessingAgreement=s;t.completeDataProcessingAgreementLater=l;t.declineDataProcessingAgreement=d;t.getLatestDataProcessingAgreement=c;t.getDataProcessingAgreements=u;t.updateDataProcessingAgreement=f;t.postponeUpdateDataProcessingAgreement=p;var n=r(a(417842));var i=a(850463);var o=a(823960);function s(e,t){return f(e,{status:o.DpaStatus.SIGNED},t)}function l(e,t){return f(e,{status:o.DpaStatus.COMPLETE_LATER},t)}function d(e,t){return f(e,{status:o.DpaStatus.DECLINED},t)}function c(){return u().then(((e=[])=>e[0]))}function u(){return n.default.get("/data_processing_agreements",{latest:true}).then((({data:e=[]}={})=>e))}function f(e,t,{setSessionMessage:a=false}={}){return n.default.put(`/data_processing_agreements/${e}?setSessionMessage=${a?"true":"false"}`,t)}function p(e,t){localStorage.setItem(o.DPA_UPDATE_POSTPONED_ON,i.DateTime.local().toISO());return f(e,{status:o.DpaStatus.UPDATE_PENDING},t)}},304563:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useCurrentDpa=o;var r=a(573674);var n=a(823960);var i=a(525353);function o(){const[e,t]=(0,r.useState)();const a=async()=>{try{const e=await(0,i.getLatestDataProcessingAgreement)();if(!e){return}t(e);return e}catch(e){console.error("Failed to get the DPA agreement!")}};(0,r.useEffect)((()=>{if(n.IS_ADMIN){a()}}),[]);return{currentDpa:e,refresh:a}}},286110:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EEO1CategoriesModal=p;var n=r(a(368652));var i=r(a(856075));var o=f(a(573674));var s=a(851040);var l=a(319263);var d=a(118679);var c=a(242460);a(83826);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function p(e){const{canAutoOpen:t=true,data:a,isOpen:r,isSettingsPage:c,onClose:u,onCloseAfterSave:f}=e;if(!a){return null}const[p,h]=(0,o.useState)(a);const{categories:v,jobTitles:b,settingsPageId:w}=p;const[S,O]=(0,o.useState)(g(v));const[C,P]=(0,o.useState)(false);const[E,M]=(0,o.useState)(false);(0,o.useEffect)((()=>{if(t){M(m(b,C,P))}}),[]);(0,o.useEffect)((()=>{if(r){M(r)}}),[r]);const x=(0,i.default)(o.Fragment,{},void 0,(0,i.default)(d.EEO1Header,{isSettingsPage:c,settingsPageId:w}),(0,i.default)("div",{className:"EEO1CategoriesModal__body"},void 0,v.allIds.map((e=>o.default.createElement(l.EEO1Category,(0,n.default)({key:e,jobTitles:b,onChange:t=>T(t,e,p,h,O)},v.byId[e]))))));return o.default.createElement(s.Modal,y(C,P,E,M,u,S,b,(()=>h(a)),f),x)}function m(e,t,a){const r=h(e);if(!t&&r){a(true)}return r}function h(e){return e.allIds.every((t=>!e.byId[t]||!e.byId[t].selected))}function v(e){return e.allIds.some((t=>!e.byId[t]||!e.byId[t].selected))}function g(e){const t={};e.allIds.forEach((a=>{t[a]={categoryId:e.byId[a].id,jobTitleIds:e.byId[a].jobTitleIds}}));return t}function y(e,t,a,r,n,i,o,s,l){const d=C(t,r,n,s);const c=P(i,o,(()=>{r(false);n(false);if(e){t(false)}if(l){l()}}));const u=$.__("Set up EEO-1 Categories");return{contentHasMaxHeight:false,contentHasPadding:false,isOpen:a,onClose:d,primaryAction:c,title:u}}function b(e,t,a){const r=t;if(!a){const t=r.categories.byId[e];t.jobTitleIds.forEach((e=>{r.jobTitles.byId[e].selected=false}));t.jobTitleIds=[];return r}r.jobTitles.allIds.forEach((t=>{const n=r.categories.byId[e];const i=r.jobTitles.byId[t];if(a&&a.value===i.id){const e=!i.selected;i.selected=e;if(e){n.jobTitleIds.push(a.value)}else{n.jobTitleIds=n.jobTitleIds.filter((e=>e!==a.value))}}}));return r}function w(e){if(e===1){return $.__("1 job title still needs an EEO category.")}return $.__("%1 job titles still need EEO categories.",e,{note:'The "%1" placeholder is the number of job titles.'})}function S(e){return e.allIds.filter((t=>!e.byId[t]||!e.byId[t].selected)).length}function O(e){const t=S(e);if(v(e)){window.setMessage(`\n\t\t\t\t${$.__("EEO Categories assigned but jobs left behind:")}\n\t\t\t\t${w(t)}\n\t\t\t`,"error")}else{window.setMessage($.__("EEO Categories Assigned"),"success")}}function T(e,t,a,r,n){const i=b(t,a,e);const o=g(i.categories);r(i);n(o)}function C(e,t,a,r){return()=>{e(false);t(false);a(false);r()}}function P(e,t,a){return()=>E(e,t,a)}function E(e,t,a){const r={categories:e};return(0,c.submitCategories)(r).then((()=>{a();O(t)}),(e=>{window.setMessage(e,"info");console.error(e);return Promise.reject("Failed to submit")}))}},242460:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.submitCategories=i;var n=r(a(417842));function i(e){return n.default.post("/reports/eeo_category_mapping/save",e)}},847063:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EEO1Category=l;var n=r(a(856075));var i=r(a(573674));var o=r(a(8460));var s=a(749056);a(355508);function l(e){const{category:t,description:a,example:r,jobTitleIds:i,jobTitles:l,onChange:d}=e;return(0,n.default)("div",{className:"EEO1Category"},void 0,(0,n.default)("h3",{className:"EEO1Category__heading"},void 0,t),(0,n.default)("div",{className:"EEO1Category__body"},void 0,(0,n.default)(s.EEO1Description,{description:a,example:r}),(0,n.default)("label",{className:"EEO1Category__label fab-Label",htmlFor:"jobTitles"},void 0,$.__("Select Job Titles")),(0,n.default)(o.default,{className:"EEO1Category__select",data:u(i,l),id:"jobTitles",onChange:d,settings:{multiselect:true},width:"7"})))}function d(e,t){const a=[];e.allIds.filter((r=>{t.forEach((t=>{const n=e.allIds.find((a=>a===r&&e.byId[a].id===t));if(n){a.push(n)}}))}));return a}function c(e){return e.allIds.filter((t=>!e.byId[t].selected))}function u(e,t){const a=d(t,e);const r=c(t);const n=a.map((e=>t.byId[e]));const i=r.map((e=>t.byId[e]));const o=n.concat(i).map((e=>({displayText:e.name,value:e.id,selected:e.selected||false})));return{items:o,placeholder:"--Select--"}}},319263:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EEO1Category",{enumerable:true,get:function(){return r.EEO1Category}});var r=a(847063)},884286:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EEO1Description=u;var n=r(a(856075));var i=c(a(573674));var o=r(a(60042));var s=a(651745);var l=a(753134);a(508788);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function u(e){const{description:t,example:a}=e;const[r,d]=(0,i.useState)(false);return(0,n.default)("div",{className:"EEO1Description"},void 0,(0,n.default)("button",{className:"EEO1Description__toggle fab-TextButton fab-link",onClick:()=>f(r,d),type:"button"},void 0,(0,n.default)("span",{className:(0,o.default)("EEO1Description__caret",{"EEO1Description__caret--isRotatedDown":r})},void 0,(0,n.default)(s.Icon,{name:"fab-caret-right-5x9"})),$.__("Description and examples")),(0,n.default)("div",{className:(0,o.default)("EEO1Description__body",{"EEO1Description__body--isVisible":r})},void 0,(0,n.default)("p",{className:"EEO1Description__paragraph"},void 0,t),(0,n.default)("p",{className:"EEO1Description__paragraph"},void 0,(0,n.default)(l.Message,{strong:{tag:"strong"},text:$._("**Includes:**")}),"",a)))}function f(e,t){return t(!e)}},749056:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EEO1Description",{enumerable:true,get:function(){return r.EEO1Description}});var r=a(884286)},235675:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EEO1Header=s;var n=r(a(856075));var i=r(a(573674));var o=a(753134);a(429908);function s(e){const{isSettingsPage:t,settingsPageId:a}=e;return(0,n.default)("header",{className:"EEO1Header"},void 0,(0,n.default)("h4",{},void 0,$.__("Categorize Your Job Titles")),(0,n.default)("p",{},void 0,l(t,a)))}function l(e,t){if(e){return $.__("To give you the data you need, we need to know the right EEO categories for your job titles.")}return(0,n.default)(o.Message,{link:(0,o.ExternalLink)(`/settings/list.php?id=${t}`),text:$.__("To give you the data you need in this report, we need to know the right EEO categories for your job titles. If necessary, you can edit your job titles in [settings].")})}},118679:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EEO1Header",{enumerable:true,get:function(){return r.EEO1Header}});var r=a(235675)},789723:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EEO1CategoriesModal",{enumerable:true,get:function(){return r.EEO1CategoriesModal}});var r=a(286110)},783182:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EEO1CategoriesModal",{enumerable:true,get:function(){return r.EEO1CategoriesModal}});var r=a(789723)},525447:(e,t,a)=>{"use strict";var $=a(992005);var r=a(479706);a(255181);$((function(){const e=(0,r.isEnabled)("jade");const t=$("form#edit_form.js-email-alerts");if(t.length){window.filterSettings={postFunc:window.setHiddenVar,listOnly:true,updateLink:false};const t=$(".input-list").autoInputList({autocompleteUrl:"/ajax/quicksearch.php",description:$.__("Name, Department, Location, or Email..."),extraParams:{l:1,active:1},formatAutoItem([e,t,a]){return`\n\t\t\t\t\t<span class="qs_status icon ${a}"></span>\n\t\t\t\t\t<span class="qs_status ${a}">\n\t\t\t\t\t\t${e}\n\t\t\t\t\t</span>\n\t\t\t\t`},startingItems:window.startingItems,formatTagItem(t,a){if(a){if(typeof a==="string"){a=a.split("|")}const[t,r,n]=a;$(`\n\t\t\t\t\t\t<span class="item">\n\t\t\t\t\t\t\t${t}\n\t\t\t\t\t\t\t<input type="hidden" name="ids[]" value="${r}" />\n\t\t\t\t\t\t\t${e?`\n\t\t\t\t\t\t\t\t<ba-icon class="remove" name="fab-x-8x8"></ba-icon>\n\t\t\t\t\t\t\t`:`\n\t\t\t\t\t\t\t\t<a class="remove" href="javascript:void(0)"></a>\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t`).insertBefore(".input-list span.input");$(".free").val("");$("#input-list-check").prop("checked",true);$(".item .remove").live("click",(function(){$(this).closest("span.item").remove();return false}))}}});if($("#input-list-check").is(":checked")){t.activate()}$("#input-list-check").change((function(){const e=$(this);if(e.is(":checked")){t.activate()}else{t.deactivate()}}));const a=$(".timepicker");a.timepicker({step:60,useSelect:true});a.on("timeFormatError",(function(){setMessage($.__("Please enter a valid time of day, of the form 12:00am, or select a time from the dropdown."),"error");$(this).val("12:00am")}));$("#edit_form input:first").focus();window.updateFilter();$("a.bicon-remove").live("click",(function(){$(this).parents(".reminder-row:first").remove()}));window.addReminder=function(){$(".reminder-row:first").clone().show().find(".chzn-container").remove().end().append('<a class="bicon-remove" title="remove" href="javascript:void(0)"></a>').find("input").val("").end().find("select").each((function(e,t){t.selectedIndex=0})).end().insertAfter(".reminder-row:last").find("select").removeClass("chzn-done").removeAttr("id").show().chosen(bhrChosenOptions)}}}))},963289:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.buildInfoObject=i;t.fileCardConverter=o;var r=a(273641);var n=a(293956);function i(e,t){const{employee_file_data:a,company_file_data:i,esignatures:o,ext:s,img_sizes:l,is_current_signer:d,required:c,workflow_instance_id:u}=e;let f=s;let p;if((0,n.isEsig)(e)){const{can_sign:e,completed:n,has_signed:s,cancelled:l,whose_turn:d,is_current_signer:m}=o;switch(true){case l:f="Request Canceled";break;case a&&a.id&&s:f="Signed";p="signed";break;case i&&i.id&&s:f="Signed";p="signed";break;case o.completed&&!s:f="Signed";p="signed";break;case e:f=c==="yes"?"Sign Now":"Signature Optional";p=c==="yes"?"sign":"optional";break;case s:f="Signed";p="signed";break;case d&&d.length>0:f="Signers Pending";break;case t&&!(0,r.isNil)(m)&&m:f="Chose not to sign";break;case t&&!(0,r.isNil)(m)&&!m:f="No signature needed";break;case!t&&!(0,r.isNil)(u)&&u&&!(0,r.isNil)(m)&&m:f="Signature Optional";p="optional";break;case!t&&!(0,r.isNil)(u)&&u&&!(0,r.isNil)(m)&&!m:f="Signers Pending";break;default:f="Esignature";break}}return p?{className:p,icon:l.small,text:f}:{icon:l.small,text:f}}function o(e,t=false,a=false){const{ext:r,id:o,name:s,scan_info:l,required:d,can_see_file:c,esignatures:u,employee_file_data:f,company_file_data:p,original_file_name:m}=e;const h=d&&d==="yes";const v=(0,n.isDisabled)(e);return{action:v?"":(0,n.getAction)(e,t),classNames:[],data:(0,n.getDataObject)(e),disabled:v,ext:r,fileId:o,info:i(e,a),isSafe:!l,isEsig:(0,n.isEsig)(e),name:s,mode:"display",originalName:m,status:"",required:h||false,theme:"dark"}}},570055:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});var n={performAction:true};t.performAction=y;t.default=void 0;var i=a(273641);var o=a(293956);var s=a(479706);var l=r(a(648020));var d=r(a(590416));var c=a(963289);Object.keys(c).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(n,e))return;if(e in t&&t[e]===c[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return c[e]}})}));const u=(0,s.isEnabled)("jade");const f={fileCardFromElement(e){return O(e.dataset.canSee?"1":"0",e.dataset.ext,e.dataset.fileId,e.dataset.icon,e.id.replace("check",""),e.dataset.name,e.dataset.required,null,e.dataset.originalName,e.dataset.fileDataId)},fileCardFromArray(e){const t=[];e.forEach((e=>{if(e.hasOwnProperty("fileId")){const{canSeeFile:a,ext:r,fileId:n,icon:i,id:o,name:s,required:l,original_file_name:d,fileDataId:c}=e;t.push(O(a,r,n,i,o,s,l,null,d,c))}else{t.push(this.fileCardFromFile(e))}}));return t},fileCardFromFile(e){let t=e.ext;let a="no";let r=null;if((0,o.isEsig)(e)){t=$.__("Esignature");a="yes";r=v(e)}return O(e.can_see_file,t,e.file_id,e.img_sizes.small,`${e.file_id}-${a}-${e.required||"no"}`,e.name,e.required,r,e.original_file_name)},renderFileCards(e,t,a="display",r="dark",n=false){const o=t&&t.length>0;const s=document.querySelector(e);if(o===false){console.warn("No files passed to renderFileCards: exiting function early.");return}if(a!=="display"){t.map((e=>{e.mode=a}))}if(s){t=(0,i.sortBy)(t,[e=>e.name.toLowerCase()]);s.innerHTML=window.microTemplate(l.default,{files:t,jadeEnabled:u,theme:r,newUploadedFiles:n});m()}}};var p=f;t.default=p;function m(){const e=(0,i.toArray)(document.querySelectorAll(".FileCard:not(.FileCard--display)"));const t=(0,i.toArray)(document.querySelectorAll(".FileCard.FileCard--display"));e.forEach((e=>{e.addEventListener("change",b,false);e.addEventListener("click",g,false)}));t.forEach((e=>{e.addEventListener("click",h,false)}))}function h(){y(this.dataset)}function v(e){if(!(0,i.isNull)(document.getElementById("OfferLetter-form"))){if((0,o.waitingOnSig)(e)){return false}if((0,o.isCompleteOrEmployeeComplete)(e)){return true}}}function g(e){if(e.target.classList.contains("js-fc-modal")){w(this,e.target.dataset.isComplete)}else if(e.target.classList.contains("js-fc-close")){const e=new CustomEvent("fileCard:remove",{detail:{fileId:this.dataset.fileId,key:this.dataset.key}});document.dispatchEvent(e);$(this).remove()}}function y(e){let t=null;try{t=JSON.parse(e.actionData)}catch(e){console.error(e)}if(t){switch(e.action){case"companyPreviewFile":window.previewFile(t.companyFileMostRecentId,t.companyFileId,t.companyFileName,false,"div",true);break;case"companyShowFile":window.showFile(t.companyFileMostRecentId,t.companyFileId,t.companyFileName,false,"div",true);break;case"esigOpenModal":window.lazySigs((function(e){e.Signing.openModal(t.esignatureTemplateId,t.esignatureWorkflowId,t.workflowInstanceId,"Esignatures.init(Esignatures.TYPE_SIGNING)",t.name)}));break;case"esigOpenPreviewModeModal":window.lazySigs((function(e){e.Signing.openPreviewModeModal(t.esignatureTemplateId,t.workflowInstanceId,t.name)}));break;case"previewFile":window[e.action](t.mostRecentFileDataId,t.fileId,t.name,false,"div");break;case"previewEmployeeFile":window[e.action](t.employeeFileMostRecentId,t.employeeFileId,t.employeeFileName,"li");break;case"showFile":window[e.action](t.mostRecentFileDataId,t.fileId,t.name,false,"div");break;case"showFileNoAccess":window[e.action](t.name);break;default:break}}}function b(e){if(e.target.classList.contains("js-fc-toggle-required")){const{fileId:t}=e.target.dataset;const a=document.querySelector(`#filesinput-${t}`);const r=e.target.parentNode;const n=e.target.checked?"yes":"no";S(r,e.target.checked);a.value=a.value.replace(/[^-]+$/,n)}}function w(e,t){let a={navHeader:$.__("Are you sure you want to remove this signed document?"),navMessage:$.__("This document is already signed. Removing it will cancel the request and discard the signed document."),actionBtn:$.__("Yes, Remove Document"),cancelBtn:$.__("No, Don't remove it")};if(t==="false"){a={navHeader:$.__("Are you sure you want to cancel this signature request?"),navMessage:$.__("This signature request has been partially completed and is waiting on other signers. Removing it will cancel the request and discard the partially-signed document."),actionBtn:$.__("Yes, Cancel Signature Request"),cancelBtn:$.__("No, Don't Cancel it")}}if(u){window.BambooHR.Modal.setState({header:a.navHeader,dangerousContent:`<p style="text-align: center;">${a.navMessage} </p>`,icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,sheetProps:null,primaryAction:()=>{const t=new CustomEvent("fileCard:remove",{detail:{fileId:e.dataset.fileId,key:e.dataset.key}});document.dispatchEvent(t);$(e).remove();window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:a.actionBtn,alternativeActionText:a.cancelBtn,title:$.__("Just Checking...")})}else{SimpleModal.openModal({classes:"jquery-padding",title:$.__("Just Checking..."),html:window.microTemplate(d.default,{data:a}),footer:{buttons:{primary:{text:a.actionBtn,action(){const t=new CustomEvent("fileCard:remove",{detail:{fileId:e.dataset.fileId}});document.dispatchEvent(t);$(e).remove();SimpleModal.closeModal({type:"fast"})}},cancel:{text:a.cancelBtn}}}})}}function S(e,t){let a=$.__("Click to make the signature required.");let r=$.__("Signature Optional");const n=BambooHR.Components.Tooltip.selectTooltips(e)[0];if(t){r=$.__("Signature Required");a=$.__("Click to make the signature optional.")}if(n.tooltipEl){n.hide();n.tooltipEl.innerHTML=`<p class="lead">${r}</p>${a}`;if(u){n.tooltipEl.innerHTML=`<p class="lead">${r}</p><br />${a}`}}else{n.options.content=a;n.options.lead=r}}function O(e,t,a,r,n,i,o,s=null,l=null,d){return{action:null,classNames:[],data:{canSeeFile:e,isComplete:s},disabled:false,fileId:a,fileDataId:d,id:n,info:{icon:r,text:t},isSafe:true,name:i,originalName:l,status:"",required:o,theme:"dark"}}},857453:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getValidationContext=t.ValidationContext=t.getUsageContext=t.UsageContext=void 0;var r=a(573674);const n=(0,r.createContext)("apply");t.UsageContext=n;const i=()=>(0,r.useContext)(n);t.getUsageContext=i;const o=(0,r.createContext)({});t.ValidationContext=o;const s=()=>(0,r.useContext)(o);t.getValidationContext=s},269796:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.calculateIsRequired=p;Object.defineProperty(t,"CandidateVeteranStatus",{enumerable:true,get:function(){return d.CandidateVeteranStatus}});t.CandidateFieldSection=t.CandidateFieldRow=t.CandidateField=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(72602);var s=a(857453);var l=r(a(668029));var d=a(28381);const c=e=>{const{cqType:t,data:a,label:r,name:i,rules:d,showErrorMessage:c,type:u,typeProps:f={}}=e;const m=(0,s.getUsageContext)();const{errors:h,register:v}=(0,s.getValidationContext)();const g=t?o.customQuestionInputTypes[t]:u;const y=l.default[g];if(y===undefined){return null}const b=p(m,i,a?a.isRequired:false);const w={...d,required:b};if(t){f.cqType=t}return(0,n.default)(y,{data:a?{...a,isRequired:b}:null,errorState:h[i],label:r,name:i,rules:d,showErrorMessage:c,typeProps:f,validationRegistration:d||b?v(w):null})};t.CandidateField=c;const u=e=>{const{shouldShow:t,children:a}=e;if(!t){return null}return(0,n.default)("div",{className:"fab-FormRow CandidateForm__row"},void 0,a)};t.CandidateFieldRow=u;const f=e=>{const{shouldShow:t,children:a}=e;if(!t){return null}return(0,n.default)("fieldset",{className:"fab-FormSection CandidateForm__section"},void 0,a)};t.CandidateFieldSection=f;function p(e,t,a){if(e==="add"||e==="edit"){return t==="firstName"||t==="lastName"}return a}},285264:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Checkbox=void 0;var n=r(a(856075));var i=d(a(573674));var o=r(a(60042));var s=a(651745);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const c=e=>{const{errorState:t,label:a,name:r,data:l,validationRegistration:d}=e;if(!l){return null}const[c,u]=(0,i.useState)(l.value==="yes");return(0,n.default)("fieldset",{className:`fab-FormColumn CandidateField CandidateField--${r}`},void 0,(0,n.default)("div",{className:"fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--cqCheckbox"},void 0,(0,n.default)("div",{className:"fab-Checkbox CandidateField__checkboxWrapper"},void 0,i.default.createElement("input",{ref:d,checked:c,className:(0,o.default)("fab-Checkbox__input",{"fab-Checkbox__input--error":t}),disabled:Boolean(l.isDisabled),id:r,name:r,onChange:()=>u(!c),required:l.isRequired,type:"checkbox",value:"yes"}),(0,n.default)("label",{className:(0,o.default)("fab-Checkbox__label",{"fab-Checkbox__label--error":t}),htmlFor:r},void 0,t&&(0,n.default)("div",{className:"CandidateField__checkboxErrorIcon"},void 0,(0,n.default)(s.Icon,{name:"fab-circle-exclamation-14x14"})),(0,n.default)("div",{},void 0,a,l.isRequired&&(0,n.default)("span",{className:"CandidateField__checkboxRequiredIndicator"},void 0,"*"))),!c&&(0,n.default)("input",{name:r,type:"hidden",value:"no"}))))};t.Checkbox=c},77611:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.checkDateValidity=p;t.Date=void 0;var n=r(a(856075));var i=u(a(573674));var o=r(a(60042));var s=r(a(341757));var l=r(a(242895));var d=a(857453);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=e=>{const{errorState:t,label:a,name:r,data:s,validationRegistration:c}=e;const u=(0,i.useRef)(s.value);const{setSpecialErrors:f,specialErrors:m}=(0,d.getValidationContext)();if(!s){return null}const h=()=>{const e=document.querySelector(`[name="${r}__cpFacade"]`);const t=e?e.value:"";if(e&&t!==u.current){u.current=t;p(r,s.isRequired,t,f)}};const v=e=>{const t=e?"invalid":"";u.current=e;p(r,s.isRequired,t,f)};return(0,n.default)("div",{className:`fab-FormColumn CandidateField CandidateField--${r}`},void 0,(0,n.default)("label",{className:(0,o.default)("fab-Label",{"fab-Label--error":m[r],"fab-Label--required":s.isRequired}),htmlFor:r},void 0,a),(0,n.default)("div",{className:`fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--${r}`},void 0,(0,n.default)(l.default,{cssClasses:{single:(0,o.default)("fab-TextInput--width100",{"fab-TextInput--error":m[r]})},disabled:Boolean(s.isDisabled),id:r,inputRef:c,name:r,onChange:h,onComplete:h,onIncomplete:v,required:s.isRequired,settings:{start:s.value},type:"date"})))};t.Date=f;function p(e,t,a,r){if(a){if((0,s.default)(a,s.default.defaultFormat).isValid()){r(e,null);return true}r(e,{rule:"date"});return false}if(t){r(e,{rule:"required"});return false}return true}},652077:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FileUpload=d;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(72602);var l=a(857453);function d(e){const{data:t,errorState:a,label:r,name:i,typeProps:d={},validationRegistration:c}=e;const{setSpecialErrors:u}=(0,l.getValidationContext)();if(!t){return null}let f=[];const p=t.files||t;if(p.length||p.fileName&&p.value){f=f.concat(p).map((e=>({id:`${e.value}`,name:`${e.fileName}`})))}const m=()=>{u(i,null)};const h=()=>{u(i,{rule:"fileUploadPending"})};return(0,n.default)("div",{className:`fab-FormColumn CandidateField CandidateField--${i}`},void 0,(0,n.default)("label",{className:`fab-Label ${t.isRequired?"fab-Label--required":""} ${a?"fab-Label--error":""}`,htmlFor:i},void 0,r),(0,n.default)(o.FileUpload,{acceptedTypes:s.VALID_FILE_EXTENSIONS,canSelectMultiple:d.canSelectMultiple,disabled:Boolean(t.isDisabled),endpoint:d.uploadUrl,initialFiles:f,inputRef:c,isRequired:t.isRequired,name:i,onChange:h,onUpload:m}))}},668029:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(285264);var n=a(77611);var i=a(652077);var o=a(817e3);var s=a(16390);var l=a(802342);var d=a(397509);var c=a(753646);const u={TYPE_CHECKBOX:r.Checkbox,TYPE_DATE:n.Date,TYPE_FILE_UPLOAD:i.FileUpload,TYPE_SELECT:o.SelectInput,TYPE_TEXT:s.Text,TYPE_TEXTAREA:l.TextArea,TYPE_YES_NO:d.YesNo,TYPE_MULTIPLE_CHOICE:c.Multi};var f=u;t.default=f},753646:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Multi=void 0;var n=r(a(856075));var i=r(a(368652));var o=r(a(573674));var s=a(55756);const l=e=>{const{name:t,label:a,data:r,validationRegistration:l}=e;if(!r){return null}return(0,n.default)("fieldset",{className:`CandidateField CandidateField--${t}`},void 0,r.options&&r.options.length<=5?o.default.createElement(s.Radio,(0,i.default)({},r,{label:a,name:t,validationRegistration:l})):o.default.createElement(s.MultiSelect,(0,i.default)({},r,{label:a,name:t,validationRegistration:l})))};t.Multi=l},55756:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Radio",{enumerable:true,get:function(){return r.Radio}});Object.defineProperty(t,"MultiSelect",{enumerable:true,get:function(){return n.MultiSelect}});var r=a(630952);var n=a(701647)},630952:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Radio=void 0;var n=r(a(856075));var i=c(a(573674));var o=r(a(60042));var s=a(945632);var l=a(857453);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const u="other";const f=e=>{const{validationRegistration:t,id:a,options:r,hasOther:d,isDisabled:c,isRequired:f,isValueOther:p,value:m,label:h,name:v}=e;const{setSpecialErrors:g,specialErrors:y}=(0,l.getValidationContext)();const b=(0,i.useRef)(false);const w=(0,i.useRef)(true);const S=(0,i.useRef)();let O=null;if(p){O=u}else{const e=r.find((({id:e})=>e===parseInt(m)));O=e?e.id:null}const[T,C]=(0,i.useState)(O);const[P,E]=(0,i.useState)(p?m:"");(0,i.useEffect)((()=>{if(!w.current&&T===u){setTimeout((()=>{S.current.focus()}))}w.current=false}),[T]);const M=e=>{C(e);g(v,null);if(b.current&&!e.length){g(v,{rule:"required"});b.current=true}else{b.current=false;g(`${v}[${u}]`,null)}};const x=e=>{const{target:t}=e;const a=t.value?null:{rule:"required"};g(`${v}[${u}]`,a);E(t.value)};return(0,n.default)("div",{className:"fab-InputWrapper CandidateField__multiGroup"},void 0,(0,n.default)("div",{className:"fab-FormColumn CandidateField__multiGroupColumn"},void 0,(0,n.default)("legend",{className:(0,o.default)("fab-RadioGroup__legend",{"fab-RadioGroup__legend--required":f,"fab-RadioGroup__legend--error":y[v]}),htmlFor:v},void 0,h),(0,n.default)("div",{className:"fab-RadioGroup",id:v},void 0,r.map((e=>(0,n.default)("div",{className:"fab-Radio"},`option_${a}_${e.id}`,i.default.createElement("input",{ref:t,checked:T==e.id,className:"fab-Radio__input",disabled:Boolean(c),id:`${v}[${e.id}]`,name:v,onChange:e=>M(e.target.value),type:"radio",value:e.id}),(0,n.default)("label",{className:"fab-Radio__label CandidateField__multiGroup--label",htmlFor:`${v}[${e.id}]`},void 0,e.option)))),d==="yes"?(0,n.default)("div",{className:"fab-Radio"},`option_${a}_other`,(0,n.default)("input",{checked:T===u,className:"fab-Radio__input",disabled:Boolean(c),id:`${v}[option_${u}]`,name:v,onChange:e=>M(e.target.value),type:"radio",value:u}),(0,n.default)("label",{className:"fab-Radio__label",htmlFor:`${v}[option_${u}]`},void 0,$.__("Other"))):null),(0,n.default)(s.SlideTransition,{isOpen:Boolean(T===u)},void 0,(0,n.default)("div",{className:"CandidateField__multi"},void 0,(0,n.default)("div",{className:"CandidateField__multiOther"},void 0,(0,n.default)("div",{className:"fab-InputWrapper CandidateField__multiInputWrapper"},void 0,i.default.createElement("input",{ref:S,className:(0,o.default)("fab-TextInput fab-TextInput--width100",{"fab-TextInput--error":y[`${v}[${u}]`]}),disabled:Boolean(T!==u),id:`${v}[${u}]`,name:`${v}[${u}]`,onChange:e=>x(e),placeholder:$.__("Please Specify"),required:true,type:"text",value:P}))),y[`${v}[${u}]`]&&(0,n.default)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,$.__("Response is required"))))))};t.Radio=f},701647:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.MultiSelect=void 0;var n=r(a(856075));var i=f(a(573674));var o=r(a(60042));var s=a(945632);var l=a(651745);var d=a(817e3);var c=a(857453);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const p="other";const m=e=>{const{validationRegistration:t,options:a,isRequired:r,isDisabled:u,isValueOther:f,hasOther:m,value:h,label:v,name:g}=e;const{setSpecialErrors:y,specialErrors:b}=(0,c.getValidationContext)();const w=(0,i.useRef)();let S=h;if(f){S=p}else if(h){const e=a.filter((e=>e.id==h));S=e[0].id}const O=[...a];if(m==="yes"){O.push({id:p,option:"Other"})}const[T,C]=(0,i.useState)([S]);const[P,E]=(0,i.useState)(f?h:"");const[M,x]=(0,i.useState)(m==="yes"&&f);(0,i.useEffect)((()=>{if(M){setTimeout((()=>{w.current.focus()}))}}),[M]);const k=(e=null,t=null)=>{y(`${g}`,e);y(`${g}[${p}]`,t)};const j=(e,t)=>{C(t);k();x(t[0]===p)};const I=()=>{C([]);x(false);k()};const F=e=>{const{target:t}=e;const a=t.value?null:{rule:"required"};k(null,a);E(t.value)};return(0,n.default)("div",{className:(0,o.default)("fab-InputWrapper CandidateField__inputWrapper",{CandidateField__multi:M})},void 0,(0,n.default)("div",{className:"fab-FormColumn CandidateField__multiGroupColumn"},void 0,(0,n.default)("label",{className:(0,o.default)("fab-Label",{"fab-Label--required":r,"fab-Label--error":b[g]}),htmlFor:g},void 0,v),(0,n.default)("div",{className:"CandidateField__multiSelect"},void 0,(0,n.default)(l.Select,{inputRef:t,isDisabled:Boolean(u),items:(0,d.normalizeOptions)(O),name:g,onClear:I,onSelect:j,selectedValues:T,width:100})),(0,n.default)(s.SlideTransition,{isOpen:M},void 0,(0,n.default)("div",{className:"CandidateField__multi"},void 0,(0,n.default)("div",{className:"CandidateField__multiOther CandidateField__multiOtherSelect"},void 0,(0,n.default)("div",{className:"fab-InputWrapper CandidateField__multiInputWrapper"},void 0,i.default.createElement("input",{className:(0,o.default)("fab-TextInput fab-TextInput--width100",{"fab-TextInput--error":b[`${g}[${p}]`]}),disabled:!M,id:`${g}[${p}]`,name:`${g}[${p}]`,onChange:e=>F(e),placeholder:$.__("Please Specify"),ref:w,required:true,type:"text",value:P}))),b[`${g}[${p}]`]&&(0,n.default)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,$.__("Response is required"))))))};t.MultiSelect=m},817e3:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.normalizeOptions=u;t.SelectInput=void 0;var n=r(a(856075));var i=d(a(573674));var o=a(651745);var s=a(1093);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const c=e=>{const{data:t,label:a,name:r,typeProps:l={},errorState:d,validationRegistration:c}=e;if(!t){return null}const[f,p]=(0,i.useState)(t.options);const[m,h]=(0,i.useState)([t.value]);const[v,g]=(0,i.useState)({isOpen:false});(0,i.useEffect)((()=>p(t.options)),[t.options]);(0,i.useEffect)((()=>h([t.value])),[t.value]);let y;let b;const w=()=>{g({isOpen:false});b()};const S=(e,t)=>{const a=f.concat({text:e,value:t});p(a);h([t]);g({isOpen:false});y()};const O=()=>{g({isOpen:true,label:l.label,onCancel:w,onSave:S,name:l.name,url:l.url});return new Promise(((e,t)=>{y=e;b=t}))};const T=(e,t)=>{h(t);if(typeof l.onSelect==="function"){l.onSelect(t)}};const C=()=>{h([])};return(0,n.default)("div",{className:`fab-FormColumn CandidateField CandidateField--${r}`},void 0,(0,n.default)("label",{className:`fab-Label ${t.isRequired?"fab-Label--required":""} ${d?"fab-Label--error":""}`,htmlFor:r},void 0,a),(0,n.default)("div",{className:`fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--${r}`},void 0,(0,n.default)(o.Select,{canSelectMultiple:l.canSelectMultiple,condition:d?"error":"",inputRef:c,isDisabled:Boolean(t.isDisabled),isRequired:t.isRequired,items:u(f),name:r,onAdd:l.perms?O:null,onClear:C,onSelect:T,selectedValues:m,width:100})),l.perms&&i.default.createElement(s.AddItemModal,v))};t.SelectInput=c;function u(e){return e.map((e=>({...e,text:e.text||e.displayText||e.value||e.option||"",value:e.value||e.id||e.text||""})))}},16390:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.handleUrlFormat=p;t.handleLinkedinFormat=m;t.Text=void 0;var n=r(a(856075));var i=u(a(573674));var o=r(a(60042));var s=a(651745);var l=a(273641);var d=a(857453);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=e=>{const{errorState:t,label:a,name:r,data:c,validationRegistration:u,rules:f,showErrorMessage:m,typeProps:h={}}=e;const{setErrors:v,validate:g}=(0,d.getValidationContext)();if(!c){return null}const y=(0,i.useRef)(false);const[b,w]=(0,i.useState)(c.value);const[S,O]=(0,i.useState)(c.value);(0,i.useEffect)((()=>{w(c.value)}),[c.value]);(0,i.useEffect)((()=>{if(y.current){g([r],false)}else{y.current=true}}),[S]);function T(e){const t=p(e.target,S,v);w(t);O(t)}return(0,n.default)("div",{className:`fab-FormColumn CandidateField CandidateField--${r}`},void 0,(0,n.default)("label",{className:(0,o.default)("fab-Label",{"fab-Label--error":t,"fab-Label--required":c.isRequired}),htmlFor:r},void 0,a),(0,n.default)("div",{className:(0,o.default)(`fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--${r}`,{[`CandidateField__inputWrapper--cq${(0,l.capitalize)((0,l.camelCase)(h.cqType))}`]:h.cqType})},void 0,i.default.createElement("input",{ref:u,className:(0,o.default)("fab-TextInput",{"fab-TextInput--width100":true,"fab-TextInput--error":t,"fab-TextInput--withNub":h.nubIconName}),disabled:Boolean(c.isDisabled),id:r,maxLength:f&&f.maxLength?f.maxLength:255,name:r,onBlur:h.hasCustomUrlHandling?T:null,onChange:e=>w(e.target.value),required:c.isRequired,type:"text",value:b}),h.nubIconName&&(0,n.default)("span",{className:"fab-TextInputNub"},void 0,(0,n.default)("span",{className:"fab-TextInputNub__icon"},void 0,(0,n.default)(s.Icon,{name:h.nubIconName})))),t&&m&&(0,n.default)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,t.message))};t.Text=f;function p(e,t,a){const{name:r,value:n}=e;let i=n;if(i!==t){const e=!i;const t=n.startsWith("http://")||n.startsWith("https://");if(!e&&!t){i=`http://${n}`}if(r==="linkedinUrl"){m(i,r,a)}}return i}function m(e,t,a){const r=!e;if(r||e.includes("linkedin.com")){a({[t]:null});return true}a({[t]:{rule:t,message:$.__("Invalid LinkedIn profile URL.")}});return false}},802342:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.TextArea=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));var s=a(273641);var l=r(a(562484));const d=e=>{const{errorState:t,label:a,name:r,data:i,placeholder:d,typeProps:c={},validationRegistration:u}=e;if(!i){return null}return(0,n.default)("div",{className:`fab-FormColumn CandidateField CandidateField--${r}`},void 0,(0,n.default)("label",{className:`fab-Label ${i.isRequired?"fab-Label--required":""} ${t?"fab-Label--error":""}`,htmlFor:r},void 0,a),(0,n.default)("div",{className:(0,o.default)(`fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--${r}`,{[`CandidateField__inputWrapper--cq${(0,s.capitalize)((0,s.camelCase)(c.cqType))}`]:c.cqType})},void 0,"    ",(0,n.default)(l.default,{className:`fab-Textarea fab-Textarea--width100 autosize ${t?"fab-Textarea--error":""}`,defaultValue:i.value,disabled:Boolean(i.isDisabled),id:r,innerRef:u,name:r,placeholder:d,required:i.isRequired})))};t.TextArea=d},397509:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.YesNo=void 0;var n=r(a(856075));var i=l(a(573674));var o=r(a(60042));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=e=>{const{errorState:t,label:a,name:r,data:s,validationRegistration:l}=e;if(!s){return null}const[d,c]=(0,i.useState)(s.value);return(0,n.default)("fieldset",{className:`CandidateField CandidateField--${r}`},void 0,(0,n.default)("legend",{className:(0,o.default)(`fab-RadioGroup__legend`,{"fab-RadioGroup__legend--error":t,"fab-RadioGroup__legend--required":s.isRequired})},void 0,a),(0,n.default)("div",{className:"fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--cqYesNo"},void 0,(0,n.default)("div",{className:"fab-FormColumn fab-Radio"},void 0,i.default.createElement("input",{ref:l,checked:d==="yes",className:"fab-Radio__input",disabled:Boolean(s.isDisabled),id:`${r}--yes`,name:r,onChange:()=>c("yes"),required:s.isRequired,type:"radio",value:"yes"}),(0,n.default)("label",{className:"fab-Radio__label",htmlFor:`${r}--yes`},void 0,$.__(`Yes`))),(0,n.default)("div",{className:"fab-FormColumn fab-Radio"},void 0,(0,n.default)("input",{checked:d==="no",className:"fab-Radio__input",disabled:Boolean(s.isDisabled),id:`${r}--no`,name:r,onChange:()=>c("no"),required:s.isRequired,type:"radio",value:"no"}),(0,n.default)("label",{className:"fab-Radio__label",htmlFor:`${r}--no`},void 0,$.__(`No`)))))};t.YesNo=d},28381:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.CandidateVeteranStatus=void 0;var n=r(a(856075));var i=u(a(573674));var o=r(a(60042));var s=a(651745);var l=a(857453);var d=a(817e3);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=e=>{const{data:t,label:a,name:r}=e;const c=(0,l.getUsageContext)();const{setSpecialErrors:u,specialErrors:f}=(0,l.getValidationContext)();const p=(0,i.useRef)(false);const[m,h]=(0,i.useState)(false);const[v,g]=(0,i.useState)([]);const[y,b,...w]=(0,d.normalizeOptions)(t.options);const S=!m&&!!f[r];const O=!!f[r];const T=c!=="add";const C=e=>{const{id:t}=e.target;if(t==="isVeteran"){h(true);if(p.current&&!v.length){u(r,{rule:"required"})}p.current=true}else{p.current=false;h(false);g([]);u(r,null)}};const P=(e,t)=>{g(t);if(t.length){u(r,null)}else{u(r,{rule:"required"})}};const E=()=>{g([]);u(r,{rule:"required"})};return(0,n.default)("div",{className:"fab-FormColumn CandidateField CandidateField--veteranStatusId"},void 0,(0,n.default)("fieldset",{className:"fab-FormRow--tight fab-RadioGroup",onChange:C},void 0,(0,n.default)("legend",{className:(0,o.default)("fab-RadioGroup__legend",{"fab-RadioGroup__legend--required":T,"fab-RadioGroup__legend--error":S})},void 0,a),(0,n.default)("div",{className:"fab-Radio"},void 0,(0,n.default)("input",{className:`fab-Radio__input ${S?"fab-Radio__input--error":""}`,disabled:Boolean(t.isDisabled),id:"declineToAnswer",name:`${r}[]`,required:T,type:"radio",value:y?y.value:""}),(0,n.default)("label",{className:(0,o.default)("fab-Radio__label",{"fab-Radio__label--required":T,"fab-Radio__label--error":S}),htmlFor:"declineToAnswer"},void 0,y?y.text:$.__("Decline to Answer"))),(0,n.default)("div",{className:"fab-Radio"},void 0,(0,n.default)("input",{className:`fab-Radio__input ${S?"fab-Radio__input--error":""}`,disabled:t.isDisabled?t.isDisabled:false,id:"notVeteran",name:`${r}[]`,required:T,type:"radio",value:b?b.value:""}),(0,n.default)("label",{className:(0,o.default)("fab-Radio__label",{"fab-Radio__label--required":T,"fab-Radio__label--error":S}),htmlFor:"notVeteran"},void 0,b?b.text:$.__("Not a Veteran"))),(0,n.default)("div",{className:"fab-Radio"},void 0,(0,n.default)("input",{className:"fab-Radio__input",disabled:t.isDisabled?t.isDisabled:false,id:"isVeteran",name:`${r}[]`,required:T,type:"radio",value:""}),(0,n.default)("label",{className:(0,o.default)("fab-Radio__label",{"fab-Radio__label--required":T,"fab-Radio__label--error":S}),htmlFor:"isVeteran"},void 0,$.__("Veteran")))),(0,n.default)("div",{className:`fab-FormRow--tight CandidateField CandidateField--veteranStatuses ${m?"CandidateField--veteranStatusesShown":""}`},void 0,(0,n.default)("label",{className:(0,o.default)("fab-Label",{"fab-Label--required":T,"fab-Label--error":O}),htmlFor:"veteranStatuses"},void 0,a),(0,n.default)("div",{className:"fab-InputWrapper CandidateField__inputWrapper"},void 0,(0,n.default)(s.Select,{canSelectMultiple:true,isRequired:T,items:w,name:`${r}[]`,onClear:E,onDeselect:P,onSelect:P,selectedValues:v,width:100}))))};t.CandidateVeteranStatus=f},236166:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.handleSpecialErrors=f;t.validateSpecial=p;t.default=void 0;var r=a(273641);var n=a(573674);var i=a(77611);var o=a(857453);const s=document.querySelector(".SiteFooter__action--primary");const l=document.querySelector(".SiteFooter__action--link");const d=e=>{const{actions:t={},fields:a,formId:i}=e;const{cancelAction:d,primaryAction:c}=t;const m=(0,n.useRef)(null);const h=(0,o.getValidationContext)();const{reset:v,setSpecialErrors:g,specialErrors:y,validate:b}=h;const w=(0,n.useCallback)((e=>{if(window.GLOBAL_IS_ASSUMED_USER){window.disabledForPermsTest();return}const t=u(y,"fileUploadPending");const n=p(m.current,(0,r.pick)(a,["dateAvailable","resumeFileId","coverLetterFileId","veteranStatusId","customQuestions"]),g);if(t||!n){f(y)}const o=b([],n);if(t||!n||!o){return}if(typeof c==="function"){e.stopPropagation();c();return}if(i){document.dispatchEvent(new CustomEvent("SiteFooterActions:toggleProcessing"));m.current.submit();return}console.warn(`No formId or Action provided, What were you expecting to happen?`)}),[a,i,c,g,y,b]);const S=(0,n.useCallback)((e=>{if(typeof d==="function"){e.stopPropagation();d(v)}}),[d,v]);(0,n.useEffect)((()=>{s.addEventListener("click",w);l.addEventListener("click",S);return()=>{s.removeEventListener("click",w);l.removeEventListener("click",S)}}));(0,n.useEffect)((()=>{m.current=document.getElementById(i)}),[i]);return null};var c=d;t.default=c;function u(e,t){return Object.keys(e).some((a=>e[a].rule===t))}function f(e){if(u(e,"fileUploadPending")){window.setMessage($.__("Your file is still uploading. Please try again once the upload is complete."),"error")}else{window.setMessage($.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error");const[t]=Object.keys(e);const a=document.querySelector(`[name="${t}"]`);if(a){a.focus()}}}function p(e,t,a){const r=new FormData(e);let n=true;if(t.dateAvailable){const r=e.elements.dateAvailable__cpFacade.value;n=(0,i.checkDateValidity)("dateAvailable",t.dateAvailable.isRequired,r,a)}["resumeFileId","coverLetterFileId"].forEach((n=>{if(!t[n]||!e.elements[n]){return}if(r.getAll(n).some((e=>Boolean(e)))){a(n,null)}}));if(t.customQuestions){t.customQuestions.forEach((t=>{if(t.type==="multi"&&t.isRequired&&!r.getAll(`customQuestions[${t.id}]`).some((e=>Boolean(e)))){a(`customQuestions[${t.id}]`,{rule:"required"});n=false}if(t.type==="multi"&&r.get(`customQuestions[${t.id}]`)&&!r.get(`customQuestions[${t.id}][other]`)&&!e.elements[`customQuestions[${t.id}][other]`].disabled){a(`customQuestions[${t.id}][other]`,{rule:"required"});n=false}}))}if(t.veteranStatusId&&t.veteranStatusId.isRequired){if(!r.getAll("veteranStatusId[]").some((e=>Boolean(e)))){a("veteranStatusId",{rule:"required"});n=false}}return n}},206799:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=f(a(573674));var o=a(976027);var s=a(651745);var l=r(a(972445));var d=a(869838);var c=a(269796);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const p=e=>{const{countryId:t,postCodeLabel:a,subEntityLabel:r,subEntityOptions:u,switchCountry:f}=(0,o.useCountrySwitcher)({initialCountryId:e.countryId?e.countryId.value:1,initialSubEntityOptions:e.state?e.state.options:[]});const[p,m]=(0,i.useState)({...e.state});(0,i.useEffect)((()=>{if(e.countryId&&t===e.countryId.value){m({...e.state,options:u})}else{m({...e.state,value:"",options:u})}}),[t]);const h={perms:e.sourceId?e.sourceId.hasSettingsPerms:false,url:"/hiring/jobs/sources",label:$.__("Source"),name:$.__("Add New Source")};return(0,n.default)(i.Fragment,{},void 0,(0,n.default)(c.CandidateFieldSection,{shouldShow:true},void 0,(0,n.default)(c.CandidateFieldRow,{shouldShow:true},void 0,(0,n.default)(c.CandidateField,{data:e.firstName,label:$.__("First Name"),name:"firstName",type:"TYPE_TEXT"}),(0,n.default)(c.CandidateField,{data:e.lastName,label:$.__("Last Name"),name:"lastName",type:"TYPE_TEXT"})),(0,n.default)(c.CandidateFieldRow,{shouldShow:true},void 0,(0,n.default)(c.CandidateField,{data:e.email,label:$.__("Email"),name:"email",rules:{email:{message:()=>$.__("Invalid email address.")}},showErrorMessage:true,type:"TYPE_TEXT"})),(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.phone)},void 0,(0,n.default)(c.CandidateField,{data:e.phone,label:$.__("Phone"),name:"phone",rules:{maxLength:20},type:"TYPE_TEXT"})),(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.streetAddress)},void 0,(0,n.default)(c.CandidateField,{data:e.streetAddress,label:$.__("Address"),name:"streetAddress",type:"TYPE_TEXT"})),(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.city||e.stateId||e.zip)},void 0,(0,n.default)(c.CandidateField,{data:e.city,label:$.__("City"),name:"city",type:"TYPE_TEXT"}),u.length?(0,n.default)(c.CandidateField,{data:p,label:r,name:"state",type:"TYPE_SELECT"}):(0,n.default)(c.CandidateField,{data:p,label:r,name:"state",type:"TYPE_TEXT"}),(0,n.default)(c.CandidateField,{data:e.zip,label:a,name:"zip",type:"TYPE_TEXT"})),(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.countryId)},void 0,(0,n.default)(c.CandidateField,{data:{...e.countryId,value:t},label:$.__("Country"),name:"countryId",type:"TYPE_SELECT",typeProps:{onSelect:e=>f(e[0])}}))),(0,n.default)(c.CandidateFieldSection,{shouldShow:Boolean(e.sourceId||e.coverLetterFileId||e.resumeFileId||e.dateAvailable||e.desiredPay)},void 0,(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.sourceId)},void 0,(0,n.default)(c.CandidateField,{data:e.sourceId,label:$.__("Source"),name:"sourceId",type:"TYPE_SELECT",typeProps:h})),(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.coverLetterFileId)},void 0,(0,n.default)(c.CandidateField,{data:e.coverLetterFileId,label:$.__("Cover Letter"),name:"coverLetterFileId",type:"TYPE_FILE_UPLOAD"})),(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.resumeFileId)},void 0,(0,n.default)(c.CandidateField,{data:e.resumeFileId,label:$.__("Resume"),name:"resumeFileId",type:"TYPE_FILE_UPLOAD"})),(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.dateAvailable)},void 0,(0,n.default)(c.CandidateField,{data:e.dateAvailable,label:$.__("Date Available"),name:"dateAvailable",type:"TYPE_DATE"})),(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.desiredPay)},void 0,(0,n.default)(c.CandidateField,{data:e.desiredPay,label:$.__("Desired Pay"),name:"desiredPay",type:"TYPE_TEXT"}))),(0,n.default)(c.CandidateFieldSection,{shouldShow:Boolean(e.websiteUrl||e.linkedinUrl||e.twitterUsername)},void 0,(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.websiteUrl)},void 0,(0,n.default)(c.CandidateField,{data:e.websiteUrl,label:$.__("Website, Blog, or Portfolio"),name:"websiteUrl",rules:{url:{message:()=>$.__("Invalid website URL.")}},showErrorMessage:true,type:"TYPE_TEXT",typeProps:{hasCustomUrlHandling:true}})),(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.linkedinUrl)},void 0,(0,n.default)(c.CandidateField,{data:e.linkedinUrl,label:$.__("LinkedIn Profile URL"),name:"linkedinUrl",rules:{url:{message:()=>$.__("Invalid LinkedIn profile URL.")}},showErrorMessage:true,type:"TYPE_TEXT",typeProps:{hasCustomUrlHandling:true,nubIconName:"fab-linkedin-12x11"}})),(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.twitterUsername)},void 0,(0,n.default)(c.CandidateField,{data:e.twitterUsername,label:$.__("Twitter Username"),name:"twitterUsername",type:"TYPE_TEXT",typeProps:{nubIconName:"fab-twitter-14x11"}}))),(0,n.default)(c.CandidateFieldSection,{shouldShow:Boolean(e.educationLevelId||e.educationInstitutionName)},void 0,(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.educationLevelId||e.educationInstitutionName)},void 0,(0,n.default)(c.CandidateField,{data:e.educationLevelId,label:$.__("Highest Education Obtained"),name:"educationLevelId",type:"TYPE_SELECT"}),(0,n.default)(c.CandidateField,{data:e.educationInstitutionName,label:$.__("College/University"),name:"educationInstitutionName",type:"TYPE_TEXT"}))),(0,n.default)(c.CandidateFieldSection,{shouldShow:Boolean(e.referredBy||e.references)},void 0,(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.referredBy)},void 0,(0,n.default)(c.CandidateField,{data:e.referredBy,label:$.__("Who referred you for this position?"),name:"referredBy",type:"TYPE_TEXT"})),(0,n.default)(c.CandidateFieldRow,{shouldShow:Boolean(e.references)},void 0,(0,n.default)(c.CandidateField,{data:e.references,label:$.__("References (Name, Company, and Contact Info)"),name:"references",type:"TYPE_TEXTAREA"}))),(0,n.default)(c.CandidateFieldSection,{shouldShow:Boolean(e.customQuestions)},void 0,e.customQuestions&&e.customQuestions.map((e=>{const t=e.type==="file"?{canSelectMultiple:true}:{};const a=e.type==="file"?`customQuestions[${e.id}][]`:`customQuestions[${e.id}]`;return(0,n.default)(c.CandidateFieldRow,{shouldShow:true},e.id,(0,n.default)(c.CandidateField,{cqType:e.type||d.CustomQuestionTypes.long,data:e,label:e.question,name:a,typeProps:t}))}))),(0,n.default)(c.CandidateFieldSection,{shouldShow:Boolean(e.jobCategoryId)},void 0,(0,n.default)(c.CandidateFieldRow,{shouldShow:true},void 0,(0,n.default)("div",{className:"CandidateForm__EEO"},void 0,(0,n.default)("div",{className:"CandidateForm__EEOHeading"},void 0,$.__(`Your answers to the following four questions are entirely optional.`),(0,n.default)(l.default,{settings:{content:$.__("To comply with government Equal Employment Opportunity and Affirmative Action reporting regulations, we are requesting (but NOT requiring) that you provide this personal data."),position:"right"},wrapperClassName:"CandidateForm__EEOIcon"},void 0,(0,n.default)(s.Icon,{name:"fab-question-14x14"}))),(0,n.default)("div",{className:"CandidateForm__EEOParagraph"},void 0,$.__(`This information will not be used as selection criteria. If you'd rather not share this information, feel free to select "Decline to Answer".`)))),(0,n.default)(c.CandidateFieldRow,{shouldShow:true},void 0,(0,n.default)(c.CandidateField,{data:e.genderId,label:$.__("Gender"),name:"genderId",type:"TYPE_SELECT"})),(0,n.default)(c.CandidateFieldRow,{shouldShow:true},void 0,(0,n.default)(c.CandidateField,{data:e.ethnicityId,label:$.__("Ethnicity"),name:"ethnicityId",type:"TYPE_SELECT"})),(0,n.default)(c.CandidateFieldRow,{shouldShow:true},void 0,(0,n.default)(c.CandidateField,{data:e.disabilityId,label:$.__("Disability"),name:"disabilityId",type:"TYPE_SELECT"})),(0,n.default)(c.CandidateFieldRow,{shouldShow:true},void 0,(0,n.default)(c.CandidateVeteranStatus,{data:e.veteranStatusId,label:$.__("Veteran Status"),name:"veteranStatusId"}))))};var m=p;t.default=m},883279:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(233832);var s=a(857453);var l=r(a(206799));var d=r(a(236166));a(104287);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=({fields:e,usage:t,actions:a,formId:r})=>{const[c,u]=(0,i.useState)({});const f=(0,o.useValidation)();f.specialErrors=c;f.setSpecialErrors=(e,t)=>{u((a=>{const r={...a};if(t===null){delete r[e]}else{r[e]=t}return r}))};return(0,n.default)(s.UsageContext.Provider,{value:t},void 0,(0,n.default)(s.ValidationContext.Provider,{value:f},void 0,i.default.createElement(l.default,e),(0,n.default)(d.default,{actions:a,fields:e,formId:r})))};var p=f;t.default=p},72602:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.customQuestionInputTypes=t.VALID_FILE_EXTENSIONS=void 0;const a=window.GLOBAL_VALID_EXTENSIONS?Array.from(window.GLOBAL_VALID_EXTENSIONS):["pdf","doc","docx","xls","xlsx","csv","jpg","jpeg","tif","tiff","gif","png","bmp","txt","rtf","zip"];const r=a.map((e=>`.${e}`));t.VALID_FILE_EXTENSIONS=r;const n={short:"TYPE_TEXT",long:"TYPE_TEXTAREA",yes_no:"TYPE_YES_NO",multi:"TYPE_MULTIPLE_CHOICE",checkbox:"TYPE_CHECKBOX",file:"TYPE_FILE_UPLOAD"};t.customQuestionInputTypes=n},401371:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.updateTemplateFiles=o;t.cleanupModal=d;t.addListeners=m;t.clearTemporaryFiles=h;var r=a(774548);var n=a(810165);let i=[];function o(e){h();$(".js-attached-files").empty().append(l(e,"template"));p()}function s(){const e=$(".js-attached-files");e.find(".js-file").not("[data-template-file]").remove();e.append(l(i,"new"));$(".dot-ellipsis").dotdotdot({wrap:"letter"});p()}function l(e,t){let a="";e.forEach((function(e){let n=e.id||"";let i=e.value||"";let o="";if(t=="template"){o=`data-template-file="true"`}a+=`<div class="FileCard js-file" data-id="${BambooHR.Utils.sanitizeHtml(n)}" data-name="${BambooHR.Utils.sanitizeHtml(e.name)}" data-type="${BambooHR.Utils.sanitizeHtml(e.type)}" data-size="${BambooHR.Utils.sanitizeHtml(e.size)}" data-value="${BambooHR.Utils.sanitizeHtml(i)}" ${BambooHR.Utils.sanitizeHtml(o)}>\n\t\t\t<span class="FileCard__detail">\n\t\t\t\t<span class="FileCard__title dot-ellipsis" title="${BambooHR.Utils.sanitizeHtml(e.name)}">${BambooHR.Utils.sanitizeHtml(e.name)}</span>\n\t\t\t</span>\n\t\t\t<span class="FileCard__info">\n\t\t\t\t<span class="FileCard__icon">\n\t\t\t\t\t<ba-icon name="${BambooHR.Utils.getIconNameFromFileName(e.name,"16x20")}"></ba-icon>\n\t\t\t\t</span>\n\t\t\t\t${(0,r.getExtFromFileName)(e.name).toUpperCase()} (${(0,r.humanFileSize)(e.size)})\n\t\t\t</span>\n\t\t\t<span class="FileCard__close js-remove-file"></span>\n\t\t\t<input type="hidden" name="addFiles[]" value="${BambooHR.Utils.sanitizeHtml(i)}" />\n\t\t</div>`}));return a}function d(){$(document).off("click",".js-add-files-btn");$(document).off("click",".js-attached-files .js-remove-file")}function c(e){const t=".js-emailFileUploadContext";const a=()=>{const a=e;$(t).find(":input[name^=attachId]").each((function(e,t){i.push({name:t.getAttribute("data-name"),type:t.getAttribute("data-type"),value:t.getAttribute("value"),size:t.getAttribute("data-size"),image:t.getAttribute("data-image")})}));s();if(a){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}};const r=$("#uploadFilesDialog").html();const o={dangerousContent:`<div class="js-emailFileUploadContext">`+r+`</div>`,onClose:()=>{if(e){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},onOpen:()=>{$(".FileUploadActions").addClass("centerContent");let r=$(".multiUpload");let i={linkHTML:`<span class="attach-link">\n\t\t\t\t\t\t\t<button class="fab-Button fab-Button--secondary fab-Button--noSpace js-chooseFile" type="button">`+$.__("Choose File(s)")+` </button>\n\t\t\t\t\t\t\t<button class="files-add-files fab-TextButton fab-link" type="button" style="display: none;"> + `+$.__("Add a file")+` </button>\n\t\t\t\t\t\t</span>`,success:function(t,n){$(".noFile",r).hide();let i=$(".attach-wrapper",r).closest("form");i.append(`<input\n\t\t\t\t\t\ttype="hidden"\n\t\t\t\t\t\tname="attachId[]"\n\t\t\t\t\t\tdata-name="${t.name}"\n\t\t\t\t\t\tdata-type="${t.type}"\n\t\t\t\t\t\tdata-size="${t.size}"\n\t\t\t\t\t\tdata-image="${t.image}"\n\t\t\t\t\t\tvalue="${t.fid}"\n\t\t\t\t\t/>`);u(true,a,e)},removeFile:function(t){let a=t.attr("id").replace("file-","");if(t.hasClass("uploadDone")){$(`input[name^=attachId][value="${a}"]`).remove()}if((0,n.updateFileUploadActions)(r)){u(false,null,e)}return true},onRemove:function(){if((0,n.updateFileUploadActions)(r)){u(false,null,e)}},createFileWrapper:function(e,t){$(".noFile",r).hide();if($(".files > *",r).length===0){$(".attach-link button, .uploadDesc",r).toggle();(0,n.centerFileUploadActions)(r,false)}return $.fileUploader.createFileWrapper(e,t)},setDragOverValues:function(e){e.addClass("dragOver").find(".upload-msg").text($.__("Upload Files"))},setDragOffValues:function(){$(".dragOver").find(".upload-msg").text($.__("Drop Files Here to Upload"));$(".dragOver").removeClass("dragOver")},uploaderId:"multiUpload"};$(".attach-wrapper",r).closest(t).fileUploader(i);$(".uploadDesc").show();$(t).find(":input[name^=attachId]").remove()},primaryAction:null,primaryActionText:$.__("Attach"),isOpen:true,title:$.__("Upload Files")};if(e){window.BambooHR.Modal.setState({sheetProps:o},true)}else{window.BambooHR.Modal.setState(o)}}function u(e,t,a){if(a){if(e){window.BambooHR.Modal.setState({isOpen:true,sheetProps:{primaryAction:t}},true)}else{window.BambooHR.Modal.setState({isOpen:true,sheetProps:{primaryAction:null}},true)}}else if(e){window.BambooHR.Modal.setState({primaryAction:t},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}}function f(){let e=$(".js-attached-files").find(".js-file");let t=0;for(let a=0;a<e.length;a++){t+=Number(e[a].dataset.size)}return t}function p(){const e=$(".js-new-files-status");let t=f();let a=$.__("Total attachment size right now is %s. For emails, it's best to keep it under 10MB.",`<strong>${BambooHR.Utils.humanFileSize(t)}</strong>`);if(t>10433333){e.html(a)}else{e.empty()}}function m(){$(document).on("click",".js-add-files-btn",(function(){c();return false}));$(document).on("click",".js-attached-files .js-remove-file",(function(e){const t=$(".js-attached-files");let a=$(this).closest(".js-file");if(a.data("template-file")!==undefined){t.append('<input type="hidden" name="deleteFiles[]" value="'+a.data("id")+'" />')}let r=a.data("value");if(typeof r!="undefined"){i=i.filter((function(e){return e.value!==r}))}a.remove();p()}))}function h(){i.length=0}},724117:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.initializeStickySidebar=l;var r=a(273641);let n;let i;let o;let s=false;function l(e,t){d();i=document.querySelector(e);o=document.querySelector(t);n=(0,r.throttle)(c,10);if(i&&o){window.addEventListener("scroll",n)}}function d(){window.removeEventListener("scroll",n,false)}function c(){const e=o.scrollTop;const t=80;if(i.getBoundingClientRect().top<t){i.style.height=`${i.offsetHeight}px`;o.classList.add("fixed");o.scrollTop=e;s=true}else{i.style.height=null;o.classList.remove("fixed");s=false}}},869838:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CustomQuestionTypes=void 0;let a;t.CustomQuestionTypes=a;(function(e){e["short"]="short";e["long"]="long";e["yes_no"]="yes_no";e["multi"]="multi";e["checkbox"]="checkbox";e["file"]="file"})(a||(t.CustomQuestionTypes=a={}))},28e4:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.modalDialogAlert=s;t.showInlineModal=l;t.showModalDialog=m;t.setBackgroundModalIdSelector=h;t.showStackedModalDialog=v;t.showModalPopup=g;t.doModalDialog=y;t.recenterDialog=b;t.closeModalDialog=w;t.attachModalEvents=S;t.ajaxModalDialog=O;t.modalSubmit=T;t.modalFormSubmit=P;t.Modal=void 0;var n=a(121198);var i=r(a(20026));const o={init:function(){this._ScrollBarWidth=this.getScrollBarWidth();this.addUIElements()},_ids:["navMain","content"],_elements:[],_ScrollBarWidth:0,addUIElements:function(){this._elements=[];if(document.getElementsByTagName("header")[0]){this._elements.push(document.getElementsByTagName("header")[0])}for(let e=0;e<this._ids.length;e++){if(document.getElementById(this._ids[e])){this._elements.push(document.getElementById(this._ids[e]))}}if(document.getElementsByTagName("footer")[0]){this._elements.push(document.getElementsByTagName("footer")[0])}},disableNoScroll:function(){var e;$("html").removeClass("noscroll");if(this._ScrollBarWidth>0){if(document.getElementsByClassName("ui-dialog")[0]){e=document.getElementsByClassName("ui-dialog")[0];if(e!==undefined){e.style.marginLeft="-"+e.offsetWidth/2+"px"}}else{var t=$(".SimpleModal");t.each((function(){var e=$(this);if(e.hasClass("full-screen")){return}e.css("left","calc(50% - "+e[0].offsetWidth/2+"px)")}))}for(var a=0;a<this._elements.length;a++){this._elements[a].style.paddingRight=null}}},enableNoScroll:function(){var e;var t;var a=this;if(this._ScrollBarWidth>0){if(document.getElementsByClassName("ui-dialog")[0]){e=document.getElementsByClassName("ui-dialog")[0];t=e.offsetWidth/2+this._ScrollBarWidth/2;e.style.marginLeft="-"+t+"px"}else{var r=$(".SimpleModal");r.each((function(){var e=$(this);if(e.hasClass("full-screen")){return}t=e[0].offsetWidth/2+a._ScrollBarWidth/2;e.css("left","calc(50% - "+t+"px)")}))}for(var n=0;n<this._elements.length;n++){this._elements[n].style.paddingRight=this._ScrollBarWidth+"px"}}$("html").addClass("noscroll")},getScrollBarWidth:function(){var e=document.createElement("p");e.style.width="100%";e.style.height="200px";var t=document.createElement("div");t.style.position="absolute";t.style.top="0px";t.style.left="0px";t.style.visibility="hidden";t.style.width="200px";t.style.height="150px";t.style.overflow="hidden";t.appendChild(e);document.body.appendChild(t);var a=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;if(a==r){r=t.clientWidth}document.body.removeChild(t);return a-r}};t.Modal=o;function s(e,t,a,r,n,i){var o={modal:true};if(typeof i!="undefined"){$.extend(o,i)}var s="";if(t.jquery){s=t.html()}else{s='<span class="ui-icon ui-icon-alert"></span><p class="alert">'+t+"</p>"}m(e,s,a,r,n,o);return false}function l(e,t,a,r,n,i){var o={inline_modal_id:t};if(typeof i!="undefined"){$.extend(o,i)}m(e,undefined,a,r,n,o)}var d;var c=false;var u=false;var f=0;var p;Object.defineProperties(window,{modalIdSelector:{get(){return d},set(e){d=e}}});function m(e,t,a,r,n,i){d="#modal-dialog";c=r;var s=n;if(typeof n=="undefined"){s=false}if(typeof i!="undefined"&&typeof i.inline_modal_id!="undefined"){d="#"+i.inline_modal_id}if(typeof i!="undefined"&&typeof i.stacked_modal_id!="undefined"){d="#"+i.stacked_modal_id}var l={};var u=f++;var p=d;if(!i||!i.omit_cancel_button){l[$.__("Cancel")]=function(){var e=d;d=p;closeMessage();if(typeof s=="function"){if(s()){w()}}else{w()}d=e;return false}}l[a]=function(){if($("form[bhrvalidate-initiated]",d).length>0){if(!$("form[bhrvalidate-initiated]",d).valid()){return false}}var e=d;d=p;if(typeof c=="function"){if(c()){w()}}else{document.location.href=c;w()}d=e};var m={};$.extend(m,i);m.open=function(e,t){$(this).parents(".ui-dialog-buttonpane button:eq(0)").blur();$(this).parents(".ui-dialog-buttonpane button:eq(1)").focus();$(d+" form").submit((function(){return false}));const a=$(".ui-dialog-buttonpane button",$(d).parent());a.addClass("btn btnAction");if(i&&i.biId){a.attr("data-bi-id",`${i.biId}-action-primary`)}if(typeof i!="undefined"&&typeof i.stacked_modal_id!="undefined"){$(".ui-dialog-buttonpane button",$(d).parent()).addClass("btnSmall")}if(typeof m.cancel_message!="undefined"&&!m.omit_cancel_button){$(".ui-dialog-buttonset button:first",$(d).parent()).remove();$(".ui-dialog-buttonset",$(d).parent()).append('<span class="cancel-option"><a href="#" class="'+m.cancel_class+'">'+m.cancel_message+"</a></span>");$(".ui-dialog-buttonset .cancel-option a",$(d).parent()).click(l[$.__("Cancel")])}if(typeof m.additional_footer_html!="undefined"){$(".ui-dialog-buttonset",$(d).parent()).prepend(m.additional_footer_html)}if(typeof m.open_callback=="function"){m.open_callback(e,t)}if(typeof m.inline_modal_id=="undefined"){S(d)}var r=$(d).find(":text:visible:enabled:first");if(r.length==0){r=$(d).find("textarea")}if(!r.hasClass("chzn_selected")){r.focus()}if(m.disable_buttons==true){$(".ui-dialog-buttonset button",$(d).parent()).not(".cancel").button("disable");$("body").on("keyup click",".ui-dialog input,.ui-dialog textarea",(function(){if($(this).val()!==""){$(".ui-button").button("enable")}}))}};m.close=function(e,t){if(typeof m.close_callback=="function"){m.close_callback()}$("div.ui-dialog",$(d)).addClass("displaynone");if(typeof m.inline_modal_id=="undefined"){$(d).remove()}o.disableNoScroll()};if(m.buttons!==undefined&&m.buttons==="hide"){m.buttons=null}else{m.buttons=l}if(typeof m.cancel_message=="undefined"){m.cancel_message=$.__("Cancel")}y(e,t,m);if(m.disableCloseOnEnter!=true){$(d+":not(.keyup-bound)").off("keyup");$(d+":not(.keyup-bound)").keyup((function(e){$(d).addClass("keyup-bound");if(e.keyCode==13){var t=$.focused();if(t!==null&&$(t).parents(d).length>0&&!$(t).is("textarea")&&!$(t).hasClass("ac_input")&&!$(t).hasClass("chzn_selected")){l[a]()}}}))}$(".ui-dialog-titlebar-close").on("mousedown",(function e(){if(typeof m.close_callback=="function"){m.close_callback()}$(d).dialog("destroy");o.disableNoScroll();$(document).trigger("modalDialog:closed")}));if(!m.omit_validation&&$.isFunction($.fn.bhrValidate)){$('.BhrForms:not(".js-noValidate")',d).bhrValidate({})}return false}function h(e){p=e}function v(e,t,a,r,n,i){var o={stacked_modal_id:"stacked-modal-dialog"};if(typeof i!="undefined"){$.extend(o,i)}if(!p){p="#modal-dialog"}var s=n||function(e,t){$(d).dialog("close")};o.dialogClass+=" stacked-dialog";return m(e,t,a,r,s,o)}function g(e,t,a){d="#modal-dialog";var r={modal:true};var n=$.__("Ok");if(typeof a!="undefined"&&typeof a.okString!="undefined"&&a.okString.length>0){n=a.okString}r.buttons=[{text:n,click:function(){w()},class:"btn btnAction"}];if(typeof a!="undefined"){$.extend(r,a)}y(e,t,r);return false}function y(e,t,a){w();$(window).scrollLeft(0);var r="auto";if($.browser.msie&&$.browser.version.substr(0,1)==7){r=500}var i={resizable:false,draggable:false,modal:true,width:r,height:"auto"};i.close=function(e,t){$("div.ui-dialog").addClass("displaynone");if(typeof i.inline_modal_id=="undefined"){$(d).remove()}};i.overlay={backgroundColor:"#000"};i.position={using:function(e,t){var a=(t.target.height-t.element.height)/3+t.target.top;var r="-"+Math.floor(t.element.width/2)+"px";$(this).css({top:a>0?a:0,left:"50%","margin-left":r})}};$.extend(i,a);if(typeof i.stacked_modal_id!="undefined"){var s=i.stacked_modal_id;if(!$("#"+s).length){$("body").append('<div id="'+s+'" title=""></div>')}var l=$(p).position().top+$(p).parent().position().top+5;var c;i.position={using:function(e,t){c="-"+Math.floor(t.element.width/2);$(this).css({top:l,left:e.left,minWidth:$(this).css("width"),borderTop:"none"});$(this).parent().css({top:$(p).parent().position().top})}};i.show={effect:"slideDown",complete:function(){$("#stacked-modal-dialog").parent().css({left:"50%","margin-left":c+"px"})},duration:350};i.hide={effect:"slideUp",duration:350}}else if(typeof i.inline_modal_id=="undefined"){if(!$("#modal-dialog").length){$("body").append('<div id="modal-dialog" title=""></div>')}}else{$("div.ui-dialog").removeClass("displaynone")}if(typeof i.inline_modal_id=="undefined"){$(d).html(t)}i.title=e;if(!i.create&&i.maxWidth){i.create=function(){$(this).css("maxWidth",i.maxWidth)}}$(d).dialog(i);$(".ui-widget-overlay").zIndex((0,n.getMaxZIndex)()+10);$(d).closest(".ui-dialog").zIndex((0,n.getMaxZIndex)()+10);if(a.privacy_link==true){$(".ui-dialog-buttonpane").append('<a href="http://www.bamboohr.com/privacy.php" class="privacyLink" target="_blank" rel="nofollow noopener noreferrer">'+$.__("Privacy Policy")+"</a>")}if(typeof a.button_pane_link!="undefined"){$(".ui-dialog-buttonpane").append('<a href="'+a.button_pane_link.url+'" class="privacyLink" target="_blank" rel="nofollow noopener noreferrer">'+a.button_pane_link.text+"</a>")}o.enableNoScroll();$(document).trigger("modalDialog:opened")}function b(){var e=$(".ui-dialog").width();$(".ui-dialog").css("margin-left",-Math.floor(e/2))}function w(e){var t;$("html").removeClass("noscroll");if(e===undefined){t=d}else{t=e}if($(t+".ui-dialog-content").length==0){return}$(t+".ui-dialog-content").dialog("destroy");$(t+" form").removeAttr("submitting");$(t).hide();o.disableNoScroll();$(document).trigger("modalDialog:closed")}function S(e){$(e).initializeElements();$("textarea[maxlength]").each((function(){$(this).limitCount($(this).attr("maxlength"))}))}function O(e,t,a,r,n,i){if(typeof i=="undefined"){i={}}$.get(t,i.url_data,(function(t){m(e,t,a,r,n,i)}));return false}function T(e,t,a){var r=$(d+" form");if(typeof t!="undefined"&&!t(r[0])){return false}window.BambooHR.Modal.setState({isProcessing:true},true);var n=BambooHR.Utils.Form.ajaxSubmit(r,a);if(n){n.then((function(...t){const a=t[0];e.apply(this,t);if(a.result.toLowerCase()==="success"){window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true)}})).fail((function(){window.BambooHR.Modal.setState({isProcessing:false},true)}))}return true}function C(e,t,a){var r="#modal-popup .save-button";if(typeof t!="undefined"){r="form#"+t+" .save-button"}$(r).click((function(){return P($(this).closest("form")[0],e,a)}));$("form#"+t).submit((function(){return P($(this)[0],e,a)}))}function P(e,t,a){var r=e.action;var n=$(e).serializeArray();if(typeof a!="undefined"){if(a(e)){$.post(r,n,t,"json")}}else{$.post(r,n,t,"json")}return false}(function(){if($.ui&&$.ui.dialog){$.ui.dialog.overlay.events=$.map("focus,keydown,keypress".split(","),(function(e){return e+".dialog-overlay"})).join(" ")}})()},19870:(e,t,a)=>{"use strict";var $=a(992005);window.EmployeeComments={remove:function(e){e.fadeOut("fast",(function(){$.when($(this).remove()).then((function(){if(typeof calculateHeight==="function"){window.calculateHeight()}}))}))},getCommentId:function(e){let t=e.split("-");return t[1]},deleteNewFiles:function(e){e.siblings(".files").find(".newFile").each((function(){let e=window.EmployeeComments.getCommentId($(this).attr("id"));if(window.deleteTempFile(e)){$(this).remove()}}))},buildCommentFileUploader:function(e,t,a,r,n){let i={};i.onFallbackSuccess=function(t,a){if(n=="true"){$("#thread-"+e+" .add-reply .files").append(a)}else{$("#comment-"+e).find(".files").append(a)}};i.removeFile=function(e){if(e.attr("id")!=""){let t=window.EmployeeComments.getCommentId(e.attr("id"));if(window.deleteTempFile(t)){return true}}else{return true}return false};i.setDragOverValues=function(e){e.addClass("dragOver").find(".links-msg").text($.__("Drop to upload")).show()};i.linkHTML=t;i.uploaderId=e;$(r).fileUploader(i)}}},743444:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.confirmUpload=t.confirmImport=t.confirm=void 0;var n=r(a(856075));var i=l(a(573674));var o=r(a(258674));a(741047);function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(s=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=s(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const d=250;const c=({isSheet:e=false,...t}={})=>new Promise((a=>{if(!window.IS_TICKET_LOGIN){return a()}t={isOpen:true,title:$.__(`Hold on. Not so fast...`),headline:$.__(`Are you sure?`),icon:"fab-triangle-exclamation-48x48",iconColor:"attention",primaryActionText:$.__(`Yes`),content:(0,n.default)(i.Fragment,{},void 0,(0,n.default)("p",{className:"TicketLoginModal__message"},void 0,[$.__(`Please, double check that you are uploading the right file to the right company.`),$.__(`This action has serious data security implications.`)].join(" ")),(0,n.default)("div",{className:"TicketLoginModal__badgeWrapper"},void 0,(0,n.default)(o.default,{}))),primaryAction(){p(e);setTimeout(a,0)},onClose(){p(e)},...t};if(e){t={sheetProps:t}}window.BambooHR.Modal.setState(t,e)}));t.confirm=c;const u=(e={})=>c({headline:$.__(`Are you sure you want to import this file for this company?`),primaryActionText:$.__(`Yes, Upload The File`),...e});t.confirmImport=u;const f=(e={})=>u({headline:$.__(`Are you sure you want to upload this file for this company?`),...e});t.confirmUpload=f;const p=e=>window.BambooHR.Modal.setState({sheetProps:null},e)},698273:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.BackupCodesContent=y;var n=r(a(856075));var i=h(a(573674));var o=a(273641);var s=a(651745);var l=a(121198);var d=a(178045);var c=a(774548);var u=a(318073);var f=a(885438);var p=a(795989);a(273213);function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=m(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const v=new l.BEM("BackupCodesContent");const g=v.elem("printWrapper");function y(e){const{onEndGeneratingNewCodes:t=o.noop,onStartGeneratingNewCodes:a=o.noop,printRequestCount:r=0,userId:l=window.SESSION_USER.id}=e;const[m,h]=(0,i.useState)(null);const[y,b]=(0,i.useState)(null);const[w,S]=(0,i.useState)(false);const O=e=>{const r=e?u.doGetNewBackupCodes:u.doGetBackupCodes;S(true);a();r(l).then((e=>{const{data:a}=e;if((0,o.isArray)(a)&&!(0,o.isEmpty)(a)){h(a);b(a[0].dateGenerated)}S(false);t()})).catch((()=>{S(false);t();(0,d.showSlidedown)(p.ERROR_MESSAGE,"error")}))};(0,i.useEffect)((()=>{O()}),[]);(0,i.useEffect)((()=>{if(r>0){(0,c.printDiv)(`.${g}`)}}),[r]);return(0,n.default)("div",{className:g},void 0,(0,n.default)("h4",{className:v.elem("printHeader")},void 0,p.HEADLINE),(0,n.default)("div",{className:v.elem("copy")},void 0,(0,n.default)("p",{},void 0,$.__("If you lose your phone or otherwise can't get codes via an Authenticator, you can use backup codes to sign in with 2-Step Login.")),(0,n.default)("br",{}),(0,n.default)("p",{},void 0,$.__("After you use a backup code to sign in, it becomes inactive.")),(0,n.default)("p",{},void 0,$.__("You can generate a new set of 10 codes whenever you want. After creating a new set, the old set automatically becomes inactive."))),m&&(0,n.default)("div",{},void 0,(0,n.default)(f.BackupCodes,{codes:m,date:y}),(0,n.default)("div",{className:v.elem("buttonWrapper")},void 0,(0,n.default)(s.Button,{clickAction:()=>O(true),iconBefore:"fab-circle-arrow-16x16",isDisabled:w,outline:true,secondary:true,text:$.__("Generate New Codes")}))))}},724257:(e,t,a)=>{"use strict";var moment=a(496406);var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.BackupCodes=u;var n=r(a(856075));var i=d(a(573674));var o=a(753134);var s=a(121198);a(35131);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const c=new s.BEM("BackupCodes");function u(e){const{codes:t,date:a,shouldChunk:r=true}=e;const[s,l]=(0,i.useState)([]);const[d,u]=(0,i.useState)(null);(0,i.useEffect)((()=>{if(r){const e=t.map(((e,t)=>{const{backupCode:a,...r}=e;let n=a;if(a.length>=2){const e=Math.floor(a.length/2);n=a.split("");n.splice(e,0," ");n=n.join("")}return{backupCode:n,...r}}));l(e)}}),[r,t]);(0,i.useEffect)((()=>{if(a){const e=moment(a).format("MMM D, YYYY");u(e||null)}}),[a]);return(0,n.default)("div",{className:c.elem("wrapper")},void 0,(0,n.default)("ul",{className:c.elem("list")},void 0,s.map((e=>{const{backupCode:t,dateUsed:a,id:r}=e;return(0,n.default)("li",{className:c.elem("code",{used:!!a})},`backupCode-${r}`,t)}))),d&&(0,n.default)("span",{className:c.elem("date")},void 0,(0,n.default)(o.Message,{text:$._("Generated on {1}"),params:[d]})))}},885438:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"BackupCodes",{enumerable:true,get:function(){return r.BackupCodes}});var r=a(724257)},795989:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.ERROR_MESSAGE=t.HEADLINE=t.TITLE=void 0;const r=$.__("2-Step Login Backup Codes");t.TITLE=r;const n=$.__("Keep these codes safe, but accessible.");t.HEADLINE=n;const i=$.__("Uh-oh. Something went wrong, please try this again later.");t.ERROR_MESSAGE=i},642702:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"BackupCodesContent",{enumerable:true,get:function(){return r.BackupCodesContent}});Object.defineProperty(t,"BACKUP_CODES_HEADLINE",{enumerable:true,get:function(){return n.HEADLINE}});Object.defineProperty(t,"BACKUP_CODE_TITLE",{enumerable:true,get:function(){return n.TITLE}});Object.defineProperty(t,"downloadCodes",{enumerable:true,get:function(){return i.downloadCodes}});var r=a(698273);var n=a(795989);var i=a(589246)},589246:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.downloadCodes=void 0;var r=a(178045);var n=a(293956);var i=a(318073);var o=a(795989);const s=(e=(()=>{var e;return(e=window.SESSION_USER)===null||e===void 0?void 0:e.id})())=>{(0,i.doGetBackupCodes)(e).then((e=>{const t=e.data.reduce(((e,t)=>{const{backupCode:a,dateUsed:r}=t;let n=a;if(r){n=n.concat($.__(" (used)"))}return e.concat(n,"\n")}),"");(0,n.downloadFile)({fileName:"backup-codes.txt",fileData:t})})).catch((()=>{(0,r.showSlidedown)(o.ERROR_MESSAGE,"error")}))};t.downloadCodes=s},333792:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.BackupCodesModal=u;t.showBackupCodesModal=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(851040);var s=a(975558);var l=a(642702);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function u(e){const{userId:t}=e;const[a,r]=(0,i.useState)(false);const[d,c]=(0,i.useState)(0);return(0,n.default)(o.Modal,{additionalAction:()=>c((e=>e+1)),additionalActionText:$.__("Print"),additionalActionButtonType:"button",alternativeAction:null,content:(0,n.default)(l.BackupCodesContent,{onStartGeneratingNewCodes:()=>r(true),onEndGeneratingNewCodes:()=>r(false),printRequestCount:d,userId:t}),headerType:"text",headline:l.BACKUP_CODES_HEADLINE,icon:"fab-lock-person-18x18",iconColor:"theme",isOpen:true,isProcessing:a,onClose:()=>(0,s.closeModal)(),primaryAction:()=>(0,s.closeModal)(),primaryActionText:$.__("Done"),secondaryAction:()=>(0,l.downloadCodes)(t),secondaryActionText:$.__("Download"),title:l.BACKUP_CODE_TITLE})}const f=e=>(0,s.showModal)(i.default.createElement(u,e));t.showBackupCodesModal=f},578033:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"BackupCodesModal",{enumerable:true,get:function(){return r.BackupCodesModal}});Object.defineProperty(t,"showBackupCodesModal",{enumerable:true,get:function(){return r.showBackupCodesModal}});var r=a(333792)},350568:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"MfaResetModal",{enumerable:true,get:function(){return r.MfaResetModal}});Object.defineProperty(t,"showMfaResetModal",{enumerable:true,get:function(){return r.showMfaResetModal}});var r=a(583682)},583682:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.MfaResetModal=g;t.showMfaResetModal=void 0;var n=r(a(856075));var i=h(a(573674));var o=a(273641);var s=a(121198);var l=a(851040);var d=a(178045);var c=a(753134);var u=a(975558);var f=a(318073);var p=a(955415);a(966517);function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=m(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const v=new s.BEM("MfaResetModal");function g(e){const{userId:t,name:a,onReset:r=o.noop,isResettingOwnMfa:s}=e;const[m,h]=(0,i.useState)(false);return(0,n.default)(l.Modal,{content:(0,n.default)("p",{className:v.elem("copy")},void 0,a?(0,n.default)(c.Message,{text:$.__("The next time {1} logs in, they will be directed to setup an authentication app and be able to scan the barcode.\n\n**Would you like to proceed?**"),params:[a]}):(0,n.default)(c.Message,{text:$.__("The next time you log in, you will be directed to setup an authentication app and be able to scan the barcode.\n\n**Would you like to proceed?**")})),headline:a?(0,n.default)(c.Message,{text:$.__("Reset {1}'s 2-Step Login"),params:[a]}):$.__("Reset My 2-Step Login"),icon:"fab-lock-45x54",iconColor:"theme",isOpen:true,isProcessing:m,onClose:()=>(0,u.closeModal)(),primaryAction:()=>{h(true);(0,f.doResetEmployeeMFALogin)(t).then((()=>{var e;r();h(false);const n=a?$.__("2-Step Login has been reset for %1$s",a):$.__("2-Step Login has been reset.");(0,d.showSlidedown)(n,"success");if(t===((e=window.SESSION_USER)===null||e===void 0?void 0:e.id)||s){(0,p.hideManageNavMfaOptions)()}(0,u.closeModal)()})).catch((()=>{h(false);(0,d.showSlidedown)($.__("Uh-oh. Something went wrong, please try again!"),"error")}))},primaryActionText:$.__("Yes, Reset"),title:$.__("Just making sure...")})}const y=e=>(0,u.showModal)(i.default.createElement(g,e));t.showMfaResetModal=y},331996:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getStoredRememberToken=o;t.isRememberTokenValid=s;t.removeStoredRememberToken=l;t.setStoredRememberToken=d;t.REMEMBER_TOKEN_KEY=void 0;var r=a(489100);var n=a(318073);const i="remember_token";t.REMEMBER_TOKEN_KEY=i;function o(){if((0,r.canUseLocalStorage)()){return localStorage.getItem(i)}return null}async function s(e,t){if(!t){return false}try{const{status:a}=await(0,n.validateRememberToken)(e,t);return a===200}catch{return false}}function l(){if((0,r.canUseLocalStorage)()){localStorage.removeItem(i)}}function d(e){if((0,r.canUseLocalStorage)()){localStorage.setItem(i,e)}}},421656:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"MfaResetModal",{enumerable:true,get:function(){return r.MfaResetModal}});Object.defineProperty(t,"showMfaResetModal",{enumerable:true,get:function(){return r.showMfaResetModal}});Object.defineProperty(t,"BackupCodesContent",{enumerable:true,get:function(){return n.BackupCodesContent}});Object.defineProperty(t,"BACKUP_CODES_HEADLINE",{enumerable:true,get:function(){return n.BACKUP_CODES_HEADLINE}});Object.defineProperty(t,"BACKUP_CODE_TITLE",{enumerable:true,get:function(){return n.BACKUP_CODE_TITLE}});Object.defineProperty(t,"downloadCodes",{enumerable:true,get:function(){return n.downloadCodes}});Object.defineProperty(t,"BackupCodesModal",{enumerable:true,get:function(){return i.BackupCodesModal}});Object.defineProperty(t,"showBackupCodesModal",{enumerable:true,get:function(){return i.showBackupCodesModal}});Object.defineProperty(t,"getStoredRememberToken",{enumerable:true,get:function(){return o.getStoredRememberToken}});Object.defineProperty(t,"isRememberTokenValid",{enumerable:true,get:function(){return o.isRememberTokenValid}});Object.defineProperty(t,"removeStoredRememberToken",{enumerable:true,get:function(){return o.removeStoredRememberToken}});Object.defineProperty(t,"setStoredRememberToken",{enumerable:true,get:function(){return o.setStoredRememberToken}});Object.defineProperty(t,"doGetBackupCodes",{enumerable:true,get:function(){return s.doGetBackupCodes}});Object.defineProperty(t,"doGetNewBackupCodes",{enumerable:true,get:function(){return s.doGetNewBackupCodes}});Object.defineProperty(t,"doGetUserMfaData",{enumerable:true,get:function(){return s.doGetUserMfaData}});Object.defineProperty(t,"doPostStartDate",{enumerable:true,get:function(){return s.doPostStartDate}});Object.defineProperty(t,"doUpdateStartDate",{enumerable:true,get:function(){return s.doUpdateStartDate}});Object.defineProperty(t,"doDisableMFA",{enumerable:true,get:function(){return s.doDisableMFA}});Object.defineProperty(t,"doGetEmployeesList",{enumerable:true,get:function(){return s.doGetEmployeesList}});Object.defineProperty(t,"doResetEmployeeMFALogin",{enumerable:true,get:function(){return s.doResetEmployeeMFALogin}});Object.defineProperty(t,"MFA_ENDPOINT",{enumerable:true,get:function(){return s.ENDPOINT}});Object.defineProperty(t,"hideManageNavMfaOptions",{enumerable:true,get:function(){return l.hideManageNavMfaOptions}});Object.defineProperty(t,"showManageNavMfaOptions",{enumerable:true,get:function(){return l.showManageNavMfaOptions}});var r=a(350568);var n=a(642702);var i=a(578033);var o=a(331996);var s=a(318073);var l=a(955415)},955415:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.hideManageNavMfaOptions=i;t.showManageNavMfaOptions=o;var r=a(350568);var n=a(578033);$("body").off("click.manage-nav-reset-mfa").on("click.manage-nav-reset-mfa",".js-manage-nav-reset-mfa",(e=>{const{userId:t}=e.target.dataset;(0,r.showMfaResetModal)({userId:t,isResettingOwnMfa:true})}));$("body").off("click.manage-nav-backup-codes").on("click.manage-nav-backup-codes",".js-manage-nav-backup-codes",(e=>{const{userId:t}=e.target.dataset;(0,n.showBackupCodesModal)({userId:t})}));function i(){const e=document.querySelectorAll(".js-manage-nav-mfa-option");if(e.length){e.forEach((e=>e.classList.add("hidden")))}}function o(){const e=document.querySelectorAll(".js-manage-nav-mfa-option");if(e.length){e.forEach((e=>e.classList.remove("hidden")))}}},318073:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.doGetUserMfaData=o;t.doPostStartDate=s;t.doUpdateStartDate=l;t.doDisableMFA=d;t.doGetEmployeesList=c;t.doResetEmployeeMFALogin=u;t.doGetBackupCodes=f;t.doGetNewBackupCodes=p;t.validateRememberToken=m;t.ENDPOINT=void 0;var n=r(a(417842));const i="/multi_factor_authentication";t.ENDPOINT=i;function o(e=(()=>{var e;return(e=window.SESSION_USER)===null||e===void 0?void 0:e.id})()){return n.default.get(`${i}/${e}`)}function s(e){return n.default.post(i,e)}function l(e){return n.default.put(i,e)}function d(){return n.default.delete(i)}function c(){return n.default.get(`${i}/users`)}function u(e){return n.default.delete(`${i}/${e}`)}function f(e){return n.default.get(`${i}/${e}/backup_codes`)}function p(e){return n.default.post(`${i}/${e}/backup_codes`)}function m(e,t){return n.default.request({headers:{rememberToken:`Bearer ${t}`},method:"post",url:`${i}/${e}/validate_remember_token`})}},555038:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.DepositAccount=d;var n=r(a(856075));var i=r(a(573674));var o=r(a(60042));var s=a(651745);var l=a(753134);a(430385);function d(e){const{amount:t,errorMessage:a="",imageUrl:r,isBankImageUrl:i,name:d,number:c,order:u,type:f,first:p,last:m,single:h}=e;const v="DepositAccount__text--bold";const g=p||h?(0,n.default)(l.Message,{em:{tag:"span",className:v},params:[t,d,f,c],text:$._(`*{1} of each check* goes to {2} {3} {4}`)}):(0,n.default)(l.Message,{em:{tag:"span",className:v},params:[t,d,f,c],text:$._(`*{1} of the remaining amount* goes to {2} {3} {4}`)});const y=(0,o.default)("DepositAccount__data",{"DepositAccount__data--bordered":!h&&!m});return(0,n.default)("div",{className:"DepositAccount"},void 0,!h&&(0,n.default)("div",{className:"DepositAccount__order"},void 0,u),(0,n.default)("div",{className:y},void 0,i?(0,n.default)("img",{alt:"bank logo",className:"DepositAccount__logo",src:r}):(0,n.default)("span",{className:"DepositAccount__icon"},void 0,(0,n.default)(s.Icon,{name:"fab-bank-24x24"})),(0,n.default)("div",{},void 0,(0,n.default)("p",{className:"DepositAccount__text"},void 0,g),a&&(0,n.default)("p",{className:"DepositAccount__errorMessage"},void 0,a))))}},948554:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"DepositAccount",{enumerable:true,get:function(){return r.DepositAccount}});var r=a(555038)},717314:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.DepositBlankState=c;var n=r(a(856075));var i=r(a(573674));var o=a(273641);var s=a(651745);var l=a(651745);var d=a(479706);a(217250);function c(e){const{hasTrax:t,buttonAction:a,canEdit:r}=e;const i=(0,d.isEnabled)("jade");const c=`+ ${$.__("Add Direct Deposit")}`;const u=typeof a==="function"?a:o.noop;const f=t?$.__("You will receive a paper check until you add direct deposit info."):$.__(`You don't have any Direct Deposit accounts set up.`);const p=i?"fab-money-waving-72x72":"paycheck-51x45";const m=t?p:"fab-bank-outlined-72x72";return(0,n.default)("div",{className:"DepositBlankState"},void 0,(0,n.default)("span",{className:"DepositBlankState__icon"},void 0,(0,n.default)(l.Icon,{name:m})),(0,n.default)("h3",{className:"DepositBlankState__title"},void 0,f),r&&(0,n.default)("div",{className:"DepositBlankState__button"},void 0,i?(0,n.default)(s.Button,{clickAction:u,outline:true,text:c,type:"button"}):(0,n.default)("button",{className:"btn",onClick:u,type:"button"},void 0,c)))}},693482:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"DepositBlankState",{enumerable:true,get:function(){return r.DepositBlankState}});var r=a(717314)},162277:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.DirectDeposit=void 0;var n=r(a(856075));var i=r(a(368652));var o=h(a(573674));var s=r(a(60042));var l=a(651745);var d=a(651745);var c=a(65595);var u=a(693482);var f=a(948554);var p=a(472418);a(402283);function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=m(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class v extends o.Component{static get className(){return"DirectDeposit"}constructor(e){super(e);this._handleHideModal=()=>this.setState({showModal:false});this._handleShowModal=()=>{if(window.ASSUMED_USER){window.disabledForPermsTest()}else{this.setState({showModal:true})}};this._handleSaveSuccess=e=>{const{onSaveSuccess:t}=this.props;const{data:{direct_deposits:{BANK:a}}}=e;this.setState({deposits:a||[],showModal:false},(()=>{if(typeof t==="function"){t(a)}}))};this._renderMainContent=(e,t,a)=>{const{useTextButton:r}=this.props;const s=e.length;return e.length?e.map(((e,t)=>o.default.createElement(f.DepositAccount,(0,i.default)({first:t===0,key:e.order,last:t===s-1,single:s===1},e)))):!r&&(0,n.default)(u.DepositBlankState,{buttonAction:this._handleShowModal,canEdit:a,hasTrax:t})};const{deposits:t}=e;this.state={deposits:t||[],showModal:false}}render(){const{deposits:e,showModal:t}=this.state;const{hasTrax:a,permissionLevel:r,employeeId:i,customSave:o,customRoutingValidationUrl:u,useTextButton:f}=this.props;const m=o?o:null;const h=r===p.PERM_LEVEL.VIEW_EDIT;const v=e.length;const g=v?!(0,p.togglePaperCheckMsg)(e[v-1]):false;const y=(0,s.default)("DirectDeposit");const b=(0,s.default)("DirectDeposit__accounts",{"DirectDeposit__accounts--blank":!f&&!v,"DirectDeposit__accounts--borderBottom":g&&v});return(0,n.default)("div",{className:y},void 0,(0,n.default)("div",{className:b},void 0,v>1&&(0,n.default)("div",{className:"DirectDeposit__vertLine"}),this._renderMainContent(e,a,h)),g&&(0,n.default)("div",{className:"DirectDeposit__paperCheck"},void 0,(0,n.default)("span",{className:"DirectDeposit__paperCheckIcon"},void 0,(0,n.default)(d.Icon,{name:"fab-checkbook-20x16"})),(0,n.default)("p",{className:"DirectDeposit__paperCheckText"},void 0,$.__(`You'll receive a paper check with any remaining balance`))),v===0&&h&&f&&(0,n.default)(d.TextButton,{onClick:this._handleShowModal,type:"button"},void 0,"+ ",$.__("Add Direct Deposit Account(s)")),v>0&&h&&!f&&(0,n.default)("div",{className:"DirectDeposit__updateButton"},void 0,(0,n.default)(l.Button,{clickAction:this._handleShowModal,type:"button"},void 0,(0,n.default)("span",{className:"DirectDeposit__updateButtonIcon phoneHide"},void 0,(0,n.default)(d.Icon,{name:"fab-pencil-12x12"})),(0,n.default)("span",{className:"DirectDeposit__updateButtonIcon hidden phoneOnly phoneOnly--block"},void 0,(0,n.default)(d.Icon,{name:"fab-pencil-20x20"})),$.__("Update Direct Deposit"))),v>0&&h&&f&&(0,n.default)(d.TextButton,{clickAction:this._handleShowModal,type:"button"},void 0,$.__("Update Direct Deposit Account(s)")),(0,n.default)(c.DirectDepositModal,{accounts:e,customRoutingValidationUrl:u||null,customSave:m,employeeId:i,hasTrax:a,onCancelClick:this._handleHideModal,onSaveSuccess:this._handleSaveSuccess,visible:t}))}}t.DirectDeposit=v},389457:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"DirectDeposit",{enumerable:true,get:function(){return r.DirectDeposit}});var r=a(162277)},472418:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.togglePaperCheckMsg=t.PERM_LEVEL=void 0;const a={NONE:0,VIEW:1,VIEW_REQUEST:2,VIEW_EDIT:3};t.PERM_LEVEL=a;const r=e=>e.replace("%","").replace(",","").replace("$","");const n=e=>e.calculationType==="Balance"&&Number(r(e.amount))===100;t.togglePaperCheckMsg=n},130982:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AccountCard=f;var n=r(a(856075));var i=r(a(573674));var o=r(a(8460));var s=a(651745);var l=a(651745);var d=a(479706);var c=a(121198);a(224807);const u=(0,d.isEnabled)("jade");function f(e){const{accountId:t,accountNum:a,accountType:r,amount:d,bankName:f,flatOrPercent:h,imgUrl:v,onDeleteAccount:g,onRoutingNumBlur:y,onValueChange:b,order:w,routingNum:S,routingNumError:O,routingNumPending:T,showDelete:C}=e;const P=(0,c.classNameFromObject)({fieldBox:true,error:O});const E=(0,c.classNameFromObject)("fab-TextInput fab-TextInput--width4",{"fab-TextInput--error":u&&O});if(u){return i.default.createElement(i.default.Fragment,null,(0,n.default)("h4",{className:"AccountCard__orderNumberHeader"},void 0,$.__("Account %1:",w)),(0,n.default)("div",{className:"AccountCard"},void 0,(0,n.default)("div",{className:"AccountCard__order"},void 0,(0,n.default)("div",{className:"AccountCard__orderNumber"},void 0,w)),(0,n.default)("div",{className:"AccountCard__form"},void 0,(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("label",{className:"fab-Label hidden phoneOnly phoneOnly--flex depositLabel",htmlFor:`amountFlat${t}`},void 0,$.__("Deposit")),(0,n.default)("span",{className:"fab-FormField phoneHide"},void 0,$.__("Deposit")),(0,n.default)("div",{className:"fab-FormField"},void 0,(0,n.default)("div",{className:"bhrToggleSmall bhrToggle--btn"},void 0,(0,n.default)("input",{className:"bhrToggle--btn-1","data-currency-toggle":"$","data-field-class":`js-depositAmount${t}`,"data-flag":"currency",defaultChecked:h==="FLAT"?"checked":null,id:`amountFlat${t}`,name:`amountType${t}`,onChange:e=>b(e,t,"flatOrPercent",true),type:"radio",value:"FLAT"}),(0,n.default)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`amountFlat${t}`},void 0,"$"),(0,n.default)("input",{className:"bhrToggle--btn-2","data-currency-toggle":"%","data-field-class":`js-depositAmount${t}`,"data-flag":"percent",defaultChecked:h==="PCT"?"checked":null,id:`amountPercent${t}`,name:`amountType${t}`,onChange:e=>b(e,t,"flatOrPercent",true),type:"radio",value:"PCT"}),(0,n.default)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`amountPercent${t}`},void 0,"%"),(0,n.default)("span",{className:"bhrToggle__handle bhrToggle--btn__handle brandedToggle"}))),(0,n.default)("div",{className:"fab-FormField"},void 0,(0,n.default)("input",{className:`fab-TextInput fab-TextInput--width3 js-depositAmount${t} ${h==="PCT"?"percent-field":"currency-field"}`,"data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",onBlur:e=>b(e,t,"amount",true),onChange:e=>b(e,t,"amount"),type:"text",value:d})),(0,n.default)("span",{className:"fab-FormField DepositNote"},void 0,w>1?$.__("of the remaining amount into"):$.__("of each check into"),":")),(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("div",{className:"fab-FormColumn"},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"accountNum"},void 0,$.__("Account Number")),(0,n.default)("input",{className:"fab-TextInput fab-TextInput--width4",id:"accountNum",onChange:e=>b(e,t,"accountNum"),type:"text",value:a})),(0,n.default)("div",{className:"fab-FormColumn"},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"routingNum"},void 0,$.__("Routing Number")),(0,n.default)("input",{className:E,id:"routingNum",onBlur:e=>y(e.target.value,t),onChange:e=>b(e,t,"routingNum"),type:"text",value:S})),(0,n.default)("div",{className:"fab-FormColumn lastColumn"},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"accountType"},void 0,$.__("Account Type")),(0,n.default)(o.default,{data:{items:p(r)},id:"accountType",onChange:e=>b(e,t,"accountType"),settings:{notClearable:true},width:"5"})),(0,n.default)("div",{className:"AccountCard__validation"},void 0,m(T,f,v,O)))),C&&(0,n.default)("div",{className:"AccountCard__delete"},void 0,(0,n.default)(l.FloatingIconButton,{clickAction:()=>g(t),icon:"fab-trash-can-10x12",secondary:true,type:"button"}))))}return(0,n.default)("div",{className:"AccountCard"},void 0,(0,n.default)("div",{className:"AccountCard__order"},void 0,(0,n.default)("div",{className:"AccountCard__orderNumber"},void 0,w)),(0,n.default)("div",{className:"AccountCard__form"},void 0,(0,n.default)("div",{className:"AccountCard__deposit"},void 0,(0,n.default)("div",{className:"AccountCard__depositText"},void 0,$.__("Deposit")),(0,n.default)("div",{className:"fieldBox AccountCard__depositToggle"},void 0,(0,n.default)("div",{className:"fieldDiv"},void 0,(0,n.default)("div",{className:"bhrToggleSmall bhrToggle--btn"},void 0,(0,n.default)("input",{className:"bhrToggle--btn-1","data-currency-toggle":"$","data-field-class":`js-depositAmount${t}`,"data-flag":"currency",defaultChecked:h==="FLAT"?"checked":null,id:`amountFlat${t}`,name:`amountType${t}`,onChange:e=>b(e,t,"flatOrPercent",true),type:"radio",value:"FLAT"}),(0,n.default)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`amountFlat${t}`},void 0,"$"),(0,n.default)("input",{className:"bhrToggle--btn-2","data-currency-toggle":"%","data-field-class":`js-depositAmount${t}`,"data-flag":"percent",defaultChecked:h==="PCT"?"checked":null,id:`amountPercent${t}`,name:`amountType${t}`,onChange:e=>b(e,t,"flatOrPercent",true),type:"radio",value:"PCT"}),(0,n.default)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`amountPercent${t}`},void 0,"%"),(0,n.default)("span",{className:"bhrToggle__handle bhrToggle--btn__handle brandedToggle"})))),(0,n.default)("div",{className:"fieldBox"},void 0,(0,n.default)("div",{className:"fieldDiv"},void 0,(0,n.default)("input",{className:`xshort js-depositAmount${t} ${h==="PCT"?"percent-field":"currency-field"}`,onBlur:e=>b(e,t,"amount",true),onChange:e=>b(e,t,"amount"),type:"text",value:d}))),(0,n.default)("div",{className:"AccountCard__depositText"},void 0,w>1?$.__("of the remaining amount into"):$.__("of each check into"),":")),(0,n.default)("div",{className:"AccountCard__account"},void 0,(0,n.default)("div",{className:"fieldBox"},void 0,(0,n.default)("label",{htmlFor:"accountNum"},void 0,$.__("Account Number")),(0,n.default)("div",{className:"fieldDiv"},void 0,(0,n.default)("input",{id:"accountNum",onChange:e=>b(e,t,"accountNum"),type:"text",value:a}))),(0,n.default)("div",{className:P},void 0,(0,n.default)("label",{htmlFor:"routingNum"},void 0,$.__("Routing Number")),(0,n.default)("div",{className:"fieldDiv"},void 0,(0,n.default)("input",{id:"routingNum",onBlur:e=>y(e.target.value,t),onChange:e=>b(e,t,"routingNum"),type:"text",value:S}))),(0,n.default)("div",{className:"fieldBox"},void 0,(0,n.default)("label",{htmlFor:"accountType"},void 0,$.__("Account Type")),(0,n.default)("div",{className:"fieldDiv"},void 0,(0,n.default)(o.default,{className:"AccountCard__accountTypeSelect",data:{items:p(r)},id:"accountType",onChange:e=>b(e,t,"accountType"),settings:{notClearable:true}}))),(0,n.default)("div",{className:"AccountCard__accountValidation"},void 0,m(T,f,v,O)))),C&&(0,n.default)("div",{className:"AccountCard__delete"},void 0,(0,n.default)("button",{className:"AccountCard__deleteIcon",onClick:()=>g(t),type:"button"},void 0,(0,n.default)(s.Icon,{name:"trash-can-10x12"}))))}function p(e){return[{displayText:$.__("Checking"),value:"Checking",selected:e==="Checking"},{displayText:$.__("Savings"),value:"Savings",selected:e==="Savings"}]}function m(e,t,a,r){if(e){return(0,n.default)("div",{className:"AccountCard__bankPending"},void 0,(0,n.default)("div",{className:"dotLoader small"},void 0,(0,n.default)("div",{className:"bounce1"}),(0,n.default)("div",{className:"bounce2"}),(0,n.default)("div",{className:"bounce3"})),(0,n.default)("span",{},void 0,$.__("Validating"),"..."))}if(r){const e=u?"fab-FormNote fab-FormNote--error":"AccountCard__bankText AccountCard__bankText--error";return(0,n.default)("span",{className:e},void 0,$.__(`Sorry, that's not a valid Routing Number`))}if(a){return(0,n.default)("img",{alt:t?`${t} logo`:"bank logo",className:"AccountCard__bankLogo",src:a})}if(t){return(0,n.default)("span",{className:"AccountCard__bankText"},void 0,t)}return null}},913118:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AccountCard",{enumerable:true,get:function(){return r.AccountCard}});var r=a(130982)},129004:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.formatDirectDepositAmount=i;var n=r(a(569005));function i(e,t){var a,r,i;const o=".";const s=",";e=(0,n.default)(e).call(e,"-","");let l=true;e=(0,n.default)(e).call(e,o,(e=>{if(!l){return""}l=false;return e}));const d=Number((0,n.default)(a=(0,n.default)(r=(0,n.default)(i=(0,n.default)(e).call(e,"$","")).call(i,"%","")).call(r,s,"")).call(a,o,"."));if(t==="PCT"){e=(0,n.default)(e).call(e,s,"");if(d>100){e="100%"}}if(d===0){e=""}return e}},984432:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.DirectDepositModal=void 0;var n=r(a(368652));var i=r(a(856075));var o=g(a(573674));var s=a(273641);var l=a(851040);var d=a(651745);var c=a(651745);var u=r(a(417842));var f=a(121198);var p=a(129004);var m=a(913118);var h=a(826093);a(695634);function v(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(v=function(e){return e?a:t})(e)}function g(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=v(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class y extends o.Component{static get className(){return"DirectDepositModal"}constructor(e){super(e);this._getFabricModalProps=(e,t,a)=>{const{isProcessing:r}=this.state;return{headerType:"text",headline:$.__("Direct Deposit Accounts"),icon:"fab-bank-20x19",isMobileFriendly:true,isOpen:e,isProcessing:r,onClose:a,primaryAction:t,primaryActionText:$.__("Save"),sheetProps:this._getFabricSheetProps(),title:$.__("Update Direct Deposit"),type:"medium"}};this._getFabricSheetProps=()=>{const{showJustCheckingModal:e}=this.state;return{content:(0,i.default)("p",{className:"DDModal__checkingText"},void 0,$.__("Are you sure you want to delete all direct deposit information and start receiving paper checks?")),headerType:"stacked",headline:$.__("You will start receiving paper checks"),icon:"fab-checkbook-70x56",isMobileFriendly:true,isOpen:e,onClose:()=>this.setState({showJustCheckingModal:false}),primaryAction:this._handleDeleteAllAccounts,primaryActionText:$.__("Yes, Delete Direct Deposit"),title:$.__("Just Checking...")}};this._getModalProps=(e,t,a)=>({visible:e,onClose:a,options:{footer:{show:true,buttons:{primary:{action:t,text:$.__("Save")}}},title:$.__("Update Direct Deposit")}});this._handleAddAccount=()=>{let{accounts:e,newId:t}=this.state;const a=[...e];a.push((0,h.createNewAccount)(t));const r=(0,h.togglePaperCheckMsg)(a[a.length-1]);t--;this.setState({accounts:a,newId:t,hidePaperCheckMsg:r})};this._handleDeleteAllAccounts=()=>{const{employeeId:e}=this.state;const{hasTrax:t,onSaveSuccess:a,customSave:r}=this.props;if(!t){return}if(r&&typeof r==="function"){this.setState({showJustCheckingModal:false});r(null,a);return}u.default.post(`/payroll/direct_deposit/accounts/save/${e}`,{accounts:[]}).then((e=>{if(e.status===200){if(typeof a==="function"){a(e)}this.setState({accounts:[(0,h.createNewAccount)()],showJustCheckingModal:false},(()=>{this._initialState=(0,s.cloneDeep)(this.state)}));window.setMessage($.__("Direct Deposit info updated."),"success")}})).catch((()=>{window.setMessage($.__("Failed to save Direct Deposit changes."),"error")}))};this._handleDeleteAccount=e=>{const{accounts:t}=this.state;const a=[];if(t.length===1){this._handleDeleteLastAccount();return}t.forEach((t=>{if(t.accountId!==e){a.push(t)}}));const r=(0,h.togglePaperCheckMsg)(a[a.length-1]);this.setState({accounts:a,hidePaperCheckMsg:r})};this._handleDeleteLastAccount=()=>{const{hasTrax:e}=this.props;if(!e){return}this.setState({showJustCheckingModal:true})};this._handleModalClose=()=>{const{onCancelClick:e}=this.props;e();this.setState((0,s.cloneDeep)(this._initialState))};this._handleRoutingNumBlur=(e,t)=>{if(!e||!t){return}const{customRoutingValidationUrl:a}=this.props;const r=a?`${a}${e}`:`/payroll/direct_deposit/routing/validate/${e}`;const{accounts:n}=this.state;const i=[...n];const o=i.findIndex((e=>e.accountId===t));i[o].routingNumPending=true;this.setState({accounts:i});const s=this._modalOpenCount;u.default.get(r).then((e=>{if(!this._isModalOpen||this._modalOpenCount!==s){return}const{data:{imageUrl:t,name:a}}=e;i[o].imgUrl=t;i[o].bankName=a;i[o].routingNumPending=false;i[o].routingNumError=false})).catch((()=>{if(!this._isModalOpen||this._modalOpenCount!==s){return}i[o].imgUrl=null;i[o].bankName=null;i[o].routingNumPending=false;i[o].routingNumError=true})).finally((()=>{if(!this._isModalOpen||this._modalOpenCount!==s){return}this.setState({accounts:i})}))};this._handleValueChange=(e,t,a,r=false)=>{let{accounts:n,hidePaperCheckMsg:i}=this.state;const o=[...n];const s=o.findIndex((e=>e.accountId===t));const l=a==="accountType"?e.value:e.target.value;if(a==="accountNum"&&!(0,h.accountNumIsValid)(l)){return}o[s][a]=l;if(a==="amount"&&e.type==="blur"){o[s].amount=(0,p.formatDirectDepositAmount)(o[s].amount,o[s].flatOrPercent)}if(a==="flatOrPercent"){const a=$(`.js-depositAmount${t}`);a.focus();window.BambooHR.Utils.formatCurrencyPercentToggle(e.target,`.js-depositAmount${t}`);o[s].amount=(0,p.formatDirectDepositAmount)(a.val(),o[s].flatOrPercent)}if(r){const e=o[o.length-1];i=(0,h.togglePaperCheckMsg)(e)}this.setState({accounts:o,hidePaperCheckMsg:i})};this._handleSaveClick=()=>{this.setState({isProcessing:true});const{onSaveSuccess:e,employeeId:t,customSave:a}=this.props;const r=a&&typeof a!=="function"?`${a}${t}`:`/payroll/direct_deposit/accounts/save/${t}`;const{accounts:n}=this.state;const i=(0,h.validateAccountData)(n);if(!i.valid){this.setState({isProcessing:false});window.setMessage(i.error,"error");return}const o=(0,h.formatSaveData)(n);if(typeof a==="function"){a(o,e);return}u.default.post(r,{accounts:o}).then((t=>{this.setState({isProcessing:false},(()=>{this._initialState=(0,s.cloneDeep)(this.state);if(typeof e==="function"){e(t)}}))})).catch((()=>{window.setMessage(h.DEFAULT_ERROR,"error");this.setState({isProcessing:false})}))};this._renderAccountCards=e=>{let t=[];const{accounts:a}=this.state;const r=[...a];r[0].showDelete=e;r.forEach(((e,a)=>{e.order=a+1;t.push(o.default.createElement(m.AccountCard,(0,n.default)({key:e.accountId,onAmountBlur:this._handleAmountBlur,onDeleteAccount:this._handleDeleteAccount,onRoutingNumBlur:this._handleRoutingNumBlur,onValueChange:this._handleValueChange},e)))}));return t};this._isModalOpen=false;this._maxAccounts=4;this._modalOpenCount=0;const{accounts:t,employeeId:a}=e;let r=[(0,h.createNewAccount)()];if(t&&t.length){r=(0,h.formatAccountsToEdit)(t)}this.state={employeeId:a,accounts:r,newId:-2,hidePaperCheckMsg:(0,h.togglePaperCheckMsg)(r[r.length-1]),showJustCheckingModal:false};this._initialState=(0,s.cloneDeep)(this.state)}componentDidMount(){const{accounts:e}=this.props;if(Array.isArray(e)&&e.length){const{accounts:e}=this.state;const t=(0,s.cloneDeep)(e);const a=(0,h.getUnmaskedAccountNums)(t);Promise.all(a).then((e=>{this.setState({accounts:e});this._initialState.accounts=(0,s.cloneDeep)(e)}))}}componentDidUpdate(e){const{visible:t}=this.props;if(t&&(!e||!e.visible)){this._modalOpenCount++}}render(){const{accounts:e,hidePaperCheckMsg:t}=this.state;const{visible:a,hasTrax:r,optionalPreHeader:n}=this.props;this._isModalOpen=a;const s=(0,f.classNameFromObject)({DDModal__paperCheck:true,"DDModal__paperCheck--hidden":t});return o.default.createElement(l.Modal,this._getFabricModalProps(a,this._handleSaveClick,this._handleModalClose),n&&n,(0,i.default)("div",{className:"DDModal"},void 0,(0,i.default)("div",{className:"DDModal__cardContainer BhrForms"},void 0,this._renderAccountCards(r)),(0,i.default)("div",{className:"DDModal__buttonLinks"},void 0,e.length===this._maxAccounts&&!r?(0,i.default)("span",{className:"DDModal__cardMaxText"},void 0,$.__("You can only have four direct deposit accounts"),"."):(0,i.default)(d.TextButton,{clickAction:this._handleAddAccount,text:`+ ${$.__("Add Account")}`,type:"button"}),r&&(0,i.default)(d.TextButton,{clickAction:this._handleDeleteLastAccount,muted:true,text:$.__(`I'd prefer a paper check`),type:"button"})),(0,i.default)("div",{className:s},void 0,(0,i.default)("span",{className:"DDModal__paperCheckIcon"},void 0,(0,i.default)(c.Icon,{name:"fab-checkbook-20x16"})),(0,i.default)("div",{className:"DDModal__paperCheckText"},void 0,$.__(`You'll receive a paper check with any remaining balance`),"."))))}}t.DirectDepositModal=y},124706:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"DirectDepositModal",{enumerable:true,get:function(){return r.DirectDepositModal}});var r=a(984432)},65595:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"DirectDepositModal",{enumerable:true,get:function(){return r.DirectDepositModal}});var r=a(124706)},826093:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.validateAccountData=o;t.formatAccountsToEdit=s;t.formatSaveData=l;t.getUnmaskedAccountNums=c;t.createNewAccount=f;t.accountNumIsValid=m;t.togglePaperCheckMsg=t.stripSymbolsFromAmount=t.DEFAULT_ERROR=void 0;var n=r(a(417842));const i=$.__("Whoops... No worries. Please fix any missing or incorrect information and try again.");t.DEFAULT_ERROR=i;function o(e){let t=true;let a=i;const r=e.length-1;e.forEach(((e,n)=>{if(e.flatOrPercent==="PCT"&&Number(d(e.amount))===100&&n!==r){t=false;a=$.__("Oops... Only your last account can have 100%s of the remaining amount deposited into it.","%")}if(!e.order){t=false}if(!e.amount){t=false}if(!e.accountNum){t=false}if(!e.routingNum){t=false}if(!e.accountType){t=false}if(!e.bankName){t=false}if(!e.flatOrPercent){t=false}if(e.routingNumError){t=false}}));return{valid:t,error:a}}function s(e){const t=[];e.forEach((e=>{t.push({order:e.order,accountId:e.accountId,amount:e.amount,accountNum:e.number,routingNum:e.routingNumber,accountType:e.type==="savings"?"Savings":"Checking",flatOrPercent:e.calculationType==="Percent"||e.calculationType==="Balance"?"PCT":"FLAT",bankName:e.name,imgUrl:e.imageUrl==="/images/bank-logos/default-bank.png"?null:e.imageUrl,routingNumPending:false,routingNumError:false,showDelete:true})}));return t}function l(e){const t=[];e.forEach((e=>{t.push({order:e.order,account_id:e.accountId>0?e.accountId:null,amount:d(e.amount),number:e.accountNum,routing_number:e.routingNum,type:e.accountType,name:e.bankName,image_url:e.imgUrl,flat_or_percent:e.flatOrPercent})}));return t}const d=e=>e.replace("%","").replace(",","").replace("$","");t.stripSymbolsFromAmount=d;function c(e,t){let a=[];e.forEach((e=>{const r=new Promise(((a,r)=>{if(e.accountId<0){a(e)}else{const i=t?`${t}${e.accountId}`:`/payroll/direct_deposit/unmasked_account_number/${e.accountId}`;n.default.get(i).then((t=>{e.accountNum=t.data.accountNumber;a(e)})).catch((e=>r(e)))}}));a.push(r)}));return a}const u=e=>e.flatOrPercent==="PCT"&&Number(d(e.amount))===100;t.togglePaperCheckMsg=u;function f(e){return{showDelete:true,accountNum:"",routingNum:"",routingNumPending:false,routingNumError:false,accountType:null,flatOrPercent:"FLAT",amount:"",accountId:e?e:-1,bankName:null,imgUrl:null}}const p=/^[0-9-]*$/;function m(e){return p.test(e)&&e.length<=17}},201768:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.SAVE_ERROR_MESSAGE=t.INVALID_ERROR_MESSAGE=t.INPUT_FIELD_MAP=t.INITIAL_STATE=void 0;const r={id:null,name:{value:"",error:false},street1:{value:"",error:false},street2:{value:""},city:{value:"",error:false},state:{value:"",error:false},zip:{value:"",error:false},phone:{value:"",error:false},email:{value:""}};t.INITIAL_STATE=r;const n={street1:{size:"xxlong fab-TextInput--width8",placeholder:$.__("Street 1")},street2:{size:"xxlong fab-TextInput--width8",placeholder:$.__("Street 2")},city:{size:"long fab-TextInput--width5",placeholder:$.__("City")},zip:{size:"xshort fab-TextInput--width3",placeholder:$.__("ZIP")},phone:{size:"xlong fab-TextInput--width6",placeholder:$.__("Phone"),nub:"fab-mobile-phone-10x16"},email:{size:"xlong fab-TextInput--width8",placeholder:$.__("Email"),nub:"fab-envelope-16x12"}};t.INPUT_FIELD_MAP=n;const i=$.__("Whoops... No worries. Please fix any missing or incorrect information and try again.");t.INVALID_ERROR_MESSAGE=i;const o=$.__(`Uh oh...something went wrong, and the payee wasn't saved. Try it again?`);t.SAVE_ERROR_MESSAGE=o},368937:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"PayeeModal",{enumerable:true,get:function(){return r.PayeeModal}});var r=a(719849)},719849:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.PayeeModal=void 0;var n=r(a(856075));var i=v(a(573674));var o=a(558358);var s=a(851040);var l=a(651745);var d=r(a(8460));var c=r(a(417842));var u=a(479706);var f=a(273641);a(674627);var p=a(201768);var m=a(717746);function h(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(h=function(e){return e?a:t})(e)}function v(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=h(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const g=(0,u.isEnabled)("jade");const y=g?s.Modal:o.Modal;class b extends i.Component{static get className(){return"PayeeModal"}constructor(e){super(e);this._resetState=()=>this.setState(this._originalState);this._getModalData=()=>{const{visible:e,onClose:t,type:a}=this.props;if(g){return{isOpen:e,onClose:()=>{this._resetState();t()},primaryAction:this._handleSaveClick,primaryActionText:$.__("Save"),title:a==="edit"?$.__("Edit Payee"):$.__("Add Payee")}}return{visible:e,onClose:()=>{this._resetState();t()},options:{title:a==="edit"?$.__("Edit Payee"):$.__("Add Payee"),footer:{buttons:{primary:{action:this._handleSaveClick}}}}}};this._getStateSelectData=()=>{const{allStates:e,state:t}=this.state;const a=e.map((e=>({displayText:e.name,value:e.id,selected:e.id===t.value})));return{data:{items:a},settings:{placeholder:"State"},className:"xshort",onChange:this._handleStateSelectChange}};this._getAllStateData=()=>{c.default.get("/ajax/get_states?country=1").then((e=>{if(e.status===200&&e.data&&e.data.data){this.setState({allStates:e.data.data})}}))};this._savePayee=(e,t)=>{const{onSaveSuccess:a,onClose:r,type:n}=this.props;c.default.request({method:t,url:"/payroll/non_benefit_deductions/payee",data:e}).then((e=>{if(e.status===200||e.status===201){if(typeof a==="function"){a(e.data)}if(n==="edit"){this._originalState=this.state}this._resetState();r()}else{window.setMessage(p.SAVE_ERROR_MESSAGE,"error")}})).catch((()=>{window.setMessage(p.SAVE_ERROR_MESSAGE,"error")}))};this._handleStateSelectChange=e=>this.setState({state:{value:e?e.value:"",error:false}});this._handleInputChange=(e,t)=>{const a={};a[t]={value:e?e.target.value:"",error:false};this.setState(a)};this._handleSaveClick=()=>{const e=(0,m.validatePayeeForm)(this.state);const{type:t}=this.props;if(e.success){const e=(0,m.prepPayeeSaveData)(this.state);if(e.success){const a=t==="edit"?"put":"post";this._savePayee(e.data,a)}else{window.setMessage(p.INVALID_ERROR_MESSAGE,"error")}}else{window.setMessage(p.INVALID_ERROR_MESSAGE,"error");this.setState(e.errorData)}};this._renderInputFieldBox=(e,t)=>{const a=p.INPUT_FIELD_MAP[e];const r=this.state[e];if(g&&a.nub){return(0,n.default)("div",{className:(0,m.getFieldBoxClasses)(t,r.error)},void 0,(0,n.default)("div",{className:"fab-InputWrapper"},void 0,(0,n.default)("input",{className:`fab-TextInput fab-TextInput--withNub ${a.size} ${r.error?"fab-TextInput--error":""}`,onChange:t=>this._handleInputChange(t,e),placeholder:a.placeholder,type:"text",value:r.value}),(0,n.default)("span",{className:"fab-TextInputNub"},void 0,(0,n.default)("span",{className:"fab-TextInputNub__icon"},void 0,(0,n.default)(l.Icon,{name:a.nub})))))}return(0,n.default)("div",{className:(0,m.getFieldBoxClasses)(t,r.error)},void 0,(0,n.default)("div",{className:"fieldDiv"},void 0,(0,n.default)("input",{className:`fab-TextInput ${a.size} ${r.error?"fab-TextInput--error":""}`,onChange:t=>this._handleInputChange(t,e),placeholder:a.placeholder,type:"text",value:r.value})))};const{type:t,payeeData:a}=this.props;let r=(0,f.cloneDeep)(p.INITIAL_STATE);if(t==="edit"&&a){const e=(0,m.prepPayeeEditData)(a);if(e.success){r=(0,f.merge)(r,e.data)}}this._originalState=(0,f.cloneDeep)(r);this.state=r}componentDidMount(){this._getAllStateData()}render(){const{name:e,state:t,allStates:a}=this.state;return i.default.createElement(y,this._getModalData(),(0,n.default)("form",{className:"BhrForms Payee__form BhrForms--modal-override fab-Form"},void 0,(0,n.default)("fieldset",{},void 0,(0,n.default)("div",{className:"fieldRow fab-FormRow"},void 0,(0,n.default)("div",{className:(0,m.getFieldBoxClasses)(true,e.error)},void 0,(0,n.default)("label",{className:`fab-Label fab-Label--required ${e.error?"fab-Label--error":""}`,htmlFor:"name"},void 0,"Payee Name"),(0,n.default)("input",{className:`xlong fab-TextInput fab-TextInput--width8 ${e.error?"fab-TextInput--error":""}`,id:"name",onChange:e=>this._handleInputChange(e,"name"),type:"text",value:e.value}))),(0,n.default)("div",{className:"fieldGroup required",id:"address"},void 0,(0,n.default)("label",{className:"fab-Label fab-Label--required",htmlFor:"address"},void 0,"Address"),(0,n.default)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("street1",false)),(0,n.default)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("street2",false)),(0,n.default)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("city",false),(0,n.default)("div",{className:(0,m.getFieldBoxClasses)(false,t.error)},void 0,a&&i.default.createElement(d.default,this._getStateSelectData())),this._renderInputFieldBox("zip",false))),(0,n.default)("div",{className:"fieldGroup",id:"contactInfo"},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"contactInfo"},void 0,$.__("Contact Info")),(0,n.default)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("phone",true)),(0,n.default)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("email",false))))))}}t.PayeeModal=b},717746:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validatePayeeForm=n;t.getFieldBoxClasses=i;t.prepPayeeSaveData=o;t.prepPayeeEditData=s;var r=a(121198);function n(e){const{name:t,street1:a,city:r,state:n,zip:i,phone:o}=e;let s=true;if(!t.value){t.error=true;s=false}if(!a.value){a.error=true;s=false}if(!r.value){r.error=true;s=false}if(!n.value){n.error=true;s=false}if(!i.value){i.error=true;s=false}if(!o.value){o.error=true;s=false}if(!s){return{success:s,errorData:{name:t,street1:a,city:r,state:n,zip:i,phone:o}}}return{success:s}}function i(e,t){return(0,r.classNameFromObject)({fieldBox:true,required:e,error:t})}function o(e){if(e&&typeof e==="object"&&e.hasOwnProperty("id")&&e.name&&e.street1&&e.hasOwnProperty("street2")&&e.city&&e.state&&e.zip&&e.phone&&e.hasOwnProperty("email")){return{success:true,data:{id:e.id,payeeName:e.name.value,addressLine1:e.street1.value,addressLine2:e.street2.value,city:e.city.value,stateId:e.state.value,zipcode:e.zip.value,phone:e.phone.value,email:e.email.value}}}return{success:false}}function s(e){if(e&&typeof e==="object"&&e.hasOwnProperty("id")&&e.hasOwnProperty("payeeName")&&e.hasOwnProperty("addressLine1")&&e.hasOwnProperty("addressLine2")&&e.hasOwnProperty("city")&&e.hasOwnProperty("stateId")&&e.hasOwnProperty("zipcode")&&e.hasOwnProperty("phone")&&e.hasOwnProperty("email")){return{success:true,data:{id:e.id,name:{value:e.payeeName?e.payeeName:""},street1:{value:e.addressLine1?e.addressLine1:""},street2:{value:e.addressLine2?e.addressLine2:""},city:{value:e.city?e.city:""},state:{value:e.stateId?e.stateId:""},zip:{value:e.zipcode?e.zipcode:""},phone:{value:e.phone?e.phone:""},email:{value:e.email?e.email:""}}}}return{success:false}}},330740:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.AdditionalWithholding=c;var n=r(a(856075));var i=d(a(573674));var o=a(401350);var s=r(a(60042));a(136708);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function c(e){const{type:t,data:a,viewOnly:r,is2020:l}=e;let d=0;const c=(0,i.useRef)();const u=(0,i.useRef)();const f=(0,i.useRef)();const[p,m]=(0,i.useState)(a.type);(0,i.useLayoutEffect)((()=>{if(a.type&&!p){m(a.type)}}),[a.type,p]);(0,i.useLayoutEffect)((()=>{if(u.current.checked){c.current.classList.add("currency-field")}else if(f.current.checked){c.current.classList.add("percent-field")}}),[]);if(Number(a.amount)&&a.type){d=(0,o.formatCurrencyPercent)(a.amount,a.type)}const h=(0,s.default)("bhrToggleSmall bhrToggle--btn fab-FormField AdditionalWithholding__toggleButton",{"bhrToggle--btn--disabled":r});const v=(0,s.default)("fab-Label AdditionalWithholding__label",{"fab-Label--disabled":r});const g=(0,s.default)("fab-FormField AdditionalWithholding__perPeriod",{"fab-Label--disabled":r});const y=`.js-${t}AdditionalWithholding`;return(0,n.default)("div",{className:"AdditionalWithholding fab-FormColumn"},void 0,(0,n.default)("label",{className:v,htmlFor:`${t}Additional`},void 0,l?$.__("Extra Withholding"):$.__("Additional Withholding")),(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("span",{className:h},void 0,i.default.createElement("input",{className:"bhrToggle--btn-1","data-currency-toggle":"$","data-field-class":`js-${t}AdditionalWithholding`,"data-flag":"currency",defaultChecked:p==="currency"?"checked":null,disabled:r,id:`${t}Currency`,name:`${t}[withholdExtraType]`,onChange:e=>window.BambooHR.Utils.formatCurrencyPercentToggle(e.target,y),ref:u,type:"radio",value:"$"}),(0,n.default)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`${t}Currency`},void 0,"$"),i.default.createElement("input",{className:"bhrToggle--btn-2","data-currency-toggle":"%","data-field-class":`js-${t}AdditionalWithholding`,"data-flag":"percent",defaultChecked:p==="percent"?"checked":null,disabled:r,id:`${t}Percentage`,name:`${t}[withholdExtraType]`,onChange:e=>window.BambooHR.Utils.formatCurrencyPercentToggle(e.target,y),ref:f,type:"radio",value:"%"}),(0,n.default)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`${t}Percentage`},void 0,"%"),(0,n.default)("span",{className:"bhrToggle__handle bhrToggle--btn__handle brandedToggle"})),(0,n.default)("span",{className:"fab-FormField"},void 0,i.default.createElement("input",{className:`AdditionalWithholding__amount fab-TextInput fab-TextInput--width4 js-${t}AdditionalWithholding`,"data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:d||"",disabled:r,id:`${t}Additional`,name:`${t}[withholdExtraValue]`,onBlur:b,ref:c,type:"text"})),(0,n.default)("span",{className:g},void 0,$.__("per pay period"))));function b(){if(!u.current||!f.current){return}if(u.current.checked){window.BambooHR.Utils.formatCurrencyPercentToggle(u.current,y)}else if(f.current.checked){window.BambooHR.Utils.formatCurrencyPercentToggle(f.current,y)}}}},661516:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AdditionalWithholding",{enumerable:true,get:function(){return r.AdditionalWithholding}});var r=a(330740)},432644:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FedMessage2020=l;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(651745);a(798918);function l(e){const{handleToggleClick:t}=e;return(0,n.default)("div",{className:"FedMessage2020"},void 0,(0,n.default)("span",{className:"FedMessage2020__icon"},void 0,(0,n.default)(s.Icon,{name:"fab-info-circle-15x15"})),(0,n.default)("p",{className:"FedMessage2020__text"},void 0,(0,n.default)("span",{},void 0,$.__("The IRS W4 withholding form has changed"),". "),(0,n.default)(o.TextButton,{clickAction:t,inline:true,text:$.__("Make changes using the new form fields."),type:"button"})))}},926642:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FedMessage2020",{enumerable:true,get:function(){return r.FedMessage2020}});var r=a(432644)},897663:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FedWithholding2020=f;var n=r(a(856075));var i=u(a(573674));var o=r(a(60042));var s=a(651745);var l=a(661516);var d=a(636519);a(88471);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function f(e){const{filingStatus:t,twoJobs:a=false,dependentsAmount:r="",otherIncome:c="",deductions:u="",viewOnly:f=false,additionalWithholding:h={amount:0,type:"currency"},ignoreStatusExemptions:v=false,futaExempt:g=false,ficaExempt:y=false,showExemptions:b=true,showWithholding:w}=e;const{amount:S,type:O}=h;const[T,C]=(0,i.useState)(t);const[P,E]=(0,i.useState)(v);const M=(0,o.default)("fab-Label fab-Label--required",{"fab-Label--disabled":P||f});const x=(0,o.default)("fab-Label",{"fab-Label--disabled":f});const k=(0,o.default)("FedWithholding2020","fab-FormSection",{"fab-FormSection--hidden":w===false});return(0,n.default)("fieldset",{className:k},void 0,(0,n.default)("legend",{className:"fab-FormSection__legend"},void 0,$.__("Federal Tax Withholding"),i.default.createElement(d.HelpPopover,m())),(0,n.default)("label",{className:M,htmlFor:"filingStatus"},void 0,$.__("Filing Status")),(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("div",{className:"fab-FormColumn"},void 0,i.default.createElement(s.Select,p(T,C,P,f))),b&&(0,n.default)("div",{className:"fab-Checkbox fab-FormColumn"},void 0,(0,n.default)("input",{className:"fab-Checkbox__input",defaultChecked:P?"checked":null,disabled:f?"disabled":null,id:"ignoreStatus",name:"fed[taxExempt]",onChange:e=>E(e.target.checked),type:"checkbox"}),(0,n.default)("label",{className:"fab-Checkbox__label",htmlFor:"ignoreStatus"},void 0,$.__("Ignore filing status/other adjustments")))),(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("div",{className:"fab-Checkbox"},void 0,(0,n.default)("input",{className:"fab-Checkbox__input",defaultChecked:a,disabled:f?"disabled":null,id:"twoJobs",name:"fed[twoJobs]",type:"checkbox"}),(0,n.default)("label",{className:"fab-Checkbox__label",htmlFor:"twoJobs"},void 0,$.__("Works two jobs or spouse works?")))),(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("div",{className:"fab-FormColumn"},void 0,(0,n.default)("label",{className:x,htmlFor:"dependentsAmt"},void 0,$.__("Dependents Amount")),(0,n.default)("input",{className:"fab-TextInput fab-TextInput--width4 currency-field","data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:r,disabled:f?"disabled":null,id:"dependentsAmt",name:"fed[dependentsAmt]",type:"text"})),(0,n.default)("div",{className:"fab-FormColumn"},void 0,(0,n.default)("label",{className:x,htmlFor:"otherIncome"},void 0,$.__("Other Income")),(0,n.default)("input",{className:"fab-TextInput fab-TextInput--width4 currency-field","data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:c,disabled:f?"disabled":null,id:"otherIncome",name:"fed[otherIncome]",type:"text"})),(0,n.default)("div",{className:"fab-FormColumn"},void 0,(0,n.default)("label",{className:x,htmlFor:"deductionsAmt"},void 0,$.__("Deductions Amount")),(0,n.default)("input",{className:"fab-TextInput fab-TextInput--width4 currency-field","data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:u,disabled:f?"disabled":null,id:"deductionsAmt",name:"fed[deductionsAmt]",type:"text"}))),(0,n.default)(l.AdditionalWithholding,{data:{amount:S,type:O},is2020:true,type:"fed",viewOnly:f}),b&&(0,n.default)(i.Fragment,{},void 0,(0,n.default)("legend",{className:"fab-CheckboxGroup__legend"},void 0,$.__("Exemption Options")),(0,n.default)("div",{className:"fab-FormRow"},void 0,(0,n.default)("div",{className:"fab-Checkbox fab-FormColumn"},void 0,(0,n.default)("input",{className:"fab-Checkbox__input",defaultChecked:g,disabled:f?"disabled":null,id:"futaExempt",name:"fed[futaExempt]",type:"checkbox"}),(0,n.default)("label",{className:"fab-Checkbox__label",htmlFor:"futaExempt"},void 0,$.__("FUTA exempt"))),(0,n.default)("div",{className:"fab-Checkbox fab-FormColumn"},void 0,(0,n.default)("input",{className:"fab-Checkbox__input",defaultChecked:y,disabled:f?"disabled":null,id:"ficaExempt",name:"fed[ficaExempt]",type:"checkbox"}),(0,n.default)("label",{className:"fab-Checkbox__label",htmlFor:"ficaExempt"},void 0,$.__("FICA exempt"))))))}function p(e,t,a,r){return{isDisabled:a||r,items:[{text:$.__("Single, or Married Filing Separately"),value:"Single"},{text:$.__("Married Filing Jointly"),value:"Married"},{text:$.__("Head of Household"),value:"marriedSingleRate"}],name:"fed[status2020]",onClear:()=>t(""),onSelect:e=>t(e||""),selectedValues:[e],width:"8"}}function m(){const e=$.__("This determines how much you will withhold from your paycheck for federal taxes.");const t=$.__("The IRS has provided a handy %1$swithholding calculator%2$s to help you figure out what to elect.",'<a href="https://apps.irs.gov/app/withholdingcalculator/" target="_blank" rel="noopener noreferrer">',"</a>");const a=`${e} ${t}`;return{title:$.__("Federal Tax Withholding"),content:a,addTop:false}}},699386:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FedWithholding2020",{enumerable:true,get:function(){return r.FedWithholding2020}});var r=a(897663)},96845:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FedWithholding=void 0;var n=r(a(368652));var i=r(a(856075));var o=h(a(573674));var s=r(a(60042));var l=r(a(8460));var d=a(401350);var c=a(661516);var u=a(636519);var f=a(479706);var p=a(926642);a(605894);function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=m(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const v=(0,f.isEnabled)("jade");class g extends o.Component{static get className(){return"FedWithholding"}constructor(e){super(e);this._getHelpPopoverProps=()=>{const e=$.__("This determines how much you will withhold from your paycheck for federal taxes.");const t=$.__("The IRS has provided a handy %1$swithholding calculator%2$s to help you figure out what to elect.",'<a href="https://apps.irs.gov/app/withholdingcalculator/" target="_blank" rel="noopener noreferrer">',"</a>");const a=`${e} ${t}`;return{title:$.__("Federal Tax Withholding"),content:a,addTop:this.props.newHirePacket}};this._getSelectData=()=>{const e=this.props.fields.filingStatus.map((e=>{const t={};t.displayText=e.displayText;t.selected=this.state.ignoreStatus?false:e.val===this.state.filingStatus;t.value=e.val;return t}));return{data:{items:e},onChange:this._handleFilingStatusChange,settings:{name:"fed[status]",notClearable:true,placeholder:this.state.ignoreStatus?"NA":`-${$.__("Select")}-`,disabled:this.state.ignoreStatus||this.props.viewOnly},disabled:this.state.ignoreStatus||this.props.viewOnly,width:5,className:"xlong FedWithholding__status"}};this._handleExemptionsChange=(e,t)=>{if((0,d.numberWithinRange)(e.target.value,t.min,t.max)){this.setState({exemptions:e.target.value})}};this._handleFilingStatusChange=e=>this.setState({filingStatus:e.value?e.value:null});this._handleIgnoreStatusChange=e=>this.setState({ignoreStatus:e.target.checked});this._renderFilingStatus=()=>{const{ignoreStatus:e}=this.state;const{viewOnly:t}=this.props;const a=t||e;const r=a?"fab-Label fab-Label--disabled":"fab-Label";return(0,i.default)("div",{className:"fieldBox"},void 0,(0,i.default)("label",{className:r,htmlFor:"fedStatus"},void 0,$.__("Filing Status")),(0,i.default)("div",{className:"fieldDiv"},void 0,o.default.createElement(l.default,(0,n.default)({id:"fedStatus"},this._getSelectData()))))};this._renderExemptionsInput=e=>{const{ignoreStatus:t,exemptions:a}=this.state;const{viewOnly:r}=this.props;const n=r||t;const o=n?"fab-Label fab-Label--disabled":"fab-Label";const s=v?"fab-TextInput fab-TextInput--width2":"xxshort";return(0,i.default)("div",{className:"fieldBox"},void 0,(0,i.default)("label",{className:o,htmlFor:"fedExemptions"},void 0,$.__("Exemptions")),(0,i.default)("div",{className:"fieldDiv"},void 0,(0,i.default)("input",{className:s,disabled:n,id:"fedExemptions",name:"fed[dependents]",onChange:t=>this._handleExemptionsChange(t,e.range),type:"text",value:t?"NA":a})))};this._renderExemptionCheckboxes=e=>{const{ignoreStatus:t}=this.state;const{viewOnly:a}=this.props;const{ficaExempt:r,futaExempt:n}=e;const o=(0,s.default)("fab-Label FedWithholding__checkboxGroupLabel",{"fab-Label--disabled":a});return(0,i.default)("div",{className:"FedWithholding__checkboxGroup"},void 0,(0,i.default)("label",{className:o,htmlFor:"checkboxGroup"},void 0,$.__("Exemption Options")),(0,i.default)("div",{className:"fieldRow fab-FormRow"},void 0,(0,i.default)("div",{className:"fieldBox fab-Checkbox FedWithholding__checkbox"},void 0,(0,i.default)("input",{className:"fab-Checkbox__input",defaultChecked:t?"checked":null,disabled:a,id:"fedIgnore",name:"fed[taxExempt]",onChange:this._handleIgnoreStatusChange,type:"checkbox"}),(0,i.default)("label",{className:"fab-Checkbox__label",htmlFor:"fedIgnore"},void 0,$.__("Ignore filing status/other adjustments"))),(0,i.default)("div",{className:"fieldBox fab-Checkbox FedWithholding__checkbox"},void 0,(0,i.default)("input",{className:"fab-Checkbox__input",defaultChecked:r.checked?"checked":null,disabled:a,id:"ficaExempt",name:"fed[ficaExempt]",type:"checkbox"}),(0,i.default)("label",{className:"fab-Checkbox__label",htmlFor:"ficaExempt"},void 0,$.__("FICA exempt"))),(0,i.default)("div",{className:"fieldBox fab-Checkbox FedWithholding__checkbox"},void 0,(0,i.default)("input",{className:"fab-Checkbox__input",defaultChecked:n.checked?"checked":null,disabled:a,id:"futaExempt",name:"fed[futaExempt]",type:"checkbox"}),(0,i.default)("label",{className:"fab-Checkbox__label",htmlFor:"futaExempt"},void 0,$.__("FUTA exempt")))))};const{fields:t}=e;const a=t.filingStatus?t.filingStatus.find((e=>e.selected)):null;const r=t.exemptions?t.exemptions.amount:null;const c=r?r:0;const u=t.ignoreStatusExemptions?t.ignoreStatusExemptions.checked:null;this.state={filingStatus:a?a.val:null,ignoreStatus:u,exemptions:c}}render(){const{fields:e,viewOnly:t,newHirePacket:a,isAdminUser:r,isPayrollAdminUser:n,editPermission:s,handle2020ToggleClick:l,show2020Message:d}=this.props;const f=a?"fieldsetIndent-outside fieldsetIndent-inside":null;const m=v?"fab-FormSection":f;const h=v?"fab-FormSection__legend":"baseColor";return(0,i.default)("fieldset",{className:m},void 0,(0,i.default)("legend",{className:h},void 0,$.__("Federal Tax Withholding"),o.default.createElement(u.HelpPopover,this._getHelpPopoverProps())),d&&(0,i.default)(p.FedMessage2020,{handleToggleClick:l}),(0,i.default)("div",{className:"fieldRow fab-FormRow"},void 0,e.filingStatus!==null&&this._renderFilingStatus()),(0,i.default)("div",{className:"fieldRow fab-FormRow"},void 0,e.exemptions!==null&&this._renderExemptionsInput(e.exemptions)),e.additionalWithholding!==null&&(0,i.default)(c.AdditionalWithholding,{data:e.additionalWithholding,type:"fed",viewOnly:t}),(r||n)&&this._renderExemptionCheckboxes(e))}}t.FedWithholding=g},755729:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FedWithholding",{enumerable:true,get:function(){return r.FedWithholding}});var r=a(96845)},326335:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.HelpPopover=s;var n=r(a(856075));var i=r(a(573674));var o=a(69873);a(675908);function s(e){const{title:t,content:a,addTop:r}=e;const i={onShow:l,position:"bottom",template:{name:"popover-standard",data:{rawContent:true,content:a,title:t,popoverClass:"js-taxHelpPopover"}}};return(0,n.default)(o.Popover,{wrapperClassName:r?"HelpPopover HelpPopover--addTop":"HelpPopover",settings:i},void 0,"?")}function l(){const e=document.querySelectorAll(".js-taxHelpPopover a");if(e){const t=Array.from(e);t.forEach((e=>{const t=e.getAttribute("rel");if(t.indexOf("noopener")!==-1&&t.indexOf("noreferrer")!==-1){e.setAttribute("target","_blank")}}))}}},636519:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"HelpPopover",{enumerable:true,get:function(){return r.HelpPopover}});var r=a(326335)},648497:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"LinkedSelects",{enumerable:true,get:function(){return r.LinkedSelects}});var r=a(797901)},797901:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.LinkedSelects=void 0;var n=r(a(368652));var i=r(a(856075));var o=f(a(573674));var s=a(273641);var l=r(a(417842));var d=r(a(8460));var c=a(806189);a(84534);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const p=$.__("Uh Oh, We werent able to retrieve the occupation codes. Try refreshing the page.");class m extends o.Component{static get className(){return"LinkedSelects"}constructor(e){super(e);this._getUpdatedChildOptions=e=>{const{data:{getChildOptionsUrl:t}}=this.props;if(!e){this.setState({childSelection:null,childOptions:[]});return}if(!t){this._triggerGenericError();return}this.setState({disableChildSelect:true,childSelection:null});l.default.get(`${t}/${e}`).then((e=>{const{status:t,data:a}=e;if(t===200&&a&&a.options){this.setState({disableChildSelect:false,childOptions:a.options})}else{this._triggerGenericError()}})).catch((()=>this._triggerGenericError()))};this._getSelectData=(e,t)=>{const{parentSelection:a,childSelection:r,childOptions:n,disableChildSelect:i}=this.state;const{viewOnly:o,isUnemploymentField:s}=this.props;const{id:l,options:d,placeholder:c}=e;const u=t?a:r;const f=t?d:n;const p=s?"uiState":"state";const m=f.map((e=>({displayText:e.displayText,id:e.id,value:e.val,selected:e.val===u})));return{data:{items:m},settings:{name:`${p}[optional][${l}]`,disabled:o||!t&&(!m.length||i),placeholder:c||`-- ${$.__("Select")} --`},width:9,disabled:o||!t&&(!m.length||i),onChange:e=>this._handleSelectChange(e,t),className:"LinkedSelects__select xlong"}};this._handleSelectChange=(e,t)=>{const a=t?"parentSelection":"childSelection";this.setState({[a]:e?e.value:""},t?()=>this._getUpdatedChildOptions(e?e.id:null):s.noop)};this._triggerGenericError=()=>window.setMessage(p,"error");const{data:{parentSelect:t,childSelect:a}}=e;const r=t.options.find((e=>e.selected===true));const n=a.options.length?a.options.find((e=>e.selected===true)):null;this.state={parentSelection:r?r.val:null,childSelection:n?n.val:null,childOptions:a.options,disableChildSelect:false}}render(){const{data:{parentSelect:e,childSelect:t,label:a,help:r}}=this.props;return(0,i.default)(o.Fragment,{},void 0,(0,i.default)("div",{className:"fieldBox"},void 0,(0,i.default)("label",{className:"fab-Label fab-Label--required",htmlFor:`select${e.id}`},void 0,(0,i.default)("span",{},void 0,a),(0,i.default)("span",{},void 0,(0,i.default)(c.OptionalFieldHelp,{helpData:r}))),(0,i.default)("div",{className:"fieldDiv"},void 0,o.default.createElement(d.default,(0,n.default)({id:`select${e.id}`},this._getSelectData(e,true))))),(0,i.default)("div",{className:"fieldRow fab-FormSection"},void 0,(0,i.default)("div",{className:"fieldBox"},void 0,(0,i.default)("div",{className:"fieldDiv"},void 0,o.default.createElement(d.default,(0,n.default)({id:`select${t.id}`},this._getSelectData(t,false)))))))}}t.LinkedSelects=m},884042:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"OptionalCheckbox",{enumerable:true,get:function(){return r.OptionalCheckbox}});var r=a(931946)},931946:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.OptionalCheckbox=void 0;var n=r(a(856075));var i=d(a(573674));var o=a(806189);a(211108);var s=a(479706);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class c extends i.Component{static get className(){return"OptionalCheckbox"}constructor(e){super(e);this._handleCheckBoxChange=e=>this.setState({checked:e.target.checked});this._renderJadeCheckbox=(e,t,a,r,i)=>{const o=i?"uiState":"state";return(0,n.default)("div",{className:"fab-Checkbox OptionalCheckbox__tempCheckbox"},void 0,(0,n.default)("input",{className:"fab-Checkbox__input ignore",defaultChecked:r?"checked":null,disabled:a,id:`checkbox${e}`,onChange:this._handleCheckBoxChange,type:"checkbox"}),(0,n.default)("span",{className:"fab-Checkbox__box"}),(0,n.default)("label",{className:"fab-Checkbox__label",htmlFor:`checkbox${e}`},void 0,t.label),(0,n.default)("input",{name:`${o}[optional][${e}]`,type:"hidden",defaultValue:r?"on":"off"}))};this._renderOldCheckbox=(e,t,a,r,i,s)=>{const l=s?"uiState":"state";return(0,n.default)("div",{className:"fieldBox"},void 0,(0,n.default)("input",{className:"ignore",defaultChecked:r?"checked":null,disabled:a,id:`checkbox${e}`,onChange:this._handleCheckBoxChange,type:"checkbox"}),(0,n.default)("label",{htmlFor:`checkbox${e}`},void 0,t.label),(0,n.default)("input",{name:`${l}[optional][${e}]`,type:"hidden",defaultValue:r?"on":"off"}),(0,n.default)("div",{className:"OptionalCheckbox__help"},void 0,(0,n.default)(o.OptionalFieldHelp,{helpData:i})))};const{data:t}=e;this.state={checked:t.checked}}render(){const{id:e,data:t,viewOnly:a,help:r,isUnemploymentField:o}=this.props;const{checked:l}=this.state;return(0,n.default)(i.Fragment,{},void 0,(0,s.isEnabled)("jade")?(0,n.default)("div",{className:"fieldRow OptionalCheckbox"},void 0,(0,n.default)("label",{className:"OptionalCheckbox__label",htmlFor:"checkboxes"},void 0,$.__("Select all that apply")),(0,n.default)("fieldset",{className:"fab-CheckboxGroup"},void 0,this._renderJadeCheckbox(e,t,a,l,o))):(0,n.default)("div",{className:"fieldRow OptionalCheckbox"},void 0,(0,n.default)("label",{className:"OptionalCheckbox__label",htmlFor:"checkboxes"},void 0,$.__("Select all that apply")),this._renderOldCheckbox(e,t,a,l,r,o)))}}t.OptionalCheckbox=c},806189:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"OptionalFieldHelp",{enumerable:true,get:function(){return r.OptionalFieldHelp}});var r=a(551462)},551462:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.OptionalFieldHelp=s;var n=r(a(856075));var i=r(a(573674));var o=a(636519);function s(e){const{helpData:t}=e;if(!(t&&t.text)){return null}return(0,n.default)(o.HelpPopover,{content:t.text})}},37485:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"OptionalSelect",{enumerable:true,get:function(){return r.OptionalSelect}});var r=a(99996)},99996:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.OptionalSelect=void 0;var n=r(a(368652));var i=r(a(856075));var o=c(a(573674));var s=r(a(8460));var l=a(806189);a(173023);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class u extends o.Component{static get className(){return"OptionalSelect"}constructor(e){super(e);this._getSelectData=()=>{const{data:e,id:t,viewOnly:a,isUnemploymentField:r}=this.props;const{selectedValue:n}=this.state;const i=r?"uiState":"state";const o=e.options.map((e=>{const t={};t.displayText=e.displayText;t.selected=e.val===n;t.value=e.val;return t}));if(!n){o[0].selected=true}return{data:{items:o},settings:{name:`${i}[optional][${t}]`,disabled:a,notClearable:true},disabled:a,width:5,onChange:this._handleSelectChange,className:"OptionalSelect xlong"}};this._handleSelectChange=e=>this.setState({selectedValue:e?e.value:null});const t=e.data.options.find((e=>e.selected===true));this.state={selectedValue:t?t.val:""}}render(){const{id:e,data:t,help:a}=this.props;return(0,i.default)("div",{className:"fieldRow"},void 0,(0,i.default)("div",{className:"fieldBox"},void 0,(0,i.default)("label",{className:"fab-Label fab-Label--required",htmlFor:`select${e}`},void 0,t.label),(0,i.default)("div",{className:"fieldDiv"},void 0,o.default.createElement(s.default,(0,n.default)({id:`select${e}`},this._getSelectData())),(0,i.default)("div",{className:"OptionalSelect__help"},void 0,(0,i.default)(l.OptionalFieldHelp,{helpData:a})))))}}t.OptionalSelect=u},196819:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"OptionalTextInput",{enumerable:true,get:function(){return r.OptionalTextInput}});var r=a(782263)},782263:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.OptionalTextInput=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(806189);var s=a(401350);var l=a(479706);a(887855);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class u extends i.Component{constructor(...e){super(...e);this.state={value:this.props.data.amount};this._handleInputChange=e=>{const{range:t}=this.props.data;if(t&&(0,s.numberWithinRange)(e.target.value,t.min,t.max)){this.setState({value:e.target.value})}else if(!t){this.setState({value:e.target.value})}}}static get className(){return"OptionalTextInput"}render(){const{id:e,data:t,viewOnly:a,help:r,isUnemploymentField:i}=this.props;const s=(0,l.isEnabled)("jade")?"fab-Label":"";const d=(0,l.isEnabled)("jade")?`fab-TextInput fab-TextInput--teenie`:`xxshort`;const c=i?"uiState":"state";return(0,n.default)("div",{className:"fieldRow"},void 0,(0,n.default)("div",{className:"fieldBox"},void 0,(0,n.default)("label",{className:s,htmlFor:`textInput${e}`},void 0,t.label),(0,n.default)("input",{type:"text",id:`textInput${e}`,name:`${c}[optional][${e}]`,className:d,value:this.state.value,onChange:this._handleInputChange,disabled:a}),(0,n.default)("div",{className:"OptionalTextInput__help"},void 0,(0,n.default)(o.OptionalFieldHelp,{helpData:r}))))}}t.OptionalTextInput=u},958308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.formatUsdInputValue=r;const a=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function r(e,t,r){e=e.replace(/[^\d.-]/g,"");e=e.replace(/-/g,((e,t)=>t===0?e:""));let n=true;e=e.replace(/\./g,(e=>{if(!n){return""}n=false;return e}));if(e===""){return e}let i=Number(e);if(Number.isNaN(i)){return""}if(t!==undefined&&i<t){i=t}if(r!==undefined&&i>r){i=r}return a.format(i)}},5794:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.OptionalUsdInput=f;var n=r(a(856075));var i=a(651745);var o=u(a(573674));var s=a(958308);var l=a(815127);var d=a(655784);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function f(e){const{data:t,help:a,id:r,viewOnly:c}=e;const u=(0,l.useStyles)();const[f,p]=(0,o.useState)((0,s.formatUsdInputValue)(t.amount||""));const m=!!a;const h=!!c;return(0,n.default)("div",{className:"fieldRow"},void 0,(0,n.default)("div",{className:u.labelContainer},void 0,(0,n.default)("label",{htmlFor:r},void 0,t.label),m&&(0,n.default)("div",{className:u.questionContainer},void 0,(0,n.default)(d.QuestionPopover,{content:a.text,title:a.title}))),(0,n.default)(i.TextField,{disabled:h,id:r,name:`state[optional][${r}]`,note:t.note,onBlur:v,onChange:e=>p(e.target.value),size:"medium",value:f,width:5}));function v(e){var a,r;const n=e.target.value;if(!n.trim()){p("");return}const i=((a=t.range)===null||a===void 0?void 0:a.min)===undefined?undefined:Number(t.range.min);const o=((r=t.range)===null||r===void 0?void 0:r.max)===undefined?undefined:Number(t.range.max);p((0,s.formatUsdInputValue)(n,i,o))}}},655784:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.QuestionPopover=f;var n=r(a(856075));var i=u(a(573674));var o=a(651745);var s=a(288015);var l=r(a(60042));var d=a(396543);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function f(e){const{content:t,title:a}=e;const r=(0,d.useStyles)();const c=(0,i.useRef)(null);const[u,f]=(0,i.useState)(false);return i.default.createElement(i.default.Fragment,null,i.default.createElement("button",{className:(0,l.default)("js-no-sticky-footer",r.questionButton),onClick:()=>f(true),ref:c,type:"button"},(0,n.default)(s.Question14x14,{className:r.questionIcon})),c.current&&(0,n.default)(o.Popover,{anchorEl:c.current,classes:{popover:r.popover},onClose:()=>f(false),open:u,title:a},void 0,t))}},129178:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"StateUnemployment",{enumerable:true,get:function(){return r.StateUnemployment}});var r=a(242022)},242022:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.StateUnemployment=void 0;var n=r(a(368652));var i=r(a(856075));var o=g(a(573674));var s=a(288015);var l=a(479706);var d=r(a(60042));var c=r(a(8460));var u=a(636519);var f=a(196819);var p=a(884042);var m=a(37485);var h=a(648497);a(424917);function v(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(v=function(e){return e?a:t})(e)}function g(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=v(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const y={text:f.OptionalTextInput,checkbox:p.OptionalCheckbox,select:m.OptionalSelect,linkedSelects:h.LinkedSelects};class b extends o.Component{static get className(){return"StateUnemployment"}constructor(e){super(e);this._getHelpPopoverData=()=>{const e=$.__("Rule of thumb?");const t=$.__(`The state you select for this option should generally be paid to the employee's work state, but there are exceptions!`);const a=$.__(`If you're not sure what to choose, check out %1$sthis helpful guide%2$s from the Department of Labor.`,'<a href="https://workforcesecurity.doleta.gov/unemploy/uitaxtopic.asp" target="_blank" rel="noopener noreferrer">',"</a>");return{title:$.__("State Unemployment Insurance"),content:`${e} ${t} ${a}`}};this._getSelectData=()=>{const{fields:e,viewOnly:t}=this.props;const{location:a}=this.state;const r=e.locations.map((e=>{const t={};t.selected=e.val===a;t.value=e.val;t.state=e.state;t.displayText=e.displayText;return t}));return{data:{items:r},onChange:this._handleLocationChange,settings:{name:"uiState[location]",placeholder:`-- ${$.__("Select")} --`,disabled:t,required:true},disabled:t,className:"xlong StateUnemployment__location js-uiStateLocationSelect",width:5}};this._handleLocationChange=e=>{const{onLocationChange:t}=this.props;$(".js-uiStateLocationFieldBox").removeClass("error");this.setState({location:e?e.value:"",stateAbbreviation:e?e.state:null});if(t){t(e)}};this._handleExemptChange=e=>this.setState({exempt:e.target.checked});this._renderLocationSelect=()=>{const{stateAbbreviation:e}=this.state;const{showLocationRequiredAsterisk:t}=this.props;const a=(0,l.isEnabled)("jade")?"fab-FormNote":"formNote";const r=(0,l.isEnabled)("jade")?(0,d.default)("fab-Label",{"fab-Label--required":!!t}):"";return(0,i.default)("div",{className:"fieldBox js-uiStateLocationFieldBox required"},void 0,(0,i.default)("label",{className:r,htmlFor:"uiStateLocation"},void 0,$.__("Location")),(0,i.default)("div",{className:"fieldDiv"},void 0,o.default.createElement(c.default,(0,n.default)({id:"uiStateLocation"},this._getSelectData()))),e&&(0,i.default)("span",{className:a},void 0,$.__("State: %1$s",e)))};this._renderExemptCheckbox=()=>(0,l.isEnabled)("jade")?this._renderExemptCheckboxJade():this._renderExemptCheckboxOld();this._renderExemptCheckboxJade=()=>{const{exempt:e}=this.state;const{viewOnly:t}=this.props;return(0,i.default)("div",{className:"fieldDiv StateUnemployment__check"},void 0,(0,i.default)("div",{className:"fab-Checkbox"},void 0,(0,i.default)("input",{className:"fab-Checkbox__input",defaultChecked:e?"checked":null,disabled:t,id:"uiExempt",name:"uiState[taxExempt]",onChange:this._handleExemptChange,type:"checkbox"}),(0,i.default)("span",{className:"fab-Checkbox__box"}),(0,i.default)("label",{className:"fab-Checkbox__label",htmlFor:"uiExempt"},void 0,$.__("State UI tax exempt"))))};this._renderExemptCheckboxOld=()=>{const{exempt:e}=this.state;const{viewOnly:t}=this.props;return(0,i.default)("div",{className:"fieldBox"},void 0,(0,i.default)("input",{className:"js-uiStateExempt",defaultChecked:e?"checked":null,disabled:t,id:"uiExempt",name:"uiState[taxExempt]",onChange:this._handleExemptChange,type:"checkbox"}),(0,i.default)("label",{htmlFor:"uiExempt"},void 0,$.__("State UI tax exempt")))};this._renderOptionalFields=()=>{const{fields:e}=this.props;const{location:t}=this.state;const a=e.locations?e.locations.find((e=>e.val===t)):null;if(!(a&&a.optionalFields)){return null}const{allIds:r,byId:n}=a.optionalFields;return r.map((e=>{const t=n[e];const a=y[t.type];return(0,i.default)(a,{data:t.data,help:t.help||null,id:e,isUnemploymentField:true,viewOnly:false},e)}))};const{fields:t}=e;const a=t.locations?t.locations.find((e=>e.selected)):null;const r=t.exempt?t.exempt.checked:null;this.state={location:a?a.val:null,exempt:r,stateAbbreviation:a?a.state:null}}render(){const{fields:e,isAdminUser:t,isPayrollAdminUser:a,sectionNote:r,showUnemployment:n}=this.props;const c=(0,d.default)({"fab-FormSection":(0,l.isEnabled)("jade")},{"fab-FormSection--hidden":n===false});const f=(0,l.isEnabled)("jade")?"fab-FormSection__legend baseColor":"baseColor";return(0,i.default)("fieldset",{className:c},void 0,(0,i.default)("legend",{className:f},void 0,$.__("State Unemployment Insurance"),o.default.createElement(u.HelpPopover,this._getHelpPopoverData())),r&&(0,i.default)("div",{className:"StateUnemployment__sectionNoteContainer"},void 0,(0,i.default)("span",{className:"StateUnemployment__sectionNoteIcon"},void 0,(0,i.default)(s.InfoCircle15x15,{})),(0,i.default)("p",{className:"StateUnemployment__sectionNoteText"},void 0,r)),(0,i.default)("div",{className:"fieldRow"},void 0,e.locations!==null&&this._renderLocationSelect(),(t||a)&&e.exempt&&this._renderExemptCheckbox()),this._renderOptionalFields())}}t.StateUnemployment=b},852797:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"StateWithholding",{enumerable:true,get:function(){return r.StateWithholding}});var r=a(679099)},679099:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.StateWithholding=void 0;var n=r(a(368652));var i=r(a(856075));var o=w(a(573674));var s=a(288015);var l=r(a(8460));var d=a(401350);var c=a(636519);var u=a(661516);var f=a(196819);var p=a(884042);var m=a(37485);var h=a(5794);var v=a(648497);a(16795);var g=a(479706);var y=r(a(60042));function b(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(b=function(e){return e?a:t})(e)}function w(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=b(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const S={text:f.OptionalTextInput,checkbox:p.OptionalCheckbox,select:m.OptionalSelect,linkedSelects:v.LinkedSelects,usd:h.OptionalUsdInput};class O extends o.Component{static get className(){return"StateWithholding"}constructor(e){super(e);this._getLocationSelectData=()=>{const{locations:e,viewOnly:t,newHirePacket:a}=this.props;const r=e.allIds.map((t=>{const a=e.byId[t];a.value=a.val;a.selected=t===this.state.selectedLocation;a.id=t;return a}));return{data:{items:r},onChange:this._handleLocationChange,settings:{name:"state[location]",disabled:t||a},className:"xlong StateWithholding__select js-stateLocationSelect",width:5}};this._getStatusSelectData=e=>{const{filingStatus:t,ignore:a}=this.state;const{viewOnly:r}=this.props;const n=e.map((e=>({displayText:a?"NA":e.displayText,value:e.val,selected:e.val===t})));return{data:{items:n},onChange:this._handleStatusChange,settings:{name:"state[status]",notClearable:false,placeholder:a?"NA":"-- Select --"},disabled:a||r,className:"xlong StateWithholding__select js-stateStatusSelect",width:5}};this._handleLocationChange=e=>{const{onLocationChange:t}=this.props;$(".js-stateLocationFieldBox").removeClass("error");this.setState({selectedLocation:e?e.id:null,stateAbbreviation:e?e.state:null});if(t){t(e)}};this._handleStatusChange=e=>{$(".js-stateStatusFieldBox").removeClass("error");this.setState({filingStatus:e?e.value:""})};this._handleExemptionsChange=(e,t)=>{if((0,d.numberWithinRange)(e.target.value,t.min,t.max)){this.setState({exemptions:e.target.value})}};this._handleIgnoreChange=e=>this.setState({ignore:e.target.checked});this._getLabelClass=()=>(0,y.default)({"fab-Label":(0,g.isEnabled)("jade")});this._renderLocationsSelect=()=>{const{showLocationRequiredAsterisk:e}=this.props;const{stateAbbreviation:t}=this.state;const a=(0,g.isEnabled)("jade")?"fab-FormNote":"formNote";return(0,i.default)("div",{className:"fieldRow"},void 0,(0,i.default)("div",{className:"fieldBox js-stateLocationFieldBox required"},void 0,(0,i.default)("label",{className:(0,y.default)(this._getLabelClass(),{"fab-Label--required":!!e}),htmlFor:"stateLocation"},void 0,$.__("Location")),(0,i.default)("div",{className:"fieldDiv"},void 0,o.default.createElement(l.default,(0,n.default)({id:"stateLocation"},this._getLocationSelectData()))),t&&(0,i.default)("span",{className:a},void 0,$.__("State: %1$s",t))))};this._renderFilingStatusSelect=e=>{const{ignore:t}=this.state;const a=(0,y.default)("fieldBox js-stateStatusFieldBox",{required:!t});return(0,i.default)("div",{className:a},void 0,(0,i.default)("label",{className:"fab-Label fab-Label--required",htmlFor:"stateStatus"},void 0,$.__("Filing Status")),(0,i.default)("div",{className:"fieldDiv"},void 0,o.default.createElement(l.default,(0,n.default)({id:"stateStatus"},this._getStatusSelectData(e)))))};this._renderExemptionsInput=e=>{const t=(0,g.isEnabled)("jade")?"fab-TextInput fab-TextInput--width1":"xxshort";return(0,i.default)("div",{className:"fieldBox"},void 0,(0,i.default)("label",{className:this._getLabelClass(),htmlFor:"stateExemptions"},void 0,$.__("Exemptions")),(0,i.default)("div",{className:"fieldDiv"},void 0,(0,i.default)("input",{id:"stateExemptions",className:t,disabled:this.state.ignore||this.props.viewOnly,type:"text",name:"state[dependents]",value:this.state.ignore?"NA":this.state.exemptions,onChange:t=>this._handleExemptionsChange(t,e.range)})))};this._renderIgnoreCheckbox=e=>{let t=$.__("Ignore filing status/other adjustments");if((0,g.isEnabled)("jade")){return(0,i.default)("div",{className:"fieldBox"},void 0,(0,i.default)("div",{className:"fieldDiv"},void 0,(0,i.default)("div",{className:"fab-Checkbox StateWithholding__exempt"},void 0,(0,i.default)("input",{className:"fab-Checkbox__input",type:"checkbox",id:"stateIgnore",name:"state[taxExempt]",defaultChecked:this.state.ignore?"checked":null,disabled:this.props.viewOnly,onChange:this._handleIgnoreChange}),(0,i.default)("span",{className:"fab-Checkbox__box"}),(0,i.default)("label",{className:"fab-Checkbox__label",htmlFor:"stateIgnore"},void 0,t))))}return(0,i.default)("div",{className:"fieldBox"},void 0,(0,i.default)("input",{className:"js-stateStatusExemptCheckbox",id:"stateIgnore",type:"checkbox",name:"state[taxExempt]",defaultChecked:this.state.ignore?"checked":null,disabled:this.props.viewOnly,onChange:this._handleIgnoreChange}),(0,i.default)("label",{className:this._getLabelClass(),htmlFor:"stateIgnore"},void 0,t))};let t=null;let a=0;let r=false;let s=null;const c=e.locations.selected?e.locations.byId[e.locations.selected]:null;if(c){const e=c.fields.filingStatus?c.fields.filingStatus.find((e=>e.selected===true)):null;t=e?e.val:null;a=c.fields.exemptions?c.fields.exemptions.amount:0;r=c.fields.ignoreStatusExemptions?c.fields.ignoreStatusExemptions.checked:false;s=c.state}this.state={selectedLocation:e.locations.selected,filingStatus:t,exemptions:a,ignore:r,stateAbbreviation:s}}render(){const{selectedLocation:e}=this.state;const{locations:t,viewOnly:a,newHirePacket:r,isAdminUser:n,isPayrollAdminUser:l,editPermission:d,sectionNote:f,showWithholding:p}=this.props;const m=t.byId[e];const h=(0,g.isEnabled)("jade");let v=null;if(m&&m.fields.optionalFields){v=m.fields.optionalFields.allIds.map((e=>{const t=m.fields.optionalFields.byId[e];const r=S[t.type];return(0,i.default)(r,{id:e,data:t.data,help:t.type==="usd"?t.help:undefined,viewOnly:a},e)}))}const b=(0,y.default)({"fieldsetIndent-outside fieldsetIndent-inside":r&&!h},{"fab-FormSection StateTax":h},{"fab-FormSection--hidden":p===false});const w=h?"fab-FormSection__legend":"baseColor";return(0,i.default)("fieldset",{className:b},void 0,(0,i.default)("legend",{className:w},void 0,$.__("State Tax Withholding"),(0,i.default)(c.HelpPopover,{title:$.__("State Tax Withholding"),content:$.__("This determines how much you will withhold from your paycheck for state taxes."),addTop:r})),f&&(0,i.default)("div",{className:"StateWithholding__sectionNoteContainer"},void 0,(0,i.default)("span",{className:"StateWithholding__sectionNoteIcon"},void 0,(0,i.default)(s.InfoCircle15x15,{})),(0,i.default)("p",{className:"StateWithholding__sectionNoteText"},void 0,f)),t&&this._renderLocationsSelect(),m&&(0,i.default)(o.Fragment,{},void 0,(0,i.default)("div",{className:"fieldRow"},void 0,m.fields.filingStatus&&this._renderFilingStatusSelect(m.fields.filingStatus),m.fields.exemptions&&this._renderExemptionsInput(m.fields.exemptions),(n||l||d)&&m.fields.ignoreStatusExemptions&&this._renderIgnoreCheckbox(m.fields)),m.fields.additionalWithholding&&(0,i.default)(u.AdditionalWithholding,{viewOnly:a,type:"state",data:m.fields.additionalWithholding}),v))}}t.StateWithholding=O},288380:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"WithholdingBlankState",{enumerable:true,get:function(){return r.WithholdingBlankState}});var r=a(166111)},166111:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.WithholdingBlankState=s;var n=r(a(856075));var i=r(a(573674));var o=r(a(109473));a(124188);function s(){return(0,n.default)("fieldset",{},void 0,(0,n.default)("legend",{className:"baseColor"},void 0,$.__("Tax Withholding")),(0,n.default)(o.default,{className:"WithholdingBlankState",icon:"capitol-39x43",subtitle:$.__("Check to make sure your home and job location addresses are valid."),title:$.__("Federal and State Tax withholding information will appear here when all of your data is in order.")}))}},855515:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Withholding",{enumerable:true,get:function(){return r.Withholding}});var r=a(476284)},476284:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Withholding=v;var n=r(a(368652));var i=r(a(856075));var o=h(a(573674));var s=r(a(60042));var l=a(755729);var d=a(699386);var c=a(852797);var u=a(129178);var f=a(288380);var p=a(401350);a(604894);function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=m(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function v(e){const[t,a]=(0,o.useState)(false);(0,o.useEffect)((()=>{const e=document.querySelector('button[data-action="SiteFooterAction:cancel"]');if(e){e.addEventListener("click",(()=>a(false)))}}),[]);const{data:r,newHirePacket:m,show:h,fedPerms:v,statePerms:g,onStateLocationChange:y,onStateUnemploymentLocationChange:b,isAdminUser:w,isPayrollAdminUser:S=false,canAccessStateUiFields:O=false,renderFederal:T=true,renderState:C=true,renderStateUnemployment:P=true,showWithholdingInformation:E,stateSectionNote:M="",stateUnemploymentSectionNote:x="",showStateLocationRequiredAsterisk:k=false,showStateUnemploymentLocationRequiredAsterisk:j=false}=e;if(g!==0&&!(0,p.validateStateTaxData)(r)||v!==0&&!(0,p.validateFederalTaxData)(r)){return(0,i.default)(f.WithholdingBlankState,{})}const{federal:I,federal2020:F,state:D,stateUnemployment:N,is2020Release:A,has2020W4:L}=r;let R=null;let B=null;let H=null;if(E){({showFederalWithholding:R,showStateWithholding:B,showStateUi:H}=E)}const W=A&&(L||t);const U=(0,s.default)("Federal",{"Federal--2020":W},{"Federal--hidden":R===false});const q=m&&window.previewUser;return h?(0,i.default)(o.Fragment,{},void 0,T&&(0,i.default)("div",{className:U},void 0,v>0&&F&&W&&o.default.createElement(d.FedWithholding2020,(0,n.default)({showExemptions:S,showWithholding:R,viewOnly:v===1||q},F)),v>0&&I&&!W&&o.default.createElement(l.FedWithholding,(0,n.default)({editPermission:v===3,handle2020ToggleClick:()=>a(true),isAdminUser:w,isPayrollAdminUser:S,newHirePacket:m,show2020Message:A,viewOnly:v===1||A},I)),(0,i.default)("hr",{className:"fab-FormHorizantalRule"})),C&&g>0&&D&&o.default.createElement(c.StateWithholding,(0,n.default)({editPermission:g===3,isAdminUser:w,isPayrollAdminUser:S,newHirePacket:m,onLocationChange:y,sectionNote:M,showLocationRequiredAsterisk:k,showWithholding:B,viewOnly:g===1||q},D)),P&&(w||S||O)&&N&&o.default.createElement(u.StateUnemployment,(0,n.default)({isAdminUser:w,isPayrollAdminUser:S,onLocationChange:b,sectionNote:x,showLocationRequiredAsterisk:j,showUnemployment:H,viewOnly:g===1},N))):(0,i.default)("div",{})}},984753:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Withholding",{enumerable:true,get:function(){return r.Withholding}});var r=a(855515)},401350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.numberWithinRange=a;t.formatCurrencyPercent=r;t.formatCurrency=n;t.formatPercent=i;t.validateFederalTaxData=o;t.validateStateTaxData=s;function a(e,t,a){return(typeof e==="number"||typeof e==="string")&&e>=Number(t)&&e<=Number(a)}function r(e,t){if(typeof e==="number"||typeof e==="string"){if(t==="percent"){return i(e)}else if(t==="currency"){return n(e)}}return e}function n(e){return`$${Number(e).toFixed(2)}`}function i(e){return`${parseFloat(e)}%`}function o(e){return!!e&&e.hasOwnProperty("federal")&&!!e.federal.fields}function s(e){return!!e&&e.hasOwnProperty("state")&&!!e.state.locations&&Array.isArray(e.state.locations.allIds)&&e.state.locations.allIds.length>0&&!!e.state.locations.byId}},331:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.disabledForPermsTest=r;function r(e){var t=$.__("This action would normally be available to this user.  It has been disabled while you preview.");var a=$.__("Disabled for previewing");window.BambooHR.Modal.setState({content:t,isOpen:true,primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},title:a});if(typeof e!=="undefined"){e.stopImmediatePropagation();e.preventDefault()}return false}},780381:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"disabledForPermsTest",{enumerable:true,get:function(){return r.disabledForPermsTest}});var r=a(331)},644928:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmailFieldset=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(62054);var l=a(813594);a(851819);const d=()=>(0,n.default)("fieldset",{className:l.bem.elem("emailSection",["^fab-FormSection"])},void 0,(0,n.default)("legend",{className:l.bem.elem("emailLegend",["^fab-FormSection__legend"])},void 0,(0,n.default)("div",{className:l.bem.elem("emailIcon")},void 0,(0,n.default)(o.Icon,{name:"fab-envelope-18x14"})),(0,n.default)("span",{className:"fab-FormSection__legendText"},void 0,"Email")),(0,n.default)("div",{className:l.bem.elem("formRow",["^fab-FormRow"])},void 0,(0,n.default)(s.EmailInputList,{})),(0,n.default)("div",{className:l.bem.elem("formRow",["^fab-FormRow"])},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"subject"},void 0,"Subject"),(0,n.default)("input",{id:"subject",name:"subject",type:"text",className:"fab-TextInput fab-TextInput--width100"})),(0,n.default)("div",{className:l.bem.elem("emailMessageRow",["^fab-FormRow"])},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"message"},void 0,"Message"),(0,n.default)("textarea",{className:"fab-Textarea fab-Textarea--width100",id:"message",name:"message"})),(0,n.default)("div",{className:l.bem.elem("formRow",["^fab-FormRow"])},void 0,(0,n.default)("div",{className:"fab-Checkbox"},void 0,(0,n.default)("input",{className:"fab-Checkbox__input",defaultChecked:true,id:"signature",name:"signature",type:"checkbox"}),(0,n.default)("label",{className:l.bem.elem("signatureLabel",["^fab-Checkbox__label"]),htmlFor:"signature"},void 0,$._("Include your name and email in signature ")))));t.EmailFieldset=d},62054:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmailInputList=t.updateFormClasses=t.hasInvalidEmail=t.hasDuplicates=t.isValid=void 0;var n=r(a(856075));var i=c(a(573674));var o=r(a(60042));var s=a(774548);var l=a(813594);a(349253);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const u=e=>`fab-${e[0]}--error`;let f=null;const p=()=>document.body.querySelector(`#${l.listId} .item`)!==null;t.isValid=p;const m=()=>document.querySelector(`.${l.ERROR_DATA.duplicateEmail.className}`)!==null;t.hasDuplicates=m;const h=()=>document.querySelector(`.${l.ERROR_DATA.invalidEmail.className}`)!==null;t.hasInvalidEmail=h;const v=()=>{const e=document.body.querySelector(`#${l.labelId}`).classList;const t=document.body.querySelector(l.inputSelector).classList;const a=document.body.querySelector(`#${l.listId} .description`).classList;if(p()&&!m()&&!h()){e.remove(u`Label`);t.remove(u`TextInput`);a.remove(u`TextInput`)}else{e.add(u`Label`);t.add(u`TextInput`);a.add(u`TextInput`);f.activate()}};t.updateFormClasses=v;const g=()=>{(0,i.useEffect)((()=>{const e=`secureSendTo-${(0,s.makeUid)()}`;f=$(`#${l.listId}`).autoInputList({autocompleteUrl:"/ajax/files/quicksearch-email.php",description:$.__("Enter email addresses..."),formatAutoItem:window.activeIndicator,formatTagItem:function(e,t,a){if(t){const e=xmlEntities(t[0]);const a=xmlEntities(t[1]);const r=isNaN(parseInt(a,10))&&!(0,s.validateEmail)(a);const n=document.querySelector(`#${l.listId} .item[data-entry-value="${a}"]`)!==null;let i="";if(r){i=l.ERROR_DATA.invalidEmail.description}else if(n){i=l.ERROR_DATA.duplicateEmail.description}const d=(0,o.default)(l.bem.elem("item"),"item",{[`${l.ERROR_DATA.invalidEmail.className}`]:r,[`${l.ERROR_DATA.duplicateEmail.className}`]:n});$(`\n\t\t\t\t\t\t<span class="${d}" data-entry-value="${a}">\n\t\t\t\t\t\t\t${e} <span class="${l.bem.elem("itemErrorDescription")}">${i}</span>\n\t\t\t\t\t\t\t<input type="hidden" name="recipients[]" value='${a}' />\n\t\t\t\t\t\t\t<button class="${l.bem.elem("remove")} remove fab-FloatingIconButton fab-FloatingIconButton--teenie fab-FloatingIconButton--secondary" type="button">\n\t\t\t\t\t\t\t\t<span class="fab-FloatingIconButton__icon">\n\t\t\t\t\t\t\t\t\t<ba-icon name="fab-x-10x10"></ba-icon>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t`).insertBefore(`#${l.listId} span.input`);$(this).val("");v()}},inputAttributes:{name:e,id:e,"data-lpignore":"true"},inputClass:l.inputSelector,done:function(){$(`#${l.labelId}`).addClass("fab-Label fab-Label--required");$(l.inputSelector).addClass(`${l.bem.elem("acInput")} ac_input free fab-TextInput fab-TextInput--width100`);$(`#${l.listId}`).find(".description").addClass(`${l.bem.elem("description")} fab-TextInput fab-TextInput--width100`);$(`#${l.listId}`).on("click",".item .remove",(function(){const e=$(this).closest("span.item");const t=e.data("entry-value");const a=e.hasClass(l.bem.elem("item--duplicateError"));e.remove();const r=$(`#${l.listId}`).find(`.item[data-entry-value="${t}"]`);if(!a&&r.length>0){const e=$(r).first();e.removeClass(l.bem.elem("item--duplicateError"));const t=e.find(`.${l.bem.elem("itemErrorDescription")}`);if(t.text()===l.ERROR_DATA.duplicateEmail.description){t.empty()}}v();return false}))}});const t=$.__("Enter email addresses...");$(".free").click().focus().attr("placeholder",t)}),[]);return(0,n.default)(i.Fragment,{},void 0,(0,n.default)("label",{id:l.labelId,htmlFor:l.listId},void 0,"Send To"),(0,n.default)("div",{id:l.listId,className:"emailListInput input-list fab-TextInput fab-TextInput--width100 js-autoInputListContainer"}))};t.EmailInputList=g},874308:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useFileInfo=void 0;var r=a(573674);var n=a(975558);var i=a(217941);var o=a(178045);const s=(e,t)=>{const[a,o]=(0,r.useState)({addedAt:"",addedBy:"",fileExtension:"",fileName:"",fileSize:"",isEsignature:false,loading:true});(0,r.useEffect)((()=>{(async()=>{try{const a=await(0,i.getFileInfo)(e,t);o({...a.data,loading:false})}catch(e){(0,n.closeModal)();window.errorFallBack()}})()}),[]);return a};t.useFileInfo=s},343355:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FileInfo=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(753134);var l=a(813594);var d=a(774548);var c=a(874308);a(435923);const u=e=>{const{id:t,type:a}=e;const{addedAt:r,addedBy:i,fileExtension:u,fileName:f,fileSize:p,isEsignature:m,loading:h}=(0,c.useFileInfo)(a,t);return(0,n.default)("div",{className:l.bem.elem("header")},void 0,(0,n.default)("fieldset",{className:l.bem.elem("fileSection",["^fab-FormSection"])},void 0,(0,n.default)("legend",{className:l.bem.elem("fileLegend",["^fab-FormSection__legend"])},void 0,(0,n.default)("div",{className:l.bem.elem("fileIcon")},void 0,(0,n.default)(o.Icon,{name:(0,d.getIconNameFromFileName)(u,"20x24",m)})),(0,n.default)("div",{className:l.bem.elem("fileInfo")},void 0,(0,n.default)("div",{className:l.bem.elem("fileName")},void 0,f),(0,n.default)("div",{className:l.bem.elem("fileMeta",{loading:h})},void 0,(0,n.default)(s.Message,{params:[r,i,p],text:$.__("Added {1} by {2} ({3})",r,i,p)}))),(0,n.default)("input",{type:"hidden",name:"files[0][fileId]",value:t}),(0,n.default)("input",{type:"hidden",name:"files[0][fileType]",value:a}))))};t.FileInfo=u},558737:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EmailFieldset",{enumerable:true,get:function(){return r.EmailFieldset}});Object.defineProperty(t,"EmailInputList",{enumerable:true,get:function(){return n.EmailInputList}});Object.defineProperty(t,"EmailInputHasDuplicates",{enumerable:true,get:function(){return n.hasDuplicates}});Object.defineProperty(t,"EmailInputListIsValid",{enumerable:true,get:function(){return n.isValid}});Object.defineProperty(t,"updateFormClasses",{enumerable:true,get:function(){return n.updateFormClasses}});Object.defineProperty(t,"FileInfo",{enumerable:true,get:function(){return i.FileInfo}});Object.defineProperty(t,"SecurityFieldset",{enumerable:true,get:function(){return o.SecurityFieldset}});var r=a(644928);var n=a(62054);var i=a(343355);var o=a(390935)},390935:(e,t,a)=>{"use strict";var moment=a(496406);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.SecurityFieldset=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(242895));var s=a(651745);var l=a(813594);a(330466);const d=e=>(0,n.default)("fieldset",{className:"fab-FormSection"},void 0,(0,n.default)("legend",{className:"fab-FormSection__legend"},void 0,(0,n.default)(s.Icon,{name:"fab-link-16x16",brand:true}),(0,n.default)("span",{className:"fab-FormSection__legendText"},void 0,"Link Security Settings")),(0,n.default)("div",{className:l.bem.elem("formRow",["^fab-FormRow"])},void 0,(0,n.default)(o.default,{name:"expirationDate",type:"date",cssClasses:{single:l.bem.elem("expirationInput")},settings:{min:moment().format(),max:moment().add(30,"days").format(),start:moment().add(30,"days").format(),label:"Link Expiration Date"}}),(0,n.default)("span",{className:"fab-FormNote"},void 0,"We recommend making this as short as possible (30 day max).")),(0,n.default)("div",{className:l.bem.elem("formRow",["^fab-FormRow"])},void 0,(0,n.default)("div",{className:"fab-Checkbox"},void 0,(0,n.default)("input",{className:"fab-Checkbox__input",id:"singleUse",name:"singleUse",type:"checkbox"}),(0,n.default)("label",{className:"fab-Checkbox__label",htmlFor:"singleUse"},void 0,"Only allow this file to be downloaded once."))));t.SecurityFieldset=d},757716:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.useCreate=void 0;var r=a(573674);var n=a(975558);var i=a(273641);var o=a(813594);var s=a(217941);var l=a(178045);const d=(e,t)=>{const a=document.getElementById(o.listId);e.forEach((e=>{const r=a.querySelectorAll(`.${o.bem.elem("item")}[data-entry-value="${e}"]`);r.forEach((e=>{e.classList.add(t.className);if(t.description){const a=e.querySelector(`.${o.bem.elem("itemErrorDescription")}`);a.innerHTML=t.description}}))}))};const c=(e,t)=>{const a=(0,r.useRef)(null);const[c,u]=(0,r.useState)(null);const[f,p]=(0,r.useState)(false);const[m,h]=(0,r.useState)(null);const[v,g]=(0,r.useState)(null);(0,r.useEffect)((()=>{u($(a.current).bhrValidate({},((e,t)=>e[0].message||t)))}),[]);const y=(0,r.useCallback)((async()=>{p(true);h(null);g(null);try{h(await(0,s.createSecureShare)(a.current));p(false)}catch(e){p(false);g(e)}}),[]);(0,r.useEffect)((()=>{e(f)}),[f]);(0,r.useEffect)((()=>{if(!f&&m){if(t){t()}(0,n.closeModal)();(0,l.showSlidedown)($.__("Your file has been sent."),"success")}}),[f,m]);(0,r.useEffect)((()=>{if(!f&&v){if((0,i.get)(v,"response.data.type")==="invalid_email"){const e=(0,i.get)(v,"response.data");const{emails:t,employees:a}=e;d(t,o.ERROR_DATA.invalidEmail);d(a,o.ERROR_DATA.missingEmail);(0,l.showSlidedown)(e.error,"error")}else{window.errorFallBack()}}}),[f,v]);return{formRef:a,create:y,$validator:c}};t.useCreate=c},580035:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Content=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(178045);var s=a(558737);var l=a(813594);var d=a(757716);a(589631);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=(0,i.forwardRef)(((e,t)=>{const{id:a,setProcessing:r,type:c,onSfsCreation:u}=e;const{formRef:f,create:p,$validator:m}=(0,d.useCreate)(r,u);const h=()=>{m.form();(0,s.updateFormClasses)();if((0,s.EmailInputHasDuplicates)()){(0,o.showSlidedown)(l.ERROR_DATA.duplicateEmail.slidedownMessage,"error")}else if((0,s.EmailInputListIsValid)()&&m.valid()){p()}};(0,i.useImperativeHandle)(t,(()=>({submit:()=>{h()}})));return i.default.createElement("form",{ref:f,className:l.bem.elem("form")},(0,n.default)(s.FileInfo,{id:a,type:c}),(0,n.default)("div",{className:l.bem.elem("content")},void 0,(0,n.default)(s.EmailFieldset,{}),(0,n.default)(s.SecurityFieldset,{})))}));t.Content=f},85117:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Content",{enumerable:true,get:function(){return r.Content}});var r=a(580035)},813594:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.ERROR_DATA=t.labelId=t.listId=t.inputSelector=t.bem=void 0;var r=a(121198);const n=new r.BEM("SecureFileShareCreateModal");t.bem=n;const i=".js-EmailInputList";t.inputSelector=i;const o="email-input-list";t.listId=o;const s="email-input-label";t.labelId=s;const l={duplicateEmail:{description:`(${$.__("Duplicate Email")})`,className:n.elem("item--duplicateError"),slidedownMessage:$.__("Sorry, we cant send emails to duplicate addresses. Remove the duplicates and give it another try.")},invalidEmail:{description:`(${$.__("Invalid Email")})`,className:n.elem("item--invalidEmailError")},missingEmail:{description:`(${$.__("Missing Email")})`,className:n.elem("item--error")}};t.ERROR_DATA=l},370979:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.create=void 0;var n=r(a(856075));var i=r(a(368652));var o=u(a(573674));var s=a(85117);var l=a(851040);var d=a(975558);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=e=>{const t=(0,o.useRef)(null);const[a,r]=(0,o.useState)(false);return(0,n.default)(l.Modal,{contentHasMaxHeight:false,contentHasPadding:false,headerType:null,isOpen:true,onClose:()=>(0,d.closeModal)(),primaryAction:()=>t.current.submit(),primaryActionText:$.__("Send"),title:$.__("Email Secure Download Link"),isProcessing:a},void 0,o.default.createElement(s.Content,(0,i.default)({},e,{ref:t,setProcessing:r})))};const p=e=>(0,d.showModal)(o.default.createElement(f,e));t.create=p},217941:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.getFileInfo=t.createSecureShare=void 0;var n=r(a(417842));const i=e=>n.default.post("/secure-file-share",e);t.createSecureShare=i;const o=(e,t)=>n.default.get(`/file-info/${e}/${t}`);t.getFileInfo=o},446432:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.create=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(851040);var s=a(975558);const l=e=>{const{filename:t}=e;return(0,n.default)(o.Modal,{alternativeActionText:"",content:$.__(`We can't create a secure link for it. Upload a different version of the file and try again.`),headline:$.__(`%1 doesn't contain any data`,t),icon:"fab-triangle-exclamation-54x54",isOpen:true,onClose:()=>(0,s.closeModal)(),primaryAction:()=>(0,s.closeModal)(),primaryActionText:$.__("Done"),title:$.__("Empty File")})};const d=e=>(0,s.showModal)(i.default.createElement(l,e));t.create=d},953432:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"errorEmptyFile",{enumerable:true,get:function(){return r.create}});var r=a(446432)},724762:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"emailSecureLink",{enumerable:true,get:function(){return r.create}});Object.defineProperty(t,"errorEmptyFile",{enumerable:true,get:function(){return n.errorEmptyFile}});var r=a(370979);var n=a(953432)},906814:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Content=f;var n=r(a(856075));var i=u(a(573674));var o=a(651745);var s=r(a(109473));var l=a(259702);var d=a(499075);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function f(e){const{openDisableLinkConfirmation:t,sfsItems:a}=e;const[r,c]=(0,i.useState)([]);const u=(0,d.getColumnsData)(t);const f=(0,d.getRowsData)(a,r,c);return(0,n.default)("div",{className:l.BEM.elem("content")},void 0,f.length?(0,n.default)(o.Table,{caption:$.__("Active secured download links"),columns:u,rowKey:e=>e.key,rows:f,stickyHeader:true}):(0,n.default)(s.default,{className:l.BEM.elem("blankState"),icon:"fab-link-72x72",title:$.__(`There aren't any active links for this document.`)}))}},204945:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Content",{enumerable:true,get:function(){return r.Content}});var r=a(906814)},503634:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Recipients",{enumerable:true,get:function(){return r.Recipients}});var r=a(615007)},615007:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Recipients=l;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(259702);function l(e){const{isExpandable:t,isExpanded:a,rowKey:r="",onButtonClick:i,recipients:l}=e;const d=!a?l.splice(0,s.MAX_VISIBLE_RECIPIENTS-1):l;let c=null;if(t){c=a?$.__("View less"):$.__(`%1$s more`,l.length)}return(0,n.default)("div",{},void 0,(0,n.default)("ul",{},void 0,d.map(((e,t)=>{const a=`${r}-${e}-${t}`;return(0,n.default)("li",{},a,e)}))),t&&(0,n.default)(o.TextButton,{clickAction:i,inline:true,text:c}))}},259702:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.SHEET_PROPS=t.SFS_ENDPOINT=t.FILE_INFO_ENDPOINT=t.MAX_VISIBLE_RECIPIENTS=t.BEM=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(121198);const s=new o.BEM("SecureDownloadManager");t.BEM=s;const l=5;t.MAX_VISIBLE_RECIPIENTS=l;const d="/file-info";t.FILE_INFO_ENDPOINT=d;const c="/secure-file-share";t.SFS_ENDPOINT=c;const u={content:(0,n.default)("div",{className:s.elem("sfsDisableConfirmation")},void 0,$.__("The file won't be accessible to anyone with the link.")),headline:$.__("Are you sure you want to disable this link?"),icon:"fab-triangle-exclamation-54x54",iconColor:"attention",isOpen:true,primaryActionText:$.__("Yes, Disable Link"),title:$.__("Just Checking...")};t.SHEET_PROPS=u},4592:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"SecureDownloadManager",{enumerable:true,get:function(){return r.SecureDownloadManager}});Object.defineProperty(t,"showSecureDownloadManager",{enumerable:true,get:function(){return r.showSecureDownloadManager}});Object.defineProperty(t,"getFileInfo",{enumerable:true,get:function(){return n.getFileInfo}});Object.defineProperty(t,"getSfsData",{enumerable:true,get:function(){return n.getSfsData}});Object.defineProperty(t,"getDetailButtonCopy",{enumerable:true,get:function(){return i.getDetailButtonCopy}});var r=a(843999);var n=a(332506);var i=a(499075)},843999:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.SecureDownloadManager=v;t.showSecureDownloadManager=void 0;var n=r(a(856075));var i=h(a(573674));var o=a(651745);var s=a(851040);var l=a(774548);var d=a(753134);var c=a(975558);var u=a(204945);var f=a(259702);var p=a(332506);a(456365);function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=m(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function v(e){const{file:{addedAt:t,addedBy:a,fileExtension:r,fileName:m,fileSize:h,isEsignature:v},sfsItems:g,onDisableLink:y}=e;const[b,w]=(0,i.useState)(null);const[S,O]=(0,i.useState)(g);(0,i.useEffect)((()=>{if(y){y(S.length)}}),[S]);const T=b&&{...f.SHEET_PROPS,onClose:()=>w(null),primaryAction:()=>{const e=()=>{const e=S.filter((e=>e.sfsId!==b));O(e);w(null)};(0,p.disableSfsLink)(b,e)}};return(0,n.default)(s.Modal,{alternativeActionText:false,contentHasMaxHeight:false,contentHasPadding:false,isOpen:true,onClose:()=>(0,c.closeModal)(),primaryAction:()=>(0,c.closeModal)(),primaryActionText:$.__("Done"),sheetProps:T,title:$.__("Manage Secure Download Links"),type:"medium"},void 0,(0,n.default)("div",{className:f.BEM.elem("header")},void 0,(0,n.default)("div",{className:f.BEM.elem("headerIcon")},void 0,(0,n.default)(o.Icon,{name:(0,l.getIconNameFromFileName)(r,"20x24",v)})),(0,n.default)("div",{},void 0,(0,n.default)("h4",{},void 0,m),(0,n.default)("span",{},void 0,(0,n.default)(d.Message,{text:$._("Added {1} by {2} ({3})"),params:[t,a,h]})))),(0,n.default)(u.Content,{openDisableLinkConfirmation:e=>w(e),sfsItems:S}))}const g=e=>(0,c.showModal)(i.default.createElement(v,e));t.showSecureDownloadManager=g},332506:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.getFileInfo=o;t.getSfsData=s;t.disableSfsLink=l;var n=r(a(417842));var i=a(259702);function o(e,t){return n.default.get(`${i.FILE_INFO_ENDPOINT}/${t}/${e}`)}function s(e,t){return n.default.get(`${i.SFS_ENDPOINT}/${e}?fileType=${t}`)}function l(e,t){return n.default.put(`${i.SFS_ENDPOINT}/${e}`,{type:"disabled"}).then((()=>{if(t){t()}})).catch((e=>{console.error(e);window.errorFallBack()}))}},499075:(e,t,a)=>{"use strict";var moment=a(496406);var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.getDetailButtonCopy=t.getRowsData=t.getColumnsData=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(259702);var l=a(503634);const d=e=>{const t=moment(e);return(0,n.default)("span",{},void 0,t.format("MM/DD/YYYY"),(0,n.default)("span",{className:s.BEM.elem("time")},void 0,t.format("h:mm A")))};const c=e=>[{cell:e=>e.sentDate,header:$.__("Link Sent"),key:"sentDate"},{cell:e=>e.expireDate,header:$.__("Link Expires"),key:"expireDate"},{cell:e=>e.timesDownloaded,header:$.__("Downloads"),key:"timesDownloaded",width:120},{cell:e=>e.emails,header:$.__("Recipients"),key:"emails",width:186},{cell:{type:"actions",actions:t=>[{action:()=>e(t.sfsId),icon:"fab-circle-x-12x12",tooltipContent:$.__("Disable link.")}]}}];t.getColumnsData=c;const u=(e,t,a)=>e.map(((e,r)=>{const{emails:c,expireDate:u,sentDate:f,sfsId:p,timesDownloaded:m}=e;const h=`recipient-row-${p}-${r}`;const v=c.length>s.MAX_VISIBLE_RECIPIENTS;const g=!v||t.indexOf(r)>=0;const y={isExpandable:v,isExpanded:g,rowKey:h,recipients:[...c],onButtonClick:()=>{let e=t;if(g){e=e.filter((e=>e!==r))}else{e=e.concat(r)}a(e)}};const b=f?d(f):(0,n.default)("div",{className:s.BEM.elem("sendingStatus")},void 0,(0,n.default)(o.Icon,{name:"fab-hourglass-12x14"}),(0,n.default)("span",{},void 0,$.__("Sending...")));return{key:h,emails:i.default.createElement(l.Recipients,y),expireDate:d(u),sentDate:b,sfsId:p,timesDownloaded:m}}));t.getRowsData=u;const f=e=>e>1?$.__("Secure Download Links"):$.__("Secure Download Link");t.getDetailButtonCopy=f},881057:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PATH_INCLUSION_LIST=t.PATH_EXCLUSION_LIST=t.UPDATE_BANNER_DATA_EVENT=t.LOCAL_STORAGE_KEY_NAME=void 0;const a="setupSummaryBanner";t.LOCAL_STORAGE_KEY_NAME=a;const r="updateBannerData";t.UPDATE_BANNER_DATA_EVENT=r;const n=["/app/setup*","/reports*"];t.PATH_EXCLUSION_LIST=n;const i=["/reports/payroll-deductions*","/reports/pay-info-tab-direct-deposit*"];t.PATH_INCLUSION_LIST=i},734290:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.updateBannerData=t.removeBannerLocalStorage=void 0;var r=a(881057);const n=()=>{window.localStorage.removeItem(r.LOCAL_STORAGE_KEY_NAME)};t.removeBannerLocalStorage=n;const i=e=>{document.dispatchEvent(new CustomEvent(r.UPDATE_BANNER_DATA_EVENT,{detail:{stepKey:e}}))};t.updateBannerData=i},135587:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.initSharedFilesManager=T;t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(570055));var s=a(273641);var l=a(71154);var d=a(121198);var c=a(845382);var u=a(975558);var f=a(830734);var p=a(912950);var m=a(329942);var h=a(479706);var v=r(a(844661));var g=r(a(160869));const y=".js-FilesWrapper__files";const b=(0,h.isEnabled)("sharedFilesManagerUpdate");let w=null;class S{static get className(){return"SharedFilesManager"}constructor(e){this._getFiles=(e,t)=>{const a=(0,s.includes)(this.filesEndPoint,"?");return $.get(`${this.filesEndPoint}${a?"&":"?"}sectionId=${this.selectedSection}&offset=${e}&limit=${t}${this.excludeEsignatures?"&excludeEsignatures=true":""}`).then((e=>e.data.files))};this.getFilesFromArray=e=>this[e];this.mergeFieldIntoArray=(e,t,a)=>{if(this[t].length){this[e]=(0,s.union)(this[e],Object.keys(this[t]).map((e=>this[t][e][a])))}};this.sections=[];try{this.sections=JSON.parse(document.getElementById("FileSections").textContent)}catch(e){console.warn("File sections have not been loaded. If you want this to load by default, please include in view template.")}this.currentFiles=[];this.editFiles=[];this.modalFiles=[];this.changedFiles=[];this.filesEndPoint="/ajax/dialog/files/load_files.php";this.sectionEndpoint="/ajax/files/loadSections";this.excludeEsignatures=false;this.selectedSection="all";this.submitButton=null;this.theme="dark";this.modalCallBack=null;if(e&&e.length){this.populateFiles(e)}this._addListeners()}_addListeners(){const e=this;if(!b){$(document).on("change",".js-file-check",(e=>{const t=e.target;if(t.checked){this.modalFiles.push(o.default.fileCardFromElement(t))}else{this.modalFiles=this.modalFiles.filter((e=>e.fileId!==t.dataset.fileId))}this._updateCount()}));$(document).on("click","#addEditTasklistItemForm .orCancel a",(()=>{window.setTimeout((()=>{this.currentFiles=(0,s.cloneDeep)(this.editFiles);o.default.renderFileCards(y,this.editFiles,"attachment")}),200)}));$(document).on("change",".js-file-action input",(function(){e._updateRequired(this.dataset.fileId,this.checked?"yes":"no",e.modalFiles);if(e.submitButton!==null){e.submitButton.disabled=false}e.destroyTooltip()}));$(document).on("click",'[class*="js-file-section"]',(function(e){let t;const a=e.target.parentNode;if(!a.classList.contains("js-file-action")){e.preventDefault();t=this.querySelector(".js-file-check");if(!t.disabled){$(this).closest(".FileList__row").toggleClass("FileList__row--active");setTimeout((function(){t.checked=!t.checked;$(t).trigger("change")}),100)}}}))}document.addEventListener("fileCard:remove",(function(t){e.currentFiles=e.currentFiles.filter((e=>e.fileId!==t.detail.fileId));e._pushToChangedFiles(t.detail.fileId)}),false);$(document).on("change",".js-fc-toggle-required",(function(){const{fileId:t}=this.dataset;const a=this.checked?"yes":"no";e._updateRequired(t,a,e.currentFiles)}))}_createFileLoader(){this._destroyFileLoader();this.fileLoader=new l.ScrollLoader(this._getFiles.bind(this),{limit:50,loadOnInit:true,offset:0,onUpdate:this._renderFilesInModal.bind(this),threshold:100,wrapper:".js-FileList"})}_destroyFileLoader(){if(this.fileLoader){this.fileLoader.destroyHandler();this.fileLoader={}}}_emptyFilesList(){const e=Array.prototype.slice.call(document.querySelectorAll("[data-required-action]"));e.forEach((e=>{e.onmouseenter=null;e.onmouseleave=null}));while(this.fileLoader.wrapper.firstChild){this.fileLoader.wrapper.removeChild(this.fileLoader.wrapper.firstChild)}}_filterFileList(e){this.selectedSection=e;this._createFileLoader();this._emptyFilesList()}_getBlankStateInfo(){const e=(0,c.htmlentities)($(`.js-FilesAddSelect ba-option[value='${this.selectedSection}']`).text());const t={empty:$.__("The %1 %2 Folder is Empty",`&ldquo;${(0,d.sanitize)(e)}&rdquo;`,"<br />"),link:false};if(this.selectedSection==="all"){t.empty=$.__("You Currently Have no Company Files in BambooHR");t.link={text:$.__("Upload your Company Files here"),url:"/files/"}}return t}_mergeFileData(e){let t=(0,s.cloneDeep)(this.modalFiles);e.forEach((e=>{this._addFileMeta(e,t)}));t=null;return e}_addFileMeta(e,t){e.meta={};if(t.length){const a=(0,s.findIndex)(t,(t=>t.fileId==e.id));if(a>-1){e.meta.checked=true;e.meta.required=t[a].required;t.splice(a,1)}}}_pushToChangedFiles(e){if(this.changedFiles.indexOf(e)===-1){this.changedFiles.push(e)}}_renderFilesInModal(e){this.fileLoader.wrapper.insertAdjacentHTML("beforeend",window.microTemplate(g.default,{records:this._mergeFileData(e.addedRecords),blankState:this._getBlankStateInfo()}))}_updateCount(){const e=this.modalFiles.length;const t=$.__n("%s File Selected","%s Files Selected",e);const a=$(".js-filecount");a.html(t);if(e>0){a.addClass("FileList__count-some");window.BambooHR.Modal.setState({primaryAction:()=>{this._updateFilesInForm();try{this.modalCallBack(this.modalFiles)}catch(e){console.error(e)}window.BambooHR.Modal.setState({isOpen:false})}},true)}else{a.removeClass("FileList__count-some");window.BambooHR.Modal.setState({primaryAction:null},true)}}_updateRequired(e,t,a){const r=(0,s.findIndex)(a,(function(t){return t.fileId==e}));const n=document.querySelector(`[data-file-id="${a[r].fileId}"]`);const i=a[r].id.replace(/[^-]+$/,t);a[r].id=i;a[r].required=t;n.id=i}_updateFilesInForm(e=this.modalFiles){$('input[name="file_ids[]"]').remove();this.currentFiles=(0,s.cloneDeep)(e);o.default.renderFileCards(y,this.currentFiles,"attachment",this.theme);$(".dot-ellipsis").dotdotdot({wrap:"letter"});window.BambooHR.Components.Tooltip.init()}addModalCallBack(e){if(typeof e==="function"){this.modalCallBack=e}}addCompanyFiles(e="dark",t=false){let a=this.sectionEndpoint;this.excludeEsignatures=t;if(t){a+="?esignatures=false"}if(this.sections.length===0){const t=this;if(b){(0,m.fileSectionsAPI)(a).then((a=>{t.sections=a.data.data.sections.records;if(t.sections.length){t.openModal(e)}})).catch((()=>{window.setMessage("We weren't able to get some information for you. Perhaps a page refresh would help?","error")}));return}$.get(a,(e=>{this.sections=e.data.sections.records;this.addCompanyFiles(...arguments)})).fail((function(){window.setMessage("We weren't able to get some information for you. Perhaps a page refresh would help?","error")}))}if(this.sections.length){this.openModal(e)}}openModal(e="dark"){const t=this;this.theme=e;this.modalFiles=(0,s.cloneDeep)(this.currentFiles);if(b){const e="js-SharedFilesManagerMod";const a=(0,u.createModalContainer)(e);const r=window.scrollY;(0,f.render)((0,n.default)(p.SharedFilesManagerModal,{filesEndpoint:this.filesEndPoint,initialSelections:this.modalFiles,modalCallback:this.modalCallBack,modalContainerId:e,sections:this.sections,tooltipScrollOffset:r,updateFilesInForm:e=>t._updateFilesInForm(e)}),a)}else{window.BambooHR.Modal.setState({title:$.__("Add Files"),contentHasPadding:false,dangerousContent:window.microTemplate(v.default,{sections:this.sections,selectedFiles:this.currentFiles.length}),isOpen:true,onClose:()=>{this.selectedSection="all";this.modalFiles=[]},onOpen:()=>{const e=document.querySelector("#js-FilesAddForm .js-FilesAddSelect");if(e){e.addEventListener("ba:selectChange",(e=>{t._filterFileList(e.detail.value)}))}this._createFileLoader()},primaryAction:null,primaryActionText:$.__("Add Selected")})}}createTooltip(e){const t=e.querySelector("input");let a=$.__("Optional");let r=$.__("required");if(t===null||w){return null}if(t.checked){a=$.__("Required");r=$.__("optional")}w=BambooHR.Components.Tooltip.create(e,{className:"bhrTooltip--autoWidth",content:$.__("Click to make the signature %s.",r),delay:800,lead:$.__("Signature %s",a),placement:"top"}).show()}destroyTooltip(){if(w){w.destroy();w=null}}emptySelectedFiles(){this.currentFiles=[]}populateFiles(e){this.currentFiles=[];if(e&&e.length>0){e=o.default.fileCardFromArray(e);this.currentFiles=(0,s.cloneDeep)(e);o.default.renderFileCards(y,e,"attachment")}this.resetCache()}resetCache(){this.editFiles=(0,s.cloneDeep)(this.currentFiles)}}t.default=S;let O=null;function T(e=[]){if(O){return O}O=new S(e);return O}},648810:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.initFilesManager=s;var n=r(a(135587));class i extends n.default{static get className(){return"OfferLetterFilesManager"}constructor(e){super(e);this.filesEndPoint="/applicant_tracking/offer_letter/load_files"}_addFileMeta(e,t){super._addFileMeta(e,t);e.meta.disabled=!e.attachableToOffer;if(e.meta.disabled){e.meta.disabledText=$.__("Signature templates need to have the employee as the first signer and can only have specific people as additional signers in order to be added to an offer.")}}}let o=null;function s(e=[]){if(o){o.populateFiles(e);return o}o=new i(e);return o}},329942:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fileSectionsAPI=n;var r=a(417842);function n(e){return r.ajax.get(e)}},731654:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FileListItem=m;var n=r(a(856075));var i=p(a(573674));var o=a(774548);var s=r(a(341757));var l=r(a(60042));var d=r(a(55107));var c=a(651745);var u=r(a(570055));function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=f(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function m(e){const t=(0,i.useRef)(null);const{file:a,handleFileSelection:r,handleToggleRequired:f,tooltipScrollOffset:p,editFileProperty:m}=e;const h=(0,d.default)({offset:p});const[v,g]=(0,i.useState)(a.meta.checked||false);const[y,b]=(0,i.useState)(a.meta.required==="yes");const w=(0,i.useMemo)((()=>a.esignature_template_id!==null&&a.has_esignatures&&a.esignatures.has_fields),[a.esignature_template_id,a.has_esignatures,a.esignatures.has_fields]);const S=(0,i.useMemo)((()=>{const e=w?"yes":"no";const t=y?"yes":"no";return`${a.id}-${e}-${t}`}),[w,y]);const O=()=>{r({...u.default.fileCardFromFile(a),required:y?"yes":"no"},!v);g(!v)};const T=()=>{f(a.id,!y);b(!y)};(0,i.useEffect)((()=>{if(v){m(a.id,"id",S)}}),[S,v]);const C=a.img_sizes.medium==="esignature.png"?"fab-file-esig-20x24":(0,o.getIconNameFromFileName)(a.original_file_name,"20x24",false);const P=(0,l.default)(h.fileListItem,{[h.active]:v,[h.disabled]:a.meta.disabled,"show-esignature-template":a.esignature_template_id&&a.esignatures&&a.esignatures.has_fields});const E=(0,s.default)(a.created).format(s.default.convert.jQuery(window.GLOBAL_DATEPICKER_MASK));let M;if(a.created_str){M=a.created_str}else if(a.created_user_id>0){M=$.__("Created %1$s by %2$s",E,a.created_user)}else{M=$.__("Created %1$s",E)}const x=`check${a.id}-${w?"yes":"no"}-${y}`;const k=`${a.id}-toggle-${y}`;return i.default.createElement(i.default.Fragment,null,(0,n.default)("li",{},void 0,(0,n.default)("div",{className:P,onClick:e=>{const t=e.target;if(!t.classList.contains("bhrToggle__input")&&!t.classList.contains("bhrToggle__label")){O()}},onKeyDown:()=>null,role:"button",tabIndex:0},void 0,(0,n.default)("div",{className:(0,l.default)(h.check)},void 0,(0,n.default)("div",{className:"fab-Checkbox"},void 0,(0,n.default)("input",{checked:v,className:"fab-Checkbox__input","data-can-see":a.can_see_file,"data-ext":w?$.__("Esignature"):a.ext,"data-file-id":a.id,"data-icon":a.img_sizes.small,"data-name":a.name,"data-original-name":a.original_file_name,"data-required":y,disabled:a.meta.disabled,id:x,name:"",onClick:e=>{e.preventDefault();e.stopPropagation()},readOnly:true,type:"checkbox"}),(0,n.default)("span",{className:"fab-Checkbox__box"}),(0,n.default)("label",{className:"fab-Checkbox__label","data-tip-content":a.meta.disabled?a.meta.disabledText:"",htmlFor:x}))),(0,n.default)("div",{className:(0,l.default)(h.icon)},void 0,(0,n.default)(c.Icon,{name:C})),(0,n.default)("div",{className:(0,l.default)(h.info)},void 0,(0,n.default)("span",{className:(0,l.default)(h.infoLine,h.infoTitle,"truncate")},void 0,a.name),(0,n.default)("span",{className:"hidden"},void 0,a.can_see_file),(0,n.default)("span",{className:(0,l.default)(h.infoLine,h.infoInfo)},void 0,`${M} (${window.BambooHR.Utils.humanFileSize(a.size)})`)),w&&(0,n.default)("div",{className:(0,l.default)(h.actions)},void 0,(0,n.default)(c.Tooltip,{classes:{root:h.tooltip,tooltip:h.tooltipPosition},content:$.__("Click to make signature %1",y?"optional":"required"),title:$.__("Signature %1",y?"required":"optional")},void 0,i.default.createElement("span",{className:"bhrTooltip","data-required-action":a.id,ref:t},(0,n.default)("label",{className:"bhrToggle bhrToggle--require",htmlFor:k},void 0,(0,n.default)("input",{checked:y,className:"bhrToggle__input","data-file-id":a.id,id:k,onChange:T,type:"checkbox"}),(0,n.default)("span",{className:"bhrToggle__label"}),(0,n.default)("span",{className:"bhrToggle__handle"}))))))))}},962182:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FileListItem",{enumerable:true,get:function(){return r.FileListItem}});var r=a(731654)},323819:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.addFileMeta=n;t.mergeFileData=i;var r=a(273641);function n(e,t){if(!e.meta){e.meta={disabled:false}}if(t.length){const a=(0,r.findIndex)(t,(t=>t.fileId==e.id));if(a>-1){e.meta.checked=true;e.meta.required=t[a].required;t.splice(a,1)}}}function i(e,t){const a=(0,r.cloneDeep)(t);const i=(0,r.cloneDeep)(e);i.forEach((e=>{n(e,a)}));return i}},156545:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.FileList=v;var n=r(a(856075));var i=h(a(573674));var o=a(651745);var s=a(962182);var l=a(753134);var d=a(975558);var c=a(323819);var u=a(453477);var f=r(a(60042));var p=r(a(141042));function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=m(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function v(e){const t=(0,p.default)();const a=25;const{sectionId:r,selectedFiles:m,handleFileSelection:h,handleToggleRequired:v,tooltipScrollOffset:g,filesEndpoint:y,editFileProperty:b}=e;const[w,S]=(0,i.useState)(0);const[O,T]=(0,i.useState)(true);const[C,P]=(0,i.useState)([]);const[E,M]=(0,i.useState)(true);function x(){const e=(0,c.mergeFileData)(C,m);const t=e=>{if(e.meta===undefined){return{disabled:false}}return e.meta};return e.map((e=>(0,n.default)(s.FileListItem,{file:{...e,meta:t(e)},handleFileSelection:h,handleToggleRequired:v,tooltipScrollOffset:g,editFileProperty:b},`${e.file_section_id}_${e.id}`)))}function k(t){const{sectionName:a}=e;let i=(0,n.default)(l.Message,{em:{tag:"div"},params:[a],text:$._('The "{1}" *Folder is Empty*')});let s=false;const c=$.__("Upload your Company Files here");const u="/files/";if(r==="all"){i=(0,n.default)(l.Message,{text:$._("You Currently Have no Company Files in BambooHR")});s=true}return(0,n.default)("div",{className:(0,f.default)(t.blankStateWrapper)},void 0,(0,n.default)(o.BlankState,{icon:"fab-file-question-mark-60x72",subtitle:s?(0,n.default)("a",{className:"blankState__link",href:u,onClick:d.closeModal,rel:"noopener noreferrer",target:"_blank"},void 0,c):null,title:i}))}return i.default.createElement(i.default.Fragment,null,(0,n.default)("div",{className:(0,f.default)(t.fileListContentWrapper)},void 0,(0,n.default)("ul",{className:(0,f.default)({[t.scrollableFileList]:!!C.length}),id:"js-FileList"},void 0,C.length>0&&x()),C.length===0&&!E&&k(t),(0,n.default)(o.ProgressiveLoader,{endpoint:(0,u.buildFilesEndpoint)(y,r,w,a),hasMore:O,onFetch:({data:{files:{records:e,totalCount:t}}})=>{const r=w+a;const n=window.sharedFilesManager._mergeFileData(e);S(r);T(r<t);P([...C].concat(n));M(false)},pageSize:a,preload:{startsAt:0,limit:a},preloadUntilScroll:true,wrapper:"#js-FileList"})))}},625180:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FileList",{enumerable:true,get:function(){return r.FileList}});var r=a(156545)},912950:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"SharedFilesManagerModal",{enumerable:true,get:function(){return r.SharedFilesManagerModal}});var r=a(138007)},138007:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.SharedFilesManagerModal=h;var n=r(a(856075));var i=f(a(573674));var o=a(651745);var s=a(625180);var l=a(975558);var d=r(a(564326));var c=r(a(60042));function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function p(e){const t=[{text:$.__("All Files"),value:"all"}];e.forEach((e=>{if(e.visibility!=="hidden"){t.push({text:e.name,value:e.id})}}));return t}function m(e,t){const a=t.find((t=>t.id===e));return a?a.name:""}function h(e){const t=(0,d.default)();const{sections:a,updateFilesInForm:r,initialSelections:u=[],modalContainerId:f,modalCallback:h,tooltipScrollOffset:v,filesEndpoint:g}=e;const[y,b]=(0,i.useState)(u);const[w,S]=(0,i.useState)(["all"]);const[O,T]=(0,i.useState)(true);function C(){(0,l.removeModalContainer)(f)}function P(e,t){T(false);if(t){b((t=>[...t,e]))}else{const t=[...y];t.splice(t.findIndex((t=>t.fileId===e.fileId)),1);b(t)}}function E(e,t){const a=y.findIndex((t=>t.fileId===e));b((e=>{e[a].required=t?"yes":"no";return e}))}function M(){r(y);if(h){h(y)}C()}function x(e,t,a){const r=[...y];const n=r.findIndex((t=>t.fileId===e));if(n!==-1){const e={...y[n]};e[t]=a;r.splice(n,1,e);b(r)}}return(0,n.default)(o.StandardModal,{isOpen:true,onRequestClose:C},void 0,(0,n.default)(o.StandardModal.Body,{renderFooter:(0,n.default)(o.StandardModal.Footer,{actions:[(0,n.default)(o.Button,{clickAction:M,isDisabled:y.length===0||O,type:"button"},"primary",$.__("Add Selected")),(0,n.default)(o.TextButton,{clickAction:C,type:"button"},"secondary","Cancel")]}),renderHeader:(0,n.default)(o.StandardModal.Header,{hasCloseButton:true,title:$.__("Add Files")})},void 0,(0,n.default)(o.StandardModal.Constraint,{},void 0,(0,n.default)("div",{className:(0,c.default)(t.addFileModal)},void 0,(0,n.default)("form",{className:(0,c.default)(t.addFileForm)},void 0,(0,n.default)("div",{className:(0,c.default)(t.fileListModalSubheader)},void 0,(0,n.default)("div",{},void 0,(0,n.default)(o.Select,{isClearable:w[0]!=="all",items:p(a),onClear:()=>{S(["all"])},onSelect:e=>{S([e])},selectedValues:w,width:6})),(0,n.default)("div",{className:(0,c.default)(t.fileListCount)},void 0,$.__n("%s File Selected","%s Files Selected",y.length))),(0,n.default)(s.FileList,{editFileProperty:x,filesEndpoint:g,handleFileSelection:P,handleToggleRequired:E,sectionId:w[0],sectionName:m(w[0],a),selectedFiles:y,tooltipScrollOffset:v},w[0]))))))}},453477:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.buildFilesEndpoint=n;var r=a(273641);function n(e,t,a,n){const i=(0,r.includes)(e,"?");const{excludeEsignatures:o}=window.sharedFilesManager;return`${e}${i?"&":"?"}sectionId=${t}&offset=${a}&limit=${n}${o?"&excludeEsignatures=true":""}`}},975558:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.closeModal=s;t.showModal=l;t.createModalContainer=d;t.removeModalContainer=c;var r=a(604928);var n=a(830734);let i;let o;function s(){if(i){if(!o&&window.ENV!=="prod"){console.warn("You closed the modal before setting the modal isOpen to false, this will cause issues with the intended functionality. You should handle the isOpen state of the modal before calling this function")}$(".ReactModal__Content",i).addClass("ReactModal__Content--before-close");$(".ReactModal__Overlay",i).addClass("ReactModal__Overlay--before-close");setTimeout((()=>{(0,r.unmountComponentAtNode)(i);document.body.removeChild(i);i=undefined}),250)}}function l(e){if(!i){i=d()}o=e.props.isOpen===false;(0,n.render)(e,i)}function d(e){const t=document.createElement("div");if(e)t.setAttribute("id",e);document.body.appendChild(t);return t}function c(e){const t=document.getElementById(e);if(t){(0,r.unmountComponentAtNode)(t);document.body.removeChild(t)}}},722908:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmployeeAvatar=l;var n=r(a(856075));var i=r(a(573674));var o=a(651745);const s=(0,o.makeStyles)((({spacing:e})=>({avatar:{display:"inline-flex",width:54,height:54}})));function l({employee:e}){const t=s();return(0,n.default)(o.Avatar,{alt:$.__("Image of %1 %2",e.preferredName,e.lastName),className:t.avatar,src:e.photoUrl})}},517032:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.useCompanyName=o;var n=r(a(457548));var i=a(573674);function o(){const[e,t]=(0,i.useState)(true);const[a,r]=(0,i.useState)();(0,i.useEffect)((()=>{t(true);(0,n.default)().then((e=>{r((e===null||e===void 0?void 0:e.name)||"");t(false)}))}),[]);return{companyName:a,loading:e}}},929430:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useMismatchData=i;var r=a(573674);var n=a(733818);function i(e,t){const[a,i]=(0,r.useState)(true);const[o,s]=(0,r.useState)();const[l,d]=(0,r.useState)();const[c,u]=(0,r.useState)(false);const[f,p]=(0,r.useState)(false);(0,r.useEffect)((()=>{if(t){i(true);(0,n.getMismatchData)(e).then((({hasGusto:e,employee:t,fields:a,showFinalPayDate:r})=>{s(t);d(a);u(e);p(r);i(false)}))}}),[e,t]);return{employee:o,fields:l,hasGusto:c,showFinalPayDate:f,loading:a}}},504983:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"StatusMismatch",{enumerable:true,get:function(){return r.StatusMismatch}});Object.defineProperty(t,"StatusMismatchModal",{enumerable:true,get:function(){return n.StatusMismatchModal}});var r=a(837305);var n=a(52447)},733818:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.setEmployeeActive=o;t.endEmployment=s;t.getMismatchData=l;var n=r(a(417842));var i=r(a(341757));function o(e){return n.default.post(`/employees/inactiveTerminated/status/${e}`,{employeeStatus:"Active"})}function s(e){const t={...e,termDate:(0,i.default)(e.termDate).format(),finalPayDate:(0,i.default)(e.finalPayDate).format()};return n.default.post("/ajax/employees/termination.php",n.default.prepareData(t,n.default.prepareDataTypes.FORM_DATA))}async function l(e){const{data:t}=await n.default.get(`/employees/inactiveTerminated/${e}`);return{employee:t.employee,fields:t.fields,hasGusto:!!t.hasGusto,showFinalPayDate:!!t.showFinalPayDate}}},52447:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.StatusMismatchModal=h;var n=r(a(856075));var i=m(a(573674));var o=a(651745);var s=a(517032);var l=a(929430);var d=a(733818);var c=a(763602);var u=a(211720);var f=a(740019);function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=p(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function h({employeeId:e,onCancel:t,onSave:a,open:r}){const[p,m]=(0,i.useState)(0);const[h,v]=(0,i.useState)(true);const[g,y]=(0,i.useState)(false);const{fields:b,employee:w,hasGusto:S,loading:O,showFinalPayDate:T}=(0,l.useMismatchData)(e,r);const{companyName:C,loading:P}=(0,s.useCompanyName)();(0,i.useEffect)((()=>{if(r){m(0);v(true);y(false)}}),[r]);const E=()=>[(0,n.default)(c.EmployedStep,{companyName:C,employed:h,employee:w,onCancel:t,onChange:e=>v(e),onNext:()=>m(1)},"step1"),h?(0,n.default)(f.UpdateStatusStep,{employee:w,onCancel:t,onNext:async()=>{y(true);try{await(0,d.setEmployeeActive)(w.id);setMessage($.__("Got it. The status for %1 is updated.",w.preferredName),"success");a()}catch(e){setMessage($.__("Oops. Something went wrong. Please try again."),"error");y(false)}},onPrevious:()=>m(0)},"updateStatusStep"):(0,n.default)(u.EndEmploymentStep,{employee:w,fields:b,hasGusto:S,onCancel:t,onNext:async e=>{y(true);try{await(0,d.endEmployment)(e);setMessage($.__(`Got it. %1's end of employment information has been updated.`,w.preferredName),"success");a()}catch(e){setMessage($.__("Oops. Something went wrong. Please try again."),"error");y(false)}},onPrevious:()=>m(0),showFinalPayDate:T},"endEmploymentStep")];const M=P||O;return(0,n.default)(o.MultiStepModal,{currentStep:p,isLoading:M,isOpen:r,isProcessing:g,onRequestClose:t,steps:!r||M?[]:E(),title:w?$.__("Update %1 %2",w.preferredName,w.lastName):""})}},837305:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.StatusMismatch=c;var n=r(a(856075));var i=d(a(573674));var o=a(651745);var s=a(52447);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function c({employee:e}){const[t,a]=(0,i.useState)(true);const[r,l]=(0,i.useState)(false);return i.default.createElement(i.default.Fragment,null,(0,n.default)(o.SlidedownPortal,{action:(0,n.default)(o.TextButton,{dark:true,onClick:()=>{a(false);l(true)},size:"small"},void 0,$.__("View and Fix ")),message:$.__(`%1 is an inactive employee, but isn't terminated. This could cause problems.`,e.preferredName),onDismiss:()=>a(false),show:t}),(0,n.default)(s.StatusMismatchModal,{employeeId:e.id,onCancel:()=>l(false),onSave:()=>window.location.reload(),open:r}))}},763602:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmployedStep=c;var n=r(a(856075));var i=r(a(573674));var o=a(288015);var s=a(651745);var l=a(722908);const d=(0,s.makeStyles)((({spacing:e})=>({boxes:{alignItems:"flex-start",display:"flex",gap:e(2),justifyContent:"center",marginTop:e(2)},boxIcon:{marginTop:-1}})));function c({companyName:e,employed:t,employee:a,onCancel:r,onChange:i,onNext:c,renderHeader:u}){const f=d();return(0,n.default)(s.StandardModal.Body,{renderFooter:(0,n.default)(s.StandardModal.Footer,{actions:[(0,n.default)(s.Button,{onClick:()=>c()},"next",$.__("Next")),(0,n.default)(s.TextButton,{onClick:r},"cancel",$.__("Cancel"))]}),renderHeader:u,size:s.CardSize.MEDIUM},void 0,(0,n.default)(s.StandardModal.Constraint,{spacingOverrides:{top:s.StandardModal.Constraint.Spacing.LARGE}},void 0,(0,n.default)(s.StandardModal.HeroHeadline,{icon:(0,n.default)(l.EmployeeAvatar,{employee:a}),subtext:$.__("Either way, we should update some things to make sure your data is sparkling clean."),text:$.__("Is %1 %2 still employed by %3?",a.preferredName,a.lastName,e)}),(0,n.default)(s.SelectableBoxGroup,{type:"radio"},void 0,(0,n.default)("div",{className:f.boxes},void 0,(0,n.default)(s.SelectableBox,{boxWidth:"300px",description:$.__("%1 is actively working here and being paid.",a.preferredName),icon:(0,n.default)(o.CardPerson20x16,{}),inputId:"statusMismatchYes",isChecked:t===true,name:"isStillEmployed",onChange:()=>i(true),title:$.__("%1 Is Still Employed",a.preferredName),type:"radio",value:"yes"}),(0,n.default)(s.SelectableBox,{boxWidth:"300px",description:$.__("%1 no longer works here, and is not currently on our payroll.",a.preferredName),icon:(0,n.default)("span",{className:f.boxIcon},void 0,(0,n.default)(o.MovingBox20x18,{})),inputId:"statusMismatchNo",isChecked:t===false,name:"isStillEmployed",onChange:()=>i(false),title:$.__("%1 Is Not Employed",a.preferredName),type:"radio",value:"no"})))))}},770281:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EndEmploymentStep=m;var n=r(a(368652));var i=r(a(856075));var o=f(a(573674));var s=a(651745);var l=a(49621);var d=a(178045);var c=a(722908);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const p=(0,s.makeStyles)((({spacing:e})=>({benetracStatus:{gridColumn:"1 / -1"},comment:{gridColumn:"1 / -1"},effectiveDate:{gridColumn:"1 / -1"},fields:{display:"grid",gap:e(2),gridTemplateColumns:"min-content min-content 1fr"},finalPayDate:{gridColumn:"1 / -1"},runSpecialPayroll:{gridColumn:"1 / -2"},heading:{marginTop:e(3.5)},reason:{gridColumn:"2 / 3"},rehire:{gridColumn:"1 / -1"},type:{gridColumn:"1 / 2"}})));function m({employee:e,fields:t,hasGusto:a,onCancel:r,onNext:u,onPrevious:f,renderHeader:m,showFinalPayDate:h}){const v=p();const[g,y]=(0,o.useState)(false);const[b,w]=(0,o.useState)([]);const S=s.StandardModal.Constraint.Spacing.LARGE;const O=s.StandardModal.Constraint.Spacing.LARGE;const T=[{name:"employmentStatusComment",maxLength:255},{name:"rehire"},{name:"termDate",required:true},{name:"termReason"},{name:"termType",required:true}];if(t.benetracStatus){T.push({name:"benetracStatus",required:true})}if(h){T.push({name:"finalPayDate",required:true})}if(a){T.push({name:"runSpecialPayroll",defaultValue:"0"})}const{controlled:C,formState:{errors:P},fields:E,handleSubmit:M,setValue:x}=(0,s.useForm)(T);const k=()=>{(0,d.showSlidedown)($.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")};const j=t=>{u({id:e.id,...t})};return(0,i.default)(s.StandardModal.Body,{renderFooter:(0,i.default)(s.StandardModal.Footer,{actions:[(0,i.default)(s.Button,{onClick:M(j,k)},"next",$.__("Save")),(0,i.default)(s.Button,{color:"secondary",onClick:()=>f(),variant:"outlined"},"previous",$.__("Previous")),(0,i.default)(s.TextButton,{onClick:r},"cancel",$.__("Cancel"))]}),renderHeader:m,size:s.CardSize.MEDIUM},void 0,(0,i.default)(s.StandardModal.Constraint,{spacingOverrides:{top:S,bottom:O}},void 0,(0,i.default)(s.StandardModal.HeroHeadline,{hasSeparator:true,icon:(0,i.default)(c.EmployeeAvatar,{employee:e}),subtext:$.__(`This applies even if %1 resigned voluntarily, and wasn't terminated for cause.`,e.preferredName),text:$.__("Okay! In that case %1 should have their employment ended in BambooHR.",e.preferredName)}),(0,i.default)(s.Typography,{className:v.heading,color:"primary",variant:"h5"},void 0,$.__("Add End of Employment Info")),(0,i.default)("div",{className:v.fields},void 0,C((e=>o.default.createElement(s.DatePicker,(0,n.default)({},e,{className:v.effectiveDate,label:$.__("Effective Date"),status:P.termDate?"error":undefined}))),E.termDate),h?C((e=>o.default.createElement(s.DatePicker,(0,n.default)({},e,{className:v.finalPayDate,label:$.__("Final Pay Date"),status:P.finalPayDate?"error":undefined}))),E.finalPayDate):null,C((e=>o.default.createElement(s.SelectField,(0,n.default)({},e,{className:v.type,id:"endEmploymentType",items:t.termType.items,label:$.__("Type"),status:P.termType?"error":undefined,width:7}))),E.termType),C((e=>o.default.createElement(s.SelectField,(0,n.default)({},e,{className:v.reason,id:"endEmploymentReason",items:[...t.termReason.items,...b],label:$.__("Reason"),onAdd:()=>{y(true);return Promise.resolve()},width:7}))),E.termReason),C((e=>o.default.createElement(s.SelectField,(0,n.default)({},e,{className:v.rehire,id:"endEmploymentRehire",items:t.rehire.items,label:$.__("Eligible for Rehire"),width:5}))),E.rehire),t.benetracStatus?C((e=>o.default.createElement(s.SelectField,(0,n.default)({},e,{className:v.benetracStatus,id:"benetracStatus",items:t.benetracStatus.items,label:$.__("BeneTrac Status"),status:P.benetracStatus?"error":undefined,width:7}))),E.benetracStatus):null,a?C((e=>o.default.createElement(s.RadioGroup,(0,n.default)({},e,{className:v.runSpecialPayroll,items:[{label:$.__("Yes, I want to run a special termination payroll in order to pay the employee their last check on the spot."),value:"1"},{label:$.__(`No, the employee agrees to be paid the rest of their wages on the company's normal pay schedule.`),value:"0"}],label:$.__("Gusto")}))),E.runSpecialPayroll):null,C((e=>o.default.createElement(s.TextArea,(0,n.default)({},e,{className:v.comment,label:$.__("Comment"),note:P.employmentStatusComment?$.__("Your comment needs to be less than 255 characters in length."):undefined,status:P.employmentStatusComment?"error":undefined,width:10}))),E.employmentStatusComment))),(0,i.default)(l.AddItemModal,{component:s.SheetModal,field:{label:$.__("Termination Reason Name"),id:t.termReason.fieldId},onCancel:()=>y(false),onSave:e=>{y(false);w((t=>[...t,e]));x("termReason",e.value)},open:g,title:$.__("Add Termination Reason")}))}},211720:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EndEmploymentStep",{enumerable:true,get:function(){return r.EndEmploymentStep}});var r=a(770281)},740019:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.UpdateStatusStep=c;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(753134);var l=a(722908);const d=(0,o.makeStyles)((({spacing:e})=>({heading:{marginTop:e(3.5)}})));function c({employee:e,onCancel:t,onNext:a,onPrevious:r,renderHeader:i}){const c=d();const u=o.StandardModal.Constraint.Spacing.LARGE;const f=o.StandardModal.Constraint.Spacing.LARGE;return(0,n.default)(o.StandardModal.Body,{renderFooter:(0,n.default)(o.StandardModal.Footer,{actions:[(0,n.default)(o.Button,{onClick:a},"next",$.__("Save Status")),(0,n.default)(o.Button,{color:"secondary",onClick:()=>r(),variant:"outlined"},"previous",$.__("Previous")),(0,n.default)(o.TextButton,{onClick:t},"cancel",$.__("Cancel"))]}),renderHeader:i,size:o.CardSize.MEDIUM},void 0,(0,n.default)(o.StandardModal.Constraint,{spacingOverrides:{top:u,bottom:f}},void 0,(0,n.default)(o.StandardModal.HeroHeadline,{hasSeparator:true,icon:(0,n.default)(l.EmployeeAvatar,{employee:e}),subtext:(0,n.default)(s.Message,{link:(0,s.ExternalLink)("mailto: support@bamboohr.com"),text:$._(`Soon, inactive employees who are employed will be limited in what they can do in BambooHR. We're hoping to help you get ahead of that. Please reach out to [support@bamboohr.com] with any questions.`)}),text:$.__("Great! In that case %1 should be set to Active.",e.preferredName)}),(0,n.default)(o.Typography,{className:c.heading,color:"primary",variant:"h5"},void 0,$.__("Update Status")),(0,n.default)(o.SelectField,{disabled:true,id:"statusMismatchStatus",items:[{text:$.__("Active"),value:"active"}],label:$.__("Status"),value:["active"],width:7})))}},433520:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.BadgeWithSubtitle=l;var n=r(a(856075));var i=r(a(573674));var o=a(651745);const s=(0,o.styled)(o.Badge)({alignItems:"center","& .BadgeWithSubtitle__asset":{width:"64px",height:"64px",marginTop:0,img:{width:"100%",height:"100%",objectFit:"contain",objectPosition:"center"}},"& .BadgeWithSubtitle__image":{display:"block"}});function l({children:e,classes:t={},imageSrc:a,title:r}){return(0,n.default)(s,{TitleProps:{sx:{color:"common.black",m:0}},className:t.root,classes:{asset:"BadgeWithSubtitle__asset",image:"BadgeWithSubtitle__image"},imageSrc:a,title:r},void 0,(0,n.default)(o.Typography,{className:t.subtitle,component:"p",sx:{color:"gray.700"}},void 0,e))}},158397:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.CalculateTimeOff=h;var n=r(a(856075));var i=m(a(573674));var o=a(651745);var s=a(40635);var l=a(651745);var d=a(651745);var c=r(a(242895));var u=r(a(496406));var f=a(353471);function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=p(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function h({employeeId:e,timeOffTypes:t,defaultTimeOffTypeId:a}){const[r,p]=(0,i.useState)((0,u.default)().format(u.default.defaultFormat));const[m,h]=(0,i.useState)(null);const[g,y]=(0,i.useState)(null);const[b,w]=(0,i.useState)(false);const[S,O]=(0,i.useState)("");const[T,C]=(0,i.useState)(a||t[0].value);(0,i.useEffect)((()=>{h(null);const t=s.Ajax.createCancelSource();(0,f.calculateTimeOff)({employeeId:e,endDate:r,timeOffType:T},{cancelToken:t.token}).then((({data:{total:e,allItems:t}})=>{const a=e.split(" ",1)[0];let r;if(e.includes("hour")){r=$.__n("hour","hours",a)}else if(e.includes("day")){r=$.__n("day","days",a)}y(t.reverse().map(((e,t)=>({...e,key:t}))));h(a);O(r)})).catch((e=>{if(window.BambooHR.env.dev&&!s.Ajax.isCancelledReason(e)){console.error(e)}}));return()=>{t.cancel()}}),[e,r,T]);const P=(0,i.useRef)((0,u.default)().format(u.default.defaultFormat));const E=[{cell:e=>e.ymd,headerAriaLabel:"Date",key:"date"},{header:$.__("Action"),cell:e=>e.desc,width:"350px",key:"action"},{header:$.__("Amount"),cell:e=>e.hours,key:"amount"},{header:$.__("Balance"),cell:e=>e.total,key:"balance"}];return i.default.createElement(i.default.Fragment,null,(0,n.default)(o.Box,{component:"div",sx:{px:1,py:2,display:"inline-flex",flexDirection:"column",alignItems:"start"}},void 0,(0,n.default)(o.Box,{className:"fab-FormRow",sx:{mb:0}},void 0,(0,n.default)(o.Box,{component:"div",sx:{mr:2}},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"timeOffType"},void 0,$.__("Time Off Type")),(0,n.default)("div",{className:"fab-InputWrapper"},void 0,(0,n.default)(d.Select,{isClearable:false,items:t,name:"timeOffType",onSelect:e=>C(e),selectedValues:[T],width:7}))),(0,n.default)("div",{},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"startYmd"},void 0,$.__("As of Date")),(0,n.default)("div",{className:"fab-InputWrapper"},void 0,(0,n.default)(c.default,{cssClasses:{single:"fab-TextInput--width5"},name:"clockOutDate",onChange:e=>p(e),required:true,settings:{start:r,min:P.current},type:"date"})))),(0,n.default)(o.Box,{sx:{bgcolor:"white",p:1.5,mb:1,border:1,borderColor:"gray.400",borderRadius:.5,alignSelf:"stretch",position:"relative"}},void 0,(0,n.default)(o.Box,{component:"span",sx:{color:"primary.main",typography:"h1"}},void 0,m===null?(0,n.default)(v,{}):i.default.createElement(i.default.Fragment,null,m," ",(0,n.default)(o.Box,{component:"span",sx:{typography:"h3",verticalAlign:"middle"}},void 0,S)))),(0,n.default)(l.TextButton,{clickAction:()=>w((e=>!e)),iconBefore:b?"fab-dropdown-caret-9x5":"fab-caret-right-5x9",muted:true,size:"small",text:$.__("Accrual Details"),type:"button"})),b&&(0,n.default)(o.Table,{caption:$.__("Time Off History"),columns:E,maxHeight:"350px",rowKey:e=>e.key,rows:g,stickyHeader:true}))}function v(){return i.default.createElement(i.default.Fragment,null,(0,n.default)("span",{},void 0,""),(0,n.default)(o.Box,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},void 0,(0,n.default)(o.Loader,{})))}},427631:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=l;var n=r(a(856075));var i=r(a(573674));var o=a(845382);var s=a(433520);function l(){const{imageSrc:e,jobTitle:t,name:a}=window.Employee?{imageSrc:(0,o.convertHTMLEntitiesInString)(window.Employee.photoURL),jobTitle:window.Employee.jobTitle,name:`${window.Employee.preferredName} ${window.Employee.lastName}`}:{imageSrc:(0,o.convertHTMLEntitiesInString)(window.common.profilePictureUrl),jobTitle:window.common.jobTitle,name:`${window.common.firstName} ${window.common.lastName}`};return(0,n.default)(s.BadgeWithSubtitle,{imageAlt:"Image of employee",imageSrc:e,title:a},void 0,t)}},418327:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DAILY_AMOUNT_MASK_OPTIONS=t.MOMENT_LOCALE_FORMAT_MAP=t.TIME_OFF_ICON_MAP=void 0;const a={"time-off-luggage":"fab-briefcase-clock-36x30","time-off-calendar":"fab-calendar-clock-34x34","happy-calendar":"fab-calendar-smiling-34x34","palm-trees":"fab-palm-tree-34x33","camping-trailer":"fab-trailer-35x34",airplane:"fab-airplane-30x34","band-aid":"fab-band-aid-34x34","first-aid-kit":"fab-medical-clipboard-30x36","joining-hands":"fab-hands-joined-34x32",selfie:"fab-person-circle-34x34",graduation:"fab-graduation-cap-34x29",family:"fab-people-34x34",home:"fab-home-34x33","teddy-bear":"fab-teddy-bear-34x34","baby-carriage":"fab-stroller-34x34","birthday-cake":"fab-cake-32x36",gavel:"fab-gavel-34x34",medal:"fab-medal-32x36"};t.TIME_OFF_ICON_MAP=a;const r={"mm/dd/yyyy":"MM/DD/YYYY","dd/mm/yyyy":"DD/MM/YYYY","yyyy-mm-dd":"YYYY-MM-DD","dd MMM YYYY":"DD MMM YYYY"};t.MOMENT_LOCALE_FORMAT_MAP=r;const n={mask:Number,radix:window.GLOBAL_DECIMAL_CHAR,scale:5,thousandsSeparator:window.GLOBAL_THOUSANDS_SEPARATOR,signed:true};t.DAILY_AMOUNT_MASK_OPTIONS=n},353471:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.getTimeOffTabData=f;t.approveOrDenyRequest=p;t.byPassRequest=m;t.deniedTimeOffRequestCommentModal=h;t.getHistoryTableData=v;t.postNewTimeOffAccrualDate=g;t.getNewDaysData=y;t.checkDuplicateTORequest=b;t.cancelTimeOffRequest=w;t.getTimeOffPolicy=t.calculateTimeOff=t.getTimeOffCalculator=void 0;var n=r(a(856075));var i=r(a(573674));var o=u(a(715898));var s=r(a(417842));var l=r(a(496406));var d=a(825799);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function f(e){const t={id:e};return o.getTimeOffTabData(t)}function p(e,t,a=Function.prototype){const r={action:e,id:t};o.approveOrDenyRequest(r).then((e=>{if(e.data.success){a(e.data)}else{window.setMessage(e.data.error,"error")}})).catch(window.errorFallBack)}function m(e,t,a,r,i,l,c,u=Function.prototype){window.BambooHR.Modal.setState({isLoading:true});s.default.get(`/time_off/requests/${e}/bypass`,{status:a}).then((e=>{if(e&&e.data){window.BambooHR.Modal.setState({alternativeAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},content:(0,n.default)("div",{dangerouslySetInnerHTML:{__html:e.data.html}}),headerType:"text",headline:$.__("You'll be bypassing some approvers."),icon:a==="approve"?"fab-thumbs-up-18x18":"fab-thumbs-down-18x18",isLoading:false,isOpen:true,onOpen:()=>{$("textarea.autosize").autosize();$("#requestByPassForm span.truncate").each(((e,t)=>{if(t.offsetWidth<t.scrollWidth){const e=[];for(let a=0;a<t.childElementCount;a++){if(t.children[a].offsetLeft+12>t.offsetLeft+t.offsetWidth){e.push(t.children[a])}}if(e.length>0){$(this).next(".MsgApproverSmall__more").html(`+${e.length} more`)}}}))},primaryAction:()=>{const e={id:t,status:a,action:a,name:r,type:i,assigned:l,ajax:true,bypass:true};const n=(0,d.commentExistsInADenialModal)();const s=$("#requestByPassForm").serialize();window.BambooHR.Modal.setState({isProcessing:true},true);o.saveTimeOffRequest(e).then((e=>{if(e.data.success||e.data.result){if(e.data.message&&c){window.setMessage(e.data.message,"success")}if(a==="deny"&&n){o.postDeniedRequestComment(s)}u(e.data)}else if(e.data.error){window.setMessage(e.data.error,"error")}else{window.errorFallBack()}window.BambooHR.Modal.setState({isOpen:false})})).catch((()=>{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))},primaryActionText:a==="approve"?$.__("Approve Anyway"):$.__("Deny Anyway"),title:$.__("Just Checking...")})}})).catch((e=>{setMessage(e.error,"error")}))}function h(e,t,a=Function.prototype,r=Function.prototype){const n={ajax:true,denial:true,id:e,name:t};const i=()=>{window.BambooHR.Modal.setState({isProcessing:true},true);const e=(0,d.commentExistsInADenialModal)();const t=$(".denialModal form").serialize();if(e){o.postDeniedRequestComment(t).then((()=>{window.BambooHR.Modal.setState({isOpen:false});a()})).catch((()=>{window.BambooHR.Modal.setState({isProcessing:false},true)}))}};o.getDeniedTimeOffRequestCommentModalData(n).then((e=>{if(e.data.success){window.BambooHR.Modal.setState({alternativeActionText:$.__("No Thanks, I'm Done"),dangerousContent:e.data.html,icon:"fab-thumbs-down-54x54",onOpen:()=>{$(".ui-dialog-titlebar-close").hide();$("textarea.autosize").autosize();const e=$("textarea");e.on("keyup",(()=>{if($(e).val().length>0){window.BambooHR.Modal.setState({primaryAction:i},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}}));$("#js-denialAction").attr("name","action")},isOpen:true,onClose:()=>{window.BambooHR.Modal.setState({isOpen:false});r()},primaryActionText:e.data.save,primaryAction:null,title:e.data.title})}else{window.setMessage(e.error,"error")}})).catch(window.errorFallBack)}function v(e){return o.getHistoryTableData(e)}function g(e,t){const a=new URLSearchParams({id:e,pto_date:(0,l.default)(t).format(l.default.defaultFormat)}).toString();return o.postNewTimeOffAccrualDate(e,a)}function y(e,t,a,r,n){const i={startDate:e,endDate:t,type:a,id:r,eid:n};return o.getNewDaysData(i)}function b(e,t,a,r){const n={startDate:e,endDate:t,employeeId:a,originalRequestId:r};return o.checkDuplicateTORequest(n)}function w(e){return o.cancelTimeOffRequest(e)}const{getTimeOffCalculator:S}=o;t.getTimeOffCalculator=S;const{calculateTimeOff:O}=o;t.calculateTimeOff=O;const{getTimeOffPolicy:T}=o;t.getTimeOffPolicy=T},715898:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.getTimeOffTabData=i;t.approveOrDenyRequest=o;t.saveTimeOffRequest=s;t.postDeniedRequestComment=l;t.getDeniedTimeOffRequestCommentModalData=d;t.getHistoryTableData=c;t.postNewTimeOffAccrualDate=u;t.getNewDaysData=f;t.checkDuplicateTORequest=p;t.cancelTimeOffRequest=m;t.getTimeOffCalculator=h;t.calculateTimeOff=v;t.getTimeOffPolicy=g;var n=r(a(417842));function i(e){return n.default.get("/time_off/tab/data",e)}function o(e){const t=`action=${e.action}&id=${e.id}&name=time_off_request&ajax=true`;return n.default.post("/inbox/details.php",t,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function s(e){const t=new URLSearchParams(e).toString();return n.default.post("/inbox/details.php",t,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function l(e){return n.default.post("/ajax/employee_comments.php",e,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function d(e){return n.default.get("/inbox/details.php",e,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function c(e){return n.default.get(e)}function u(e,t){return n.default.post(`/time_off/ptoHireDate?id=${e}`,t)}function f(e){return n.default.get("/time_off/requests/daily_fields",e)}function p({startDate:e,endDate:t,employeeId:a,originalRequestId:r}){return n.default.get(`/time_off/requests/duplicate_check?startDate=${e}&endDate=${t}&eid=${a}&originalRequestId=${r}`)}function m(e){return n.default.post("/time_off/requests/cancel",{id:e})}function h(e,t){return n.default.get("/time_off/calculator",e,t)}function v(e,t){return n.default.get("/time_off/calculator/calculate",e,t)}function g(e){return n.default.get("/time_off/policy",e)}},411851:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=p;var n=r(a(856075));var i=f(a(573674));var o=a(651745);var s=a(40635);var l=a(158397);var d=r(a(427631));var c=a(353471);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function p({isOpen:e,onClose:t,employeeId:a,defaultTimeOffTypeId:r}){const[u,f]=(0,i.useState)(true);const[p,m]=(0,i.useState)([]);(0,i.useEffect)((()=>{const t=s.Ajax.createCancelSource();if(e){const e=new Date;(0,c.getTimeOffCalculator)({id:a,timeOffTypeId:r,date:`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`},{cancelToken:t.token}).then((({data:e})=>{m(Object.entries(e.timeOffTypes).map((([e,t])=>({text:t,value:e}))))})).catch((e=>{if(window.BambooHR.env.dev&&!s.Ajax.isCancelledReason(e)){console.error(e)}})).finally((()=>{f(false)}))}return()=>{t.cancel()}}),[e,a,r]);return(0,n.default)(o.StandardModal,{isLoading:u,isOpen:e,onRequestClose:()=>t()},void 0,(0,n.default)(o.StandardModal.Body,{renderFooter:(0,n.default)(o.StandardModal.Footer,{actions:[(0,n.default)(o.Button,{onClick:t,type:"button"},"button-1",$.__("Close"))]}),renderHeader:(0,n.default)(o.StandardModal.Header,{title:$.__("Calculate Time Off")}),size:o.CardSize.MEDIUM},void 0,(0,n.default)(o.StandardModal.UpperContent,{},void 0,(0,n.default)(d.default,{})),(0,n.default)(o.StandardModal.Constraint,{},void 0,p!==null&&p!==void 0&&p.length?(0,n.default)(l.CalculateTimeOff,{defaultTimeOffTypeId:r,employeeId:a,timeOffTypes:p}):(0,n.default)(o.Typography,{component:"p",sx:{my:1}},void 0,"Whoops, something went wrong... please refresh and try again!"))))}},44779:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.LargeRequestModal=f;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(288015);var l=a(753134);var d=r(a(496406));var c=a(571439);const u=(0,o.styled)(s.TriangleExclamation48x48)((({theme:e})=>({fill:e.palette.warning.main})));function f({onClose:e,isOpen:t,isSheet:a,startDate:r,endDate:i}){const s=(0,c.getNumberOfDays)(r,i);const f=a?o.SheetModal:o.StandardModal;return(0,n.default)(f,{isOpen:t,onRequestClose:()=>e(false)},void 0,(0,n.default)(f.Body,{renderFooter:(0,n.default)(f.Constraint,{spacingOverrides:{bottom:o.CardContentSpacing.TEENIE}},void 0,(0,n.default)(f.Footer,{actions:[(0,n.default)(o.Button,{onClick:()=>e(true)},"select-new-dates-button",$.__("Yes, Request These Dates")),(0,n.default)(o.TextButton,{onClick:()=>e(false)},"cancel-button",$.__(`No, I'll Select New Dates`))]})),renderHeader:(0,n.default)(f.Header,{title:$.__("Just Checking...")})},void 0,(0,n.default)(f.Constraint,{spacingOverrides:{top:o.CardContentSpacing.LARGE}},void 0,(0,n.default)(f.HeroHeadline,{icon:(0,n.default)(u,{}),text:$.__n(`You're requesting %1 day off`,`You're requesting %1 days off`,s)}),(0,n.default)(o.Typography,{sx:{textAlign:"center",pt:1},variant:"medium"},void 0,(0,n.default)(l.Message,{params:[(0,d.default)(r).format(d.default.defaultFormat),(0,d.default)(i).format(d.default.defaultFormat)],text:$._("You are requesting time off for **{1}** to **{2}**. It may take a moment for the selected days to load.")})))))}f.defaultProps={isSheet:false}},823894:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.TenYearWarningModal=f;t.default=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(651745);var s=a(288015);var l=a(753134);var d=r(a(496406));function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function f({onClose:e,startDate:t,endDate:a}){const[r,c]=(0,i.useState)(true);const u=()=>{c(false)};return(0,n.default)(o.StandardModal,{isOpen:r,onCloseComplete:e,onRequestClose:u},void 0,(0,n.default)(o.StandardModal.Body,{renderFooter:(0,n.default)(o.StandardModal.Footer,{actions:[(0,n.default)(o.Button,{onClick:u},"select-new-dates-button",$.__("Select New Dates")),(0,n.default)(o.TextButton,{onClick:u},"cancel-button",$.__("Cancel"))]}),renderHeader:(0,n.default)(o.StandardModal.Header,{title:$.__("Long break, huh?")})},void 0,(0,n.default)(o.StandardModal.Constraint,{spacingOverrides:{bottom:o.CardContentSpacing.MEDIUM,top:o.CardContentSpacing.MEDIUM}},void 0,(0,n.default)(o.StandardModal.HeroHeadline,{icon:(0,n.default)(o.Box,{sx:({palette:e})=>({fill:e.warning.main})},void 0,(0,n.default)(s.TriangleExclamation48x48,{})),subtext:(0,n.default)(o.Box,{sx:{paddingTop:"8px"}},void 0,(0,n.default)(l.Message,{params:[(0,d.default)(t).format(d.default.defaultFormat),(0,d.default)(a).format(d.default.defaultFormat)],text:$._("You are requesting time off for **{1}** to **{2}**. Please select new dates.")})),text:$.__(`Sorry, you can't request more than 10 years off.`)}))))}var p=f;t.default=p},85855:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(651745);var s=a(753134);var l=a(989479);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const u=({onSubmit:e,onClose:t,ptoBalanceData:{remainingBalance:a,date:r,requestAmount:d,type:c,typeBalance:u}})=>{const[f,p]=(0,i.useState)(true);const[m,h]=(0,i.useState)(false);const v=()=>{h(true);e().finally((()=>{h(false);p(false)}))};return(0,n.default)(o.StandardModal,{isOpen:f,isProcessing:m,onCloseComplete:t,onRequestClose:()=>p(false)},void 0,(0,n.default)(o.StandardModal.Body,{renderFooter:(0,n.default)(o.StandardModal.Footer,{actions:[(0,n.default)(o.Button,{onClick:v},"select-new-dates-button",$.__("Submit Request")),(0,n.default)(o.TextButton,{onClick:()=>p(false)},"cancel-button",$.__("Cancel"))]}),renderHeader:(0,n.default)(o.StandardModal.Header,{title:$.__("Confirm Request")})},void 0,(0,n.default)(o.StandardModal.Constraint,{spacingOverrides:{top:o.CardContentSpacing.LARGE,right:o.CardContentSpacing.SMALL,bottom:o.CardContentSpacing.LARGE,left:o.CardContentSpacing.SMALL}},void 0,(0,n.default)(o.StandardModal.HeroHeadline,{text:$.__("Uh oh! This will leave you with a negative balance. Are you sure you want to submit this request?")}),(0,n.default)(o.Box,{sx:{marginTop:"18px"}},void 0,(0,n.default)(o.StandardModal.LowerContent,{},void 0,(0,n.default)(l.StyledHoursContent,{},void 0,(0,n.default)("div",{className:"HoursContent__requestDetails"},void 0,(0,n.default)("p",{className:"HoursContent__requestDetails--row"},void 0,(0,n.default)("span",{},void 0,(0,n.default)(s.Message,{params:[c,r],text:$._("{1} (as of {2})")})),(0,n.default)("span",{},void 0,u)),(0,n.default)("p",{className:"HoursContent__requestDetails--row"},void 0,(0,n.default)("span",{},void 0,(0,n.default)(s.Message,{params:[r],text:$._("Request for {1}")})),(0,n.default)("span",{},void 0,d))),(0,n.default)("div",{className:"HoursContent__remainingBalance"},void 0,(0,n.default)("span",{},void 0,$.__("Remaining Balance")),(0,n.default)("span",{},void 0,a))))))))};var f=u;t.default=f},989479:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.StyledHoursContent=void 0;var r=a(651745);const n=(0,r.styled)("div")((({theme:e})=>({fontSize:e.typography.small.fontSize,lineHeight:e.typography.small.lineHeight,"& .HoursContent__requestDetails":{display:"flex",flexDirection:"column",paddingBottom:e.spacing(.75),borderBottom:`1px solid ${e.palette.grey[400]}`,color:e.palette.grey[800]},"& .HoursContent__requestDetails--row":{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:`${e.spacing(.5)} 0`},"& .HoursContent__remainingBalance":{display:"flex",flexDirection:"row",justifyContent:"space-between",paddingTop:"10px",fontWeight:e.typography.fontWeightSemibold,color:e.palette.warning.main}})));t.StyledHoursContent=n},571439:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.getEmployeeHeader=d;t.shouldBypass=c;t.formatTimeOffTypesForSelect=u;t.formatTimeOffYearsForSelect=f;t.formatNumberWithDecimalCheck=p;t.isTenYearsOrMore=m;t.getNumberOfDays=h;t.getISOFormatDateTimeFromLocaleString=v;t.isValidDailyAmount=g;var n=r(a(856075));var i=r(a(573674));var o=r(a(64937));var s=r(a(341757));var l=a(418327);function d(){if(window.Employee){return(0,n.default)(o.default,{imageAlt:"Image of employee",imageSrc:window.Employee.photoURL,subTitle:window.Employee.jobTitle,title:`${window.Employee.preferredName} ${window.Employee.lastName}`})}if(window.common){return(0,n.default)(o.default,{imageAlt:"Image of employee",imageSrc:window.common.profilePictureUrl,subTitle:window.common.jobTitle,title:`${window.common.firstName} ${window.common.lastName}`})}return null}function c(e){return e.actions.bypass&&!e.isCurrentApprover}function u(e){return Object.keys(e).map((t=>({text:e[t],value:t})))}function f(e,t){const a=[];for(let r=t;r>=e;r--){const e=r.toString();a.push({text:e,value:e})}a.push({text:$.__("All"),value:"all"});return a}function p(e,t){if(e||e===0){const a=window.formatNumberJS(parseFloat(e),2);const r=window.getFloatFromStringJS(a);let n=Number.isInteger(r)?0:1;n=t?t:n;return window.formatNumberJS(r,n)}return null}function m(e,t){const a=(0,s.default)(e,"YYYY-MM-DD");const r=(0,s.default)(t,"YYYY-MM-DD");const n=s.default.duration(r-a).years();return n>=10}function h(e,t){return Math.round(Math.abs((new Date(e).getTime()-new Date(t).getTime())/(24*60*60*1e3)))+1}function v(e="",t){const a=(0,s.default)(e,l.MOMENT_LOCALE_FORMAT_MAP[window.GLOBAL_DATE_MASK]);return a.format(t)}function g(e,t){let a=false;let r="";const n=e!==null&&e!==void 0&&e.total?window.getFloatFromStringJS(e.total):0;const i=Math.abs(n);const o=Math.sign(n)>=0;if(t==="hours"&&i>24){a=true;r=o?$.__(`A maximum of 24 hours is allowed.`):$.__(`A minimum of -24 hours is allowed.`)}else if(t==="days"&&i>1){a=true;r=o?$.__(`A maximum of 1 day is allowed.`):$.__(`A minimum of -1 day is allowed.`)}else if(e!==null&&e!==void 0&&e.error){a=true;r=$.__("Please enter a valid number or remove any leading zeros.")}return{showError:a,errorMessage:r}}},711282:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EntryProjectTaskNote=d;var n=r(a(856075));var i=r(a(573674));var o=r(a(972445));var s=a(651745);var l=a(112865);function d(e){const{endString:t,note:a,isViewOnly:r,projectName:i,renderProjectAndTask:d,startString:c,taskName:u,type:f}=e;const p=(0,l.useStyles)({isViewOnly:r});let m="";if(i&&u){m=f==="hour"?`${i}  ${u}`:$.__("on %1",`${i}  ${u}`)}else if(i){m=f==="hour"?i:$.__("on %1",`${i}`)}const h=f==="hour"?null:`${c} - ${t}`;return(0,n.default)("div",{className:p.wrapper},void 0,d&&(0,n.default)("span",{className:p.projectTaskNote},void 0,m),a&&(0,n.default)("span",{className:p.noteIcon,id:"entry-note-icon"},void 0,r&&(0,n.default)(o.default,{settings:{title:h,content:a,position:"right"}},void 0,(0,n.default)(s.Icon,{name:"fab-page-9x11"})),!r&&(0,n.default)(s.Icon,{name:"fab-page-9x11"})))}},823226:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.HourEntries=f;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(953219);var l=a(711282);var d=a(188181);var c=a(479706);const u=(0,c.isEnabled)("ttLocationUpdates");function f(e){const{canEdit:t,hasLightBackground:a,hourEntries:r,isViewOnly:c,onEditClick:f,renderProjectAndTask:p,type:m}=e;const h=(0,d.useStyles)({canEdit:t,isViewOnly:c,ttLocationUpdatesEnabled:u});return r.map((e=>{const{hours:a,id:r,note:d,projectName:v,taskName:g}=e;const y=v||g||d;const b=c&&!u?null:()=>f(r,"edit");return(0,n.default)("div",{className:h.root,"data-bi-id":"time-tracking-hour-entry",onClick:b},r,(0,n.default)("span",{className:h.hours},void 0,(0,s.formatTime)(a)),y&&i.default.createElement(i.default.Fragment,null,(v||g)&&(0,n.default)("span",{className:h.arrow},void 0,(0,n.default)(o.Icon,{name:"fab-arrow-right-6x5"})),(0,n.default)(l.EntryProjectTaskNote,{isViewOnly:c,note:d,projectName:v,renderProjectAndTask:p,taskName:g,type:m})),t&&(0,n.default)("span",{className:h.editIcon,id:"entry-edit-icon"},void 0,(0,n.default)(o.Icon,{name:"fab-pencil-12x12"})))}))}},598341:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=c;var n=r(a(856075));var i=r(a(573674));var o=a(121198);var s=a(651745);var l=r(a(972445));var d=a(498183);a(116810);function c(e){const{customCSS:t,disabled:a,hasNote:r,onNoteIconClick:i}=e;const c={TTnoteIconWrapper:true};const u=(0,o.classNameFromObject)({...c,...t});const f=(0,o.classNameFromObject)({TTnoteIcon:true,"TTnoteIcon--add":!r,"TTnoteIcon--hasNote":r,"TTnoteIcon--disabled":a});const p=(0,d.getTooltipText)(r);const m=(0,d.getNoteIcon)(r);const h=a?null:i;return(0,n.default)("div",{className:u,onClick:h},void 0,(0,n.default)(l.default,{settings:{content:p,suppressed:a}},void 0,(0,n.default)("div",{className:f},void 0,(0,n.default)(s.Icon,{name:m}))))}},498183:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.getTooltipText=r;t.getNoteIcon=n;function r(e){return e?$.__("Update Project or Note"):$.__("Add Project or Note")}function n(e){return e?"fab-page-13x16":"fab-page-plus-13x16"}},2466:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=m;var n=r(a(856075));var i=r(a(573674));a(475258);var o=a(121198);var s=r(a(341757));var l=a(651745);var d=a(479706);var c=a(900373);var u=a(953219);var f=a(711282);const p=(0,d.isEnabled)("timeTrackingGeolocation");function m(e){const{clockEntries:t,renderProjectAndTask:a,canEditEntries:r,currentEntryClick:i,elapsedTimeToday:d,isForgotClockDay:m,isViewOnly:h,onEditClick:v,hasLightBackground:g,type:y}=e;return t.map((e=>{const{start:t,end:b,timezone:w,hours:S,id:O,note:T,projectName:C,taskName:P}=e;const{clockInLatitude:E,clockInLongitude:M,clockOutLatitude:x,clockOutLongitude:k}=e;const j=!!(E&&M||x&&k);const I=typeof v==="function"?v:Function.prototype;let F=null;if(r&&!m){F=b&&O!==null?()=>I(O,"edit",w):i}const D=t?s.default.tz(t,w).format(c.TIME_FORMAT):"12:00 AM";const N=b?s.default.tz(b,w).format(c.TIME_FORMAT):$.__("Now");const A=b?(0,u.formatTime)(S):(0,u.formatTime)(d);const L=(0,o.classNameFromObject)({TimeEntry__arrowIcon:true,"TimeEntry__arrowIcon--forgotClockOut":m});return(0,n.default)("div",{"data-bi-id":"time-tracking-time-entry",className:(0,o.classNameFromObject)({TimeEntry:true,"TimeEntry--active":!b,"TimeEntry--showEditIcon":r&&!m,"TimeEntry--viewable":r&&!m,"TimeEntry--light":g,"TimeEntry--forgotClockOut":m}),onClick:F},O,(0,n.default)("span",{className:"TimeEntry__start"},void 0,D),"-",(0,n.default)("span",{className:"TimeEntry__end"},void 0,N),(0,n.default)("span",{className:L},void 0,(0,n.default)(l.Icon,{name:"fab-arrow-right-6x5"})),(0,n.default)("span",{className:"TimeEntry__total"},void 0,A),(0,n.default)(f.EntryProjectTaskNote,{endString:N,isViewOnly:h,note:T,projectName:C,renderProjectAndTask:a,startString:D,taskName:P,type:y}),p&&j&&(0,n.default)("span",{className:"TimeEntry__locationIcon"},void 0,(0,n.default)(l.Icon,{name:"fab-location-9x12"})),r&&!m&&(0,n.default)("span",{className:"TimeEntry__editIcon"},void 0,(0,n.default)(l.Icon,{name:"fab-pencil-12x12"})))}))}},519744:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=s;var n=r(a(856075));var i=r(a(573674));var o=a(121198);a(645456);function s(e){const{backgroundColor:t,fillColor:a}=e;const r=(0,o.classNameFromObject)({TimeSpinner:true,"TimeSpinner--orange":a==="orange"});const i=(0,o.classNameFromObject)({TimeSpinner__fill:true,"TimeSpinner__fill--orange":a==="orange"});return(0,n.default)("div",{className:r},void 0,(0,n.default)("div",{className:i,style:{color:t}}))}},667057:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.Header=b;t.default=void 0;var n=r(a(856075));var i=g(a(573674));var o=a(829931);var s=a(121198);var l=a(651745);var d=a(651745);var c=a(753134);var u=a(479706);var f=a(953219);var p=r(a(501159));var m=r(a(904035));var h=r(a(108610));a(345429);function v(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(v=function(e){return e?a:t})(e)}function g(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=v(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const y=(0,u.isEnabled)("timesheetChange");function b(e){const{focusedTimesheet:t,showHeader:a,isOwnTimesheet:r,isApprovalShowing:o,isLatestTimesheet:u,timesheetOptions:v,changeViewOption:g,employeeTimesheets:b,getFocusedDays:w,getToday:S,isViewOnly:O}=e;const T=r&&!o;const C={timesheetOptions:v,changeViewOption:g};const P=u?S().date:undefined;return(0,n.default)(i.Fragment,{},void 0,a&&(0,n.default)("div",{className:"TimesheetHeader"},void 0,(0,n.default)("div",{className:"TimesheetHeader__content"},void 0,(0,n.default)("div",{className:"TimesheetHeader__icon"},void 0,(0,n.default)(l.Icon,{brand:"true",name:"fab-timesheet-29x22"})),(0,n.default)("div",{className:"TimesheetHeader__header"},void 0,(0,n.default)("h3",{},void 0,$.__("Timesheet"))),(0,n.default)("div",{className:"TimesheetHeader__controls"},void 0,b.length>1&&(0,n.default)(p.default,{}),T&&i.default.createElement(m.default,C)))),y&&!O&&(0,n.default)("div",{className:"TimesheetSecondHeader"},void 0,(0,n.default)("div",{className:"TimesheetSecondHeader__dates"},void 0,(0,n.default)("span",{className:"TimesheetSecondHeader__datesIcon"},void 0,(0,n.default)(l.Icon,{brand:"true",name:"fab-stopwatch-20x24"})),(0,n.default)("h4",{},void 0,(0,f.getFocusedSheetDateSpanText)(t.start,t.end))),(0,n.default)("div",{className:"TimesheetSecondHeader__controls"},void 0,(0,n.default)(d.TextButton,{clickAction:()=>(0,h.default)(w(),P),iconBefore:"fab-clock-reverse-16x15",muted:true,size:"small",text:$.__("Change History"),type:"button"}))),t.workWeekStartsOn.changed&&(0,n.default)("div",{className:(0,s.classNameFromObject)({TimesheetHeader__workWeekWarning:true,"TimesheetHeader__workWeekWarning--hiddenHeader":!a})},void 0,(0,n.default)("span",{className:"TimesheetHeader__workWeekWarning__icon"},void 0,!y&&(0,n.default)(l.Icon,{name:"fab-triangle-exclamation-20x20"}),y&&(0,n.default)(l.Icon,{name:"fab-triangle-exclamation-16x16"})),(0,n.default)("p",{className:"TimesheetHeader__workWeekWarning__text"},void 0,(0,n.default)(c.Message,{params:[t.workWeekStartsOn.count],text:$._n("The work week start day has changed. There is {1} day where overtime cannot be calculated.","The work week start day has changed. There are {1} days where overtime cannot be calculated.",t.workWeekStartsOn.count)}))))}var w=(0,o.consume)(["isOwnTimesheet","isApprovalShowing","isLatestTimesheet","employeeTimesheets","focusedTimesheet","timesheetOptions","changeViewOption","showHeader","isViewOnly","getFocusedDays","getToday"],b);t.default=w},501159:(e,t,a)=>{"use strict";var $=a(992005);var moment=a(496406);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.TimesheetDropdown=c;t.makeUrl=f;t.default=void 0;var n=r(a(856075));var i=d(a(573674));var o=a(829931);var s=a(651745);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function c(e){const{employeeTimesheets:t,focusedTimesheet:{id:a},latestTimesheetId:r,latestPreviousTimesheetId:o}=e;const l=t.map((e=>{let t;const a=Number(e.id);if(r===a){t=$.__("This Pay Period")}else if(o===a){t=$.__("Previous Pay Period")}else{t=`${moment(e.start).format()}  ${moment(e.end).format()}`}return{text:t,value:a}}));function d(e){window.location=f(r,e)}return(0,n.default)(i.Fragment,{},void 0,(0,n.default)("div",{className:"TimesheetHeader__dropdownLabel"},void 0,$.__("Show")),(0,n.default)("div",{className:"TimesheetHeader__period"},void 0,(0,n.default)(s.Select,{isClearable:false,items:l,onChange:d,selectedValues:[a],showSearch:"never",size:"small",width:"7"})))}var u=(0,o.consume)(["employeeTimesheets","focusedTimesheet","latestTimesheetId","latestPreviousTimesheetId"],c);t.default=u;function f(e,t){const a=e===t[0]?"":`&et_id=${t[0]}`;return`/employees/timesheet/?id=${window.Employee.id}${a}`}},904035:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=l;var n=r(a(856075));var i=r(a(573674));var o=a(651745);const s=[{key:"showWeekends",text:$.__("Weekends")},{key:"showDailyGraph",text:$.__("Daily Graph")},{key:"showPayPeriodTotal",text:$.__("Pay Period Total")}];function l(e){const{timesheetOptions:t,changeViewOption:a}=e;if(!t||!a){return null}const r=[{text:$.__("Show"),type:"group",items:[{isDisabled:true,text:"",value:"",render:()=>(0,n.default)("div",{className:"fab-CheckboxGroup"},void 0,s.map((e=>{const r=`timesheetOptionDropdown-${e.key}`;return(0,n.default)("div",{className:"fab-Checkbox"},e.key,(0,n.default)("input",{checked:t[e.key],className:"fab-Checkbox__input",id:r,onChange:()=>a(e.key,!t[e.key]),readOnly:true,type:"checkbox"}),(0,n.default)("label",{className:"fab-Checkbox__label",htmlFor:r},void 0,e.text))})))}]}];return(0,n.default)("div",{className:"TimesheetOptionDropdown"},void 0,(0,n.default)(o.Dropdown,{buttonSettings:{icon:"fab-gear-14x13",secondary:true,outline:true,size:"small"},items:r,renderOptionContent:e=>e.render?e.render():e.text}))}},930558:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=l;var n=r(a(856075));var i=r(a(573674));a(220333);var o=a(121198);var s=a(401018);function l(e){const{side:t,showWeekends:a,previousPeriodEntries:r,nextPeriodEntries:i,nudges:l}=e;if(!(0,s.showSeparator)(a,t==="top"?r:i)){return null}const d=t==="top"?$.__("Pay Period Begins"):$.__("Pay Period Ends");const c=(0,o.classNameFromObject)({[`TimesheetSeparator TimesheetSeparator--${t}`]:true,"TimesheetSeparator--up":t==="top"?l.previousMoveUp:l.nextMoveUp,"TimesheetSeparator--down":t==="top"?false:l.nextMoveDown});return(0,n.default)("div",{className:c,"data-text":d})}},401018:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.showSeparator=a;t.computeNudges=r;function a(e,t){const a=t.length<=2&&t.every((e=>{const t=e.moment.day();return t===0||t===6}));if(!t||!e&&a){return false}return!!t.length}function r(e,t,a){let r=null;let n=null;let i=null;if(e){r=t[0].isToday;n=t[t.length-1].isToday;i=a.length&&a[0].isToday}else{const e=t.filter((({moment})=>{const e=moment.day();return e!==0&&e!==6}));r=e.length?e[0].isToday:false;n=e.length?e[e.length-1].isToday:false;const o=a.filter((({moment})=>{const e=moment.day();return e!==0&&e!==6}));i=o.length?o[0].isToday:false}return{previousMoveUp:r,nextMoveDown:n,nextMoveUp:i}}},546173:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(368652));var o=h(a(573674));var s=r(a(30219));var l=r(a(930558));var d=a(401018);var c=r(a(416344));var u=a(953219);var f=a(479706);var p=a(829931);function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=m(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function v(e){const{clock:t,workflow:{userCanEdit:a},focusedTimesheet:r,timesheetOptions:p,saveTimesheet:m,getPadStartDays:h,getFocusedDays:v,getPadEndDays:g,showSheetPadDays:y,isViewOnly:b}=e;const w=e=>{e.preventDefault();m()};const S=h();const O=v();const T=g();const C=t?(0,u.forgotToClockOut)(t.latest):false;const P={slatDisabled:true,type:r.type,forgotClockOut:C};const E={slatDisabled:false,type:r.type,canEdit:(0,f.isEnabled)("ttLocationUpdates")?a:a&&!b,forgotClockOut:C};const M={showWeekends:p.showWeekends,previousPeriodEntries:S,nextPeriodEntries:T,nudges:(0,d.computeNudges)(p.showWeekends,O,T)};return(0,n.default)("div",{className:"TimesheetEntries"},void 0,(0,n.default)("form",{onSubmit:w},void 0,y&&(0,n.default)(o.Fragment,{},void 0,S.map((e=>o.default.createElement(c.default,(0,i.default)({key:e.date},e,P)))),o.default.createElement(l.default,(0,i.default)({side:"top"},M))),O.map((e=>o.default.createElement(c.default,(0,i.default)({key:e.date},e,E)))),y&&(0,n.default)(o.Fragment,{},void 0,o.default.createElement(l.default,(0,i.default)({side:"bottom"},M)),T.map((e=>o.default.createElement(c.default,(0,i.default)({key:e.date},e,P))))),(0,n.default)(s.default,{})))}var g=(0,p.consume)(["workflow","focusedTimesheet","timesheetOptions","clock","showSheetPadDays","isViewOnly","saveTimesheet","getPadStartDays","getFocusedDays","getPadEndDays"],v);t.default=g},416344:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=t.Slat=void 0;var n=r(a(856075));var i=E(a(573674));a(146171);var o=a(273641);var s=a(121198);var l=a(348040);var d=r(a(341757));var c=a(479706);var u=a(651745);var f=a(651745);var p=r(a(972445));var m=a(953219);var h=a(900373);var v=E(a(262845));var g=r(a(421484));var y=r(a(123385));var b=r(a(2466));var w=a(823226);var S=r(a(598341));var O=r(a(115004));var T=r(a(108610));var C=a(829931);function P(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(P=function(e){return e?a:t})(e)}function E(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=P(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}let M=null;let x=null;let k=null;const j=(0,c.isEnabled)("timesheetChange");class I extends i.Component{static get className(){return"Slat"}constructor(e){super(e);this._getIsForgotClockDay=()=>{const{forgotClockOut:e,clock:t,date:a}=this.props;return e&&t&&t.latest!==null?(0,d.default)(a).isSameOrAfter((0,d.default)(t.latest.start).startOf("day")):false};this._expandEntriesList=()=>{this.setState({isExpanded:true});$(this.collapseButtonRef).fadeIn(200);$(this.clockEntriesRef).slideDown(200)};this._collapseEntriesList=()=>{this.setState({isExpanded:false});$(this.collapseButtonRef).fadeOut(200);$(this.clockEntriesRef).slideUp(200)};this._handleShowChangeHistory=()=>{const{date:e,getFocusedDays:t}=this.props;(0,T.default)(t(),e)};this._handleCollapseButtonClick=e=>{e.preventDefault();this._collapseEntriesList()};this._launchAddEditModal=(e,t,a)=>{const{canEdit:r,isViewOnly:n,changeViewOption:i,clock:o,clockEntries:s,date:l,hourEntries:d,employee:c,hours:u,projectsWithTasks:f,timesheetOptions:p,type:m}=this.props;const h={canEdit:r&&!n,openAsSheet:n,clockedIn:o&&o.clockedIn,clockEntries:s,currentEntryId:e,date:l,dayTotal:u,employeeId:c.id,hourEntries:d,onHintDismiss:i,projectsWithTasks:f,showTimeEntryHint:p.showTimeEntryHint,timesheetType:m,timezone:a,type:t};(0,y.default)(h).then(this.props.refreshTimesheet).then((()=>{if(!this.props.isToday&&this.props.clockEntries.length){this._expandEntriesList()}}))};this._onInputFocus=()=>{document.dispatchEvent(new CustomEvent("SiteFooter:open"));if(this.props.hours!==null&&this.props.userEdit===null){let e=(0,o.round)(this.props.hours,2);if(window.GLOBAL_DECIMAL_CHAR===","){e=String(e).replace(".",",")}this.props.editSingleEntrySlat(this.props.date,e)}if(k!==null){clearTimeout(k);k=null}k=setTimeout((()=>{k=null;const e=$(this.inputRef);e.select().one("mouseup",(t=>{t.preventDefault();e.select()}))}));if(x){x.setAnchor(this.inputRef);if(this.state.validInput){x.show()}}if(!this.state.validInput){(0,v.updateErrorPopover)(this._errorMessage,this.inputRef);M.show()}};this._onInputBlur=()=>{if(x){x.hide()}M.hide()};this._onInputChange=()=>{const{value:e}=this.inputRef;const t=(0,m.parseTime)(e);const a=t!==m.OVER_24&&t!==m.INVALID_FORMAT;if(a){this.setState({validInput:true});if(x){x.show()}M.hide()}else{this.setState({validInput:false});this._errorMessage=t===m.INVALID_FORMAT?h.INVALID_FORMAT_MSG:h.OVER_24_MSG;if(x){x.hide()}(0,v.updateErrorPopover)(this._errorMessage,this.inputRef);M.show()}this.props.editSingleEntrySlat(this.props.date,e)};this._handleNoteIconClick=()=>{const{canEdit:e,date:t,employee:a,hours:r,note:n,refreshTimesheet:i,isViewOnly:o,projectId:s,projectName:l,projectsWithTasks:c,taskId:u,taskName:f}=this.props;const p={projectId:s,projectName:l,taskId:u,taskName:f};const m={canEdit:e,employeeId:a.id,note:n,timezone:a.timezone,today:d.default.tz(t,a.timezone),totalTime:r,type:"single",isViewOnly:o,projectData:p,projectsWithTasks:c};(0,O.default)(m).then(i)};this._handleCurrentEntryClick=()=>{const{canEdit:e,employee:t,clock:a,refreshTimesheet:r,isViewOnly:n,projectsWithTasks:i}=this.props;const o={projectId:a.latest.projectId,projectName:a.latest.projectName,taskId:a.latest.taskId,taskName:a.latest.taskName};const s={canEdit:e,clock:a,employeeId:t.id,isViewOnly:n,note:a.latest.note,projectData:o,projectsWithTasks:i,timezone:a.latest.timezone,today:d.default.tz(a.latest.start,a.latest.timezone),type:"clock"};(0,O.default)(s).then(r)};this.isMultipleEntryUI=e.type==="multiple"||e.type==="hour";this.state={validInput:true,isExpanded:false,isForgotClockDay:this._getIsForgotClockDay()};if(e.type==="single"){if(!M){M=(0,v.default)()}if(e.timesheetOptions.showTimeEntryHint&&!x){x=(0,g.default)();x.onClose((()=>{x.destroy();x=null;e.changeViewOption("showTimeEntryHint",false)}))}}}componentDidUpdate(e,t){if(e.userEdit!==null&&this.props.userEdit===null){this.inputRef.blur();this.setState({validInput:true})}if(e.clockEntries.length&&!this.props.clockEntries.length){this._collapseEntriesList()}const a=this._getIsForgotClockDay();if(t.isForgotClockDay!==a){this.setState({isForgotClockDay:a})}}_renderOvertimeHours(){const e=this.props.overtimeSummary;const t=(0,s.classNameFromObject)({TimesheetSlat__extraInfoItem:true,"TimesheetSlat__extraInfoItem--overtimePush":this.isMultipleEntryUI});const a=this.props.overtimeSummary.length>1;return e.map((e=>(0,n.default)("div",{className:t},e.multiplier,(0,n.default)("span",{className:"TimesheetSlat__overtimeIcon"},void 0,(0,n.default)(u.Icon,{name:"fab-stopwatch-alert-12x12"})),(0,n.default)("div",{className:"TimesheetSlat__overtimeWarning"},void 0,$.__("%1$s Overtime",(0,m.formatTime)(e.hours,true))," ",a&&`(${e.multiplier}x)`))))}_renderTimeOffInfoItems(){const{timeOff:e,type:t}=this.props;return e.map(((e,t)=>{const a=e.icon?h.JADE_TIME_OFF_ICONS[e.icon]:"fab-briefcase-clock-16x12";const r=e.unit==="hours"?$.__("hours"):$.__("days");const i=(0,s.classNameFromObject)({TimesheetSlat__extraInfoItem:true,"TimesheetSlat__extraInfoItem--clockPush":this.isMultipleEntryUI});return(0,n.default)("div",{className:i},t,(0,n.default)("span",{className:"TimesheetSlat__infoIcon"},void 0,(0,n.default)(u.Icon,{name:a})),e.amount," ",r," ",e.type)}))}_renderHolidayInfoItems(){return this.props.holidays.map(((e,t)=>{const a=(0,l.applyCompanyDecimal)((0,l.trimTrailingZeroes)(e.multiplier));const r=(0,s.classNameFromObject)({TimesheetSlat__extraInfoItem:true,"TimesheetSlat__extraInfoItem--clockPush":this.isMultipleEntryUI});let i=`${e.name} ${e.multiplier?`(${$.__("pays")} ${a}x)`:""}`;if(e.paidHours>0){i=(0,m.getPaidHolidayText)(e)}return(0,n.default)("div",{className:r},t,(0,n.default)("span",{className:"TimesheetSlat__infoIcon"},void 0,(0,n.default)(u.Icon,{name:"fab-fireworks-16x16"})),i)}))}_renderClockEntries(){const{clockEntries:e,canEdit:t,clock:a,isToday:r,forgotClockOut:o,isViewOnly:s,type:l}=this.props;const{isForgotClockDay:d}=this.state;return!!e.length&&i.default.createElement("div",{ref:e=>this.clockEntriesRef=e,style:{display:r?"":"none"}},(0,n.default)("div",{className:"TimesheetSlat__contentDivider"}),(0,b.default)({canEditEntries:t,clockEntries:e,elapsedTimeToday:a?a.earned:0,hasLightBackground:r,onEditClick:this._launchAddEditModal,forgotClockOut:o,isForgotClockDay:d,currentEntryClick:this._handleCurrentEntryClick,isViewOnly:s,renderProjectAndTask:true,type:l}))}_renderHourEntries(){const{hourEntries:e,canEdit:t,isToday:a,isViewOnly:r,type:o}=this.props;return!!(e!==null&&e!==void 0&&e.length)&&i.default.createElement("div",{ref:e=>this.clockEntriesRef=e,style:{display:a?"":"none"}},(0,n.default)("div",{className:"TimesheetSlat__contentDivider"}),(0,n.default)(w.HourEntries,{canEdit:t,hasLightBackground:a,hourEntries:e,isViewOnly:r,onEditClick:this._launchAddEditModal,renderProjectAndTask:true,type:o}))}_renderProjectTaskText(){const{canEdit:e,isToday:t,isViewOnly:a,note:r,projectName:i,taskName:o}=this.props;const l=(0,m.getProjectTaskText)(i,o);return(0,n.default)("div",{className:(0,s.classNameFromObject)({TimesheetSlat__projectTaskTextWrapper:true,"TimesheetSlat__projectTaskTextWrapper--today":t})},void 0,(0,n.default)("div",{className:(0,s.classNameFromObject)({TimesheetSlat__projectTaskText:true,"TimesheetSlat__projectTaskText--editable":!a,"TimesheetSlat__projectTaskText--expanded":a}),onClick:!a?this._handleNoteIconClick:null},void 0,(0,n.default)("div",{},void 0,l),(0,n.default)("div",{className:(0,s.classNameFromObject)({"TimesheetSlat__projectTaskText--note":true,"TimesheetSlat__projectTaskText--note--expanded":a})},void 0,r),e&&(0,n.default)("span",{className:"TimesheetSlat__projectTaskText__editIcon"},void 0,(0,n.default)(u.Icon,{name:"fab-pencil-12x12"}))))}_renderSingleEntryUi(){const{canEdit:e,hours:t,isToday:a,note:r,slatDisabled:o,isViewOnly:l,projectName:d}=this.props;const c=(0,s.classNameFromObject)({"TimesheetSlat__input fab-TextInput fab-TextInput--biggie":true,"TimesheetSlat__input--disabled":!this.props.canEdit,"fab-TextInput--error":!this.state.validInput});const u={TimesheetSlat__noteIconWrapper:true,"TimesheetSlat__noteIconWrapper--today":a&&t!==null,"TimesheetSlat__noteIconWrapper--hasNote":r,"TimesheetSlat__noteIconWrapper--disabled":o,"TimesheetSlat__noteIconWrapper--hasHours":t!==null&&e};const f=this.props.userEdit===null?(0,m.formatTime)(this.props.hours):this.props.userEdit;return(0,n.default)(i.Fragment,{},void 0,l&&(0,n.default)("div",{className:"TimesheetSlat__viewOnlyHours"},void 0,f?f:(0,m.formatTime)(0)),!l&&(0,n.default)(i.Fragment,{},void 0,i.default.createElement("input",{className:c,ref:e=>this.inputRef=e,value:f,onFocus:this._onInputFocus,onBlur:this._onInputBlur,onChange:this._onInputChange,disabled:!this.props.canEdit}),!!r===false&&!d&&(0,n.default)(S.default,{customCSS:u,hasNote:!!r,onNoteIconClick:this._handleNoteIconClick})),(0,n.default)("div",{className:"TimesheetSlat__extraInfo"},void 0,this._renderOvertimeHours(),this._renderTimeOffInfoItems(),this._renderHolidayInfoItems()))}_renderFirstAndLast(){const e=this.props.clockEntries.length;const t=!!e;const a=!!this.props.clock;const r=a&&this.props.clock.clockedIn;const i=$.__("Now");let o=this.props.clockEntries[0];let l=this.props.clockEntries[e-1];let c="";if((!this.props.isToday||!a)&&!t){return null}if(!this.props.isToday&&t){o=d.default.tz(o.start,o.timezone).format(h.TIME_FORMAT);l=d.default.tz(l.end,l.timezone).format(h.TIME_FORMAT);c=`${o} - ${l}`}if(this.props.isToday&&!t&&a){c=this.props.serverTime.format(h.TIME_FORMAT)}if(this.props.isToday&&!r&&t){o=d.default.tz(o.start,o.timezone).format(h.TIME_FORMAT);l=d.default.tz(l.end,l.timezone).format(h.TIME_FORMAT);c=`${o}  ${l}`}if(this.props.isToday&&r){o=d.default.tz(o.start,o.timezone).format(h.TIME_FORMAT);l=i;c=`${o} - ${l}`}const u=(0,s.classNameFromObject)({TimesheetSlat__firstAndLast:true,"TimesheetSlat__firstAndLast--forgotClockOut":this.props.forgotClockOut&&this.state.isForgotClockDay});return(0,n.default)("div",{className:u},void 0,c,t&&(0,n.default)("span",{className:"TimesheetSlat__entriesCount"},void 0," (",$.__n("%1$s Entry","%1$s Entries",e,{note:"number of entries"}),")"))}_renderMultipleEntryUi(){const{canEdit:e,clock:t,employee:a,forgotClockOut:r,hasMidnightEntry:o,holidays:l,hours:d,isToday:c,isFuture:h,slatDisabled:v,timeOff:g,type:y,historyEventCount:b,isViewOnly:w}=this.props;const{isForgotClockDay:S}=this.state;const O=t&&t.clockedIn;const T=(0,s.classNameFromObject)({TimesheetSlat__dayTotal:true,"TimesheetSlat__dayTotal--active":c&&O&&!r,"TimesheetSlat__dayTotal--forgotClockOut":r&&S});const C=!!g.length||!!l.length;const P=c||h;const E=y==="single"||O&&P||!e||w||v||o;const M=$.__n("See change history (%1$s event)","See change history (%1$s events)",b);return(0,n.default)(i.Fragment,{},void 0,(0,n.default)("div",{className:"TimesheetSlat__multipleContent"},void 0,(0,n.default)("h4",{className:T},void 0,(0,m.formatTime)(d||0)),y==="multiple"&&this._renderFirstAndLast(),this._renderOvertimeHours(),C&&(0,n.default)(i.Fragment,{},void 0,(0,n.default)("div",{className:"TimesheetSlat__contentDivider"}),this._renderTimeOffInfoItems(),this._renderHolidayInfoItems()),y==="multiple"&&this._renderClockEntries(),y==="hour"&&this._renderHourEntries(),!E&&(0,n.default)("a",{className:"TimesheetSlat__addEntryLink",onClick:()=>{this._launchAddEditModal(null,"add",a.timezone)}},void 0,"+ ",$.__("Add Time Entry"))),j&&i.default.createElement("div",{ref:e=>this.collapseButtonRef=e,className:"TimesheetSlat__expandedActions",style:{display:"none"}},!w&&b>0&&(0,n.default)(p.default,{settings:{content:M}},void 0,(0,n.default)(f.FloatingIconButton,{"data-buttonname":"timesheet-change-history",clickAction:this._handleShowChangeHistory,icon:"fab-clock-reverse-16x15",secondary:true,size:"teenie",type:"button"})),(0,n.default)(f.FloatingIconButton,{clickAction:this._handleCollapseButtonClick,icon:"fab-double-chevron-up-14x16",secondary:true,size:"teenie",type:"button"})),!j&&i.default.createElement("button",{ref:e=>this.collapseButtonRef=e,className:"TimesheetSlat__collapseButton btn",onClick:this._handleCollapseButtonClick,style:{display:"none"}},(0,n.default)("span",{className:"TimesheetSlat__collapseButtonIcon"},void 0,(0,n.default)(u.Icon,{name:"fab-double-chevron-up-11x12"}))))}render(){const{isExpanded:e}=this.state;const{clock:t,clockEntries:a,hasWorkWeekStartsOnChanged:r,hourEntries:i,isFuture:o,isToday:l,isWeekend:d,moment,note:c,projectName:f,slatDisabled:m,timesheetOptions:h,type:v}=this.props;const g=(a===null||a===void 0?void 0:a.length)||(i===null||i===void 0?void 0:i.length);const y=!l&&!e&&g&&this.isMultipleEntryUI;const b=l&&t&&t.clockedIn;const w=f||!!c;const S=(0,s.classNameFromObject)({TimesheetSlat:true,"TimesheetSlat--clock":this.isMultipleEntryUI,"TimesheetSlat--future":o&&!m,"TimesheetSlat--disabled":m,"TimesheetSlat--today":l,"TimesheetSlat--hide":d&&!h.showWeekends,"TimesheetSlat--expandable":y,"TimesheetSlat--expanded":e,"TimesheetSlat--futurePadClockedIn":b,"js-timesheet-showWeekends":d});return(0,n.default)("div",{className:S,onClick:y?this._expandEntriesList:null},void 0,(0,n.default)("div",{className:"TimesheetSlat__day"},void 0,this.isMultipleEntryUI&&(0,n.default)("div",{className:"TimesheetSlat__arrowLine"}),(0,n.default)("div",{className:(0,s.classNameFromObject)({TimesheetSlat__dayOfWeek:true,"TimesheetSlat__dayOfWeek--active":b})},void 0,r&&(0,n.default)("div",{className:"TimesheetSlat__dayOfWeek__warningIconWrapper"},void 0,(0,n.default)(p.default,{settings:{content:$.__("Overtime cannot be calculated for this day."),tailOnBalloon:"40px"}},void 0,(0,n.default)("span",{className:"TimesheetSlat__dayOfWeek__warningIcon"},void 0,(0,n.default)(u.Icon,{name:"fab-triangle-exclamation-16x16"})))),moment.format("ddd")),(0,n.default)("div",{className:"TimesheetSlat__dayDate"},void 0,moment.format("MMM D"))),(0,n.default)("div",{className:"TimesheetSlat__dataWrapper"},void 0,(0,n.default)("div",{className:(0,s.classNameFromObject)("TimesheetSlat__data",{"TimesheetSlat__data--hasProjectSection":v==="single"&&w})},void 0,v==="single"&&this._renderSingleEntryUi(),this.isMultipleEntryUI&&this._renderMultipleEntryUi()),w&&v==="single"&&this._renderProjectTaskText()))}}t.Slat=I;var F=(0,C.consume)(["employee","serverTime","timesheetOptions","clock","focusedTimesheet.holidayPayType","isViewOnly","projectsWithTasks","changeViewOption","editSingleEntrySlat","refreshTimesheet","forgotClockOut","getFocusedDays"],I);t.default=F},641092:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=t.ClockInOut=void 0;var n=r(a(856075));var i=w(a(573674));var o=r(a(341757));var s=a(121198);var l=r(a(972445));var d=r(a(986370));var c=a(651745);var u=a(829931);var f=a(900373);var p=a(953219);var m=r(a(519744));var h=r(a(300049));var v=r(a(182317));var g=r(a(115004));var y=a(479706);function b(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(b=function(e){return e?a:t})(e)}function w(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=b(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const S=(0,y.isEnabled)("anybodyClock");const O=(0,y.isEnabled)("timeTrackingGeolocation");class T extends i.Component{static get className(){return"ClockInOut"}constructor(e){super(e);this._toggleClocking=(e,t)=>{const{preventingDoubleClick:a}=this.state;const{clock:r,clockIn:n,clockOut:i,employee:o,refreshTimesheet:s}=this.props;const l=r?(0,p.forgotToClockOut)(r.latest):false;if(this.userCanEdit&&l&&r.latest){(0,h.default)(o.id,r.latest).then(s);return}if(!this.userCanEdit&&l){(0,v.default)(i,o.id,(()=>{this._toggleRequesting()})).then((()=>{this._toggleRequesting()}));return}if(a){return}if(window.ASSUMED_USER){window.disabledForPermsTest();return}this._preventDoubleClick();this._toggleRequesting();const d=r.clockedIn?i:n;d(o.id,e,t).then(this._toggleRequesting)};this._toggleRequesting=()=>{this.setState({requesting:!this.state.requesting})};this._preventDoubleClick=()=>{this.setState({preventingDoubleClick:true});setTimeout((()=>{this.setState({preventingDoubleClick:false})}),400)};this._handleAddNoteClick=()=>{const{clock:e,employee:t,refreshTimesheet:a,workflow:r,isViewOnly:n,projectsWithTasks:i}=this.props;if(e.clockedIn){const s={projectId:e.latest.projectId,projectName:e.latest.projectName,taskId:e.latest.taskId,taskName:e.latest.taskName};const l={canEdit:r.userCanEdit,clock:e,employeeId:t.id,note:e.latest.note,projectData:s,projectsWithTasks:i,today:o.default.tz(e.latest.start,e.latest.timezone),timezone:e.latest.timezone,type:"clock",isViewOnly:n};(0,g.default)(l).then(a)}};this._handleProjectDropdownClick=e=>{const[t,a]=(0,p.getProjectAndTaskId)(e);this._toggleClocking(t,a)};this.userCanEdit=e.workflow.userCanEdit;this.state={requesting:false,preventingDoubleClick:false}}_hasFutureEntry(){const{clock:{latest:e},serverTime:t}=this.props;return(0,p.getHasFutureEntry)(e,t)}_renderClockButton(){const{clock:e,clock:{clockedIn:t,latest:a}}=this.props;const{requesting:r}=this.state;const i=t?"fab-stop-14x14":"fab-stopwatch-11x14";const o=this._hasFutureEntry();const s=e?(0,p.forgotToClockOut)(a):false;let l=t?"clock-out":"clock-in";if(s){l="verify-and-clock-out"}return(0,n.default)(c.Button,{clickAction:()=>this._toggleClocking(),"data-bi-id":`my-info-timesheet-${l}-button`,iconBefore:i,isDisabled:r||o,isProcessing:r,size:"small",text:(0,p.clockButtonText)(e.clockedIn,r,s,this.userCanEdit),type:"button",width:100})}_renderProjectTrackingButton(){const{clock:e,isOwnTimesheet:t,projectsWithTasks:a}=this.props;const{requesting:r}=this.state;const i=(0,p.convertNormalizedProjectsToDropdownItems)(a);const o=this._hasFutureEntry();let s=this._renderClockButton();if(!e.clockedIn&&a.allIds.length>0){s=(0,n.default)(c.ButtonGroup,{className:"TimesheetSummary__clockButtonGroup",color:"primary"},void 0,this._renderClockButton(),(0,n.default)(c.Dropdown,{buttonSettings:{isProcessing:r,size:"small"},isDisabled:r||o,items:i,onSelect:this._handleProjectDropdownClick,showSearch:"auto"}))}return(0,n.default)(d.default,{condition:t&&o,wrap:e=>(0,n.default)(l.default,{settings:{content:f.CLOCK_DISABLED_FUTURE_ENTRY},wrapperClassName:"TimesheetSummary__clockButtonTooltip"},void 0,e)},void 0,s)}render(){const{clock:e,focusedTimesheet:t,getToday:a,serverTime:r,isOwnTimesheet:o}=this.props;const{clockInLatitude:l,clockInLongitude:d,clockOutLatitude:u,clockOutLongitude:f}=e.latest||{};const h=!!(l&&d||u&&f);const v=a();const{holidayPayType:g}=t;const{showEditActions:y}=t;const b=e?(0,p.forgotToClockOut)(e.latest):false;const w=b?"orange":null;const T=v.holidays.map((e=>{if(e.paidHours!==null){const t=(0,p.getPaidHolidayText)(e);return(0,n.default)("div",{className:"baseColor"},e.name,t)}}));const C=T.length>0;const P=(0,s.classNameFromObject)({TimesheetSummary__todayClockTotal:true,"TimesheetSummary__todayClockTotal--withHoliday":g==="normal"&&C});const E=(0,s.classNameFromObject)({TimesheetSummary__todayClockActive:true,"TimesheetSummary__todayClockActive--withHoliday":g==="normal"&&C,"TimesheetSummary__todayClockActive--forgotClockOut":b});const M=(0,s.classNameFromObject)({TimesheetSummary__text:true,"TimesheetSummary__text--clock":true,"TimesheetSummary__text--forgotClockOut":b});const x=(0,s.classNameFromObject)({TimesheetSummary__note:true,"TimesheetSummary__note--clockedIn":e.clockedIn});return(0,n.default)(i.Fragment,{},void 0,(0,n.default)("div",{className:"TimesheetSummary__title TimesheetSummary__title--clock"},void 0,e.clockedIn?$.__("Clocked In"):$.__("Not Clocked In")),(0,n.default)("div",{className:x,onClick:this._handleAddNoteClick},void 0,e.clockedIn&&(0,n.default)("div",{className:E},void 0,(0,p.formatTime)(e.earned+e.midnightTotals),(0,n.default)(m.default,{backgroundColor:"#f6f6f6",fillColor:w})),!e.clockedIn&&(0,n.default)("div",{className:P},void 0,$.__("%1$s Today",(0,p.formatTime)(v.hours||0))),(0,n.default)("div",{className:M},void 0,e.latest&&(0,p.lastActionText)(e.latest,r),e.clockedIn&&e.latest.note&&(0,n.default)("span",{className:"TimesheetSummary__textIcon"},void 0,(0,n.default)(c.Icon,{name:"fab-page-9x11"})),O&&e.clockedIn&&h&&(0,n.default)("span",{className:"TimesheetSummary__textIcon"},void 0,(0,n.default)(c.Icon,{name:"fab-location-9x12"}))),(0,n.default)("div",{className:"TimesheetSummary__noteIconWrapper"},void 0,(0,n.default)("span",{className:"TimesheetSummary__noteIcon"},void 0,(0,n.default)(c.Icon,{name:"fab-page-plus-13x16"})))),g==="normal"&&T.length>0&&(0,n.default)("div",{className:"TimesheetSummary__holidayMessage"},void 0,T),(o||S&&y)&&(0,n.default)("div",{className:"TimesheetSummary__clockButtonWrapper"},void 0,this._renderProjectTrackingButton()),(0,n.default)("div",{className:"TimesheetSummary__divider"}))}}t.ClockInOut=T;var C=(0,u.consume)(["employee","isOwnTimesheet","clock","serverTime","focusedTimesheet.holidayPayType","focusedTimesheet.showEditActions","workflow.userCanEdit","isViewOnly","projectsWithTasks","clockIn","clockOut","refreshTimesheet","getToday"],T);t.default=C},931072:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.formatChartData=y;t.default=void 0;var n=u(a(573674));a(759234);var i=a(273641);var o=a(676955);var s=a(774548);var l=r(a(169937));var d=r(a(802773));function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=d.default.themeColors.find((e=>e.name===(0,s.getBrandColor)()));const p=f.base;const m=l.default.colors.gray4;const h=l.default.colors.gray5;const v=l.default.colors.attention;class g extends n.Component{constructor(...e){super(...e);this.drawChart=e=>{const t=this.props.hideWeekends?115:170;if(!this.chartRef){this.chartRef=e}this.chart=new o.BarChart(e,{className:"TimesheetDailyGraph",height:70,width:t,paddingTop:0,bars:{classNameModifier:"hide",mouseEvents:{mouseenter:function(){const t=this.parentNode.getAttribute("data-index");const a=e.querySelectorAll(".ba-BarChart__title")[t];const r=this.getAttribute("fill");if(r.indexOf(v.replace("#",""))===-1){a.classList.add("TimesheetDailyGraph__title--hover","baseFillColor")}else{a.classList.add("TimesheetDailyGraph__title--hover","TimesheetDailyGraph__title--overtime")}},mouseleave:function(){const t=this.parentNode.getAttribute("data-index");const a=e.querySelectorAll(".ba-BarChart__title")[t];const r=this.getAttribute("fill");if(r.indexOf(v.replace("#",""))===-1){a.classList.remove("TimesheetDailyGraph__title--hover","baseFillColor")}else{a.classList.remove("TimesheetDailyGraph__title--hover","TimesheetDailyGraph__title--overtime")}}}},barTitles:{classNameModifier:"today",padding:2},barValues:{show:false},responsive:false});this.chart.draw(y(this.props.lastWeek,this.props.thisWeek,this.props.serverTime,this.props.hideWeekends))}}static get className(){return"DailyGraph"}componentDidUpdate(){this.drawChart(this.chartRef)}render(){return n.default.createElement("div",{ref:this.drawChart})}}t.default=g;function y(e,t,a,r){e=e.map((e=>{if(e.moment.day()<a.day()){return{...e,hours:0}}return e}));return Array.from({length:7}).map(((r,n)=>{const o=e[n];const s=t[n];const l=s.moment.isSame(a,"day");const d=s.overtimeHours;const c=(0,i.round)(o.hours,2)||0;const u=(0,i.round)(s.hours,2)||0;let f=h;if(l&&d){f=v}else if(l&&!d){f=p}return[{color:m,modifyBar:o.moment.day()<=a.day(),title:o.moment.format("dddd")[0],tooltip:$.__("Last %s",o.moment.format("dddd, MMMM D"),{note:"e.g. Last Thursday, October 5"}),tooltipLead:$.__("%s Hours",c,{note:"Number of hours"}),value:c},{color:d?v:p,displayType:l?"partial":"solid",modifyTitle:l,titleColor:f,title:s.moment.format("dddd")[0],tooltip:`${l?$.__("Today"):s.moment.format("dddd")}, ${s.moment.format("MMMM D")}`,tooltipLead:$.__("%s Hours",u,{note:"Number of hours"}),value:u}]})).filter(((e,a)=>{const n=t[a].isWeekend;return!r||r&&!n}))}},11352:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=h(a(573674));var o=a(829931);var s=a(137080);var l=a(953219);var d=a(121198);a(704942);var c=r(a(237115));var u=r(a(631684));var f=r(a(751613));var p=r(a(641092));function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=m(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class v extends i.Component{constructor(...e){super(...e);this._defaultAnimationState={focusedDaysUpdated:false,lastWeekDaysUpdated:false,thisWeekDaysUpdated:false};this.state={...this._defaultAnimationState,focusedDays:this.props.getFocusedDays(),lastWeekDays:this.props.getLastWeekDays(),thisWeekDays:this.props.getThisWeekDays()};this._weekTitleText=$.__("This Week");this._weekRangeText=(0,s.getSummaryRangeText)(this.props.thisWeek.start,this.props.thisWeek.end,this.props.serverTime);this._payPeriodTitleText=(0,s.getPayPeriodText)(this.props.focusedTimesheet.id,this.props.latestTimesheetId,this.props.latestPreviousTimesheetId);this._payPeriodRangeText=(0,s.getSummaryRangeText)(this.props.focusedTimesheet.start,this.props.focusedTimesheet.end,this.props.serverTime)}static get className(){return"TimesheetSummary"}_renderApproval(){const e={employeeId:this.props.employee.id,employeeName:this.props.employee.name,employeePhotoUrl:this.props.employee.photoUrl,payPeriodTitleText:this._payPeriodTitleText,payPeriodRangeText:this._payPeriodRangeText};return i.default.createElement(c.default,e)}_renderSummary(){const{isOwnTimesheet:e,employee:t,workflow:a,serverTime:r,timesheetOptions:o,clock:s,summaryTotals:d}=this.props;const{focusedDaysUpdated:c,lastWeekDaysUpdated:m,thisWeekDaysUpdated:h,focusedDays:v,lastWeekDays:g,thisWeekDays:y}=this.state;const{weekTotal:b,periodTotal:w,periodOvertime:S,periodTimeOff:O,periodHoliday:T}=d;const C=s?s.earned:0;const P={fadeGraph:h||m,fadeWeekTotal:h,hideWeekends:e&&!o.showWeekends,lightTheme:!!s,lastWeekDays:g,thisWeekDays:y,serverTime:r,weekTitleText:this._weekTitleText,weekRangeText:this._weekRangeText,weekTotal:(0,l.formatTime)(b+C)};const E={approvalMonthAndDayStr:a.approvableMoment.format("MMM D"),fadePayPeriod:c,focusedDays:v,payPeriodTitleText:this._payPeriodTitleText,payPeriodRangeText:this._payPeriodRangeText,payPeriodTotal:(0,l.formatTime)(w+C),periodOvertime:S,periodTimeOff:O,periodHoliday:T};return(0,n.default)(i.Fragment,{},void 0,(0,n.default)("img",{alt:$.__("employee avatar"),className:"TimesheetSummary__photo",src:t.photoUrl}),!!s&&(0,n.default)(p.default,{}),i.default.createElement(u.default,P),i.default.createElement(f.default,E))}componentWillReceiveProps(e){const t={focusedDays:this.props.getFocusedDays(),lastWeekDays:this.props.getLastWeekDays(),thisWeekDays:this.props.getThisWeekDays()};const a=this.props.clock&&e.clock.clockedIn!==this.props.clock.clockedIn;const r=this.props.clock&&e.clock.clockedIn&&e.clock.earned!==this.props.clock.earned;if(a||r){this.setState(t)}else{const e={focusedDaysUpdated:(0,s.sumAllEarnableHoursInDays)(this.state.focusedDays)!==(0,s.sumAllEarnableHoursInDays)(t.focusedDays),lastWeekDaysUpdated:(0,s.sumAllEarnableHoursInDays)(this.state.lastWeekDays)!==(0,s.sumAllEarnableHoursInDays)(t.lastWeekDays),thisWeekDaysUpdated:(0,s.sumAllEarnableHoursInDays)(this.state.thisWeekDays)!==(0,s.sumAllEarnableHoursInDays)(t.thisWeekDays)};if(e.focusedDaysUpdated||e.lastWeekDaysUpdated||e.thisWeekDaysUpdated){this.setState(e);setTimeout((()=>this.setState({...this._defaultAnimationState,...t})),300)}}}render(){const{isApprovalShowing:e,isViewOnly:t}=this.props;return(0,n.default)("div",{className:"TimesheetSummaryContainer"},void 0,i.default.createElement("div",{className:(0,d.classNameFromObject)({TimesheetSummary:true,"TimesheetSummary--viewOnly":t}),ref:e=>{this._timesheetSummaryRef=e}},e||t?this._renderApproval():this._renderSummary()))}}var g=(0,o.consume)(["isApprovalShowing","isOwnTimesheet","serverTime","timesheetOptions","employee","workflow","focusedTimesheet","latestTimesheetId","latestPreviousTimesheetId","thisWeek","clock","summaryTotals","showHeader","isViewOnly","getFocusedDays","getLastWeekDays","getThisWeekDays"],v);t.default=g},237115:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=t.SummaryApproval=void 0;var n=r(a(856075));var i=h(a(573674));var o=a(829931);var s=a(121198);var l=r(a(184712));var d=a(651745);var c=a(953219);var u=a(137080);var f=a(651745);a(540404);var p=r(a(252228));function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=m(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class v extends i.Component{constructor(...e){super(...e);this.state={approveTimesheetPending:false};this._approvalDisabledTooltip=null;this._buttonRef=(0,i.createRef)();this._afterApproveTimesheet=()=>this.setState({approveTimesheetPending:false});this._approveTimesheet=()=>{const{focusedTimesheet:e,workflow:t,approveTimesheet:a}=this.props;this.setState({approveTimesheetPending:true});a(e.id,t.hoursLastChangedAt).then(this._afterApproveTimesheet).catch(this._afterApproveTimesheet)}}static get className(){return"SummaryApproval"}_createDisabledApprovalTooltip(){return l.default.create(this._buttonRef.current,{html:`\n\t\t\t\t<div class="ApprovalSummary__tooltip">\n\t\t\t\t\t${$.__("Make sure your changes are saved before you approve.")}\n\t\t\t\t</div>\n\t\t\t`})}_renderStatus(){const{userCanApprove:e,status:t}=this.props.workflow;if(t==="approved"){return this._renderApproved()}else if(t==="pending"&&!e){return this._renderPendingWithoutPermission()}else if(t==="pending"&&e){return this._renderPendingWithPermission()}}_renderApproved(){const{approverName:e,approvalMoment:t}=this.props.workflow;return(0,n.default)("div",{className:"ApprovalSummary__status ApprovalSummary__status--approved"},void 0,(0,n.default)("div",{className:"ApprovalSummary__stamp"},void 0,(0,n.default)(d.Icon,{name:"fab-approved-stamp-121x39"})),$.__("Approved by %1$s on %2$s.",e,t.format("MMM D, YYYY"),{note:'e.g. "Approved by Jane Smith on Sep 4, 2017"'}))}_renderPendingWithoutPermission(){const{approverName:e}=this.props.workflow;return(0,n.default)("div",{className:"ApprovalSummary__status ApprovalSummary__status--waiting baseBgColor"},void 0,e?$.__("Waiting for approval from %1$s",e,{note:'e.g. "Waiting for approval from John Henry'}):$.__("Waiting for approval"))}_renderPendingWithPermission(){const{workflow:{dueMoment:e},getChangedEntries:t}=this.props;const a=Boolean(t().length);if(a&&!this._approvalDisabledTooltip){this._approvalDisabledTooltip=this._createDisabledApprovalTooltip()}else if(!a&&this._approvalDisabledTooltip){this._approvalDisabledTooltip.destroy();this._approvalDisabledTooltip=null}return(0,n.default)("div",{className:"ApprovalSummary__status ApprovalSummary__status--showButton baseBgColor"},void 0,i.default.createElement("div",{className:"ApprovalSummary__jadeButtonWrapper",ref:this._buttonRef},(0,n.default)(f.Button,{clickAction:this._approveTimesheet,iconBefore:"fab-check-circle-16x16",outline:true,size:"large",text:$.__("Approve"),width:100})),$.__("Must approve by %1$s",e.format("MMM D"),{note:'e.g. "Must approve by May 17"'}))}render(){const{employeeId:e,employeeName:t,employeePhotoUrl:a,focusedTimesheet:r,payPeriodTitleText:o,payPeriodRangeText:l,workflow:d,getFocusedDays:f,summaryTotals:m,isViewOnly:h}=this.props;const{periodOvertime:v,periodTimeOff:g,periodHoliday:y}=m;const b=d.status==="approved";const w=f();return(0,n.default)(i.Fragment,{},void 0,(0,n.default)("img",{className:"TimesheetSummary__photo",src:a,alt:$.__("employee avatar")}),(0,n.default)("div",{className:"TimesheetSummary__title"},void 0,h?t:o),(0,n.default)("div",{className:"TimesheetSummary__text"},void 0,l),(0,n.default)("div",{className:(0,s.classNameFromObject)({ApprovalSummary:true,"ApprovalSummary--approved":b,"ApprovalSummary--viewOnly":h})},void 0,(0,n.default)("div",{className:(0,s.classNameFromObject)({ApprovalSummary__payPeriodTotal:true,"ApprovalSummary__payPeriodTotal--approved":b})},void 0,(0,c.formatTime)((0,u.sumAllEarnableHoursInDays)(w))),(0,p.default)({periodOvertime:v,periodTimeOff:g,periodHoliday:y}),!h&&this._renderStatus()),h&&(0,n.default)("a",{className:"fab-Link fab-Link--muted",href:`/employees/timesheet?id=${e}&et_id=${r.id}`},void 0,$.__("Go to timesheet")," "))}}t.SummaryApproval=v;var g=(0,o.consume)(["focusedTimesheet","workflow","summaryTotals","isViewOnly","approveTimesheet","getFocusedDays","getChangedEntries"],v);t.default=g},252228:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=c;var n=r(a(856075));var i=d(a(573674));var o=a(121198);var s=a(953219);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function c(e){const{periodOvertime:t,periodTimeOff:a,periodHoliday:r}=e;const o=t.length>1;return(0,n.default)(i.Fragment,{},void 0,!!t.length&&t.map((e=>(0,n.default)("div",{className:"TimesheetSummary__breakdownItem TimesheetSummary__breakdownItem--warning"},e.multiplier,(0,s.formatTime)(e.hours,true)," ",$.__("Overtime")," ",o&&`(${e.multiplier}x)`))),!!a&&(0,n.default)("div",{className:"TimesheetSummary__breakdownItem"},void 0,(0,s.formatTime)(a,true)," ",$.__("Time Off")),!!r&&(0,n.default)("div",{className:"TimesheetSummary__breakdownItem"},void 0,(0,s.formatTime)(r,true)," ",$.__("Holiday")))}},751613:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=d;var n=r(a(856075));var i=r(a(573674));var o=a(121198);var s=a(651745);var l=r(a(252228));function d(e){const{approvalMonthAndDayStr:t,fadePayPeriod:a,payPeriodTitleText:r,payPeriodRangeText:i,payPeriodTotal:d,periodOvertime:c,periodTimeOff:u,periodHoliday:f}=e;return(0,n.default)("div",{className:"TimesheetSummary__payPeriod js-timesheet-showPayPeriodTotal"},void 0,(0,n.default)("div",{className:"TimesheetSummary__divider"}),(0,n.default)("div",{className:"TimesheetSummary__title TimesheetSummary__title--payPeriod"},void 0,r),(0,n.default)("div",{className:"TimesheetSummary__text"},void 0,i),(0,n.default)("div",{className:(0,o.classNameFromObject)({TimesheetSummary__payPeriodBreakdown:true,"TimesheetSummary__payPeriodBreakdown--fade":a})},void 0,(0,n.default)("div",{className:"TimesheetSummary__payPeriodTotal"},void 0,(0,n.default)("span",{className:"TimesheetSummary__payPeriodClockIcon"},void 0,(0,n.default)(s.Icon,{name:"fab-clock-20x20"})),d),(0,l.default)({periodOvertime:c,periodTimeOff:u,periodHoliday:f})),(0,n.default)("div",{className:"TimesheetSummary__text TimesheetSummary__text--approval"},void 0,(0,n.default)("span",{className:"TimesheetSummary__approvalIcon"},void 0,(0,n.default)(s.Icon,{name:"fab-check-circle-12x12"})),$.__("Will be sent for approval on %s",t,{note:"placeholder is a date/time"})))}},631684:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=d;var n=r(a(856075));var i=r(a(573674));var o=a(121198);var s=a(651745);var l=r(a(931072));function d(e){const{fadeGraph:t,fadeWeekTotal:a,hideWeekends:r,lightTheme:i,lastWeekDays:d,thisWeekDays:c,serverTime:u,weekTitleText:f,weekRangeText:p,weekTotal:m}=e;const h=(0,o.classNameFromObject)({"js-timesheet-showDailyGraph TimesheetSummary__dailyGraph":true,"TimesheetSummary__dailyGraph--fade":t});const v=(0,o.classNameFromObject)({"TimesheetSummary__weekTotal baseColor":true,"TimesheetSummary__weekTotal--fade":a,"TimesheetSummary__weekTotal--light":i});return(0,n.default)("div",{className:"TimesheetSummary__thisWeek"},void 0,(0,n.default)("div",{className:"TimesheetSummary__title TimesheetSummary__title--week"},void 0,f),(0,n.default)("div",{className:"TimesheetSummary__text"},void 0,p),(0,n.default)("div",{className:h},void 0,(0,n.default)(l.default,{lastWeek:d,thisWeek:c,serverTime:u,hideWeekends:r})),(0,n.default)("div",{className:v},void 0,(0,n.default)("span",{className:"TimesheetSummary__weekClockIcon"},void 0,(0,n.default)(s.Icon,{brand:"true",name:"fab-clock-20x20"})),m))}},465224:(e,t,a)=>{"use strict";var moment=a(496406);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=T(a(573674));a(815071);var o=a(273641);var s=a(813296);var l=r(a(257527));var d=a(479706);var c=r(a(819343));var u=a(100107);var f=a(953219);var p=a(900373);var m=r(a(638047));var h=a(829931);var v=r(a(109473));var g=r(a(667057));var y=r(a(546173));var b=r(a(11352));var w=r(a(702770));var S=a(897211);function O(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(O=function(e){return e?a:t})(e)}function T(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=O(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const C=(0,d.isEnabled)("timeTrackingWebSockets");let P=!C;let E=true;class M extends i.Component{static get className(){return"EmployeeTimesheet"}constructor(e){super(e);this._saveTimesheetFail=()=>{this.setState({saveTimesheetPending:false,showClearNoteWarningModal:false,clearNoteWarningModalProcessing:false})};this._saveTimesheetSuccess=()=>{this.actions.refreshTimesheet().then((()=>{document.dispatchEvent(new CustomEvent("SiteFooter:close"));this.setState({showClearNoteWarningModal:false,clearNoteWarningModalProcessing:false});window.setMessage(p.SAVE_SUCCESS_MSG,"success")})).catch(this._saveTimesheetFail)};this._handleFooterAction=()=>{this.actions.saveTimesheet()};this._handleFooterCancel=()=>{this.actions.resetSingleEntryUserEdits()};this.actions={changeViewOption:(e,t)=>{const{timesheetOptions:a}=this.state;(0,u.updateViewOption)(e,t);(0,S.toggleViewOption)(e);this.setState({timesheetOptions:{...a,[e]:t}})},editSingleEntrySlat:(e,t)=>{let{days:a}=this.state;a={...a};a[e]={...a[e],userEdit:t};this.setState({days:a})},resetSingleEntryUserEdits:()=>{const{days:e}=this.state;const t=(0,o.flow)((0,s.map)((e=>{e.userEdit=null;return e})),(0,s.keyBy)("date"))(this.queries.getFocusedDays());this.setState({days:{...e,...t}})},saveTimesheet:()=>{if(window.ASSUMED_USER){window.disabledForPermsTest();return}if(this.queries.areChangedEntriesValid()){const e=this.queries.getEntriesWithClearedTimeAndNotesCount();if(e>0){this.setState({showClearNoteWarningModal:true})}else{this.actions.submitTimesheetChanges()}}},submitTimesheetChanges:()=>{const e=this.queries.getChangedEntries().map((e=>({date:e.date,hours:(0,f.parseTime)(e.userEdit),employeeId:window.Employee.id})));this.setState({saveTimesheetPending:true,clearNoteWarningModalProcessing:true});if(e.length){(0,u.saveSingleDailyHours)(e).then(this._saveTimesheetSuccess).catch(this._saveTimesheetFail)}else{this._saveTimesheetSuccess()}},refreshTimesheet:()=>{const{focusedTimesheet:e,clock:t}=this.state;return(0,u.refreshTimesheet)(e.id).then((e=>{const a=e.data;const r=(0,m.default)(a);if(r.clock&&!t.clockedIn&&r.clock.clockedIn){this.earnedTimerOffset=0}this.setState(r)}))},approveTimesheet:(e,t)=>{if(this.queries.getChangedEntries().length){return Promise.reject(null)}return(0,u.approveTimesheet)(e,t,this.actions.refreshTimesheet).then(this.actions.refreshTimesheet)},clockIn:(e,t,a)=>{E=false;return(0,u.clockIn)(e,t,a).then((()=>{const{employee:e,serverTime:t,days:a,clock:r}=this.state;const n={timezone:e.timezone,start:moment.tz(t.clone(),e.timezone).format("YYYY-MM-DD HH:mm:ss"),end:null,hours:null,id:-1};const i=Object.assign({},r,{clockedIn:true,latest:n});const o={...this.queries.getToday()};o.clockEntries.push(n);a[o.date]=o;this.earnedTimerOffset=moment.tz(this.serverTimer.ms,e.timezone).diff(t.clone().startOf("minute"));this.setState({clock:i,days:a},this.actions.refreshTimesheet)})).catch(this.actions.refreshTimesheet)},clockOut:e=>{E=false;clearTimeout(this.earnedTimer);return(0,u.clockOut)(e).then(this.actions.refreshTimesheet).catch(this.actions.refreshTimesheet)},updateServerTime:e=>{const{employee:t,serverTime:a,clock:r}=this.state;const n=moment.tz(e,t.timezone);if(!n.isSame(a,"day")){window.location.reload(true)}this.setState({serverTime:n},(()=>{if(r&&r.clockedIn){this.earnedTimer=setTimeout(this.actions.updateEarnedTime,this.earnedTimerOffset)}}))},updateEarnedTime:()=>{const{clock:e,days:t,serverTime:a}=this.state;if(e&&!e.clockedIn){return}const r={...e};const n={...t};const i=this.queries.getToday();const s=(0,o.last)(i.clockEntries);const l=moment.tz(s.start,s.timezone);r.earned=(0,f.calculateTimeEarned)(l,a);i.hours=i.clockEntries.reduce(((e,t)=>e+t.hours),r.earned);n[i.date]=i;this.setState({clock:r,days:n})},pollClockStatus:(e=false)=>{if(document.hidden&&!e){return}const{employee:{id:t},clock:{clockedIn:a,latest:r}}=this.state;(0,u.getClockStatus)(t).then((({isClockedIn:e,clockTime:t})=>{const n=(0,f.clockStatesDiffer)(a,r,e,t);if(n){this.actions.refreshTimesheet()}}))}};this.queries={getPadStartDays:()=>{const{padStartTimesheet:e,days:t}=this.state;return x(e,t)},getFocusedDays:()=>{const{focusedTimesheet:e,days:t}=this.state;return x(e,t)},getPadEndDays:()=>{const{padEndTimesheet:e,days:t}=this.state;return x(e,t)},getLastWeekDays:()=>{const{lastWeek:{start:e,end:t},days:a}=this.state;return(0,f.getDaysFromMap)(e,t,a)},getThisWeekDays:()=>{const{thisWeek:{start:e,end:t},days:a}=this.state;return(0,f.getDaysFromMap)(e,t,a)},getChangedEntries:()=>this.queries.getFocusedDays().filter((e=>e.userEdit!==null)).filter((e=>(0,f.parseTime)(e.userEdit)!==e.hours)),areChangedEntriesValid:()=>!this.queries.getChangedEntries().map((({userEdit:e})=>(0,f.parseTime)(e))).filter((e=>e===f.OVER_24||e===f.INVALID_FORMAT)).length,getEntriesWithClearedTimeAndNotesCount:()=>this.queries.getChangedEntries().filter((({note:e,userEdit:t})=>{const a=(0,f.parseTime)(t);if(e&&a===null){return true}return false})).length,getToday:()=>{const{days:e,serverTime:t}=this.state;return e[t.format("YYYY-MM-DD")]||null}};const{days:t,serverTime:a,clock:r,focusedTimesheet:n}=e.initialState;const i=a?!!t[a.format("YYYY-MM-DD")]||false:false;if(r&&i){const e=(0,s.random)(5e3,55e3);a.add(Math.ceil(window.performance.now()),"ms");this.earnedTimer=null;this.earnedTimerOffset=0;this.serverTimer=(new c.default).everyMinute((t=>{this.actions.updateServerTime(t);if(P){setTimeout(this.actions.pollClockStatus,e)}})).start(a.valueOf());if(C){const e=()=>{if(E){this.actions.pollClockStatus(true)}E=true};l.default.subscribe({channel:"timeTracking",subjectId:n.id,events:{clockIn:e,clockOut:e}}).catch((()=>{P=true}))}}this.state={...e.initialState,...this.actions,...this.queries,saveTimesheetPending:false,isViewOnly:e.isViewOnly,showHeader:e.showHeader,showSheetPadDays:e.showSheetPadDays,showClearNoteWarningModal:false,clearNoteWarningModalProcessing:false}}componentDidMount(){const e=document.querySelector('[data-form-id="timesheetFooter"]');if(e){e.addEventListener("click",(e=>{if(e.target.closest('button[data-action="SiteFooterAction:submit"]')){this._handleFooterAction()}else if(e.target.closest('button[data-action="SiteFooterAction:cancel"]')){this._handleFooterCancel()}}))}(0,S.setupDomOnPageLoad)((0,o.pick)(this.state,["isApprovalShowing","isOwnTimesheet","timesheetOptions","getChangedEntries"]))}render(){const{clearNoteWarningModalProcessing:e,focusedTimesheet:t,showClearNoteWarningModal:a}=this.state;const r=t.type==="none";return(0,n.default)(h.Provider,{value:this.state},void 0,(0,n.default)("div",{className:"TimesheetTab"},void 0,(0,n.default)(g.default,{}),(0,n.default)("div",{className:"TimesheetContent js-timesheet-content"},void 0,r?i.default.createElement(v.default,p.BLANK_STATE_DETAILS):(0,n.default)(y.default,{}),!r&&(0,n.default)(b.default,{}))),(0,n.default)(w.default,{getChangedEntries:this.queries.getChangedEntries,isOpen:a,isProcessing:e,onClose:()=>this.setState({showClearNoteWarningModal:false}),primaryAction:this.actions.submitTimesheetChanges}))}}t.default=M;function x(e,t){if(e===null){return[]}return(0,f.getDaysFromMap)(e.start,e.end,t)}},829931:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.consume=t.Provider=void 0;var n=r(a(856075));var i=r(a(368652));var o=d(a(573674));var s=a(273641);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const{Provider:c,Consumer:u}=(0,o.createContext)();t.Provider=c;const f=p(u);t.consume=f;function p(e){return function t(a,r){return function t(l){return(0,n.default)(e,{},void 0,(e=>o.default.createElement(r,(0,i.default)({},(0,s.pick)(e,a),l),l.children)))}}}},638047:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=u;var n=r(a(341757));var i=a(273641);var o=a(813296);var s=a(479706);var l=a(953219);var d=a(167959);const c=(0,s.isEnabled)("multipleEntriesByHour");function u(e){e=(0,i.cloneDeep)(e);const{employeeId:t,employeeName:a,employeePhotoUrl:r,employeeTimesheets:s,currentTimesheetId:c,previousTimesheetId:u,previousTimesheet:f,timesheet:p,nextTimesheet:m,lastWeek:h,thisWeek:v,timesheetOptions:g,today:y,thisWeekHours:b,projectsWithTasks:w}=e;const S=n.default.tz(y.date,y.timezone);const O=(0,d.makeTimesheetMetaObject)(p);const T=O.id===c;const C=(0,d.getIsOwnTimesheet)();const P=(0,d.getIsApprovalShowing)(p,S,O.type,T,C);if(O.type==="none"){return{isOwnTimesheet:C,isApprovalShowing:P,employeeTimesheets:s,timesheetOptions:g,focusedTimesheet:{id:-1,type:"none"}}}if(!s.find((e=>Number(e.id)===Number(O.id)))){s.push(O)}const E=(0,d.addDataToDays)({...T?h:{},...T?v:{},...f?f.dailyDetails:{},...p.dailyDetails,...m?m.dailyDetails:{}},S,y.timezone);const M=E[S.format("YYYY-MM-DD")];let x=null;if(p.type==="clock"){x={clockedIn:!!e.lastClockEntry&&!e.lastClockEntry.end,latest:e.lastClockEntry,earned:0,midnightTotals:0};if(x.clockedIn){const e=(0,i.flow)(i.values,(0,o.sortBy)("date"),i.last)(E).moment;const t=n.default.tz(x.latest.start,x.latest.timezone);const a=e.isSameOrAfter(t,"day");const r=S.isSame(t,"day");if(a&&!r){const e=t.format("YYYY-MM-DD");const a=S.format("YYYY-MM-DD");(0,l.getDaysFromMap)(e,a,E).forEach((e=>{e.hasMidnightEntry=true}));x.midnightTotals=(0,l.calculateTimeEarned)(t,S.clone().startOf("day"))}if(M){const e=(0,i.last)(M.clockEntries);const t=n.default.tz(e.start,e.timezone);x.earned=(0,l.calculateTimeEarned)(t,S);M.hours=M.clockEntries.reduce(((e,t)=>e+t.hours),x.earned)}}}const k={weekTotal:b,periodTotal:p.totalHours,periodOvertime:p.overtimeSummary,periodTimeOff:p.totalTimeOffHours,periodHoliday:p.totalHolidayHours};return{isApprovalShowing:P,isOwnTimesheet:C,isLatestTimesheet:T,serverTime:S,timesheetOptions:g,employeeTimesheets:s,employee:{id:t,name:a,photoUrl:r,timezone:y.timezone},clock:x,workflow:{approvableDate:p.approvableDate,approvableMoment:n.default.unix(p.approvableDate),approvalDate:p.approvalDate,approvalMoment:n.default.unix(p.approvalDate),approverName:p.approverName,dueDate:p.dueDate,dueMoment:n.default.unix(p.dueDate),hoursLastChangedAt:p.hoursLastChangedAt,hoursLastChangedAtMoment:n.default.unix(p.hoursLastChangedAt),status:p.status,userCanApprove:p.canApprove,userCanEdit:p.showEditActions},focusedTimesheet:O,summaryTotals:k,padStartTimesheet:f&&(0,d.makeTimesheetMetaObject)(f),padEndTimesheet:m&&(0,d.makeTimesheetMetaObject)(m),latestTimesheetId:c,latestPreviousTimesheetId:u,lastWeek:(0,d.makeWeekMetaObject)(h),thisWeek:(0,d.makeWeekMetaObject)(v),days:E,projectsWithTasks:w||{allIds:[],byId:{}}}}},167959:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.getIsOwnTimesheet=l;t.getIsApprovalShowing=d;t.sortDays=c;t.makeWeekMetaObject=u;t.makeTimesheetMetaObject=f;t.addDataToDays=p;var n=a(273641);var i=a(813296);var o=r(a(341757));var s=a(953219);function l(){const e=!!window.ASSUMED_USER;if(e){return window.ASSUMED_USER.employeeId===window.Employee.id}return window.Employee&&window.SESSION_USER.employeeId===window.Employee.id}function d(e,t,a,r,n){if(a==="clock"&&r&&n&&e.status!=="approved"){return false}return e&&o.default.unix(e.approvableDate).isBefore(t)}function c(e){return(0,n.flow)(n.values,(0,i.sortBy)("date"))(e)}function u(e){const t=c(e);return{start:t[0].date,end:t[t.length-1].date}}function f(e){if(!e){return{id:-1,type:"none"}}const{id:t,holidayPayType:a,showEditActions:r}=e;let{type:n,dailyDetails:i}=e;if(n!=="single"&&n!=="hour"){n="multiple"}i=c(i);return{id:t,type:n,start:i[0].date,end:i[i.length-1].date,holidayPayType:a,workWeekStartsOn:(0,s.getWorkWeekStartsOnObject)(i),showEditActions:r}}function p(e,t,a){return(0,n.flow)((0,i.map)((e=>{e.moment=o.default.tz(e.date,a);e.isWeekend=e.moment.day()===0||e.moment.day()===6;e.isToday=e.moment.isSame(t,"day");e.isFuture=e.moment.isAfter(t,"day");e.userEdit=null;return e})),(0,i.keyBy)("date"))(e)}},897211:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.toggleViewOption=s;t.setupDomOnPageLoad=l;var n=r(a(856075));var i=r(a(573674));var o=a(273641);function s(e){$(`.js-timesheet-${e}`).slideToggle(200)}function l(e){const{isApprovalShowing:t,isOwnTimesheet:a,timesheetOptions:r,getChangedEntries:n}=e;if(a&&!t){(0,o.each)(r,((e,t)=>{if(!e){$(`.js-timesheet-${t}`).hide()}}))}d(n)}function d(e){$(document).on("click","a:not(.history-modal):not(.no-form-changed-popup)",(function t(a){const r=$(a.target).closest("a").attr("href");if(r&&r!==""&&r!==`javascript:void(0)`&&r.indexOf("#")===-1&&e().length){a.preventDefault();c(r)}}))}function c(e){window.BambooHR.Modal.setState({headline:$.__(`You haven't saved your changes`),content:(0,n.default)("p",{},void 0,$.__("Your changes will be lost if you navigate away from this page without saving.")),icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,primaryAction:function(){window.BambooHR.Modal.setState({isOpen:false},true)},primaryActionText:$.__("Continue Working"),secondaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);window.location=e},secondaryActionText:$.__(`Don't Save`),alternativeAction:null,title:$.__("Just Checking...")})}},137080:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.sumByKeyEarnableHoursInDays=i;t.sumAllEarnableHoursInDays=o;t.getPayPeriodText=s;t.countDaysLeft=l;t.getRangeText=d;t.getSummaryRangeText=c;var n=r(a(341757));function i(e,t=(()=>0)){return e.reduce(((e,a)=>{if(t instanceof Function){return e+t(a)}return e+a[t]}),0)}function o(e){return e.reduce(((e,t)=>e+t.hours+t.timeOffHours+t.paidHolidayHours),0)}function s(e,t,a){if(e===t){return $.__("This Pay Period")}else if(e===a){return $.__("Previous Pay Period")}return $.__("Pay Period")}function l(e,t){const a=(0,n.default)(e).diff((0,n.default)(t),"days",true);return Math.ceil(a)}function d(e,t){const a=(0,n.default)(e);const r=(0,n.default)(t);const i="MMM D";const o=a.isSame(r,"month")?"D":i;return`${a.format(i)}  ${r.format(o)}`}function c(e,t,a){const r=l(t,a);const n=r>0?` (${$.__("%s days left",r)})`:"";return`${d(e,t)}${n}`}},900373:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.BLANK_STATE_DETAILS=t.JADE_TIME_OFF_ICON_DEFAULT=t.JADE_TIME_OFF_ICONS=t.AUTH_FAIL_MSG=t.SAVE_NOTE_FAIL_MSG=t.FUTURE_CLOCK_IN_TIME_MSG=t.CONFLICTING_ENTRIES_MSG=t.CLOCK_DISABLED_FUTURE_ENTRY=t.CONTACT_HR_ADMIN=t.ALREADY_APPROVED=t.INCORRECT_TIME_ENTRIES_MSG=t.DELETE_ENTRY_FAIL_MSG=t.DELETE_ENTRY_SUCCESS_MSG=t.SAVE_ENTRY_SUCCES_MSG=t.APPROVE_FAIL_MSG=t.CLOCK_OUT_FAIL_MSG=t.CLOCK_IN_FAIL_MSG=t.SAVE_FAIL_MSG=t.SAVE_SUCCESS_MSG=t.OVER_24_TOTAL_MSG=t.OVER_24_MSG=t.INVALID_FORMAT_MSG=t.TIME_FORMAT=void 0;const r="h:mm A";t.TIME_FORMAT=r;const n=$.__("Whoa. Try entering time like %s or 1:30.",`1${window.GLOBAL_DECIMAL_CHAR||"."}5`);t.INVALID_FORMAT_MSG=n;const i=$.__("Where are we, Venus? Please enter 24 hours or fewer.");t.OVER_24_MSG=i;const o=$.__("Where are we, Venus? Please enter 24 total hours or fewer.");t.OVER_24_TOTAL_MSG=o;const s=$.__("Done! Your time has been saved.");t.SAVE_SUCCESS_MSG=s;const l=$.__("Uh oh...something went wrong, and your time wasn't saved. Try it again?");t.SAVE_FAIL_MSG=l;const d=$.__("Sorry, something went awry and we weren't able to clock you in. Try again?");t.CLOCK_IN_FAIL_MSG=d;const c=$.__("Sorry, something went awry and we weren't able to clock you out. Try again?");t.CLOCK_OUT_FAIL_MSG=c;const u=$.__("Oh no... Sorry, there was a problem approving hours. Please try again.");t.APPROVE_FAIL_MSG=u;const f=$.__("Your hours worked have been successfully recorded.");t.SAVE_ENTRY_SUCCES_MSG=f;const p=$.__("Success! The time entry has been deleted.");t.DELETE_ENTRY_SUCCESS_MSG=p;const m=$.__("There seems to be a problem deleting that entry. Please try again.");t.DELETE_ENTRY_FAIL_MSG=m;const h=$.__("Oops. Please fix any incorrect time entries and try again.");t.INCORRECT_TIME_ENTRIES_MSG=h;const v=$.__(`Your timesheet has already been approved.`);t.ALREADY_APPROVED=v;const g=$.__(`If your time needs to be adjusted, contact your manager or HR administrator.`);t.CONTACT_HR_ADMIN=g;const y=$.__("Clocking is disabled because you have a time entry saved for sometime in the future.");t.CLOCK_DISABLED_FUTURE_ENTRY=y;const b=$.__("There are conflicting entries that already exist.");t.CONFLICTING_ENTRIES_MSG=b;const w=$.__("You can't clock in in the future.");t.FUTURE_CLOCK_IN_TIME_MSG=w;const S=$.__("Uh oh...something went wrong, and your note wasn't saved. Try it again?");t.SAVE_NOTE_FAIL_MSG=S;const O=$.__("Uh oh...something went wrong. Please refresh the page and try again.");t.AUTH_FAIL_MSG=O;const T={"time-off-luggage":"fab-briefcase-clock-14x12","time-off-calendar":"fab-calendar-clock-14x14","happy-calendar":"fab-calendar-smiling-14x14","palm-trees":"fab-palm-tree-14x13","camping-trailer":"fab-trailer-14x14",airplane:"fab-airplane-13x14","band-aid":"fab-band-aid-14x14","first-aid-kit":"fab-medical-clipboard-11x14","joining-hands":"fab-hands-joined-14x13",selfie:"fab-person-circle-14x14",graduation:"fab-graduation-cap-14x12",family:"fab-family-14x13",home:"fab-home-14x14","teddy-bear":"fab-teddy-bear-14x14","baby-carriage":"fab-stroller-14x14","birthday-cake":"fab-cake-13x14",gavel:"fab-gavel-14x14",medal:"fab-medal-13x14"};t.JADE_TIME_OFF_ICONS=T;const C="fab-briefcase-clock-14x12";t.JADE_TIME_OFF_ICON_DEFAULT=C;const P={title:$.__("There is no timesheet for this pay period."),subtitle:$.__("A pay schedule is required to enable time tracking."),icon:"fab-tumbleweed-96x120",className:"TimesheetBlankState"};t.BLANK_STATE_DETAILS=P},100107:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.updateViewOption=f;t.saveSingleDailyHours=p;t.refreshTimesheet=m;t.approveTimesheet=h;t.clockIn=v;t.clockOut=g;t.deleteEntry=y;t.addEdit=b;t.getClockStatus=w;t.saveClockInData=S;t.requestTimeTrackingSubscription=O;t.cancelTimeTrackingTrial=T;t.postNewActivationTrialValues=C;t.setTrialStarted=P;var n=a(273641);var i=u(a(785106));var o=a(900373);var s=r(a(91215));var l=r(a(347820));var d=r(a(234798));function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function f(e,t){return i.updateViewOption({[e]:t})}function p(e){return i.saveSingleDailyHours({hours:e}).then((e=>{if(e.data&&(0,n.startsWith)(e.data,"Error")){window.setMessage(o.SAVE_FAIL_MSG,"error");throw e.data}})).catch((e=>{if(e.response.status===403){(0,l.default)("save")}else{window.setMessage(o.SAVE_FAIL_MSG,"error")}throw e.response}))}function m(e){return i.refreshTimesheet(e)}function h(e,t,a){return i.approveTimesheet({id:e,hoursLastChangedAt:t}).catch((t=>{const r=t.response.data;if(r.status==="staleData"){(0,l.default)("approve")}else if(r.status==="clockOut"){(0,d.default)(r.timesheets,(t=>{h(e,t.hoursLastChangedAt,a).then(a)}))}else{window.setMessage(o.APPROVE_FAIL_MSG,"error")}throw t}))}function v(e,t,a){const r=t?{projectId:t,taskId:a}:null;return i.clockIn(e,r).catch((e=>{const t=e.response;if(t.data.error.code==="CLOCKED_IN"){(0,s.default)("clockIn",t.data)}else if(t.data.error.code==="FUTURE_ENTRY"){(0,s.default)("clockInFutureEntry")}else if(t.data.error.code==="APPROVED"){(0,s.default)("alreadyApproved")}else{window.setMessage(o.CLOCK_IN_FAIL_MSG,"error")}throw e}))}function g(e){return i.clockOut(e).catch((e=>{const t=e.response;if(t.status===403||t.status===409){(0,s.default)("clockOut",t.data)}else{window.setMessage(o.CLOCK_OUT_FAIL_MSG,"error")}throw e}))}function y(e,t){return i.deleteEntry(e,{entries:[t]}).then((()=>{window.setMessage(o.DELETE_ENTRY_SUCCESS_MSG,"success")})).catch((e=>{window.setMessage(o.DELETE_ENTRY_FAIL_MSG,"error");throw e.response}))}function b(e,t){const a=e==="hour"?{hours:t}:{entries:t};return i.addEdit(e,a).then((e=>{if(e.status===200){window.setMessage(o.SAVE_ENTRY_SUCCES_MSG,"success")}else{window.setMessage(o.AUTH_FAIL_MSG,"error")}})).catch((e=>{if(e.response.status===403){(0,l.default)("save")}else{window.setMessage(o.SAVE_FAIL_MSG,"error")}}))}function w(e){return i.getClockStatus(e).then((e=>e.data)).catch((e=>{throw e.response}))}function S(e,t){return i.saveClockInData(e,t).catch((e=>{if(e.response.status===409){window.setMessage(o.CONFLICTING_ENTRIES_MSG,"error")}else if(e.response.data.error.code==="FUTURE_CLOCK_IN_TIME"){window.setMessage(o.FUTURE_CLOCK_IN_TIME_MSG,"error")}else{window.setMessage(o.SAVE_NOTE_FAIL_MSG,"error")}throw e.response}))}function O(){return i.requestTimeTrackingSubscription().finally((()=>{window.location.href="/settings/time_tracking"}))}function T(e){return i.cancelTimeTrackingTrial(e).finally((()=>{window.location.href="/settings/time_tracking"}))}function C(e){return i.postNewActivationTrialValues(e)}function P(){return i.setTrialStarted()}},785106:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.updateViewOption=i;t.saveSingleDailyHours=o;t.refreshTimesheet=s;t.approveTimesheet=l;t.clockIn=d;t.clockOut=c;t.addEdit=u;t.deleteEntry=f;t.getClockStatus=p;t.saveClockInData=m;t.requestTimeTrackingSubscription=h;t.cancelTimeTrackingTrial=v;t.postNewActivationTrialValues=g;t.setTrialStarted=y;var n=r(a(417842));function i(e){return n.default.post("/timesheet/options/save",e)}function o(e){return n.default.post("/timesheet/hours",JSON.stringify(e),{headers:{"Content-Type":"application/json;charset=utf-8"}})}function s(e){return n.default.get(`/timesheet/${e}`)}function l(e){return n.default.post("/timesheet/approve",e)}function d(e,t){return n.default.post(`/timesheet/clock/in/${e}`,t)}function c(e){return n.default.post(`/timesheet/clock/out/${e}`)}function u(e,t){return n.default.post(`/timesheet/${e}/entries`,JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=utf-8"}})}function f(e,t){return n.default.delete(`/timesheet/${e}/entries`,JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=utf-8"}})}function p(e){return n.default.get(`/timesheet/employee/${e}/is_clocked_in`)}function m(e,t){return n.default.post(`/timesheet/employee/${e}/clock/in/data`,t)}function h(){return n.default.post("/settings/time_tracking/subscribe")}function v(e){return n.default.post("/settings/time_tracking/cancelTrial",e)}function g(e){return n.default.post(`/settings/time_tracking/startTrial`,e)}function y(){return n.default.post("/settings/time_tracking/trialStarted")}},268623:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=m(a(573674));var o=r(a(596308));var s=a(953219);var l=a(121198);var d=a(651745);var c=a(479706);var u=a(418982);var f=a(60815);function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=p(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const h=(0,c.isEnabled)("timeTrackingGeolocation");var v=e=>{const{canEdit:t,endTime:a,showRemoveButton:r,id:o,geolocationData:{clockInAddress:c,clockInLatitude:p,clockInLongitude:m,clockInLocationAccuracy:v,clockOutAddress:b,clockOutLatitude:w,clockOutLongitude:S,clockOutLocationAccuracy:O},handleRemoveButtonClick:T,note:C,onNoteChange:P,overlappingError:E,showNoteInput:M,total:x,type:k}=e;const[j,I]=(0,i.useState)(false);const F=(0,l.classNameFromObject)({AddEditEntry__clocks:true,"AddEditEntry__clocks--add":k==="add"});const D=!!(c||b);const N=v===-1;const A=O===-1;const L=a!=="1"&&x<0;let R=null;if(L){R=$.__("Oops, try again")}else if(E){R=$.__("Overlapping entry")}else if(x){R=(0,s.formatTime)(x)}let B=[];let H=null;if(h){B=[{accuracy:v,coordinates:{lat:p,lng:m},label:"Clock In"},{accuracy:O,coordinates:{lat:w||null,lng:S||null},label:"Clock Out"}];const e=(0,s.calculateDistanceBetweenPoints)([p,m],[w,S]);if(p&&m&&w&&S&&e<=50){B=[{accuracy:v,coordinates:{lat:p,lng:m},label:"Clock In/Out"}]}if(e<100&&e>50){H=17}}return(0,n.default)("div",{className:F},void 0,r&&(0,n.default)("span",{className:"AddEditEntry__removeEntry",onClick:()=>{T(o)}},void 0,(0,n.default)(d.Icon,{name:"fab-x-10x10"})),(0,n.default)("div",{className:"fieldRow AddEditEntry__fieldRow"},void 0,g(true,e),(0,n.default)("span",{className:"AddEditEntry__formDash"},void 0,""),g(false,e,true),i.default.createElement(f.EntryProjectSelector,e),(0,n.default)("p",{className:"fab-FormNote AddEditEntry__formNote"},void 0,R)),h&&(D||N||A)&&(0,n.default)("div",{className:"AddEditEntry__location"},void 0,(0,n.default)("span",{className:"fab-Label"},void 0,$.__("Location")),h&&(c||N)&&(0,n.default)("div",{className:(0,l.classNameFromObject)({AddEditEntry__address:true,"AddEditEntry__address--withWarning":N})},void 0,(0,n.default)("span",{className:"AddEditEntry__address__label"},void 0,$.__("Clocked In Near")),N?y("clock-in"):c),h&&(b||A)&&(0,n.default)("div",{className:(0,l.classNameFromObject)({AddEditEntry__address:true,"AddEditEntry__address--withBorder":true,"AddEditEntry__address--withWarning":A})},void 0,(0,n.default)("span",{className:"AddEditEntry__address__label"},void 0,$.__("Clocked Out Near")),A?y("clock-out"):b),!j&&(!N||!A)&&(0,n.default)(d.TextButton,{clickAction:()=>I(true),iconAfter:"fab-double-chevron-down-6x8",iconBefore:"fab-location-11x14",text:$.__("Show Map"),type:"button"}),j&&(!N||!A)&&(0,n.default)(u.Map,{markers:B,height:"291px",width:"396px",zoom:H})),M&&(0,n.default)("textarea",{autoFocus:M,className:"AddEditEntry__noteInput fab-Textarea",cols:"55",defaultValue:C,disabled:!t,maxLength:"200",onChange:e=>{P(e,o)},placeholder:$.__("Add note..."),rows:"2",type:"text"}))};t.default=v;function g(e,t,a){const{canEdit:r,startTime:n,startMeridiem:s,endTime:l,endMeridiem:d,id:c,total:u,handleInputBlur:f,handleInputChange:p,handleSelectChange:m,overlappingError:h}=t;const v=e?$.__("Start Time"):$.__("End Time");const g=e?n:l;const y=e?s:d;const b={isDisabled:!r,isClearable:false,items:[{text:"AM",value:"AM"},{text:"PM",value:"PM"}],selectedValues:[y],onSelect:t=>{m(t,e,c)}};const w=l!=="1"&&u<0;const S={disabled:!r,label:v,timeVal:g,selectProps:b,error:w||h,hasNote:a,autoFocus:e,handleInputChange:t=>{p(t.target.value,e,c)},handleInputBlur:t=>{f(t.target.value,e,c);t.target.setAttribute("placeholder","")},handleInputFocus:e=>{e.target.setAttribute("placeholder","hh:mm");e.target.select()}};return i.default.createElement(o.default,S)}function y(e){const t=e==="clock-in"?"in":"out";return(0,n.default)("div",{className:"AddEditEntry__location__warningMessage"},void 0,(0,n.default)("span",{className:"AddEditEntry__location__warningMessage__icon"},void 0,(0,n.default)(d.Icon,{name:"fab-triangle-exclamation-16x16"})),(0,n.default)("p",{className:"AddEditEntry__location__warningMessage__text"},void 0,$.__(`There wasnt a strong signal where they clocked %1, so we cant show it on the map.`,t)))}},60815:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EntryProjectSelector=u;var n=r(a(368652));var i=r(a(856075));var o=r(a(573674));var s=a(651745);var l=r(a(598341));var d=a(953219);var c=a(934198);function u(e){const t=(0,c.useStyles)();const{canEdit:a,id:r,onAddNote:u,onProjectChange:f,projectData:p,projectTaskSelectStyles:m,projectsWithTasks:h,showNoteInput:v}=e;let g=null;if(p&&p.projectId&&p.taskId){g=`${p.projectId}-${p.taskId}`}else if(p&&p.projectId){g=p.projectId}const y={items:(0,d.convertNormalizedProjectsToDropdownItems)(h),onSelect:e=>f(r,e),onClear:()=>f(r,null),placeholder:`--${$.__("Select Project/Task")}--`,renderToggleContent:e=>(0,d.getProjectSelectToggleText)(e,p.projectName,p.taskName),selectedValues:[g],width:7};return(0,i.default)("div",{className:t.wrapper},void 0,h.allIds.length>0&&(0,i.default)("span",{className:[t.projectTaskSelect,m].join(" ")},void 0,(0,i.default)("label",{className:"fab-Label",htmlFor:"projectSelect"},void 0,$.__("Save time to...")),o.default.createElement(s.Select,(0,n.default)({isDisabled:!a,name:"projectSelect"},y))),(v||a)&&(0,i.default)(l.default,{customCSS:{AddEditEntry__noteIconWrapper:true},disabled:!a||v,hasNote:v,onNoteIconClick:()=>u(r)}))}},864601:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.HourEntrySlat=b;var n=r(a(368652));var i=r(a(856075));var o=v(a(573674));var s=a(651745);var l=a(121198);var d=a(953219);var c=a(900373);var u=a(60815);var f=v(a(262845));var p=r(a(421484));var m=a(981354);function h(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(h=function(e){return e?a:t})(e)}function v(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=h(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}let g=null;let y=null;function b(e){const t=(0,m.useStyles)();const a=(0,o.createRef)();const{canEdit:r,showRemoveButton:h,hours:v,hoursError:b,id:w,note:S,onHintDismiss:O,onInputChange:T,onInputFocus:C,onNoteChange:P,onRemoveButtonClick:E,projectsWithTasks:M,showNoteInput:x,showTimeEntryHint:k}=e;(0,o.useEffect)((()=>{if(!g){g=(0,f.default)()}if(k&&!y){y=(0,p.default)();y.onClose((()=>{y.destroy();y=null;O()}))}}),[]);const j=()=>{setTimeout((()=>{if(y){y.hide()}}),200);g.hide()};const I=e=>{const{value:t}=e.target;const r=(0,d.parseTime)(t);const n=r!==d.OVER_24&&r!==d.INVALID_FORMAT;if(n){if(y){y.show()}g.hide()}else{const e=r===d.INVALID_FORMAT?c.INVALID_FORMAT_MSG:c.OVER_24_MSG;if(y){y.hide()}(0,f.updateErrorPopover)(e,a.current);g.show()}T(e,w)};const F=e=>{if(y){y.setAnchor(a.current);if(y){y.show()}}if(b){const{value:t}=e.target;const r=(0,d.parseTime)(t);const n=r===d.INVALID_FORMAT?c.INVALID_FORMAT_MSG:c.OVER_24_MSG;(0,f.updateErrorPopover)(n,a.current);g.show();return}C(w)};return(0,i.default)("div",{className:t.root},void 0,(0,i.default)("div",{className:t.entryRow},void 0,h&&(0,i.default)("span",{className:t.removeButton,onClick:()=>{E(w)}},void 0,(0,i.default)(s.Icon,{name:"fab-x-10x10"})),(0,i.default)("div",{},void 0,(0,i.default)("label",{className:(0,l.classNameFromObject)("fab-Label",{"fab-Label--error":b}),htmlFor:"hoursWorked"},void 0,$.__("Hours Worked")),(0,i.default)("div",{className:"fab-InputWrapper"},void 0,o.default.createElement("input",{className:(0,l.classNameFromObject)("fab-TextInput fab-TextInput--width3",{"fab-TextInput--error":b}),disabled:!r,id:"hoursWorked",onBlur:j,onChange:e=>I(e),onFocus:F,ref:a,type:"text",value:v}))),M.allIds.length>0&&(0,i.default)("span",{className:t.dash},void 0,""),o.default.createElement(u.EntryProjectSelector,(0,n.default)({},e,{projectTaskSelectStyles:t.projectTaskSelect}))),x&&(0,i.default)("textarea",{autoFocus:x,className:"AddEditEntry__noteInput fab-Textarea",cols:"55",defaultValue:S,disabled:!r,maxLength:"200",onChange:e=>{P(e,w)},placeholder:$.__("Add note..."),rows:"2",type:"text"}))}},459246:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=b(a(573674));var s=r(a(341757));var l=a(273641);var d=a(651745);var c=a(121198);var u=a(953219);var f=a(100107);var p=a(900373);var m=a(851040);var h=r(a(268623));var v=a(864601);a(835701);var g=a(60815);function y(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(y=function(e){return e?a:t})(e)}function b(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=y(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class w extends o.Component{static get className(){return"AddEditEntry"}constructor(e){super(e);this._handleAddEntryClick=()=>{const e=this.state.entries.slice();const t=++this.state.idIncrementer;const a={startTime:"",startMeridiem:"AM",endTime:"",endMeridiem:"AM",hours:"",hoursError:false,total:0,id:t,isEdit:false,showRemoveButton:true,timezone:this.props.timezone,projectData:{projectId:null,projectName:null,taskId:null,taskName:null},geolocationData:{clockInAddress:null,clockInLatitude:null,clockInLongitude:null,clockInLocationAccuracy:null,clockOutAddress:null,clockOutLatitude:null,clockOutLongitude:null,clockOutLocationAccuracy:null}};e.push(a);this.setState({entries:e,idIncrementer:t})};this._handleEntryRemoveClick=e=>{this.setState({entries:this.state.entries.filter((t=>t.id!==e))})};this._checkForHourEntriesError=()=>{const{hourEntries:e,type:t}=this.props;const{entries:a}=this.state;const r=a.slice();const n=r.reduce(((e,t)=>e+(0,u.parseTime)(t.hours)),0);const i=e.reduce(((e,t)=>{const a=r.find((e=>e.id===t.id));if(a){return e}return e+t.hours}),0);return n+i>24};this._handleInputChange=(e,t,a)=>{const{date:r}=this.props;const n=this.state.entries.slice();const i=n.find((e=>e.id===a));i.overlappingError=false;if(t){i.startTime=e;i.startMoment=e?s.default.tz(`${r} ${(0,u.getTwentyFourHourTime)(e,i.startMeridiem)}`,i.timezone):null;i.total=this._getIndividualEntryTotal(i,true);this.setState({entries:n})}else{i.endTime=e;if(i.startTime){const t=(0,u.padZerosOnTime)(e);const a=Number(t.split(":")[0]);if(i.startMeridiem==="AM"&&e!=="1"&&a&&a<i.startMoment.hour()){i.endMeridiem="PM"}else if(i.startMeridiem==="AM"&&(0,l.startsWith)(t,"12")){i.endMeridiem="PM"}else if(i.startMeridiem==="PM"&&t==="12:00"){i.endMeridiem="AM"}}const t=(0,u.getEndDate)(i.endTime,i.endMeridiem,r);i.endMoment=e?s.default.tz(`${t} ${(0,u.getTwentyFourHourTime)(e,i.endMeridiem)}`,i.timezone):null;i.total=this._getIndividualEntryTotal(i,false);this.setState({entries:n})}};this._handleInputBlur=(e,t,a)=>{if(e){const r=(0,u.padZerosOnTime)(e);this._handleInputChange(r,t,a)}};this._handleSelectChange=(e,t,a)=>{const{date:r}=this.props;const n=this.state.entries.slice();const i=n.find((e=>e.id===a));i.overlappingError=false;if(t){if(e==="PM"&&i.endMeridiem!=="PM"){i.startMeridiem=e;i.startMoment=s.default.tz(`${r} ${(0,u.getTwentyFourHourTime)(i.startTime,e)}`,i.timezone);i.endMeridiem=i.endTime==="12:00"?i.endMeridiem:"PM";const t=(0,u.getEndDate)(i.endTime,i.endMeridiem,r);i.endMoment=s.default.tz(`${t} ${(0,u.getTwentyFourHourTime)(i.endTime,e)}`,i.timezone);i.total=this._getIndividualEntryTotal(i,true);this.setState({entries:n})}else{i.startMeridiem=e;i.startMoment=s.default.tz(`${r} ${(0,u.getTwentyFourHourTime)(i.startTime,e)}`,i.timezone);i.total=this._getIndividualEntryTotal(i,true);this.setState({entries:n})}}else{i.endMeridiem=e;const t=(0,u.getEndDate)(i.endTime,i.endMeridiem,r);i.endMoment=s.default.tz(`${t} ${(0,u.getTwentyFourHourTime)(i.endTime,e)}`,i.timezone);i.total=this._getIndividualEntryTotal(i,false);this.setState({entries:n})}};this._handleAddNote=e=>{const{entries:t}=this.state;t.map((t=>{if(t.id===e){t.showNoteInput=!t.showNoteInput}}));this.setState({entries:t})};this._handleNoteChange=(e,t)=>{const a=e.target.value;const{entries:r}=this.state;r.map((e=>{if(e.id===t){e.note=a}}));this.setState({entries:r})};this._handleProjectChange=(e,t)=>{const{projectsWithTasks:a}=this.props;const{entries:r}=this.state;const n=r.map((r=>{if(r.id===e){r.projectData=(0,u.getProjectDataFromId)(t,a)}return r}));this.setState({entries:n})};this._handleHourInputFocus=e=>{const{entries:t}=this.state;const a=t.slice();const r=a.find((t=>t.id===e));if(r.hours!==null&&r.hours!==""){r.hours=(0,l.round)(r.hours,2);if(window.GLOBAL_DECIMAL_CHAR===","){r.hours=String(r.hours).replace(".",",")}this.setState({entries:a})}};this._handleHourInputChange=(e,t)=>{const{value:a}=e.target;const{entries:r}=this.state;const n=r.slice();const i=n.find((e=>e.id===t));const o=(0,u.validateHourFormat)(a);i.hours=a;if(o){i.hoursError=false;i.total=(0,u.parseTime)(a)}else{i.hoursError=true}this.setState({entries:n})};this._saveEntry=()=>{const{afterAction:e}=this.props;const t=this.hourTimesheetType?"hour":"clock";this.setState({isModalProcessing:true});const a=this._handleFormSave();if(a){(0,f.addEdit)(t,a).then((()=>{this.setState({isModalOpen:false});if(e&&typeof e==="function"){e()}})).catch((e=>{this.setState({isModalProcessing:false});if(e.status===409){this._handleSaveError(JSON.parse(e.responseText).trackingIds)}}))}};this._deleteEntry=()=>{const{afterAction:e,currentEntryId:t}=this.props;const a=this.hourTimesheetType?"hour":"clock";this.setState({isSheetProcessing:true});(0,f.deleteEntry)(a,t).then((()=>{this.setState({isModalOpen:false,isSheetOpen:false});if(e&&typeof e==="function"){e()}})).catch((()=>{this.setState({isSheetProcessing:false})}))};const{canEdit:t,type:a,clockEntries:r,currentEntryId:n,hourEntries:i,timesheetType:o}=e;this.hourTimesheetType=o==="hour";let d="";let c="AM";let p=null;let m="";let h="AM";let v=null;let g=1;let y="";const b=false;let w=0;let S=e.dayTotal;let O=false;let T="";let C={projectId:null,projectName:null,taskId:null,taskName:null};let P={clockInAddress:null,clockInLatitude:null,clockInLongitude:null,clockInLocationAccuracy:null,clockOutAddress:null,clockOutLatitude:null,clockOutLongitude:null,clockOutLocationAccuracy:null};if(!this.hourTimesheetType&&a==="edit"&&Array.isArray(r)){const t=r.find((e=>e.id===n));if(t&&t.start&&t.end){p=s.default.tz(t.start,t.timezone);v=s.default.tz(t.end,t.timezone);d=p.format("h:mm");c=(0,u.getMeridiem)(p);m=v.format("h:mm");h=(0,u.getMeridiem)(v);w=(0,u.getTimeDuration)(p,v,"hours");S=e.dayTotal-w;T=t.note;O=t.note!==null;C={projectId:t.projectId,projectName:t.projectName,taskId:t.taskId,taskName:t.taskName};P={clockInAddress:t.clockInAddress,clockInLatitude:t.clockInLatitude,clockInLongitude:t.clockInLongitude,clockInLocationAccuracy:t.clockInLocationAccuracy,clockOutAddress:t.clockOutAddress,clockOutLatitude:t.clockOutLatitude,clockOutLongitude:t.clockOutLongitude,clockOutLocationAccuracy:t.clockOutLocationAccuracy}}g=n}if(this.hourTimesheetType&&a==="edit"&&Array.isArray(i)){const e=i.find((e=>e.id===n));if(e){g=n;C={projectId:e.projectId,projectName:e.projectName,taskId:e.taskId,taskName:e.taskName};T=e.note;y=e.hours;w=y;O=e.note!==null;S-=y}}this.state={entries:[{startTime:d,startMeridiem:c,startMoment:p,endTime:m,endMeridiem:h,endMoment:v,hours:y,hoursError:b,total:w,showNoteInput:O,note:T,projectData:C,geolocationData:P,timezone:this.props.timezone,id:g,showRemoveButton:false,isEdit:a==="edit"}],idIncrementer:g,dayTotal:S,isModalOpen:false,isModalProcessing:false,isSheetOpen:false,isSheetProcessing:false,canEdit:t,canSave:a==="edit"&&t}}componentDidMount(){this._handleValidation();setTimeout((()=>{this.setState({isModalOpen:true})}))}componentDidUpdate(){const{canEdit:e,canSave:t}=this.state;const a=this._handleValidation();if(e&&t!==a){this.setState({canSave:a})}}_checkForOverlappingError(){const e=this.state.entries.slice();const t=this._getExistingEntriesWithMoments();let a=false;e.forEach((r=>{t.forEach((e=>{if(this.props.type==="edit"&&r.id!==e.id){if((0,u.checkEntriesForOverlap)(r,e)){r.overlappingError=true;a=true}}else if(this.props.type==="add"){if((0,u.checkEntriesForOverlap)(r,e)){r.overlappingError=true;a=true}}}));e.forEach((e=>{if(r.id!==e.id){if((0,u.checkEntriesForOverlap)(r,e)){r.overlappingError=true;a=true}}}))}));return a?e:a}_getExistingEntriesWithMoments(){return this.props.clockEntries.map((e=>{e.startMoment=s.default.tz(e.start,e.timezone);e.endMoment=s.default.tz(e.end,e.timezone);return e}))}_getRequestData(){const{entries:e}=this.state;return e.map((e=>{const{hours:t,id:a,note:r,projectData:n,startMoment:i,endMoment:o}=e;const{type:s,employeeId:l,date:d}=this.props;if(this.hourTimesheetType){return{id:s==="edit"?a:null,dailyEntryId:s==="edit"?null:a,employeeId:l,date:d,hours:(0,u.parseTime)(t),note:r,projectId:n.projectId,taskId:n.taskId}}return{id:s==="edit"?a:null,trackingId:s==="edit"?null:a,employeeId:l,date:d,start:i.format("HH:mm"),end:o.isSame(i,"day")?o.format("HH:mm"):"24:00",note:r,projectId:n.projectId,taskId:n.taskId}}))}_getIndividualEntryTotal(e,t){const{startTime:a,startMeridiem:r,endTime:n,endMeridiem:i}=e;const{date:o}=this.props;const l=(0,u.getEndDate)(n,i,o);const d=t?(0,u.padZerosOnTime)(a):(0,u.padZerosOnTime)(n);const c=d?(0,s.default)(d,"h:mm").format("h:mm"):null;let f;let p;if(t&&n&&c){f=(0,s.default)(`${o} ${(0,u.getTwentyFourHourTime)(c,r)}`);p=(0,s.default)(`${l} ${(0,u.getTwentyFourHourTime)(n,i)}`)}else if(!t&&a&&c){f=(0,s.default)(`${o} ${(0,u.getTwentyFourHourTime)(a,r)}`);p=(0,s.default)(`${l} ${(0,u.getTwentyFourHourTime)(c,i)}`)}else{return 0}return(0,u.getTimeDuration)(f,p,"hours")}_getDayTotal(){return this.state.entries.reduce(((e,t)=>e+t.total),this.state.dayTotal)}_handleValidation(){const{entries:e}=this.state;let t;if(this.hourTimesheetType){t=(0,u.validateHourEntries)(e)}else{t=(0,u.validateTimeEntries)(e)}return t}_handleFormSave(){let e;if(this.hourTimesheetType){const e=this._checkForHourEntriesError();if(e){this.setState({isModalProcessing:false});window.setMessage(p.OVER_24_TOTAL_MSG,"error");return false}}else{e=this._checkForOverlappingError()}if(e){this.setState({entries:e,isModalProcessing:false});window.setMessage(p.SAVE_FAIL_MSG,"error");return false}return this._getRequestData()}_handleSaveError(e){const t=this.state.entries.slice();e.forEach((e=>{t.forEach((t=>{if(t.id===e){t.overlappingError=true}}))}));this.setState({entries:t})}_renderAddEntryLink(){return(0,i.default)("div",{className:"AddEditEntry__addEntryLink"},void 0,(0,i.default)("a",{onClick:this._handleAddEntryClick},void 0,"+ ",$.__("Add Entry")))}_renderDayTotal(){const e=this._getDayTotal();return(0,i.default)("div",{className:(0,c.classNameFromObject)("AddEditEntry__dayTotal",{"AddEditEntry__dayTotal--error":e>24})},void 0,$.__("Day Total: %1",(0,u.formatTime)(e)))}_renderClockEntrySlats(){const{canEdit:e,projectsWithTasks:t,type:a}=this.props;return(0,i.default)("form",{className:"BhrForms"},void 0,this.state.entries.map((r=>o.default.createElement(h.default,(0,n.default)({},r,{canEdit:e,date:this.props.date,onAddNote:this._handleAddNote,onNoteChange:this._handleNoteChange,onProjectChange:this._handleProjectChange,handleRemoveButtonClick:this._handleEntryRemoveClick,handleInputBlur:this._handleInputBlur,handleInputChange:this._handleInputChange,handleSelectChange:this._handleSelectChange,key:r.id.toString(),projectsWithTasks:t,type:a})))))}_renderHourEntrySlats(){const{canEdit:e,onHintDismiss:t,projectsWithTasks:a,showTimeEntryHint:r,timesheetType:s,type:l}=this.props;const{entries:d}=this.state;return(0,i.default)("form",{},void 0,d.map((i=>o.default.createElement(v.HourEntrySlat,(0,n.default)({key:i.id},i,{canEdit:e,onAddNote:this._handleAddNote,onHintDismiss:()=>t("showTimeEntryHint",false),onInputBlur:this._handleHourInputBlur,onInputChange:this._handleHourInputChange,onInputFocus:this._handleHourInputFocus,onNoteChange:this._handleNoteChange,onProjectChange:this._handleProjectChange,onRemoveButtonClick:this._handleEntryRemoveClick,projectsWithTasks:a,showTimeEntryHint:r,type:l})))))}render(){const{clockEntries:e,openAsSheet:t,currentEntryId:a,date:r,hourEntries:n,modalTitle:o,timezone:l,timesheetType:c,type:f,canEdit:h}=this.props;const{canSave:v,isModalOpen:g,isModalProcessing:y,isSheetOpen:b,isSheetProcessing:w}=this.state;const S=s.default.tz(r,l);const O=(0,i.default)("div",{className:"AddEditEntry"},void 0,(c==="multiple"||c==="clock")&&this._renderClockEntrySlats(),c==="hour"&&this._renderHourEntrySlats(),(0,i.default)("div",{className:"AddEditEntry__totalRow"},void 0,f==="add"&&this._renderAddEntryLink(),this._renderDayTotal()));let T=null;if(f==="edit"){let t;if(this.hourTimesheetType){const e=n.find((e=>e.id===a));t=$.__("Are you sure you want to delete this %1 entry?",(0,u.formatTime)(e.hours))}else{const r=e.find((e=>e.id===a));const n=s.default.tz(r.start,r.timezone).format(p.TIME_FORMAT);const i=s.default.tz(r.end,r.timezone).format(p.TIME_FORMAT);t=$.__("Are you sure you want to delete the %1 to %2 entry?",n,i)}const r=(0,i.default)("div",{className:"AddEditEntry__deleteSheet"},void 0,(0,i.default)("span",{className:"AddEditEntry__deleteSheetIcon"},void 0,(0,i.default)(d.Icon,{name:"fab-trash-can-43x48"})),(0,i.default)("h5",{},void 0,t));T={content:r,isOpen:b,isProcessing:w,onClose:()=>this.setState({isSheetOpen:false}),primaryAction:this._deleteEntry,primaryActionText:$.__("Yes, Delete Entry"),title:$.__("Just Checking...")}}const C=()=>this.setState({isModalOpen:false});let P=null;let E=C;if(h){P=C;E=v?this._saveEntry:null}return(0,i.default)(m.Modal,{additionalAction:f==="edit"&&h?()=>this.setState({isSheetOpen:true}):null,additionalActionText:$.__("Delete Time Entry"),alternativeAction:P,isOpen:g,isProcessing:y,onClose:C,primaryAction:E,primaryActionText:h?$.__("Save"):$.__("Done"),sheetProps:T,title:o,icon:this.hourTimesheetType?"fab-stopwatch-plus-18x20":"fab-calendar-15x16",header:S.format("dddd, MMM D"),headerType:"text",type:t?"largeSheet":"medium"},void 0,O)}}t.default=w},123385:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=l;var n=r(a(368652));var i=r(a(573674));var o=a(830734);var s=r(a(459246));a(991819);function l(e){return new Promise((t=>{let a=$.__("Time Worked");if(e.canEdit){a=e.type==="edit"?$.__("Edit Time Worked"):$.__("Enter Time Worked")}const r=document.createElement("div");(0,o.render)(i.default.createElement(s.default,(0,n.default)({},e,{afterAction:t,modalTitle:a})),r)}))}},940569:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=b(a(573674));var s=r(a(496406));var l=a(121198);var d=a(479706);var c=a(851040);var u=a(651745);var f=a(651745);var p=a(651745);var m=a(953219);var h=b(a(100107));var v=a(418982);var g=r(a(519744));a(795575);function y(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(y=function(e){return e?a:t})(e)}function b(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=y(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const w=(0,d.isEnabled)("timeTrackingGeolocation");class S extends o.Component{static get className(){return"AddNote"}constructor(e){super(e);this._handleTimeInput=e=>{const{startTimeMeridiem:t,startTime:a}=this.state;const r=e.target.value;this.timeInputRef.current.value=(0,m.timeOfDayInputEnforcer)(r,a);let n=this._getWorkedTime(this.timeInputRef.current.value,t);if(n<0){n=0}this.setState({startTime:this.timeInputRef.current.value,workedTime:n})};this._handleNoteInput=e=>{const t=e.target.value;this.setState({noteText:t})};this._handleProjectChange=e=>{const{projectsWithTasks:t}=this.props;const a=(0,m.getProjectDataFromId)(e,t);this.setState({projectData:a})};this._getModalData=()=>{const{noteText:e,startTimeMeridiem:t,startTime:a}=this.state;const{clock:r,today:n,timezone:i}=this.props;const o=n.format("YYYY-MM-DD");const l="YYYY-MM-DD h:mm A";const d=s.default.tz(`${o} ${a} ${t}`,l,i);let c=false;if(r){const e=(0,s.default)(r.latest.start).tz(i);c=!e.isSame(d)}const u={note:e,selectedTime:d,timeWasChanged:c,timezone:i};return u};this._getWorkedTime=(e,t)=>{const{today:a,timezone:r}=this.props;const n=a.format("YYYY-MM-DD");const i="YYYY-MM-DD h:mm A";const o=s.default.tz(`${n} ${e} ${t}`,i,r);return(0,m.getTimeDuration)(o,(0,s.default)().tz(r),"hours")};this._saveNote=()=>{const{projectData:{projectId:e,taskId:t}}=this.state;const{afterSave:a,canEdit:r,employeeId:n,totalTime:i,type:o}=this.props;const s=this._getModalData();this.setState({isModalProcessing:true});if(o==="clock"){const i={note:s.note,projectId:e,taskId:t};if(s.timeWasChanged&&r){i.start=s.selectedTime.format("HH:mm");i.timezone=s.timezone}h.saveClockInData(n,i).then((()=>{this.setState({isModalOpen:false});a()})).catch((()=>{this.setState({isModalProcessing:false})}))}else if(o==="single"){const r={employeeId:n,hours:i,date:s.selectedTime.format("YYYY-MM-DD"),note:s.note,projectId:e,taskId:t};h.saveSingleDailyHours([r]).then((()=>{this.setState({isModalOpen:false});a()})).catch((()=>{this.setState({isModalProcessing:false})}))}};const{clock:t,hours:a,note:r,today:n,timezone:i,projectData:l}=e;let d=null;let c=null;let u="";let f=null;if(t&&t.latest){d=n.format("A");c=n.format("h:mm");f=(0,m.getTimeDuration)(n,(0,s.default)().tz(i),"hours")}if(r){u=r}this.state={noteText:u,startTimeMeridiem:d,startTime:c,workedTime:f,isModalOpen:false,isModalProcessing:false,projectData:l,showMap:false};this.timeInputRef=(0,o.createRef)()}componentDidMount(){setTimeout((()=>{this.setState({isModalOpen:true})}))}render(){const{isModalOpen:e,isModalProcessing:t,noteText:a,showMap:r,startTimeMeridiem:s,startTime:d,workedTime:h,projectData:y}=this.state;const{canEdit:b,clock:S,note:O,today:T,type:C,isViewOnly:P,projectsWithTasks:E}=this.props;const M=S&&S.clockedIn;const x=M?S===null||S===void 0?void 0:S.latest.clockInAddress:false;const{clockInLatitude:k,clockInLongitude:j,clockInLocationAccuracy:I}=(S===null||S===void 0?void 0:S.latest)||{};const F=(S===null||S===void 0?void 0:S.latest.clockInLocationAccuracy)===-1||false;let D=$.__("Update Time Entry");if(C==="single"){D=O?$.__("Update Note"):$.__("Add Note")}const N={isClearable:false,isDisabled:!b,items:[{text:"AM",value:"AM"},{text:"PM",value:"PM"}],selectedValues:[s],onSelect:e=>{const{startTime:t}=this.state;let a=e;let r=this._getWorkedTime(t,a);if(r<0){r=0}this.setState({startTimeMeridiem:a,workedTime:r})}};const A=(0,l.classNameFromObject)({AddNote__noteArea:true,"AddNote__noteArea--hasStartTime":S,fieldRow:true,BhrForms:true});let L=null;if(y&&y.projectId&&y.taskId){L=`${y.projectId}-${y.taskId}`}else if(y&&y.projectId){L=y.projectId}const R={items:E?(0,m.convertNormalizedProjectsToDropdownItems)(E):[],onSelect:this._handleProjectChange,onClear:()=>this._handleProjectChange(null),placeholder:y.projectName?(0,m.getProjectSelectToggleText)(null,y.projectName,y.taskName):`--${$.__("Select Project/Task")}--`,renderToggleContent:e=>(0,m.getProjectSelectToggleText)(e,y.projectName,y.taskName),selectedValues:[L],width:7};const B=E&&E.allIds.length>0;const H=(0,i.default)("div",{className:"AddNote__projectSelect"},void 0,(0,i.default)("label",{className:"fab-Label",htmlFor:"projectSelect"},void 0,$.__("Save time to...")),o.default.createElement(f.Select,(0,n.default)({isDisabled:!b&&!M,name:"projectSelect"},R)));const W=(0,i.default)("div",{className:"AddNote__timeWrapper"},void 0,(0,i.default)("div",{className:"AddNote__timeWrapper__startTime"},void 0,(0,i.default)("label",{className:"fab-Label",htmlFor:"startTime"},void 0,$.__("Start Time")),(0,i.default)("div",{className:"fab-InputWrapper"},void 0,o.default.createElement("input",{className:"AddNote__timeInput fab-TextInput fab-TextInput--width2",defaultValue:d,disabled:!b,name:"startTime",onInput:this._handleTimeInput,placeholder:"hh:mm",ref:this.timeInputRef,required:true,type:"text"}),o.default.createElement(f.Select,N))),B?H:null,(0,i.default)("div",{className:"AddNote__timeSpinnerWrapper"},void 0,(0,i.default)("div",{className:"AddNote__timeSpinner"},void 0,(0,i.default)(g.default,{})),(0,i.default)("p",{},void 0,(0,m.formatTime)(h))));const U=(0,l.classNameFromObject)({AddNote__textAreaWrapper:true,"AddNote__textAreaWrapper--viewOnly":P,fieldDiv:true});const q=(0,l.classNameFromObject)({AddNote__textArea:true,"fab-Textarea":true,"fab-Textarea--width100":true});const V=(0,i.default)("div",{className:"AddNote__location__warningMessage"},void 0,(0,i.default)("span",{className:"AddNote__location__warningMessage__icon"},void 0,(0,i.default)(p.Icon,{name:"fab-triangle-exclamation-16x16"})),(0,i.default)("p",{className:"AddNote__location__warningMessage__text"},void 0,$.__(`There wasnt a strong signal where they clocked in, so we cant show it on the map.`)));const z=(0,i.default)("div",{className:"AddNote"},void 0,S&&W,C==="single"&&B?H:null,w&&x&&(0,i.default)("div",{className:"AddNote__location"},void 0,(0,i.default)("span",{className:"fab-Label"},void 0,$.__("Location")),(0,i.default)("div",{className:(0,l.classNameFromObject)({AddNote__address:true,"AddNote__address--withWarning":F})},void 0,(0,i.default)("span",{className:"AddNote__address__label"},void 0,$.__("Clocked In Near")),F?V:x),!r&&!F&&(0,i.default)("div",{className:"AddNote__location__showMapButton"},void 0,(0,i.default)(u.TextButton,{clickAction:()=>this.setState({showMap:true}),iconAfter:"fab-double-chevron-down-6x8",iconBefore:"fab-location-11x14",text:$.__("Show Map"),type:"button"})),r&&!F&&(0,i.default)(v.Map,{markers:[{accuracy:I,coordinates:{lat:k,lng:j},label:"Clock In"}],height:"291px",width:"396px",zoom:17})),(0,i.default)("div",{className:A},void 0,(0,i.default)("div",{className:"fieldBox fullWidth"},void 0,(0,i.default)("label",{className:"fab-Label",htmlFor:"note"},void 0,$.__("Note")),(0,i.default)("div",{className:U},void 0,(0,i.default)("textarea",{"aria-label":"Note",autoFocus:true,className:q,defaultValue:a,disabled:!b&&!M,maxLength:"200",name:"note",onInput:this._handleNoteInput})))));return(0,i.default)(c.Modal,{headerType:"text",header:T.format("dddd, MMM D"),icon:"fab-calendar-15x16",isOpen:e,isProcessing:t,onClose:()=>this.setState({isModalOpen:false}),primaryAction:b&&P===false||M?this._saveNote:null,primaryActionText:$.__("Save"),title:D,type:"small"},void 0,z)}}t.default=S},115004:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=l;var n=r(a(368652));var i=r(a(573674));var o=a(830734);var s=r(a(940569));a(553311);function l(e){return new Promise((t=>{const a=document.createElement("div");(0,o.render)(i.default.createElement(s.default,(0,n.default)({afterSave:t},e)),a)}))}},58297:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=r(a(304887));var l=r(a(341757));a(557555);var d=e=>{const{firstName:t,lastName:a,start:r,timezone:i,id:d,today:c,handleDateChange:u}=e;const f=l.default.tz(r,i);const p=l.default.tz(c,i);const m=l.default.tz.zone(i).abbr(f);const h=f.isSame(p,"day")?p.format("MMM D"):`${f.format("MMM D")} - ${p.format("MMM D")}`;const v={start:r,timezone:i};const g=e=>{u(e,d)};return(0,n.default)("div",{className:"ClockOutSlat"},void 0,(0,n.default)("div",{className:"ClockOutSlat__header"},void 0,(0,n.default)("div",{className:"ClockOutSlat__employee"},void 0,(0,n.default)(o.Icon,{brand:true,name:"fab-person-circle-16x16"}),(0,n.default)("span",{className:"ClockOutSlat__name baseColor"},void 0,t," ",a),(0,n.default)("span",{className:"ClockOutSlat__timezone"},void 0,"(",m,")")),(0,n.default)("div",{className:"ClockOutSlat__dateRange"},void 0,h)),(0,n.default)(s.default,{lastClockEntry:v,onDateChange:g,showTotal:"true"}))};t.default=d},154746:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(368652));var i=r(a(856075));var o=g(a(573674));var s=a(273641);var l=r(a(496406));var d=a(651745);var c=a(851040);var u=r(a(417842));var f=a(953219);var p=a(900373);var m=r(a(58297));var h=r(a(742193));a(437807);function v(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(v=function(e){return e?a:t})(e)}function g(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=v(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class y extends o.Component{static get className(){return"ApproverClockOut"}constructor(e){super(e);this._clockOutEmployees=()=>{const{afterAction:e}=this.props;let{url:t}=this.props;this.setState({isModalProcessing:true});let a={clockOuts:this._handleFormSave()};if(t==="/timesheet/clock/out/approval"){t="/timesheet/clock/out/datetime"}if(a){u.default.post(t,JSON.stringify(a),{headers:{"Content-Type":"application/json;charset=utf-8"}}).then((t=>{this.setState({isModalOpen:false});e(t.data)})).catch((e=>{let t;if(e.response.data.data){t=e.response.data.data.timesheets}else{t=e.response.data.timesheets}this.setState({isModalProcessing:false});this._handleSaveError(t)}))}};const t=e.employees.map((e=>{const t={};const a=l.default.tz(e.start.date,e.start.timezone);t.endTime="";t.endMeridiem=a.format("A");t.startTime=a.format("h:mm");t.start=e.start.date;t.today=e.today.date;t.timezone=e.today.timezone;t.firstName=e.firstName;t.lastName=e.lastName;t.id=e.id;t.employeeId=e.employeeId;t.clockOutDateTime=null;return t}));this.state={employees:t,isModalOpen:false,isModalProcessing:false,canSave:true};this._handleInputBlur=this._handleInputBlur.bind(this);this._handleInputChange=this._handleInputChange.bind(this);this._handleSelectChange=this._handleSelectChange.bind(this);this._handleDateChange=this._handleDateChange.bind(this)}componentDidMount(){this._handleValidation();setTimeout((()=>{this.setState({isModalOpen:true})}))}componentDidUpdate(){this._handleValidation()}render(){const{canSave:e,isModalOpen:t,isModalProcessing:a}=this.state;const{title:r}=this.props;return(0,i.default)(c.Modal,{isOpen:t,isProcessing:a,onClose:()=>this.setState({isModalOpen:false}),primaryAction:e?this._clockOutEmployees:null,primaryActionText:$.__("Clock Out & Approve"),title:r,type:"medium"},void 0,(0,i.default)("div",{className:"ApproverClockOut"},void 0,this._renderWarning(),this._renderClockOutSlats()))}_getIndividualEntryTotal(e){const{start:t,endMeridiem:a,endTime:r,today:n}=e;const i=(0,f.getEndDate)(r,a,(0,l.default)(n).format("YYYY-MM-DD"));const o=(0,f.padZerosOnTime)(r);const s=o?(0,l.default)(o,"h:mm").format("h:mm"):null;let d;if(r&&s){d=`${i} ${(0,f.getTwentyFourHourTime)(s,a)}`}else{return 0}const c=(0,l.default)(t);const u=(0,l.default)(d);return(0,f.getTimeDuration)(c,u,"hours")}_handleValidation(){const{employees:e}=this.state;return(0,f.validateClockOutDates)(e)}_handleFormSave(){const{employees:e}=this.state;return e.map((e=>({employeeId:e.employeeId,datetime:e.clockOutDateTime.toISOString(true),timezone:e.timezone})))}_handleSaveError(e){let t=this.state.employees.slice();let a=false;let r=false;t=t.filter((t=>{const n=e.find((e=>e.employeeId===t.employeeId));if(n.status==="failure"&&n.error==="CLOCKED_OUT"){a=true}else if(n.status==="failure"){r=true;return true}else{return true}return false}));if(a){(0,h.default)(r,(()=>{if(t.length===0){window.SimpleModal.closeModal()}}))}else if(r){window.setMessage(p.INCORRECT_TIME_ENTRIES_MSG,"error")}if(t.length>0){this.setState({employees:t})}}_handleInputBlur(e,t){if(e){const a=(0,f.padZerosOnTime)(e);this._handleInputChange(a,t)}}_handleInputChange(e,t){const{canSave:a}=this.state;const r=this.state.employees.slice();const n=r.find((e=>e.id===t));n.endTime=e;const i=(0,f.padZerosOnTime)(e);const o=Number(i.split(":")[0]);const d=(0,l.default)(n.start);const c=d.format("A");if(c==="AM"&&e!=="1"&&o&&o<d.hour()){n.endMeridiem="PM"}else if(c==="AM"&&(0,s.startsWith)(i,"12")){n.endMeridiem="PM"}else if(c==="PM"&&i==="12:00"){n.endMeridiem="AM"}n.total=this._getIndividualEntryTotal(n);const u=this._handleValidation();this.setState({employees:r,canSave:u})}_handleDateChange(e,t){const{canSave:a,employees:r}=this.state;const n=r.slice();const i=n.find((e=>e.id===t));i.clockOutDateTime=e;const o=this._handleValidation();this.setState({employees:r,canSave:o})}_handleSelectChange(e,t){const{canSave:a}=this.state;const r=this.state.employees.slice();const n=r.find((e=>e.id===t));n.endMeridiem=e;n.total=this._getIndividualEntryTotal(n);const i=this._handleValidation();this.setState({employees:r,canSave:i})}_renderClockOutSlats(){const{employees:e}=this.state;return e.map((e=>o.default.createElement(m.default,(0,n.default)({},e,{handleDateChange:this._handleDateChange,handleInputBlur:this._handleInputBlur,handleInputChange:this._handleInputChange,handleSelectChange:this._handleSelectChange,key:e.id.toString()}))))}_renderWarning(){const{employees:e}=this.props;const t=$.__("Some employees are still clocked in.");const a=$.__("Enter clock out times below before approving.");const r=$.__("%1$s might have forgotten to clock out.",e[0].firstName);const n=$.__("Enter a clock out time below before approving hours.");const o=e.length>1;const s=(0,i.default)("div",{},void 0,(0,i.default)("h4",{className:"ApproverClockOut__warningHeader"},void 0,o?t:r),(0,i.default)("p",{className:"ApproverClockOut__warningText"},void 0,o?a:n));const l="fab-stopwatch-exclamation-51x54";return(0,i.default)("div",{className:"ApproverClockOut__warning"},void 0,(0,i.default)("div",{className:"ApproverClockOut__warningIcon"},void 0,(0,i.default)(d.Icon,{name:l})),s)}}t.default=y},234798:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=d;var n=r(a(856075));var i=r(a(573674));var o=a(830734);var s=r(a(154746));var l=a(273641);a(963917);function d(e,t,a="/timesheet/clock/out/approval"){const r=e.length>1?$.__("People are still clocked in"):$.__("%1$s is still clocked in",e[0].firstName);const i=typeof t==="function"?t:l.noop;const d=document.createElement("div");(0,o.render)((0,n.default)(s.default,{afterAction:i,employees:e,title:r,url:a}),d)}},493540:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.createReadableHistory=s;var n=r(a(856075));var i=r(a(573674));var o=a(753134);function s(e){return e.map((e=>{const{detailType:t,from:a,to:r}=e;switch(t){case"clockedIn":{return $.__("Clocked in")}case"clockedInProject":{return(0,n.default)(o.Message,{params:[r],text:$._("Clocked in to **{1}**")})}case"clockInUpdated":{return(0,n.default)(o.Message,{params:[a,r],text:$._("Clock in updated from **{1}** to **{2}**")})}case"clockedOut":{return $.__("Clocked out")}case"projectSet":{return(0,n.default)(o.Message,{params:[r],text:$._("Project set to **{1}**")})}case"projectUpdated":{return(0,n.default)(o.Message,{params:[r],text:$._("Project updated to **{1}**")})}case"projectRemoved":{return(0,n.default)(o.Message,{params:[a],text:$._("Removed project **{1}**")})}case"timeEntryAdded":{return(0,n.default)(o.Message,{params:[r],text:$._("Time entry added for **{1}**")})}case"timeEntryUpdated":{return(0,n.default)(o.Message,{params:[a,r],text:$._("Time entry updated from **{1}** to **{2}**")})}case"timeEntryDeleted":{return(0,n.default)(o.Message,{params:[a],text:$._("Deleted time entry: **{1}**")})}case"dailyTotalAdded":{return(0,n.default)(o.Message,{params:[r],text:$._("Daily total added for **{1}**")})}case"dailyTotalUpdated":{return(0,n.default)(o.Message,{params:[a,r],text:$._("Daily total updated from **{1}** to **{2}**")})}case"dailyTotalDeleted":{return(0,n.default)(o.Message,{params:[a],text:$._("Deleted daily total: **{1}**")})}case"noteAdded":{return $.__("Note added")}case"noteUpdated":{return $.__("Note updated")}case"noteRemoved":{return $.__("Note Removed")}case"timesheetSentForApproval":{return $.__("Timesheet sent for approval")}default:{return JSON.stringify(e)}}}))}},108610:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.convertDaysToOptions=S;t.ModalHeader=O;t.ModalContent=T;t.ChangeHistoryModal=P;t.default=E;var n=r(a(856075));var i=b(a(573674));var o=a(830734);var s=r(a(496406));var l=r(a(417842));var d=a(851040);var c=a(651745);var u=a(651745);var f=r(a(972445));var p=r(a(109473));var m=r(a(64937));var h=a(900373);var v=a(493540);a(235572);var g=a(953219);function y(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(y=function(e){return e?a:t})(e)}function b(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=y(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const w={added:"fab-circle-plus-16x16",edited:"fab-pencil-16x16",clockedOut:"fab-clock-up-16x16",clockedIn:"fab-clock-down-16x16",deleted:"fab-trash-can-14x16",timesheetSentForApproval:"fab-paper-airplane-16x16"};function S(e=[]){return e.map((({date:e,historyEventCount:t})=>{const a=(0,s.default)(e,"YYYY-MM-DD").format("dddd, MMM D");const r=`${a} (${$.__n("%1$s event","%1$s events",t)})`;return{text:r,value:e}}))}function O(e){const{days:t,selectedDate:a,setSelectedDate:r}=e;const{preferredName:o,lastName:s,photoURL:l,jobTitle:d}=window.Employee;return(0,n.default)(i.Fragment,{},void 0,(0,n.default)(m.default,{imageAlt:"Image of employee",imageSrc:l,subTitle:d,title:`${o} ${s}`}),(0,n.default)("div",{className:"ChangeHistoryModal__select"},void 0,(0,n.default)(u.Select,{isClearable:false,items:S(t),onSelect:e=>r(e),selectedValues:[a],size:"large",width:8})),(0,n.default)("div",{className:"ChangeHistoryModal__separator"}))}function T(e){var t;const{historyData:a,timeEarned:r}=e;const i=((t=a.changeHistoryEvents)===null||t===void 0?void 0:t.length)??0;const o=(0,s.default)(a.date,"YYYY-MM-DD");return(0,n.default)("div",{className:"ChangeHistoryModal__content"},void 0,i>0&&(0,n.default)("div",{className:"History"},void 0,(0,n.default)("div",{className:"History__block"},void 0,(0,n.default)("div",{className:"History__icon"},void 0,(0,n.default)(c.Icon,{name:"fab-calendar-alt-16x16"})),(0,n.default)("div",{},void 0,(0,n.default)("span",{className:"History__header"},void 0,$.__("Timesheet history for %1$s",o.format("dddd, MMM D"))),(0,n.default)("div",{className:"History__details"},void 0,$.__n("%2$s total time  %1$s event","%2$s total time  %1$s events",i,r)))),a.changeHistoryEvents.map((e=>{const{clientType:t}=e;const a=t==="android"||t==="ios";const r=s.default.tz(e.dateTime,e.timezone);const i=o.isSame(r,"day");let l=r.format(h.TIME_FORMAT);if(!i){l=$.__("%1$s on %2$s",r.format(h.TIME_FORMAT),r.format("dddd, MMM D"),{note:'e.g. "1:11 PM on Tuesday, Sep 15"'})}return(0,n.default)("div",{className:"History__block"},e.eventType+e.dateTime,(0,n.default)("div",{className:"History__icon History__icon--outlined"},void 0,(0,n.default)(c.Icon,{name:w[e.eventType]??"fab-circle-plus-16x16"})),(0,n.default)("div",{},void 0,(0,v.createReadableHistory)(e.details).map(((e,t)=>(0,n.default)("div",{},t,e))),e.note&&(0,n.default)("div",{className:"History__note"},void 0,e.note),(0,n.default)("div",{className:"History__meta"},void 0,e.user),(0,n.default)("div",{className:"History__meta"},void 0,l,a&&C(t))))}))),!i>0&&(0,n.default)(p.default,{className:"ChangeHistoryModal__blankState",icon:"fab-clock-reverse-72x66",title:$.__(`There wasn't any time tracking activity on this day`)}))}function C(e){return(0,n.default)("span",{className:"ChangeHistoryModal__mobileIcon"},void 0,(0,n.default)(f.default,{settings:{content:{ios:$.__("Via iOS App"),android:$.__("Via Android App")}[e]}},void 0,(0,n.default)(c.Icon,{name:"fab-mobile-phone-9x12"})))}function P(e){var t,a;const{days:r,initialDate:o=((t=r[0])===null||t===void 0?void 0:t.date)}=e;const[s,c]=(0,i.useState)(true);const[u,f]=(0,i.useState)(false);const[p,m]=(0,i.useState)(o);const[h,v]=(0,i.useState)({});const y=(0,g.formatTime)(((a=r.find((e=>e.date===p)))===null||a===void 0?void 0:a.hours)??0);const b=(0,n.default)(O,{days:r,selectedDate:p,setSelectedDate:m});const w=(0,n.default)(T,{historyData:h,timeEarned:y});(0,i.useEffect)((()=>{window.setTimeout((()=>{f(true)}))}),[]);(0,i.useEffect)((()=>{c(true);l.default.get(`/time_tracking/employee/${window.Employee.id}/change_history`,{date:p}).then((({data:e})=>{v(e)})).catch((()=>{window.errorFallBack()})).finally((()=>{c(false)}))}),[p]);return(0,n.default)(d.Modal,{alternativeActionText:null,content:w,contentHasPadding:false,header:b,isLoading:s,isOpen:u,onClose:()=>f(false),primaryAction:()=>f(false),primaryActionText:$.__("Close"),title:$.__("Timesheet Change History"),type:"medium"})}function E(e,t){(0,o.render)((0,n.default)(P,{days:e,initialDate:t}),document.createElement("div"))}},152084:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=f(a(573674));var o=r(a(417842));var s=a(851040);var l=a(651745);var d=a(953219);var c=r(a(304887));a(799575);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(u=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=u(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const p={INVALID_CLOCK_TIME:$.__("The clock out time is before the clock in time."),MISSING_EMPLOYEE_IDS:$.__("Missing employee ID(s)"),MISSING_TOOL:$.__("Time Tracking is not enabled."),PERMISSIONS:$.__("You don't have permission to do that"),FUTURE_TIMESHEET:$.__("You can't perform that action on a future timesheet."),TIMESHEET_NOT_FOUND:$.__("Timesheet not found"),INVALID_ID:$.__("Invalid employee or timesheet id."),PREVIEW:$.__("Cannot change a clock out date while previewing as another user."),CLOCKED_OUT:$.__("The employee is currently clocked out."),TIMESHEET_TYPE:$.__("Invalid timesheet type"),INVALID_TIMEZONE:$.__("Employee has an invalid timezone setup"),NO_CLOCK_ENTRIES:$.__("The employee hasn't clocked in yet."),SERVER_ERROR:$.__("Internal error."),OVERLAP:$.__("Overlapping timesheets found. Please contact support.")};class m extends i.Component{static get className(){return"ChooseClockOutDate"}constructor(e){super(e);this._handleDateChange=(e,t)=>{this.setState({selectedDateTime:e,totalTime:t})};this._getClockOutDateTime=()=>{const{selectedDateTime:e}=this.state;return e};this._clockOut=()=>{const{selectedDateTime:e}=this.state;const{afterClockOut:t,employeeId:a}=this.props;const r={clockOuts:[{employeeId:a,datetime:e.toISOString(true),timezone:e.tz()}]};this.setState({isModalProcessing:true});o.default.post("/timesheet/clock/out/datetime",r).then((()=>{this.setState({isModalOpen:false});t()})).catch((e=>{if(e.response.data.error){const t=e.response.data.error.code;setMessage(p[t],"error")}else{window.errorFallBack()}this.setState({isModalProcessing:false})}))};this.state={selectedDateTime:null,totalTime:null,isModalOpen:false,isModalProcessing:false}}componentDidMount(){setTimeout((()=>{this.setState({isModalOpen:true})}))}render(){const{isModalOpen:e,isModalProcessing:t,totalTime:a}=this.state;const{lastClockEntry:r}=this.props;const i="fab-stopwatch-exclamation-51x54";const o=(0,n.default)("div",{className:"ChooseClockOutDate"},void 0,(0,n.default)("div",{className:"ChooseClockOutDate__icon"},void 0,(0,n.default)(l.Icon,{name:i})),(0,n.default)("h4",{className:"ChooseClockOutDate__headingText"},void 0,$.__("Looks like you forgot to clock out.")),(0,n.default)("p",{className:"ChooseClockOutDate__text"},void 0,$.__("When should you have clocked out?")),(0,n.default)("hr",{className:"ChooseClockOutDate__divider"}),(0,n.default)(c.default,{lastClockEntry:r,onDateChange:this._handleDateChange}),(0,n.default)("p",{className:"ChooseClockOutDate__totalTime"},void 0,$.__("Total Time: %1",a>0?(0,d.formatTime)(a):(0,d.formatTime)(0))));return(0,n.default)(s.Modal,{biId:"my-info-timesheet-clock-out",isOpen:e,isProcessing:t,onClose:()=>this.setState({isModalOpen:false}),primaryAction:this._clockOut,primaryActionText:$.__("Clock Out"),title:$.__("Verify Time & Clock Out"),type:"medium"},void 0,o)}}t.default=m},300049:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=l;var n=r(a(856075));var i=r(a(573674));var o=a(830734);var s=r(a(152084));a(153082);function l(e,t){return new Promise((a=>{const r=document.createElement("div");(0,o.render)((0,n.default)(s.default,{afterClockOut:a,employeeId:e,lastClockEntry:t}),r)}))}},702770:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=s;var n=r(a(856075));var i=r(a(573674));var o=a(851040);function s(e){const{getChangedEntries:t,isOpen:a,isProcessing:r,onClose:i,primaryAction:s}=e;const l=t().length;const d=l===1?$.__("This time entry has a note associated with it. You will lose the note if you continue."):$.__("Youre clearing out at least one time entry with a note. You will lose the note(s) associated with these entries if you continue.");return(0,n.default)(o.Modal,{header:d,icon:"fab-trash-can-43x48",iconColor:"danger",isOpen:a,isProcessing:r,onClose:i,primaryAction:s,primaryActionText:l===1?$.__("Clear Time Entry + Note"):$.__("Clear Time Entries + Notes"),title:$.__("Just Checking...")})}},742193:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=o;var n=r(a(909224));var i=a(900373);a(713118);function o(e,t){window.SimpleModal.openModal({callbacks:{close:{after:function(){if(e){window.setMessage(i.INCORRECT_TIME_ENTRIES_MSG,"error")}}}},html:window.microTemplate(n.default,{}),title:$.__("Whoa, something changed"),footer:{buttons:{primary:{text:$.__("Got it"),action:()=>{window.SimpleModal.closeModal();t()}},cancel:{show:false}}}})}},468274:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.openModal=d;t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(845382);a(625752);function s(e,t,a){$.post("/time_tracking/disable_employees",{ids:[e]}).done((e=>{if(e.status==="SUCCESS"){window.BambooHR.Modal.setState({isOpen:false});window.setMessage($.__("OK, %s will no longer be able to track time worked or access the timesheet.",t),"success");a();return}window.BambooHR.Modal.setState({isProcessing:false},true);if(e.status==="FAIL"&&e.message){setMessage(e.message,"error")}else{l()}})).fail(l)}function l(){setMessage($.__("Sorry, something went wrong. Try giving it another shot?"),"error");window.SimpleModal.Footer.Buttons.Primary.stopProcessing()}function d(e,t,a,r=Function.prototype){const i=$.__("Just Checking...");const l=$.__("Are you sure you want to disable time tracking for %1$s?",`${t} ${a}`);const d=$.__("%1$s will not get any new timesheets, but will still be able to log time on their current timesheet and it will still be sent for approval.",(0,o.htmlentities)(t));const c=$.__("Yes, Disable Time Tracking");window.BambooHR.Modal.setState({title:i,headline:l,content:(0,n.default)("div",{className:"DisableTimeTrackingModal__content"},void 0,d),icon:"fab-stopwatch-exclamation-51x54",iconColor:"attention",isOpen:true,primaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);s(e,t,r)},primaryActionText:c})}var c={openModal:d};t.default=c},14760:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=p;var n=r(a(856075));var i=u(a(573674));var o=r(a(496406));var s=r(a(8460));var l=r(a(417842));var d=a(479706);a(9886);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=(0,d.isEnabled)("timeTrackingFutureScheduling");function p(e,t,a,r=false){const s=$.__("Time Tracking Start Date");const d=$.__("Save");let c=[];l.default.get(`/time_tracking/employee/${e.id}/schedule_dates`).then((l=>{const u=l.data.canEnableNow;const p=l.data.paySchedules.allIds[0];const v=l.data.paySchedules.byId[p].dates;const g=l.data.paySchedules.byId[p].hireDate;c=v.map((e=>{const t=(0,o.default)(e);return{date:e,display:t.format("MMM D")}}));const y=window.BambooHR.Modal.isOpen();let b=f?"":"immediately";let w=[];if(f){if(u){w.push({displayText:$.__("Immediately"),value:"immediately"})}if(g){const e=(0,o.default)(g);w.push({text:$.__("Hire Date"),type:"group",items:[{displayText:e.format("MMM D"),value:g}]})}const e=[{text:$.__("Next Pay Periods"),type:"group",items:[...c.map((e=>({displayText:e.display,value:e.date})))]}];w=[...w,...e]}else{w=[{displayText:$.__("Immediately"),value:"immediately"},...c.map((e=>({displayText:e.display,value:e.date})))]}const S={isOpen:true,title:s,icon:"fab-calendar-stopwatch-54x54",headline:$.__("When do you want time tracking to start?"),content:(0,n.default)(i.Fragment,{},void 0,(0,n.default)("div",{className:"EnableTimeTracking__forWho"},"text",$.__("Select when %1$s will start tracking time.",e.preferredName)),(0,n.default)("div",{className:"EnableTimeTracking__date-select"},"select",(0,n.default)(h,{effect:e=>{b=e},items:w,value:b}))),primaryActionText:d,primaryAction(){if(y){window.BambooHR.Modal.setState({sheetProps:{isOpen:false},isProcessing:true},true)}else{window.BambooHR.Modal.setState({isProcessing:true},true)}m(b,e.id,t,a,r)},alternativeAction(){window.BambooHR.Modal.setState({isOpen:false})},onClose(){window.BambooHR.Modal.setState({isOpen:false})}};if(y){window.BambooHR.Modal.setState({sheetProps:S},true)}else{window.BambooHR.Modal.setState({...S})}})).catch((e=>{a(e.response.data.error)}))}function m(e,t,a,r,n){let i=`/time_tracking/employee/${t}/schedule`;let o={scheduleDate:e};if(e==="immediately"){i="/time_tracking/enable_employees";o={ids:[t]}}o.setSessionMessage=n;return l.default.post(i,o).then((t=>{window.BambooHR.Modal.setState({isOpen:false});a(t.data,e)})).catch((e=>{window.BambooHR.Modal.setState({isProcessing:false},true);r(e.response.data.error)}))}function h({items:e,value:t,effect:a=(()=>{})}){const[r,o]=(0,i.useState)(t);const l={notClearable:true,width:5};const d={items:e};d.items.forEach((e=>{if(e.items){e.items.forEach((e=>{e.selected=e.value===r}))}e.selected=e.value===r}));(0,i.useEffect)((()=>{a(r)}));return(0,n.default)(s.default,{data:d,onChange:e=>{o(e.value)},placeholder:` ${$.__("Select Date")} `,settings:l})}},989991:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=d(a(573674));var o=a(851040);var s=a(651745);a(402795);function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(l=function(e){return e?a:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=l(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class c extends i.Component{static get className(){return"ForgotClockOutWarning"}constructor(e){super(e);this._clockOut=()=>{const{afterClockOut:e,beforeClockOutAction:t,clockOutAction:a,employeeId:r}=this.props;this.setState({isProcessing:true});t();a(r).then((()=>{this.setState({isOpen:false});e()}))};this.state={isOpen:false,isProcessing:false}}componentDidMount(){setTimeout((()=>{this.setState({isOpen:true})}))}render(){const{isOpen:e,isProcessing:t}=this.state;return(0,n.default)(o.Modal,{isOpen:e,isProcessing:t,onClose:()=>this.setState({isOpen:false}),primaryAction:this._clockOut,primaryActionText:$.__("Clock Out"),title:$.__("Clock Out")},void 0,(0,n.default)("div",{className:"ForgotClockOutWarningModal"},void 0,(0,n.default)("div",{className:"ForgotClockOutWarningModal__icon"},void 0,(0,n.default)(s.Icon,{name:"fab-stopwatch-exclamation-51x54"})),(0,n.default)("h4",{className:"ForgotClockOutWarningModal__heading"},void 0,$.__("Did you forget to clock out?")),(0,n.default)("p",{className:"ForgotClockOutWarningModal__text"},void 0,$.__("If so, let your manager know and they can correct your timesheet."))))}}t.default=c},182317:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=l;var n=r(a(856075));var i=r(a(573674));var o=a(830734);var s=r(a(989991));a(101051);function l(e,t,a){return new Promise((r=>{const i=document.createElement("div");(0,o.render)((0,n.default)(s.default,{afterClockOut:r,beforeClockOutAction:a,clockOutAction:e,employeeId:t}),i)}))}},313187:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.openMissingDataModal=s;t.openNoPayScheduleModal=l;t.openMissingLocationInformation=d;var n=a(845382);var i=r(a(149564));var o=a(182337);function s(e,t){if(e==="no-pay-schedule"){l()}else{d(e,t)}}function l(){window.BambooHR.Modal.setState({isOpen:true,dangerousContent:`\n\t\t\t<div>\n\t\t\t\t${$.__(`You can select a pay schedule by editing the compensation information on this employee's Job tab.`)}\n\t\t\t</div>\n\t\t`,icon:"fab-timesheet-exclamation-84x57",iconColor:"danger",headline:$.__("To enable time tracking you must first select a pay schedule for this employee."),primaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},alternativeAction:null,primaryActionText:$.__("Got it, Thanks"),title:$.__(`Oops, sorry that won't work...`)})}function d(e,t,a=true){const r=microTemplate(i.default,{header:c(e,(0,n.htmlentities)(t)),description:u(e,(0,n.htmlentities)(t))});window.BambooHR.Modal.setState({isOpen:true,dangerousContent:r,primaryAction:()=>{if(a){(0,o.enableTimeTracking)()}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("Got it, Thanks"),title:$.__(`Overtime Won't Be Calculated`)})}function c(e,t){switch(e){case"no-location":return $.__(`We can't calculate overtime for %1$s because a location isn't set.`,t);case"no-state":return $.__(`We can't calculate overtime for %1$s because a state isn't set.`,t);case"no-state-remote":return $.__(`We can't calculate overtime for %1$s because a home address state isn't set.`,t);case"non-overtime-country":return $.__(`Overtime cannot be calculated for %1$s because their address does not include a US state.`,t);default:throw new Error("no missing data")}}function u(e,t){let a=$.__(`%1$s will still be able to track time, but we won't calculate overtime.`,t);switch(e){case"no-location":return a+" "+$.__(`Add %1$s to a location with a US address to automatically calculate overtime based on the state overtime laws.`,t);case"no-state":return a+" "+$.__(`Add a US state to %1$s's location to automatically calculate overtime based on the state overtime laws.`,t);case"no-state-remote":return a+" "+$.__(`Add a US state to %1$s's home address to automatically calculate overtime based on the state overtime laws.`,t);case"non-overtime-country":return a+" "+$.__(`Add a US state to %1$s's location to automatically calculate overtime based on the state overtime laws.`,t);default:throw new Error("no missing data")}}},304887:(e,t,a)=>{"use strict";var moment=a(496406);var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=c(a(573674));var o=a(651745);var s=r(a(242895));var l=a(953219);a(603087);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class u extends i.Component{static get className(){return"ChooseDate"}constructor(e){super(e);this._handleDateChange=e=>{const{clockOutMeridiem:t,clockOutTime:a}=this.state;const{lastClockEntry:r}=this.props;const n=this.getLastCLockDate(r);const i=this.getSelectedDateTime(e,t,a);const o=i.isBefore(n);let s=t;if(o){s="PM"}this.setState({clockOutDate:e,clockOutMeridiem:s});this.setTotalTime()};this._handleOnInput=e=>{const{clockOutDate:t,clockOutMeridiem:a,clockOutTime:r}=this.state;const{lastClockEntry:n}=this.props;const i=e.target.value;const o=this.getLastCLockDate(n);const s=this.getSelectedDateTime(t,a,(0,l.padZerosOnTime)(i));const d=s.isBefore(o);this.timeInputRef.current.value=(0,l.timeOfDayInputEnforcer)(i,r);let c=a;if(d){c="PM"}this.setState({clockOutTime:this.timeInputRef.current.value,clockOutMeridiem:c});this.setTotalTime()};this.calculateTotalTime=(e,t,a)=>{const{lastClockEntry:r}=this.props;const n=this.getSelectedDateTime(e,t,a);const i=this.getLastCLockDate(r);return(0,l.getTimeDuration)(i,n,"hours")};this.setTotalTime=()=>{const{onDateChange:e}=this.props;this.setState((t=>{const{clockOutDate:a,clockOutMeridiem:r,clockOutTime:n}=t;const i=this.calculateTotalTime(a,r,n);let o=this.getSelectedDateTime(a,r,n);if(i<0||this.timeInputRef.current.value===""){o._isValid=false}e(o,i);return{totalTime:i}}))};this.getLastCLockDate=e=>moment.tz(e.start,e.timezone);this.getSelectedDateTime=(e,t,a)=>{const{lastClockEntry:r}=this.props;const n="YYYY-MM-DD h:mm A";return moment.tz(`${e} ${(0,l.getTwentyFourHourTime)(a,t)}`,n,r.timezone)};const t=moment().tz(e.lastClockEntry.timezone);const a=t.format("YYYY-MM-DD");const r=(0,l.getMeridiem)(t);const n=t.format("h:mm");const o=this.calculateTotalTime(a,r,n);this.state={clockOutDate:a,clockOutMeridiem:r,clockOutTime:n,totalTime:o};this.timeInputRef=(0,i.createRef)();e.onDateChange(t,o)}render(){const{clockOutDate:e,clockOutMeridiem:t,clockOutTime:a,totalTime:r}=this.state;const{lastClockEntry:d,showTotal:c}=this.props;const u=this.getLastCLockDate(d);const f=u.format("YYYY-MM-DD");const p=(0,l.getMeridiem)(u);const m=u.format("h:mm");const h={min:f,max:moment.tz(moment(),d.timezone).format("YYYY-MM-DD"),start:e};const v={isClearable:false,items:[{text:"AM",value:"AM"},{text:"PM",value:"PM"}],selectedValues:[t],onSelect:e=>{const{clockOutDate:t,clockOutTime:a}=this.state;const{lastClockEntry:r}=this.props;const n=this.getLastCLockDate(r);const i=this.getSelectedDateTime(t,event.value,a);const o=i.isBefore(n);let s=e;if(o&&a!==""){s="PM"}this.setState({clockOutMeridiem:s});this.setTotalTime()}};return(0,n.default)("div",{className:"ChooseDate fab-FormRow"},void 0,(0,n.default)("div",{},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"clockInDate"},void 0,$.__("Clocked in")),(0,n.default)("div",{className:"fab-InputWrapper"},void 0,(0,n.default)("input",{className:"ChooseDate__clockInDate fab-TextInput fab-TextInput--width4",disabled:true,type:"text",value:u.format()}),(0,n.default)("input",{className:"ChooseDate__clockInTime fab-TextInput fab-TextInput--width3",defaultValue:`${m} ${p}`,disabled:true,placeholder:"hh:mm",type:"text"}))),(0,n.default)("span",{className:"ChooseDate__formDash"},void 0,""),(0,n.default)("div",{},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:"clockOutDate"},void 0,$.__("Clocked out at...")),(0,n.default)("div",{className:"fab-InputWrapper"},void 0,(0,n.default)(s.default,{cssClasses:{single:"fab-TextInput--width5"},name:"clockOutDate",onChange:this._handleDateChange,required:true,settings:h,type:"date"}),i.default.createElement("input",{className:"ChooseDate__timeInput fab-TextInput fab-TextInput--width2",defaultValue:a,onInput:this._handleOnInput,placeholder:"hh:mm",ref:this.timeInputRef,required:true,type:"text"}),i.default.createElement(o.Select,v))),c&&(0,n.default)("div",{className:"ChooseDate__totalTimeContainer"},void 0,(0,n.default)("p",{className:"ChooseDate__totalTime"},void 0,(0,l.formatTime)(r))))}}t.default=u},596308:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(651745);var s=a(273641);var l=a(953219);var d=a(121198);a(24015);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class f extends i.Component{constructor(...e){super(...e);this._handleOnInput=e=>{this._inputVal.value=(0,l.timeOfDayInputEnforcer)(e.target.value,this._previousVal);this._previousVal=this._inputVal.value};this._previousVal=""}static get className(){return"ClockFieldBox"}componentDidUpdate(){this._previousVal=this.props.timeVal}render(){const{autoFocus:e,label:t,timeVal:a,handleInputChange:r,handleInputBlur:l,handleInputFocus:c,selectProps:u,error:f,disabled:p}=this.props;const m=e?"autofocus":null;const h=typeof r==="function"?r:s.noop;const v=typeof l==="function"?l:s.noop;const g=typeof c==="function"?c:s.noop;const y={ClockField:true,error:f};const b=(0,s.uniqueId)("clockField");return(0,n.default)("div",{className:(0,d.classNameFromObject)(y)},void 0,(0,n.default)("label",{className:"fab-Label",htmlFor:b},void 0,t),(0,n.default)("div",{className:"fieldDiv fab-FormField"},void 0,i.default.createElement("input",{autoFocus:m,className:"ClockField__formInput fab-TextInput fab-TextInput--width2",disabled:p,id:b,onBlur:v,onChange:h,onFocus:g,onInput:this._handleOnInput,ref:e=>this._inputVal=e,type:"text",value:a}),i.default.createElement(o.Select,u)))}}t.default=f},149564:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return n.default}});a(757308);var n=r(a(48582))},358641:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return n.default}});a(950554);var n=r(a(224438))},91215:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=r(a(341757));var s=r(a(358641));var l=a(900373);var d=(e,t)=>{let a="";let r="";let i=[];if(t){const e=o.default.tz(t.today.date,t.today.timezone);a=o.default.tz(t.datetime.date,t.datetime.timezone).calendar(e)}if(e==="clockOut"){r=$.__("Clocked Out");i=[$.__("You were clocked out elsewhere %1$s.",`<b class="fontSemibold">${a}</b>`),l.CONTACT_HR_ADMIN]}else if(e==="clockIn"){r=$.__("Clocked In");i=[$.__("You were clocked in elsewhere %1$s.",`<b class="fontSemibold">${a}</b>`)]}else if(e==="clockInFutureEntry"){r=$.__(`You can't be clocked in right now`);i=[l.CLOCK_DISABLED_FUTURE_ENTRY]}else if(e==="alreadyApproved"){r=$.__("Timesheet already approved");i=[$.__(`You can't be clocked in because your timesheet has already been approved.`),l.CONTACT_HR_ADMIN]}const d=microTemplate(s.default,{iconName:"fab-timesheet-exclamation-84x57",paragraphs:i});const c=$.__("Close");window.BambooHR.Modal.setState({isOpen:true,content:(0,n.default)("div",{dangerouslySetInnerHTML:{__html:d}}),alternativeAction:null,primaryActionText:c,primaryAction(){if(e==="alreadyApproved"){window.location.reload(true)}else{window.BambooHR.Modal.setState({isOpen:false})}},title:r})};t.default=d},347820:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(273641);var s=r(a(358641));var l=(e,t)=>{const a=(0,o.startsWith)(e,"approve")?$.__("Hours have changed"):$.__("Hours were not saved");const r=$.__("Refresh");let i=[];if(e==="save"){i=[$.__("Your timesheet was approved before you submitted your hours."),$.__("Bad timing, but reach out to your manager or HR administrator and they should make sure you're taken care of.")]}else{i=[$.__("Some hours have been recently edited.")+" "+$.__('Click "Refresh" to see any recent changes.'),$.__("You will then be able to continue approving.")]}const l=microTemplate(s.default,{iconName:"fab-stopwatch-exclamation-51x54",paragraphs:i});window.BambooHR.Modal.setState({isOpen:true,hasCloseButton:false,alternativeAction:null,title:a,content:(0,n.default)("div",{dangerouslySetInnerHTML:{__html:l}}),primaryActionText:r,primaryAction(){window.BambooHR.Modal.setState({isOpen:true,isProcessing:true},true);if(t){t()}else{window.location.reload(true)}}})};t.default=l},239643:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=O;var n=r(a(856075));var i=r(a(573674));var o=a(273641);var s=r(a(341757));var l=a(479706);var d=r(a(417842));var c=a(348040);var u=r(a(184712));var f=a(121198);var p=a(953219);var m=r(a(465224));var h=r(a(638047));var v=a(900373);var g=r(a(616482));a(429670);const y=(0,l.isEnabled)("newTimesheetDetailsModal");function b(e,t){let{canViewEmployeeTimesheet:a,employeePhotoUrl:r,employeeId:n,employeeName:i,timesheet:l}=t;let d=0;let c=0;let m=0;let h=0;let v=(0,o.sortBy)(l.dailyDetails,"date").map((e=>{let t=(0,s.default)(e.date);e.dayOfWeek=t.format("ddd");e.dayDate=t.format("MMM D");e.extras=[...w(e.timeOff),...S(e.holidays)];d+=e.hours+e.timeOffHours+e.paidHolidayHours;c+=e.overtimeHours;m+=e.timeOffHours;h+=e.holidayHours+e.paidHolidayHours;return e}));let y=(0,p.sumOvertimeHours)(v);let b=`${v[0].dayDate}${v[v.length-1].dayDate}`;const O=(0,p.getWorkWeekStartsOnObject)(v);const T=$.__n("The work week start day has changed. There is %1$s day where overtime cannot be calculated.","The work week start day has changed. There are %1$s days where overtime cannot be calculated.",O.count);const C=window.microTemplate(g.default,{entries:v,employeeName:i,employeePhotoUrl:r,dateSpan:b,totalTime:d,totalOvertime:c,totalTimeOff:m,totalHoliday:h,overtimeSummary:y,formatTime:p.formatTime,timeSheetLink:a?`/employees/timesheet/?id=${n}&et_id=${e}`:"",workWeekStartsOn:O,workWeekWarningMessage:T});const P=(0,f.fragFromHtml)(C);const E=Array.from(P.querySelectorAll(".js-time-details-modal-note"));E.forEach((e=>{const t=e.getAttribute("data-tooltip-index");const a=v[t].note;const r=(0,p.formatTime)(v[t].hours||0);u.default.createStandard(e,{title:r,content:a,position:"right",tailOnBalloon:"12px"})}));return P}function w(e){return e.map((e=>{let t=e.unit==="hours"?$.__("hours"):$.__("days");e.info=`${e.amount} ${t} ${e.type}`;e.iconName=e.icon?v.JADE_TIME_OFF_ICONS[e.icon]:"fab-briefcase-clock-14x12";return e}))}function S(e){return e.map((e=>{let t=(0,c.applyCompanyDecimal)((0,c.trimTrailingZeroes)(e.multiplier));e.info=`${e.name} ${e.multiplier?`(${$.__("pays")} ${t}x)`:""}`;if(isNaN(t)){e.info=(0,p.getPaidHolidayText)(e)}e.iconName="fab-fireworks-16x16";return e}))}function O(e){const t=$.__("Timesheet Detail");const a=`/timesheet/${e}`;d.default.get(a).then((a=>{const r=(0,h.default)(a.data);window.BambooHR.Modal.setState({isOpen:true,dangerousContent:y===false?b(e,a.data):null,content:y?(0,n.default)(m.default,{initialState:r,isViewOnly:true,showHeader:false,showSheetPadDays:false}):null,headline:t,icon:"fab-timesheet-29x22",primaryActionText:$.__("Close"),primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},alternativeAction:null,contentHasPadding:false,type:"fullScreen",onOpen(){const e=Array.from(document.querySelectorAll(".js-time-details-work-week-warning-icon"));e.forEach((e=>{const t=$.__("Overtime cannot be calculated for this day.");u.default.createStandard(e,{content:t,position:"right"})}))}})}))}},421484:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=i;var n=r(a(268069));function i(e=document.head){return n.default.create(e,{triggerEvent:"none",position:"right",push:15,toggleOnClick:false,template:{name:"popover-standard",data:{title:$.__(`Entering time shouldn't be hard.`),content:$.__("Enter your time like %1$s or %2$swhatever feels most natural.",`<b class="fontSemibold">1${window.GLOBAL_DECIMAL_CHAR||"."}5</b>`,'<b class="fontSemibold">1:30</b>'),rawContent:true}}})}},262845:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=o;t.updateErrorPopover=s;a(133875);var n=r(a(268069));let i;function o(e=document.head,t=""){i=n.default.create(e,{closeX:false,html:`<span class="TimeTrackingErrorPopover js-tt-error-text">${t}</span>`,position:"right",themeClass:"Balloon--popover-error",persistent:true,toggleOnClick:false,triggerEvent:"none"});return i}function s(e,t){i.balloonContentElement.querySelector(".js-tt-error-text").innerText=e;if(t){i.setAnchor(t)}}},953219:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.parseTime=p;t.formatTime=m;t.getTwentyFourHourTime=h;t.getTimeDuration=v;t.getEndDate=g;t.clockButtonText=T;t.lastActionText=C;t.timeOfDayInputEnforcer=A;t.padZerosOnTime=L;t.validateTimeFormat=B;t.validateHourFormat=H;t.validateTimeEntries=W;t.validateHourEntries=U;t.validateClockOutDates=q;t.checkEntriesForOverlap=V;t.calculateTimeEarned=z;t.getDaysFromMap=G;t.sumOvertimeHours=Y;t.getPaidHolidayText=K;t.forgotToClockOut=Z;t.clockStatesDiffer=X;t.getWorkWeekStartsOnObject=J;t.getMeridiem=Q;t.convertNormalizedProjectsToDropdownItems=ee;t.getHasFutureEntry=te;t.getProjectAndTaskId=ae;t.getProjectDataFromId=re;t.getProjectSelectToggleText=ne;t.getProjectTaskText=ie;t.getFocusedSheetDateSpanText=oe;t.calculateDistanceBetweenPoints=se;t.OVER_24=t.INVALID_FORMAT=void 0;var n=a(273641);var i=a(813296);var o=r(a(341757));const s=/^(\d*)(?:[.,](\d*))?$/;const l=/^(\d{0,2}):(\d{0,2})$/;const d=/(?=.*[hm])^(?:(\d{1,2})h)?\s*(?:(\d{1,2})m?)?$/i;const c="INVALID_FORMAT";t.INVALID_FORMAT=c;const u="OVER_24";t.OVER_24=u;function f(e){if(!e){return 0}return Number(e)}function p(e){const t=String(e).trim();if(!t){return null}let a=null;let r=t.match(s);if(r){a=f(r[1])+(r[2]?f(`.${r[2]}`):0)}else if(t.match(l)){r=t.match(l);a=f(r[1])+f(r[2].length<2?`${r[2]}0`:r[2])/60}else if(t.match(d)){r=t.match(d);a=f(r[1])+f(r[2])/60}if(typeof a!=="number"){return c}return a<=24?(0,n.round)(a,4):u}function m(e,t=false){const a=parseFloat(e);if(isNaN(a)){return""}let r=parseInt(a);let i=Math.round(a*60%60);if(i===60){r++;i=0}if(t){if(i&&!r){return`${i}m`}else if(r&&!i){return`${r}h`}}return`${r}h ${(0,n.padStart)(i,2,0)}m`}function h(e,t){return(0,o.default)(`${e} ${t}`,"h:mm A","en").format("HH:mm:ss")}function v(e,t,a){if(e&&e.isValid()&&t&&t.isValid()&&a){return o.default.duration(t.diff(e)).as(a)}return 0}function g(e,t,a){const r=e&&t==="AM"&&L(e)==="12:00";return r?(0,o.default)(a).add(1,"day").format("YYYY-MM-DD"):a}const y=$.__("Clock In");const b=$.__("Clocking In");const w=$.__("Clock Out");const S=$.__("Clocking Out");const O=$.__("Verify Time & Clock Out");function T(e,t,a,r){if(e&&!a){return t?S:w}else if(a){return r?O:w}return t?b:y}function C(e,t){const a=e.end?e.end:e.start;const r=o.default.tz(a,e.timezone).calendar(t);const{projectName:n,taskName:i}=e;if(!e.end){if(e.projectName&&e.taskName){return`${n}  ${i}`}if(e.projectName){return n}return $.__("Clocked In: %1$s",r)}return $.__("Clocked Out: %1$s",r)}const P=/^[2-9]$/;const E=/^(1[0-2]|[2-9])$/;const M=/^1[3-5]$/;const x=/^(?:1[0-2]|[1-9]):?$/;const k=/^(?:1[0-2]|[1-9]):(?:[0-5][0-9]?)$/;const j=/:/;const I=/.?:.*/;const F=/:[6-9]$/;const D=/.$/;const N=/^0?:/;function A(e,t){const a=e.length;const r=t.length;const n=Math.abs(r-a);if(a>r){if(P.test(e)||E.test(e)){return e+":"}if(t==="1"&&M.test(e)){return e.split("").join(":")}if(e===""||x.test(e)||k.test(e)){return e}return t}if(n>1){return A(e,"")}if(n===1&&j.test(t)&&!j.test(e)&&a!==0){return t.replace(I,"")}if(F.test(e)){return e.replace(D,"")}if(N.test(e)){return""}return e}function L(e){if(typeof e==="string"){if(/:/.test(e)){return e.replace(/\d*$/,(e=>(0,n.padEnd)(e,2,"0")))}return e?e+":00":""}return""}const R=/^(?:1[0-2]|[1-9]):[0-5][0-9]$/;function B(e){return R.test(e)}function H(e){const t=p(e);return t!==u&&t!==c}function W(e){let t=true;if(!Array.isArray(e)){return false}e.forEach((e=>{let a=L(e.startTime);let r=L(e.endTime);if(!B(a)||!B(r)||e.total<0){t=false}}));return t}function U(e){let t=true;if(!Array.isArray(e)){return false}e.forEach((e=>{if(!H(e.hours)||e.total<0){t=false}}));return t}function q(e){const t=[];if(!Array.isArray(e)){return false}e.forEach((e=>{const a=e.clockOutDateTime!==null&&e.clockOutDateTime._isValid;t.push(a)}));return!t.includes(false)}function V(e,t){return e.startMoment.isBetween(t.startMoment,t.endMoment)||e.endMoment.isBetween(t.startMoment,t.endMoment)||t.startMoment.isBetween(e.startMoment,e.endMoment)||t.endMoment.isBetween(e.startMoment,e.endMoment)||e.startMoment.isSame(t.startMoment)&&e.endMoment.isSame(t.endMoment)}function z(e,t){let a=(0,o.default)(e);let r=(0,o.default)(t);a.startOf("minute");r.startOf("minute");return(0,n.round)(r.diff(a,"hours",true),4)}function G(e,t,a){return(0,n.flow)(n.values,(0,i.filter)((a=>a.date>=e&&a.date<=t)),(0,i.sortBy)("date"))(a)}function Y(e){const t=e.reduce(((e,t)=>{if(t.overtimeSummary!==undefined&&t.overtimeSummary.length>0){t.overtimeSummary.forEach((t=>{if(e[t.multiplier]===undefined){e[t.multiplier]=0}e[t.multiplier]+=t.hours}))}return e}),{});let a=[];for(let e in t){if(t[e]>0){a.push({multiplier:parseFloat(e),hours:t[e]})}}return a.sort(((e,t)=>e.multiplier-t.multiplier))}function K(e){let t;const a=e.paidHours%1!=0;if(e.paidHours===null){t=e.name}else if(a){t=$.__("%1$s for %2$s",m(e.paidHours),e.name,{note:"e.g. 7h 30m for New Years"})}else{t=$.__("%1$s Hours for %2$s",e.paidHours,e.name,{note:"8 Hours for New Years"})}return t}function Z(e){if(e===null){return false}const t=(0,o.default)();const a=(0,o.default)(e.start);const r=(0,o.default)(t).diff((0,o.default)(a),"hours",true);const n=a.isBefore(t,"day");return e.end===null&&n&&r>14}function X(e,t,a,r){const n=a!==Boolean(e);let i=false;if(n){return true}if(t===null){i=r!==null}else{i=r!==(a?t.start:t.end)}return i}function J(e){const t=e.reduce(((e,t)=>{if(t.hasWorkWeekStartsOnChanged===true){return e+1}return e}),0);return{changed:t>0,count:t}}function Q(e){return e.clone().locale("en").format("A")}function ee(e){const{allIds:t,byId:a}=e;const r=t.map((e=>{let t=null;if(a[e].tasks.allIds.length>0){const r=a[e].tasks.byId;t=a[e].tasks.allIds.map((t=>({text:r[t].name,value:`${a[e].id}-${r[t].id}`})))}if(t!==null){return{items:t,text:a[e].name,value:a[e].id}}return{text:a[e].name,value:a[e].id}}));return[{items:r,text:$.__("All Projects"),type:"group",key:"projects"}]}function te(e,t){return!!e&&o.default.tz(e.end,e.timezone).isAfter(t)}function ae(e){if(typeof e==="string"&&e.indexOf("-")>-1){const t=e.split("-");return t}return[e,null]}function re(e,t){if(e===null){return{projectId:null,projectName:null,taskId:null,taskName:null}}const{byId:a}=t;const[r,n]=ae(e);if(r&&n){return{projectId:a[r].id,projectName:a[r].name,taskId:a[r].tasks.byId[n].id,taskName:a[r].tasks.byId[n].name}}return{projectId:a[e].id,projectName:a[e].name,taskId:null,taskName:null}}function ne(e,t,a){if(t&&a){return`${t}  ${a}`}if(t){return t}return e[0].text}function ie(e,t){let a=null;if(e&&t){a=`${e}  ${t}`}else if(e){a=e}return a}function oe(e,t){const a=(0,o.default)(e,"YYYY-MM-DD");const r=(0,o.default)(t,"YYYY-MM-DD");const n=a.isSame(r,"day");const i=a.isSame(r,"month");const s=a.format("MMM D");const l=r.format(i?"D":"MMM D");return n?s:`${s}${l}`}function se([e,t],[a,r]){const n=e=>Math.PI/180*e;const i=(e,t)=>Math.PI/180*(e-t);const o=6371;const s=i(a,e);const l=i(r,t);e=n(e);a=n(a);const d=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(e)*Math.cos(a);const c=2*Math.asin(Math.sqrt(d));let u=o*c;u*=1e3;return u}},457548:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=r;function r(){return Promise.resolve({companyCountryId:a.g.GLOBAL_COMPANY_COUNTRY_ID,companyLogo:a.g.GLOBAL_COMPANY_LOGO,isTrial:a.g.GLOBAL_IS_TRIAL==="true",...a.g.SESSION_COMPANY})}},858579:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=r;function r(){return Promise.resolve({...a.g.SESSION_USER})}},22934:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.getCompanyTimeOff=i;t.getCompanyHolidays=o;t.getCompanyBirthdays=s;t.getCompanyAnniversaries=l;t.postEmployeeFilters=d;t.postPeriod=c;t.postFilters=u;t.postApproveOrDenyRequest=f;t.default=void 0;var r=a(588124);const n="/calendar";function i(e,t){let a=$.get(`${n}/time_off/${e}/${t}`);return(0,r.cancelableRequestObject)($.when(a),a)}function o(e,t){let a=$.get(`${n}/holidays/${e}/${t}`);return(0,r.cancelableRequestObject)($.when(a),a)}function s(e,t){let a=$.get(`${n}/birthdays/${e}/${t}`);return(0,r.cancelableRequestObject)($.when(a),a)}function l(e,t){let a=$.get(`${n}/anniversaries/${e}/${t}`);return(0,r.cancelableRequestObject)($.when(a),a)}function d(e,t={}){const a={option:e,...t};let i=$.post(`${n}/employee/filter`,a);return(0,r.cancelableRequestObject)($.when(i),i)}function c(e){let t=$.post(`${n}/period`,{period:e});return(0,r.cancelableRequestObject)($.when(t),t)}function u(e=[]){const t=e.reduce(((e,t)=>({...e,[t.filterKey]:t.selected})),{});let a=$.post(`${n}/menu/filters`,t);return(0,r.cancelableRequestObject)($.when(a),a)}function f(e,t){const a={id:e,action:t,name:"time_off_request",ajax:true};return $.post("/inbox/details.php",a)}var p={getCompanyTimeOff:i,getCompanyHolidays:o,getCompanyBirthdays:s,getCompanyAnniversaries:l,postEmployeeFilters:d,postPeriod:c,postFilters:u,postApproveOrDenyRequest:f};t.default=p},41085:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.subscribe=o;t.default=void 0;var r=a(34862);function n(e){const{companyId:t,id:a}=window.SESSION_USER;const{subject:r}=e;const n=["private",t,r,a];return n.join("-")}function i(e){e.pusherKey=window.PUSHER_AUTH_KEY;e.pusherCluster=window.PUSHER_CLUSTER;e.csrfToken=window.CSRF_TOKEN;e.authEndpoint="/pusher/auth"}function o(e){e.channel=n(e);i(e);return(0,r.subscribeToChannel)(e)}var s={subscribe:o};t.default=s},257527:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.subscribe=g;t.default=void 0;var n=r(a(164624));var i=a(884479);var o=r(a(417842));const s=(0,i.createLogger)("Nudge");let l=null;function d(){return new Promise(((e,t)=>{if(l&&l.connection.state==="connected"){e(l);return}l=new n.default(window.PUSHER_AUTH_KEY,{cluster:window.PUSHER_CLUSTER,forceTLS:true,authEndpoint:"/pusher/auth",auth:{headers:{"X-CSRF-Token":window.CSRF_TOKEN}}});l.connection.bind("connected",(()=>{e(l)}));l.connection.bind("unavailable",t);l.connection.bind("failed",t);l.connection.bind("disconnected",t)})).catch((e=>Promise.reject("Connection to external service failed...")))}function c(e){return o.default.get("/broadcast/channels?"+f(e)).then((e=>e.data)).catch((e=>Promise.reject("Getting channels failed...")))}function u(e){if(typeof e==="object"){const{channel:t,events:a}=e;return typeof t==="string"&&t.trim().length>0&&typeof a==="object"&&Object.keys(a).length>0}return false}function f(e){const t=new FormData;e.forEach((({channel:e,subjectId:a},r)=>{t.append(`channels[${r}]`,e);t.append(`subjectIds[${r}]`,a)}));return new URLSearchParams(t).toString()}function p(e,t){const a=[];const r=[];for(let n=0;n<e.length;n++){const i=e[n];(t(i)?a:r).push(i)}return[a,r]}function m(e,t,a){const{channel:r,originalChannel:n,subjectId:i}=a;return{channel:n,subjectId:i,unsubscribe:()=>e.unsubscribe(r),on(e,a){if(!e||!a){return}t.bind(e,a)},off(e,a){t.unbind(e,a)}}}function h(e){document.addEventListener("AppSession:expired",(()=>{e.disconnect()}),{once:true})}function v(e){document.addEventListener("AppSession:csrfChanged",(()=>{l.config.auth.headers["X-CSRF-Token"]=window.CSRF_TOKEN;e.forEach((e=>{g(e)}))}),{once:true})}async function g(e){if(!Array.isArray(e)){e=[e]}const[t,a]=p(e,u);if(a.length){s.warn("Invalid connection objects were passed in. They have been ignored:",...a)}if(!t){return Promise.reject("No valid connection objects were used...")}const r=t.reduce(((e,t)=>{if(!e[t.channel]){e[t.channel]={}}e[t.channel][t.subjectId]=t;return e}),{});const n=await d();const i=await c(t);const o=i.map((e=>{const{originalChannel:t,subjectId:a}=e;const i=r[t][a].events;const o=n.subscribe(e.channel);Object.keys(i).forEach((e=>{o.bind(e,(()=>i[e]()))}));return m(n,o,e)}));h(n);v(t);return{connections:o,find(e,t){return o.find((a=>a.channel===e&&a.subjectId===t))}}}var y={subscribe:g};t.default=y},34862:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.subscribeToChannel=u;t.default=void 0;var n=r(a(164624));let i=null;function o(e){return new Promise(((t,a)=>{if(i&&i.connection.state==="connected"){t(i);return}i=new n.default(e.pusherKey,{cluster:e.pusherCluster,forceTLS:true,authEndpoint:e.authEndpoint,auth:{headers:{"X-CSRF-Token":e.csrfToken}}});i.connection.bind("connected",(()=>{t(i)}));i.connection.bind("unavailable",a);i.connection.bind("failed",a);i.connection.bind("disconnected",a)})).catch((e=>{Promise.reject(`Connection to external service failed...${e}`)}))}function s(e){if(typeof e==="object"){const{channel:t}=e;let a=true;if(e.events){a=typeof e.events==="object"&&Object.keys(e.events).length>=0}return typeof t==="string"&&t.trim().length>0&&a}return false}function l(e,t,a){const{channel:r,matter:n}=a;return{channelName:r,userId:n,channel:t,unsubscribe:()=>e.unsubscribe(r),on(e,a){if(!e||!a){return}t.bind(e,a)},off(e,a){t.unbind(e,a)}}}function d(e){document.addEventListener("AppSession:expired",(()=>{e.disconnect()}),{once:true})}function c(e){document.addEventListener("AppSession:loggedIn",(()=>{e.forEach((e=>{u(e)}))}),{once:true})}async function u(e){if(!s(e)){return Promise.reject("No valid connection objects were used...")}const t=await o(e);if(!t){return Promise.reject("Socket connection unavailable, failed, or disconnected...")}const a=t.subscribe(e.channel);return new Promise((r=>{a.bind("pusher:subscription_succeeded",(()=>{if(e.events){Object.keys(e.events).forEach((t=>{a.bind(`client-${t}`,e.events[t])}))}d(t);c(e);r(l(t,a,e))}))}))}var f={subscribeToChannel:u};t.default=f},489889:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.missing=a;t.stringComparer=r;t.splitOnCondition=n;function a(e,t){const a=[...e];const r=[...t];e.forEach(((e,t)=>{const n=a.indexOf(e);const i=r.indexOf(e);if(i>=0){a.splice(n,1);r.splice(i,1)}}));return[...a,...r]}function r(e,t){const a=e.name.toUpperCase();const r=t.name.toUpperCase();if(a<r){return-1}if(a>r){return 1}return 0}function n(e,t){const a=[];const r=[];for(let n=0;n<e.length;n++){const i=e[n];(t(i)?a:r).push(i)}return[a,r]}},774548:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(992005);var jQuery=__webpack_require__(992005);var _interopRequireDefault=__webpack_require__(565862);Object.defineProperty(exports,"__esModule",{value:true});exports.formatCurrencyPercentToggle=formatCurrencyPercentToggle;exports.hasFocusedElement=hasFocusedElement;exports.eventTrack=eventTrack;exports.setupWrappers=setupWrappers;exports.executeFunction=executeFunction;exports.callFunctionQueue=callFunctionQueue;exports.ucfirst=ucfirst;exports.elementHasClass=elementHasClass;exports.getRelativePosition=getRelativePosition;exports.allValuesEqual=allValuesEqual;exports.toPascalCase=toPascalCase;exports.XPath=XPath;exports.printDiv=printDiv;exports.hasHtml=hasHtml;exports.sanitizeHtml=sanitizeHtml;exports.sanitizeSvg=sanitizeSvg;exports.humanFileSize=humanFileSize;exports.triggerEvent=triggerEvent;exports.getExtFromFileName=getExtFromFileName;exports.getFileTypeFromExt=getFileTypeFromExt;exports.getIconNameFromFileName=getIconNameFromFileName;exports.getFileTypeIconFromExt=getFileTypeIconFromExt;exports.getFileTypeIconColor=getFileTypeIconColor;exports.highlightTermInMarkup=highlightTermInMarkup;exports.addClass=addClass;exports.removeClass=removeClass;exports.hasClass=hasClass;exports.canEmailFilesAndReports=canEmailFilesAndReports;exports.isSvg=isSvg;exports.ordinal=ordinal;exports.getCurrentScript=getCurrentScript;exports.getScriptConfig=getScriptConfig;exports.getJsonScriptVar=getJsonScriptVar;exports.getAttrs=getAttrs;exports.objContains=objContains;exports.getFormData=getFormData;exports.redirect=redirect;exports.makeUid=makeUid;exports.diffStrings=diffStrings;exports.getBrandColor=getBrandColor;exports.getFabricBrandColor=getFabricBrandColor;exports.getFabricNonBrandColor=getFabricNonBrandColor;exports.when=when;exports.isJquery=isJquery;exports.isJQueryPromise=isJQueryPromise;exports.isPromise=isPromise;exports.isJqueryElement=isJqueryElement;exports.fnResult=fnResult;exports.prefetch=prefetch;exports.getArrayString=getArrayString;exports.waitUntilReady=waitUntilReady;exports.jQueryFabTableSorter=jQueryFabTableSorter;exports.isWidthBelowSupportedMinWidth=isWidthBelowSupportedMinWidth;exports.hasTrax=hasTrax;Object.defineProperty(exports,"htmlentities",{enumerable:true,get:function(){return _String.htmlentities}});Object.defineProperty(exports,"htmldecode",{enumerable:true,get:function(){return _String.htmldecode}});Object.defineProperty(exports,"canUseLocalStorage",{enumerable:true,get:function(){return _localstorage.canUseLocalStorage}});Object.defineProperty(exports,"getMaxZIndex",{enumerable:true,get:function(){return Dom.getMaxZIndex}});Object.defineProperty(exports,"extendURL",{enumerable:true,get:function(){return _url.extendURL}});Object.defineProperty(exports,"getParameterByName",{enumerable:true,get:function(){return _url.getParameterByName}});Object.defineProperty(exports,"queryStringToObject",{enumerable:true,get:function(){return _url.queryStringToObject}});Object.defineProperty(exports,"toQueryString",{enumerable:true,get:function(){return _url.toQueryString}});Object.defineProperty(exports,"validateEmail",{enumerable:true,get:function(){return _rules.validateEmail}});Object.defineProperty(exports,"Mediator",{enumerable:true,get:function(){return _Mediator.default}});Object.defineProperty(exports,"Rect",{enumerable:true,get:function(){return _Rect.default}});Object.defineProperty(exports,"Form",{enumerable:true,get:function(){return _Form.default}});exports.Image=exports.History=exports.Dom=exports.env=exports.toArray=exports.toCamelCase=void 0;var _moment=_interopRequireDefault(__webpack_require__(341757));var _lodash=__webpack_require__(273641);var _leven=_interopRequireDefault(__webpack_require__(333078));var _String=__webpack_require__(845382);var _localstorage=__webpack_require__(489100);var Dom=_interopRequireWildcard(__webpack_require__(121198));exports.Dom=Dom;var _url=__webpack_require__(85656);var _colors=_interopRequireDefault(__webpack_require__(169937));var _themeColors=_interopRequireDefault(__webpack_require__(802773));var History=_interopRequireWildcard(__webpack_require__(36029));exports.History=History;var _rules=__webpack_require__(230424);var _FeatureToggle=__webpack_require__(479706);var Image=_interopRequireWildcard(__webpack_require__(341862));exports.Image=Image;var _Mediator=_interopRequireDefault(__webpack_require__(87371));var _Rect=_interopRequireDefault(__webpack_require__(630206));var _Form=_interopRequireDefault(__webpack_require__(108201));function _getRequireWildcardCache(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(_getRequireWildcardCache=function(e){return e?a:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=_getRequireWildcardCache(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function formatCurrencyPercentToggle(e,t){const a=$(e).data("currency-toggle");const r=$(t);const n=r.val();const i=window.getFloatFromStringJS(n.replace("$","").replace("%",""));if(a==="$"){r.addClass("currency-field");r.removeClass("percent-field")}else if(a==="%"){r.removeClass("currency-field");r.addClass("percent-field");if(i>100){r.val(100)}}else{throw new Error(`Invalid Radio Toggle data-currency-toggle value -- must be $ or %, currently set to: ${a}`)}r.blur()}function hasFocusedElement(document){if(!document.activeElement||document.activeElement===document.body){return false}return true}function eventTrack(e,t,a,r){const n=window._gaq||[];window._gaq=n;n.push(["_setAccount","UA-5806974-3"]);n.push(["_trackEvent",e,t,a,r]);if(window.BambooHR.env&&window.BambooHR.env.prod){(function(){const e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=`${document.location.protocol==="https:"?"https://ssl":"http://www"}.google-analytics.com/ga.js`;const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()}}function setupWrappers(e){const t={};const a=Object.keys(e).reduce(((a,r)=>{a[r]={get(){t[r]=t[r]||$(e[r]);return t[r]}};return a}),{});return Object.defineProperties({},a)}function executeFunction(func){if(typeof func==="function"){return func()}const funcReg=/function *\(([^()]*)\)[ \n\t]*{(.*)}/gim;const match=funcReg.exec(func.replace(/\n/g," "));if(match){const e=new Function(match[1].split(","),match[2]);return e()}return eval(func)}function callFunctionQueue(e,t,...a){e.forEach((e=>e.call(t||undefined,...a)))}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function elementHasClass(e,t){return` ${e.className} `.includes(` ${t} `)}function getRelativePosition(e,t,a=false){if(e instanceof jQuery){e=e.get(0)}else if(typeof e==="string"){e=$(e).get(0)}const r=document.getElementsByTagName("HTML")[0].getBoundingClientRect();let n;try{n=e.getBoundingClientRect()}catch(e){console.log("Class Name, DOM or JQuery element required for getRelativePosition(reference)");return false}let i=Math.abs(r.top)+n.top;if(a){i-=parseInt(document.body.style.top||"0")}const o=Math.abs(r.left)+n.left;const s={top:i,bottom:i+n.height,left:o,right:o+n.width,width:n.width,height:n.height};if(s.hasOwnProperty(t)){return s[t]}return s}function allValuesEqual(e,t){const a=t===undefined?e[0]:t;for(let t=0;t<e.length;t++){if(e[t]!==a){return false}}return true}function toPascalCase(e){return(0,_lodash.upperFirst)((0,_lodash.camelCase)(e))}const toCamelCase=_lodash.camelCase;exports.toCamelCase=toCamelCase;const toArray=_lodash.toArray;exports.toArray=toArray;function XPath(e){let t;if(typeof document.evaluate!=="undefined"){const a=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null);let r=a.iterateNext();t=[];while(r){t.push(r);r=a.iterateNext()}}return t||[]}function printDiv(e){const t="print-only-one-div";const a=document.querySelector(e).innerHTML;const r=document.head||document.getElementsByTagName("head")[0];const n=document.createElement("style");n.type="text/css";const i=document.createElement("div");const o=[`.${t}{display: none;}`,"@media print {",`.${t}{display: block;}`,`body >:not(.${t}) {display: none !important;}}`].join("");if(n.styleSheet){n.styleSheet.cssText=o}else{n.appendChild(document.createTextNode(o))}r.appendChild(n);i.innerHTML=a;i.className=t;document.body.appendChild(i);window.print();r.removeChild(n);document.body.removeChild(i)}function hasHtml(e){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){return true}const t=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/.exec(e);return!!(t&&t[1])}function sanitizeHtml(e,t){return Dom.sanitize(e,{...(0,_lodash.isPlainObject)(t)?t:{},USE_PROFILES:{html:true}})}function sanitizeSvg(e,t){return Dom.sanitize(e,{...(0,_lodash.isPlainObject)(t)?t:{},USE_PROFILES:{svg:true}})}function humanFileSize(e){const t=1024;if(Math.abs(e)<t){return`${e} B`}const a=["KB","MB","GB","TB","PB","EB","ZB","YB"];let r=-1;do{e/=t;++r}while(Math.abs(e)>=t&&r<a.length-1);return e.toFixed(1)+a[r]}function triggerEvent(e,t){let a;if(document.createEventObject){a=document.createEventObject();return e.fireEvent(`on${t}`,a)}a=document.createEvent("HTMLEvents");a.initEvent(t,true,true);return!e.dispatchEvent(a)}function getExtFromFileName(e){return e.toLowerCase().split(".").pop()}function getFileTypeFromExt(e){switch(getExtFromFileName(e)){case"pdf":return"pdf";case"docx":case"doc":case"docm":case"pages":case"odt":return"doc";case"xls":case"xlsx":case"csv":case"xlsm":case"ods":return"xls";case"ppt":case"key":case"kth":return"ppt";case"txt":case"rtf":return"txt";case"msg":case"eml":return"email";case"htm":case"html":case"url":case"mht":case"webarchive":return"webpage";case"zip":case"rar":return"archive";case"jpg":case"jpeg":case"tif":case"gif":case"png":case"ai":case"eps":case"tiff":case"psd":case"bmp":return"img";default:return"default"}}function getIconNameFromFileName(e,t,a){t=t||"16x20";const r=getFileTypeFromExt(e);let n=r;if(a){return`fab-file-esig-${t}`}switch(r){case"pdf":n="pdf";break;case"doc":n="doc";break;case"xls":n="excel";break;case"ppt":n="powerpoint";break;case"txt":n="text";break;case"email":n="mail";break;case"webpage":n="link";break;case"archive":n="zip";break;case"img":n="image";break;default:n="unknown";break}return`fab-file-${n}-${t}`}function getFileTypeIconFromExt(e,t){let a=getFileTypeFromExt(e);if(t==="sm"||t==="lrg"){a+=`-${t}.png`}else{a+=".png"}return a}function getFileTypeIconColor(e){switch(e){case"pdf":return"#C42428";case"doc":return"#0772B3";case"esig":return"#883290";case"xls":return"#3FA146";case"ppt":return"#C36A00";case"txt":case"email":case"webpage":case"archive":case"img":default:return _colors.default.colors.gray7}}function highlightTermInMarkup(e,t){const a=$("<div>").html(e);const r=a.find(".js-qsPrimaryText");const n=t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1");const i=r.html()||"";const o=i.replace(new RegExp(`(?![^&;]+;)(?!<[^<>]*)(\\b${n})(?![^<>]*>)(?![^&;]+;)`,"igm"),"<strong>$1</strong>");r.html(o);return a.html()}function addClass(e,t){if(!window.BambooHR.Utils.hasClass(e,t)){if(window.BambooHR.Utils.isSvg(e)){if(e.hasAttribute("class")){e.setAttribute("class",`${e.getAttribute("class")} ${t}`.trim())}else{e.setAttribute("class",t)}}else{e.className=`${e.className} ${t}`.trim()}}}function removeClass(e,t){if(window.BambooHR.Utils.hasClass(e,t)){const a=new RegExp(`(\\s|^)${t}(\\s|$)`);if(window.BambooHR.Utils.isSvg(e)){if(e.hasAttribute("class")){e.setAttribute("class",e.getAttribute("class").replace(a," ").trim())}}else{e.className=e.className.replace(a," ").trim()}}}function hasClass(e,t){if(window.BambooHR.Utils.isSvg(e)){if(e.hasAttribute("class")){return!!e.getAttribute("class").match(new RegExp(`(\\s|^)${t}(\\s|$)`))}return false}return!!e.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`))}function canEmailFilesAndReports(){if(window.CAN_EMAIL_FILES_AND_REPORTS!=="undefined"){return window.CAN_EMAIL_FILES_AND_REPORTS}console.warn("CAN_EMAIL_FILES_AND_REPORTS is not available.")}function isSvg(e){return!!(e instanceof SVGElement)}function ordinal(e){return _moment.default.localeData().ordinal(e)}function getCurrentScript(e){let t=document.currentScript;if(!t&&(0,_lodash.isString)(e)&&e.length>0){t=$(`script.${e}:not(.${e}--loaded)`).first().addClass(`.${e}--loaded`)}if(!t){const e=document.getElementsByTagName("script");t=e[e.length-1]}return $(t)}function getScriptConfig(e,t={},a={}){e=$(e).first();const r=(e.html()||"").trim()||"{}";let n={};try{n=new Function("defaultConfig","$script",...(0,_lodash.keys)(a),`return (${r});`).call(e[0],t,e,...(0,_lodash.values)(a))}catch(e){console.error(e)}return(0,_lodash.defaults)(n||{},t||{})}function getJsonScriptVar(e,t){const a=$(`script[type="application/json"]#${t}__${e}_json`);const r=a.text().trim();a.remove();return r?JSON.parse(r):null}function getAttrs(e,t){e=$(e)[0];const a={};const r=e?e.attributes:[];(0,_lodash.each)(r,(e=>{if(!t||e.nodeName.match(new RegExp(t,"i"))){a[e.nodeName]=e.value}}));return a}function objContains(e,t){return(0,_lodash.isEqual)((0,_lodash.pick)(e,(0,_lodash.keys)(t)),t)}function getFormData(e){return(0,_url.queryStringToObject)($(e).serialize())}function redirect(e,t=null,a=null,r=null,n=null){const i=new URL(e||"",window.location.href);const o=n&&(0,_localstorage.canUseLocalStorage)();if(t!==null){i.searchParams.set("__message__",t);if(o){localStorage.setItem("__message__",t)}}if(a!==null){i.searchParams.set("__messageType__",a);if(o){localStorage.setItem("__messageType__",a)}}if(r!==null){i.searchParams.set("__messageTimeout__",r);if(o){localStorage.setItem("__messageTimeout__",r)}}window.location=i.href}const uids=[];function makeUid(e=8,t=36){let a="";while(a==""||!(0,_lodash.includes)(uids,a)){a=(Math.random()+1).toString(t).substr(2,e);uids.push(a)}while(a.length<e){a+=makeUid(e-a.length,t)}return a}function diffStrings(e,...t){let a=2/3;if(typeof(0,_lodash.last)(t)==="number"){a=t.pop()}a=Math.round(a*100)/100;e=(0,_lodash.camelCase)(e);t=t.map(_lodash.camelCase);const r=Math.min(...t.map((t=>(0,_leven.default)(e,t))));const n=Math.round(r/e.length*100)/100;const i=n<=a;return{percentDiff:n,characterDiff:r,isMatch:i}}function getBrandColor(){const e=(0,_FeatureToggle.isEnabled)("jade");let t=window.document.body.getAttribute("ba-theme");if(!t){t=e?"lime1":"82AF13"}return e?t:`#${t}`}function getFabricBrandColor(e="base"){const t=["base","light","lighter","lightest"];const a=(0,_FeatureToggle.isEnabled)("jade");const r=getBrandColor();const n=_themeColors.default.themeColors.find((e=>e.name===r||e.base===r));if(a&&!t.includes(e)){console.warn("Invalid Fabric variant. Valid options are: base, light, lighter, lightest");e="base"}return a?n[e]:r}function getFabricNonBrandColor(e){if(!(0,_lodash.isString)(e)){throw new Error("Invalid input type.")}const{colors:t}=_colors.default;const a=(0,_lodash.camelCase)(e);const r=t[a];if(!r){console.warn("Invalid Fabric non-brand color name.");return}return r}function when(...e){return $.when(...e.map((e=>{const t=$.Deferred();if(isJQueryPromise(e)){return e.done(((e,a)=>{if((!e.success||a!=="success")&&e.error&&e.errorMessage){window.setMessage(e.errorMessage,"error");console.error(e.error);t.reject(e)}})).fail(((...e)=>{window.setMessage($.__("Uh Oh! There was an error. Please try again or contact BambooHR support."),"error");t.reject(...e)}))}t.resolve(e);return t.promise()})))}function isJquery(e){return e instanceof jQuery&&(0,_lodash.isString)(e.selector)&&(0,_lodash.isString)(e.jquery)&&e.jquery===$.fn.jquery}function isJQueryPromise(e){return(0,_lodash.isPlainObject)(e)&&(0,_lodash.isFunction)(e.always)&&(0,_lodash.isFunction)(e.done)&&(0,_lodash.isFunction)(e.fail)&&(0,_lodash.isFunction)(e.pipe)&&(0,_lodash.isFunction)(e.progress)&&(0,_lodash.isFunction)(e.promise)&&(0,_lodash.isFunction)(e.state)&&(0,_lodash.isFunction)(e.then)}function isPromise(e){return isJQueryPromise(e)||e instanceof Promise}function isJqueryElement(e){return isJquery(e)&&e.length>0&&(0,_lodash.isElement)(e[0])}function fnResult(e,t,...a){if((0,_lodash.isFunction)(e)){return t?e.apply(t,a):e(...a)}return e}const{env}=window.BambooHR;exports.env=env;const prefetchedUrls={};function prefetch(e,t){if(!prefetchedUrls.hasOwnProperty(e)){prefetchedUrls[e]={content:null,callbacks:typeof t==="undefined"?[]:[t]};$.get(e,(t=>{prefetchedUrls[e].content=t;prefetchedUrls[e].callbacks.forEach((e=>e(t)))}))}else if(typeof t!=="undefined"){if(prefetchedUrls[e].content===null){prefetchedUrls[e].callbacks.push(t)}else{t(prefetchedUrls[e].content)}}}function getArrayString(e){return`["${e.join('", "')}"]`}function waitUntilReady(e,t){const a=1e4;const r=1e3;const n=100;const i=(new Date).getTime();if(!e()){const o=setInterval((()=>{const n=(new Date).getTime()-i;const s=n>=a;if(s){window.Rollbar.error("The waitUntilReady util function timed out when testing this function",{testFunc:e})}if(s||e()){if(!s&&n>=r){window.Rollbar.warning(`The waitUntilReady util function took longer than ${r}ms to resolve.`,{timePassed:n})}clearInterval(o);t()}}),n);return}t()}function jQueryFabTableSorter(e,t=[[0,0]]){e.tablesorter({sortList:t,onRenderHeader(e,t){const a=$(this);if(!this[0].classList.contains("noSort")){a.addClass("fab-Table__header--sortable").wrapInner("<span></span>")}},headers:{0:{sorter:"text"}}});e.bind("sortEnd",(function(e,t){const a=Array.from(this.querySelectorAll(".fab-Table__header"));a.forEach((e=>{const t=e.querySelector("span");if(t){if(e.classList.contains("sort-descending")){t.className="fab-Table__sorted fab-Table__sorted--dsc"}else if(e.classList.contains("sort-ascending")){t.className="fab-Table__sorted fab-Table__sorted--asc"}else{t.className=""}}}))}))}function isWidthBelowSupportedMinWidth(){return window.innerWidth<1124}function hasTrax(){return!!window.companyHasTrax||!!window.hasTrax||false}},819343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;class a{static get className(){return"StopWatch"}constructor(e=100){this.accuracy=e;this.ms=0;this.running=false;this._startTime=null;this._timer=null;this._watchers=[]}_requestTick(e){this._timer=setTimeout((()=>{this._tick()}),e)}_tick(){const e=(new Date).getTime();this.ms=e-this._startTime;const t=Math.floor(this.ms/this.accuracy);const a=t*this.accuracy;const r=this.ms-a;const n=this.accuracy-r;this._watchers.forEach((e=>{const t=Math.floor(this.ms/e.amount);if(t!==e._count){e._count=t;e.cb(this.ms)}}));this._requestTick(n)}_addWatcher(e,t=Function.prototype){let a=Math.floor(this.ms/e);this._watchers.push({amount:e,cb:t,_count:a})}start(e=0){if(this.running){return this}this._watchers.forEach((t=>{t._count=Math.floor(e/t.amount)}));this._startTime=(new Date).getTime()-e;this._requestTick(this.accuracy);this.running=true;return this}stop(){if(!this.running){return this}clearTimeout(this._timer);this._watchers.forEach((e=>{e._count=0}));this.running=false;return this}every(e,t){this._addWatcher(e,t);return this}everySecond(e){this._addWatcher(1e3,e);return this}everyMinute(e){this._addWatcher(6e4,e);return this}}t.default=a},153821:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fixCurrencyValue=a;t.appendDecimalIfNecessary=r;function a(e){if(e){return e.toString().replace(/\D/g,"")/Math.pow(10,2)}return 0}function r(e,t="$"){if(t!=="$"){return e}const a=/^(\d*)(\.(\d+)){0,1}$/.exec(e.replace(t,""));if(a){if(a[3]&&a[3].length===2){return e}if(!a[2]){return`${e}.00`}if(a[3].length===1){return`${e}0`}}return e}},783840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getJsonData=a;t.parseResponse=r;function a(e,t=false){let a=null;const r=document.querySelector(e);if(r!==null){try{a=JSON.parse(r.textContent)}catch(e){console.warn(`What?!!! -> You passed in some bad joojoo. ${e}`);return false}if(!t){r.parentNode.removeChild(r)}}return a}function r(e){try{return JSON.parse(e)}catch(t){return e}}},283058:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;class a{static get className(){return"EventRegistry"}constructor(){this.eventHandlers={}}on(e,t){if(!this.eventHandlers[e]){this.eventHandlers[e]=[]}this.eventHandlers[e].push(t)}off(e,t){const a=this.eventHandlers[e];if(!a||!a.length){return}const r=a.indexOf(t);if(r>-1){a.splice(r,1)}}trigger(e){const t=Array.prototype.slice.call(arguments,1);const a=this.eventHandlers[e];if(!a||!a.length){return}a.forEach((e=>{e(...t)}))}}var r=a;t.default=r},479706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isEnabled=a;t.isSetEnabled=r;function a(e){const{featureToggles:t=""}=document.body.dataset;return!!(e&&typeof e==="string"&&t.split(/\s+/g).includes(e))}function r(...e){return!!e.length&&!e.map((e=>a(e))).includes(false)}},108201:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.ajaxSubmit=r;t.serializeForm=n;t.populateForm=i;t.highlightErrorFields=o;t.getPowerEditPayRollDetails=s;t.getFormPayRollDetails=l;t.footerStartProcessing=d;t.footerEndProcessing=c;t.markFormAsChanged=u;t.default=void 0;function r(e,t={type:"json"}){e=$(e);if(e.attr("submitting")=="true"){return}const a=e[0];const r=e.attr("action");const i=n(a);i.CSRFToken=window.CSRF_TOKEN;e.attr("submitting","true");setTimeout((()=>{e.removeAttr("submitting")}),3e3);return $.post(r,i,null,t.type).promise()}function n(e,t={excludeHidden:false}){const a=Array.prototype.slice.call(e.querySelectorAll("input, textarea, select"));return a.reduce(((e,a)=>{let r;if(!a.name||a.type==="hidden"&&t.excludeHidden){return e}if(a.type==="checkbox"||a.type==="radio"){if(a.checked){r=a.value}}else if(a.type==="select-one"){r=a.selectedIndex>=0?a.options[a.selectedIndex].value:null}else if(a.type==="select-multiple"){r=[].slice.call(a.options).reduce(((e,t)=>{if(t.selected){e.push(t.value)}return e}),[])}else{r=a.value}if(r!==undefined){e[a.name]=r}return e}),{})}function i(e,t){const a=Array.prototype.slice.call(e.querySelectorAll("input, textarea, select"));a.forEach((e=>{if(!e.name||!t[e.name]||e.type==="button"){return}if(e.type==="checkbox"||e.type==="radio"){e.checked=t[e.name]}else if(e.type==="select-one"){[].slice.call(e.options).forEach((a=>{if(a.value==t[e.name]){a.selected=true;$(e).trigger("liszt:updated")}}))}else if(e.type==="select-multiple"){[].slice.call(e.options).forEach((a=>{const r=t[e.name];if(r.indexOf(a.value)>-1){a.selected=true;$(e).trigger("liszt:updated")}}))}else{e.value=t[e.name]}}))}function o(e,t,a=true){$.each(e,(function(e,r){if(a){$(t).find("input[name*="+r+"]").addClass("fab-TextInput--error");$(t).find("ba-select.js-"+r).attr("error","true");$(t).find("ba-select#"+r).attr("error","true")}else{$(t).find("select[name="+r+"]").closest(".fieldBox").addClass("error");$(t).find("input[name*="+r+"]").closest(".fieldBox").addClass("error")}}))}function s(e){if(e.closest(".js-PowerEditIndividual").length>0){const t=e.closest(".fab-Table__row");const a=t.find(".js-pay-schedule ba-option:selected");const r=a.length>0?Number.parseInt(a[0].value):null;const n=t.find(".js-employeeName").data("employeeid");return{employeeId:n,payScheduleId:r}}return{employeeId:Number.parseInt($(".js-PowerEditGroup").data("employee-id-in-syncing-pay-schedule"))}}function l(e,t=false){const a=e.closest(".js-PowerEditForm").length>0;const{employeeId:r="0",isOnboardingUser:n=false}=window.SESSION_USER;if(a&&!t){return s(e)}if(n){return{employeeId:Number.parseInt(r),payScheduleId:null}}const{Employee:i={id:undefined}}=window;const o=$(".js-paySchedule ba-option:selected");const l=o.length>0?Number.parseInt(o[0].value):null;return{employeeId:i.id,payScheduleId:l}}function d(){document.dispatchEvent(new CustomEvent("SiteFooterActions:startProcessing"))}function c(){document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"))}function u(){window.formChanged=true}var f={ajaxSubmit:r,getFormPayRollDetails:l,getPowerEditPayRollDetails:s,highlightErrorFields:o,populateForm:i,serializeForm:n};t.default=f},427507:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setParams=n;t.deleteParams=i;var r=a(85656);function n(e,t){const a=t?(0,r.extendURLDeep)(e):(0,r.extendURL)(e);window.history.replaceState(null,null,a)}function i(e){const t=(0,r.deleteParams)(e);window.history.replaceState(null,null,t)}},341862:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.clipPath=n;let r=0;function n(e,t){for(let a=0;a<e.length;a++){r++;const n=t;const i=$(e[a]).attr("src");const o=$(e[a]).outerWidth();const s=$(e[a]).outerHeight();const l=$(e[a]).attr("alt");const d=$(`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="svgMask" width="${o}" height="${s}" viewBox="0 0 ${o} ${s}"><defs><clipPath id="maskID${r}">${n}</clipPath>  </defs><desc>${l}</desc><image clip-path="url(#maskID${r})" width="${o}" height="${s}" xlink:href="${i}" /></svg>`);$(e[a]).replaceWith(d)}}},87371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;class a{constructor(){this.channels={}}static get className(){return"Mediator"}subscribe(e,t,a){let r=false;if(!this.channels[e]){this.channels[e]=[]}this.channels[e].forEach((e=>{if(e.callback.toString()===t.toString()){r=true;return false}}));if(!r){this.channels[e].push({context:a||window,callback:t})}return this}publish(e){if(!this.channels[e]){return false}const t=Array.prototype.slice.call(arguments,1);for(let a=0,r=this.channels[e].length;a<r;a++){const r=this.channels[e][a];try{r.callback.apply(r.context,t)}catch(t){console.log(`subscription error when calling: BambooHR.Utils.Mediator.publish('${e}')`);console.log({subscription:r});throw t}}return this}installTo(e){e.channels={};e.subscribe=this.subscribe;e.publish=this.publish}}var r=new a;t.default=r},236921:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;class a{static get className(){return"MessageInjector"}constructor(e,t,a){this.params=e;this.wraps=t;this.stringWrap=a}getElements(e){const t=[];let a=0;while(a<e.length){const r=e.substring(a).match(/^[^[*_{]+/);if(r!==null){t.push(this.stringWrap(r[0]));a+=r[0].length}const n=e[a];if(n==="{"){if(e[a+1]>="1"&&e[a+1]<="9"&&e[a+2]==="}"){t.push(this.stringWrap(this.params[parseInt(e[a+1])-1]));a+=3}else{t.push(this.stringWrap(e[a++]))}}else if(n==="["||n==="_"||n==="*"){let r;let i;let o=n;if(e[a+1]===n&&n!=="["){i="strong";r=n+n;o+=e[a+1];a+=2}else{a+=1;i=n==="["?"link":"em";r=n==="["?"]":n}const s=e.indexOf(r,a);if(s!==-1){let n=0;if(r==="]"&&e.length>s+3&&e[s+1]==="("&&e[s+2]>="1"&&e[s+2]<="9"&&e[s+3]===")"){n=3;i=`link${e[s+2]}`}t.push(this.wraps[i](this.getElements(e.substring(a,s))));a=s+r.length+n}else{t.push(this.stringWrap(o))}}}return t}}t.default=a},348040:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.trimTrailingZeroes=a;t.applyCompanyDecimal=r;t.indexToLetters=n;function a(e){return Number(String(e).replace(/0+$/,""))}function r(e){return String(e).replace(".",window.GLOBAL_DECIMAL_CHAR)}function n(e){const t=e+1;const a=t%26;let r=t/26|0;const i=a?String.fromCharCode(64+a):(r--,"Z");return r?n(r)+i:i}},160858:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.sleep=a;function a(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}},630206:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;class a{static get className(){return"Rect"}static intersects(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height}static contains(e,t){return e.left<=t.left&&e.left+e.width>=t.left+t.width&&e.top<=t.top&&e.top+e.height>=t.top+t.height}static distance(e,t){const a=t.x<e.left?e.left-t.x:Math.max(t.x-(e.left+e.width),0);const r=t.y<e.top?e.top-t.y:Math.max(t.y-(e.top+e.height),0);return Math.sqrt(a*a+r*r)}static grow(e,t){const a={};const r=t/2;if("height"in e){a.height=e.height+t}if("width"in e){a.width=e.width+t}if("left"in e){a.left=e.left-r}if("right"in e){a.right=e.right+r}if("top"in e){a.top=e.top-r}if("bottom"in e){a.bottom=e.bottom+r}return a}}t.default=a},258357:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=a;function a(...e){return Promise.all(e).then((e=>{let t={ready:true};e.forEach((e=>{t={...t,...e}}));r(t);return t}))}function r(e){const t=document.querySelector("body");t.dataset.screenshot=JSON.stringify(e)}},845382:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.formatAmount=n;t.stripNonNumericCharacters=i;t.trimLines=o;t.htmlentities=s;t.htmldecode=l;t.replaceXmlEntities=d;t.decodeEscapeSequence=c;t.convertHTMLEntitiesInString=u;t.joinStringsWithDelimiter=f;t.stringContainsAllWords=p;t.isValidUSZipCode=m;var r=a(273641);function n(e=0){if((0,r.isString)(e)){e=i(e)}e=Number(e);if((0,r.isNil)(e)||isNaN(e)){throw new Error("Invalid value supplied")}return e.toLocaleString(undefined,{minimumFractionDigits:2})}function i(e){if(!(0,r.isString)(e)){throw new Error("Invalid value supplied")}const t=e.startsWith("-");let a=e.replace(/[^\d\.]/g,"");a=`${t?"-":""}${a}`;return a}function o(e){return e.replace(/(^\s+|\s+$)/gm,"")}function s(e){return(0,r.escape)(e)}function l(e){return(0,r.unescape)(e)}function d(e){const t=/&(?!(?:apos|quot|[gl]t|amp);|#)/g;e=e.replace(t,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#x27;");return e}function c(e){return e.replace(/\\(u00|x)([0-9A-F]{2})/gi,((_,$,e)=>String.fromCharCode(parseInt(e,16))))}function u(e){const t=document.createElement("div");const a=/&.{1,7}\b;/g;const r=e.matchAll(a);let n=r.next();let i=e;while(!n.done){const e=n.value[0];t.innerHTML=e;i=i.replace(e,t.textContent);n=r.next()}return i}function f(e,t,a=t){if(e.length<2){return e[0]}if(e.length===2){return e.join(a)}const r=e.slice(0,-1).join(t);const n=e.slice(-1);return[r,n].join(a)}function p(e,t){if(typeof e!=="string"||!Array.isArray(t)){return false}for(const a of t){if(!e.includes(a)){return false}}return true}function m(e){const t=/^\d{5}(-\d{4})?$/;return t.exec(e)!==null}},576555:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.attachTokens=i;t.getHashCode=s;t.getToken=l;t.setToken=d;t.setHashedToken=c;t.updateInput=o;var r=a(273641);var n=a(489100);function i(){if(!(0,r.isUndefined)(window.CSRF_TOKEN)){o();$.ajaxSetup({beforeSend(e,t){if(t.crossdomain){return}if(t.type!="GET"){e.setRequestHeader("X-CSRF-Token",window.CSRF_TOKEN)}}})}}function o(e="form"){if(!(0,r.isUndefined)(window.CSRF_TOKEN)){$(e).each(((e,t)=>{const a=$(t);const r=a.attr("method")||"";const n=a.find(":input[name=CSRFToken]");if(n.length===0&&r.toLowerCase()==="post"){a.append(`<input type="hidden" name="CSRFToken" value="${window.CSRF_TOKEN}">`)}else if(n.length&&r.toLowerCase()!=="post"){n.remove()}}))}}function s(e){let t=0;let a;let r;if(e.length===0){return t}for(a=0,r=e.length;a<r;a++){t=(t<<5)-t+e.charCodeAt(a);t|=0}return t}function l(){return window.CSRF_TOKEN}function d(e,t=false){window.CSRF_TOKEN=e;if((0,n.canUseLocalStorage)()){c(e,t)}$('input[name="CSRFToken"]').val(window.CSRF_TOKEN);document.dispatchEvent(new CustomEvent("AppSession:csrfChanged"))}function c(e,t=false){if(!(0,n.canUseLocalStorage)()){throw new Error("Cannot set hashed token. Local Storage is unavailable.")}const a=`hashed_token${t?"_onboarding":""}`;window.localStorage.setItem(a,s(e).toString())}},300635:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getFormatTypeFromGlobalDateMask=r;t.getLocale=n;const a={"dd MMM YYYY":"dd MMM yyyy","dd/mm/yyyy":"dd/MM/yyyy","mm/dd/yyyy":"MM/dd/yyyy","yyyy-mm-dd":"yyyy-MM-dd"};function r(){return a[window.GLOBAL_DATE_MASK]}function n(){var e;return(e=document.querySelector("html"))===null||e===void 0?void 0:e.getAttribute("lang")}},884699:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.allSignersComplete=n;t.canViewFinalized=i;t.hasBeenSent=o;t.isCancelled=s;t.isCompleteOrEmployeeComplete=l;t.isEsig=d;t.waitingOnSig=c;var r=a(273641);function n(e){const{esignatures:t}=e;return d(e)&&t.completed}function i(e){const{company_file_data:t,employee_file_data:a,esignatures:n}=e;if(d(e)&&(0,r.isNil)(a)&&(0,r.isNil)(t)){return true}return d(e)&&(typeof a==="object"&&!(0,r.isNil)(a.id)&&a.can_see_file||typeof t==="object"&&!(0,r.isNil)(t.id)&&t.can_see_file)}function o(e){const{workflow_instance_id:t}=e;return d(e)&&t!==undefined}function s(e){const{esignatures:t}=e;return d(e)&&t.cancelled}function l(e){const{esignatures:t}=e;return d(e)&&(t.completed||t.employee_has_signed)}function d(e){const{esignatures:t,is_esignature_template:a}=e;return!(0,r.isNil)(a)&&a==="yes"&&!(0,r.isNil)(t)&&t.setup_complete}function c(e){const{esignatures:t,required:a}=e;return d(e)&&a&&t.employee_has_signed&&!t.completed}},857696:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.convertFileForList=l;t.getAction=d;t.getDataObject=c;t.getDownloadFileId=u;t.isDisabled=f;t.previewFile=v;t.downloadFile=g;t.isImgFile=void 0;var r=a(273641);var n=a(774548);var i=a(479706);var o=a(884699);const s=(0,i.isEnabled)("jade");function l(e){const t=(0,o.isEsig)(e);const a=s?(0,n.getIconNameFromFileName)(e.original_file_name,"16x20",t):e.img_sizes.small;return{isEsig:t,isComplete:(0,o.isCompleteOrEmployeeComplete)(e),waitingOnSig:(0,o.waitingOnSig)(e),file_id:u(e),icon:a,name:e.name}}function d(e,t){let a;const{can_generate_preview:n,can_see_file:i,employee_file_data:s,esignatures:l,esignature_template_id:d,company_file_data:c,file_id:u,most_recent_file_data_id:f,name:p,workflow_instance_id:m}=e;if((0,o.isEsig)(e)){if(l.cancelled){return null}switch(true){case typeof s==="object"&&s.id&&s.can_see_file:a="previewEmployeeFile";break;case typeof c==="object"&&c.id&&c.can_see_file:a=c.can_generate_preview?"companyPreviewFile":"companyShowFile";break;case l.can_sign&&!t:a="esigOpenModal";break;case!(0,r.isNil)(m)&&m>0&&i:a="esigOpenPreviewModeModal";break;default:break}}if(!a){if(i){return n?"previewFile":"showFile"}return"showFileNoAccess"}return a}function c(e){const{company_file_data:t,employee_file_data:a,esignature_template_id:r,esignatures:n,file_id:i,most_recent_file_data_id:o,name:s,workflow_instance_id:l}=e;let d={companyFileId:p(t,"file_id"),companyFileMostRecentId:p(t,"most_recent_file_data_id"),companyFileName:p(t,"name"),employeeFileMostRecentId:p(a,"most_recent_employee_file_data_id"),employeeFileId:p(a,"id"),employeeFileName:p(a,"name"),esignature_template_id:r,esignatureWorkflowId:p(n,"workflow_id"),file_id:i,most_recent_file_data_id:o,name:s,workflow_instance_id:l};return{"action-data":JSON.stringify(m(d))}}function u(e){const{company_file_data:t,file_id:a}=e;return t?t.file_id:a}function f(e){const{can_see_file:t}=e;if(!t){return true}if((0,o.isEsig)(e)&&((0,o.isCancelled)(e)||!(0,o.canViewFinalized)(e))){return true}return false}function p(e,t){if(e&&e[t]){return e[t]}return null}function m(e){let t={};(0,r.each)(e,((e,a)=>{if(!(0,r.isNil)(e)){t[(0,r.camelCase)(a)]=e}}));return t}const h=e=>{if((0,r.isNil)(e)){return false}const t=e.split(".");const a=t[t.length-1];const n=["png","jpg","jpeg","gif","bmp"];return n.indexOf(a.toLocaleLowerCase())!==-1};t.isImgFile=h;function v(e,t,a,r,n,i,o,s=false,l=false){window.previewFile(...arguments)}function g(e){const{fileData:t,fileName:a,mimeType:r="text/plain;charset=utf-8"}=e;if(!t||!a){throw new Error("A file name and file data must be supplied")}const n=new Blob([t],{type:r});const i=window.URL.createObjectURL(n);const o=document.createElement("a");o.style.display="none";o.href=i;o.setAttribute("download",a);if(typeof o.download==="undefined"){o.setAttribute("target","_blank")}document.body.appendChild(o);o.click();document.body.removeChild(o);window.URL.revokeObjectURL(i)}},439212:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.allFilesFinalized=i;var r=a(884699);var n=a(273641);function i(e){const t=e.find((e=>(0,r.isEsig)(e)&&e.esignatures.completed&&e.required&&(0,n.isNil)(e.company_file_data)));return(0,n.isNil)(t)}},293956:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(884699);Object.keys(r).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===r[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return r[e]}})}));var n=a(857696);Object.keys(n).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===n[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return n[e]}})}));var i=a(439212);Object.keys(i).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===i[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return i[e]}})}))},136391:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"isSalariedHoursPerWeekNumberValid",{enumerable:true,get:function(){return r.isSalariedHoursPerWeekNumberValid}});Object.defineProperty(t,"isSalariedHoursPerWeekValueValid",{enumerable:true,get:function(){return n.isSalariedHoursPerWeekValueValid}});var r=a(287261);var n=a(123004)},287261:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isSalariedHoursPerWeekNumberValid=a;function a(e){if(typeof e!=="number"){return false}if(Number.isNaN(e)){return false}if(e<=0){return false}if(e>168){return false}return true}},123004:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isSalariedHoursPerWeekValueValid=i;var r=a(493771);var n=a(136391);function i(e,t=false){if(e===""){return t}const a=(0,r.getNumberFromString)(e);return(0,n.isSalariedHoursPerWeekNumberValid)(a)}},723834:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(563911);Object.keys(r).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===r[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return r[e]}})}));var n=a(916690);Object.keys(n).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===n[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return n[e]}})}))},563911:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setImmutableRecord=o;t.setImmutableTypes=s;t.mapImmutableRecordToChildren=l;var r=a(890046);var n=a(273641);var i=a(916690);function o(e,t,a=null,n=true){if(!r.Iterable.isIterable(e)){throw new Error("immutableData parameter must be an immutable data object.")}const o=d(e,a);const s=(0,i.getType)(o);const l=o.reduce(((e,a,r)=>{if(n){r=parseInt(r)}return e.set(r,new t(a))}),new s);if(a){return e.setIn(a,l)}return l}function s(e,t={}){let a=e;(0,n.each)(t,((e,t)=>{const r=t.replace(/\s+/g,"").split(",");const n=a.getIn(r);a=a.setIn(r,new e(n))}));return a}function l(e,t={},a=true){let r=e;(0,n.each)(t,((e,t)=>{let n=t.replace(/\s+/g,"").split(",");r=o(r,e,n,a)}));return r}function d(e,t=null){if(t!==null){if(t!==""&&r.Iterable.isIterable(e.getIn(t))){return e.getIn(t)}throw new Error(`The immutable entry ${t} passed either doesn't exist or is malformed.`)}return e}},916690:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getType=n;var r=a(890046);function n(e){if(!r.Iterable.isIterable(e)){throw new Error("The data parameter must be an immutable data object.")}if(r.List.isList(e)){return r.List}else if(r.Stack.isStack(e)){return r.Stack}else if(r.OrderedMap.isOrderedMap(e)){return r.OrderedMap}else if(r.OrderedSet.isOrderedSet(e)){return r.OrderedSet}else if(r.Set.isSet(e)){return r.Set}return r.Map}},366394:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.checkRequirements=d;t.updateRequirements=c;t.setupPasswordMaxLenghtValidation=p;t.PASSWORD_MAX_LENGTH_ERROR_CLASS_NAME=t.PASSWORD_MAX_LENGTH_MSG_CLASS_NAME=t.PASSWORD_MAX_LENGTH_MSG=t.PASSWORD_MAX_LENGTH=void 0;var r=a(774548);const n="ok";const i=128;t.PASSWORD_MAX_LENGTH=i;const o=$.__("Whoops, try to keep it under 128 characters.");t.PASSWORD_MAX_LENGTH_MSG=o;const s="max-length-error-msg";t.PASSWORD_MAX_LENGTH_MSG_CLASS_NAME=s;const l="error--maxLength";t.PASSWORD_MAX_LENGTH_ERROR_CLASS_NAME=l;function d(e){const t=5;let a=0;const i={length:"#pass-length",number:"#pass-number",upper:"#pass-upper",lower:"#pass-lower",match:".validCheck"};for(let t=0;t<e.length;t++){switch(e[t]){case"length":case"number":case"upper":case"lower":$(i[e[t]]).addClass(n);a++;break;case"match":$(".validCheck").each((function(){(0,r.addClass)(this,"valid")}));a++;break}}return a===t}function c(e){$(".validCheck").each((function(){(0,r.removeClass)(this,"valid")}));$(".js-passwordRequirements li").removeClass(n);u(d(e))}function u(e){const t=document.querySelector(".js-ChangePasswordForm__submitButton, .js-createAccountBtn");t.disabled=!e}function f(e,t){const a=$(e.target);const r=a.closest(".fab-FormRow");let n=r.find(`.${s}`);if(a.val().length===i){if(!t&&!n.length){n=$("<span />",{class:`fab-Label fab-Label--error ${s}`,text:o});r.prepend(n)}r.addClass(l)}else{n.remove();r.removeClass(l)}}function p(e,t){e.on("keyup",f);t.on("keyup",(e=>f(e,true)))}},299151:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.nextClassPrefix=a;function a(e){if(e[e.length-1]==="z"){return`${e.substr(0,e.length-1)}aa`}const t=`${e.substr(0,e.length-1)}${String.fromCharCode(e.charCodeAt(e.length-1)+1)}`;return t}},238558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.formatStringFromNumber=a;function a(e,t,a){t=t||window.GLOBAL_DECIMAL_CHAR||".";a=a||window.GLOBAL_THOUSANDS_SEPARATOR||",";if(t===a){throw new Error("The decimal point and thousands separator characters must be different.")}if(e===undefined){return""}const r=e.toString();const[n,i]=r.split(".");const o=[];let s=n;while(s.length){const e=s.slice(-3);o.unshift(e);s=s.slice(0,-e.length)}const l=o.join(a);const d=i?`${t}${i}`:"";const c=`${l}${d}`;return c}},934228:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.getNumberFromString=i;var n=r(a(619969));function i(e,t,a){t=t||window.GLOBAL_DECIMAL_CHAR||".";const r=new RegExp(`[^\\d\\${t}-]`,"gi");e=e.replace(r,"");e=e.replace(/-/g,((e,t)=>t===0?e:""));const i=new RegExp(`\\${t}`,"gi");e=e.replace(i,".");let o=true;e=e.replace(/\./g,(e=>{if(!o){return""}o=false;return e}));if(!e){return}try{const t=new n.default(e);const r=t.toFixed(a);const i=Number(r);if(Number.isNaN(i)){return}return i}catch{return undefined}}},493771:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"formatStringFromNumber",{enumerable:true,get:function(){return r.formatStringFromNumber}});Object.defineProperty(t,"getNumberFromString",{enumerable:true,get:function(){return n.getNumberFromString}});var r=a(238558);var n=a(934228)},361135:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(856075));var i=p(a(573674));var o=r(a(60042));var s=a(479706);var l=a(326945);var d=r(a(742186));var c=r(a(555680));var u=r(a(763486));a(45641);function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=f(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}class m extends i.PureComponent{static get className(){return"DirectoryApp"}componentWillMount(){$.get("/employee_directory/ajax/get_directory_info").done((e=>{this.setState({currentUser:e.currentUser,selectedFilter:{displayText:e.currentUser.selectedFilter.displayText,value:e.currentUser.selectedFilter.value},filters:e.filters,allEmployees:e.employees,filteredEmployees:(0,u.default)(e.employees,e.currentUser,e.currentUser.selectedFilter.value,e.currentUser.customFilter),groupByOptions:e.groupByOptions,customFilterIds:e.currentUser.customFilter})}))}componentDidMount(){document.getElementById("root").classList.remove("circleDotLoader")}constructor(e){super(e);this.state={currentUser:{},selectedFilter:{displayText:"",value:""},filters:[],allEmployees:[],filteredEmployees:[],groupBy:{displayText:"Name",value:"name"},groupByOptions:[],inputText:"",customFilterIds:[]};this.handleInputText=this.handleInputText.bind(this);this.handleFilterChange=this.handleFilterChange.bind(this);this.handleGroupByChange=this.handleGroupByChange.bind(this)}handleInputText(e){this.setState({inputText:e})}handleFilterChange(e,t,a,r){if(t===this.state.groupBy.value){this.setState({groupBy:{displayText:$.__("Name"),value:"name"}})}$.post(`/employee_directory/ajax/save_filter/${t}`,r).done((a=>{this.setState({currentUser:{...this.state.currentUser,customFilter:a},filteredEmployees:(0,u.default)(this.state.allEmployees,this.state.currentUser,t,a),selectedFilter:{displayText:e,value:t}})}))}handleGroupByChange(e,t){this.setState({groupBy:{displayText:e,value:t}})}render(){const{isAnytime:e,employeeNavSeeOrgChart:t,employeeNavSeeDirectory:a,employeeNavSeeList:r}=this.props;const{currentUser:i,filteredEmployees:u,filters:f,groupBy:p,groupByOptions:m,inputText:h,selectedFilter:v}=this.state;return(0,n.default)("div",{className:(0,o.default)("DirectoryAppContainer",{"DirectoryAppContainer--anytime":e&&(0,s.isEnabled)("jade")})},void 0,(0,n.default)(d.default,{isAnytime:e,onFilterChange:this.handleFilterChange,filters:f,onGroupByChange:this.handleGroupByChange,selectedFilter:v,groupByOptions:m,groupBy:p,onInputText:this.handleInputText,inputValue:h}),(0,n.default)(l.SelectedFilter,{selectedFilter:v}),(0,n.default)(c.default,{isAnytime:e,currentUser:i,employees:u,groupBy:p,inputValue:h,selectedFilter:v,onFilterChange:this.handleFilterChange}))}}var h=m;t.default=h},46241:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.SelectFolderModal=void 0;var n=r(a(856075));var i=u(a(573674));var o=a(651745);var s=a(643620);var l=r(a(60042));var d=r(a(240617));function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const f=e=>{const t=(0,d.default)();const{isOpen:a,handleCloseModal:r,initialSelection:c,onConfirm:u,folderOptions:f=[],folders:p,maxFolderDepth:m,canEditPage:h,isEsig:v=false}=e;const[g,y]=(0,i.useState)(c);const b=()=>{u(g);r()};(0,i.useEffect)((()=>{if(a){y(c)}}),[a,c]);const w=v?o.SheetModal:o.StandardModal;return a?(0,n.default)(w,{isOpen:a,onRequestClose:r},void 0,(0,n.default)(w.Body,{renderFooter:(0,n.default)(w.Footer,{actions:[(0,n.default)(o.Button,{disabled:!g,onClick:b,type:"button"},"primary",v?$.__("Choose Folder"):$.__("Save")),(0,n.default)(o.TextButton,{onClick:r,type:"button"},"secondary",$.__("Cancel"))]}),renderHeader:(0,n.default)(w.Header,{hasCloseButton:true,title:$.__("Save to...")})},void 0,(0,n.default)(w.UpperContent,{},void 0,a&&(0,n.default)("div",{},void 0,(0,n.default)("p",{className:t.boldText},void 0,$.__("Select the folder you'd like to save to.")),(0,n.default)("div",{className:t.row},void 0,(0,n.default)(o.Icon,{brand:!!g,name:g?"fab-check-circle-12x12":"fab-check-circle-outline-12x12"}),(0,n.default)("p",{className:(0,l.default)(t.grayText,{[t.brandText]:!!g})},void 0,g?p[g].name:$.__("No folder selected"))))),(0,n.default)(w.Constraint,{},void 0,(0,n.default)(s.FolderSelector,{folderOptions:f,initialSelection:g,isFolder:false,onChange:y,maxFolderDepth:m,canEditPage:h})))):null};t.SelectFolderModal=f},567441:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.initializeDrop=t.initializeDrag=t.convertFileToUploadFile=t.buildFolderOptions=t.applyDepthAndPermissionsToFolders=t.findAncestorProperty=t.determineFolderType=t.filterSortFilesFolders=void 0;var r=a(823420);var n=a(537916);const i="canEdit";const o="canUploadFiles";const s=(e,t,a)=>{const r=e=>{if(!a){return!e.parentId}return e.parentId==a};const n=Object.values(e).filter(r);n.sort(((e,t)=>{if(e.sortOrder&&t.sortOrder){return e.sortOrder-t.sortOrder}return e.name.localeCompare(t.name)}));return[...n,...t]};t.filterSortFilesFolders=s;const l=e=>e==="true";const d=e=>{if(!e){return r.FolderTypes.None}if(!e.sectionType){return r.FolderTypes.Custom}if(e.sectionType==="employee_upload"){return r.FolderTypes.EmployeeUploads}return r.FolderTypes.Default};t.determineFolderType=d;const c=(e,t,a,n)=>{let s=e[t];if(s.hasOwnProperty(a)){return s[a]}while(!s.hasOwnProperty(a)){if(e[s.parentId]){s=e[s.parentId]}else{break}}const l=d(s);switch(l){case r.FolderTypes.Custom:return s[a];case r.FolderTypes.Default:if(a===i){return s[o]}break;case r.FolderTypes.EmployeeUploads:if(a===i){return n}break;default:}return s[a]};t.findAncestorProperty=c;const u=(e,t)=>{const a=Object.values(e);return a.reduce(((r,n)=>{let s=0;let l=0;if(n.parentId){s++;let{parentId:t}=n;while(t){if(e[t].parentId){s++;t=e[t].parentId}else{t=null}}}let d=a.filter((e=>e.parentId===n.id));if(d.length){while(d.length){l++;const e=d.map((e=>e.id));d=a.filter((t=>e.includes(t.parentId)))}}const u=a.filter((e=>e.parentId===n.id));const f=()=>{if(n.hasOwnProperty("employeeCanSee")){return n.employeeCanSee}return true};r[n.id]={...n,employeeCanSee:f(),isDefault:!!n.sectionType,depth:s,childrenDepth:l,subfolderCount:u.length,canUploadFiles:n.canUploadFiles||!!c(e,n.id,o,t),canEdit:n.canEdit||!!c(e,n.id,i,t)};return r}),{})};t.applyDepthAndPermissionsToFolders=u;const f=(e,t,a)=>{const n=Object.values(e).filter((e=>{if(a){const a=d(e);if(a===r.FolderTypes.EmployeeUploads){return t}}return e.canUploadFiles}));const i=e=>{if(n.some((t=>t.parentId===e.id))){const t=n.filter((t=>t.parentId===e.id)).map((e=>({text:e.name,value:e.id,depth:e.depth,childrenDepth:e.childrenDepth,items:i(e),canEdit:e.canEdit})));t.sort(((e,t)=>e.text.localeCompare(t.text)));return t}return[]};const o=n.filter((e=>!e.parentId));o.sort(((e,t)=>e.sortOrder-t.sortOrder));const s=o.reduce(((e,t)=>{e.push({text:t.name,value:t.id,depth:t.depth,childrenDepth:t.childrenDepth,items:i(t),isDefault:t.isDefault,canEdit:t.canEdit});return e}),[]);return s};t.buildFolderOptions=f;const p=(e,t)=>({id:e,name:t.name,type:t.type,size:t.size});t.convertFileToUploadFile=p;const m="drag_move_file";const h=e=>e.hasOwnProperty("size");const v=(e,t,a)=>{const r=document.createElement("div");r.classList.add(t);r.id=m;r.appendChild(a);const n=document.createElement("span");n.innerText=e;r.appendChild(n);document.body.appendChild(r);return r};const g=(e,t,a,r)=>{if(!e){return{}}const{dragImageClass:n,dragTargetClass:i,selectedItemClass:o}=a;const s=new Image;if(h(t)){s.src=`/images/files/types/${t.img_sizes.small}`}else{s.src=`/images/files/small_folder.png`}return{draggable:e,"data-drag-id":t.id,onDragStart:e=>{let a=t.name;if(r){r(true)}const l=$(e.target);if(h(t)){if(l.hasClass(o)){const e=$(`.${o}`);e.each(((e,t)=>{t.classList.add(i);t.classList.add("dragTarget")}));a=`${e.length} files`}}if(!h(t)){const e=$("div[data-drop-id]");e.each(((e,a)=>{const r=a.getAttribute("data-folder-depth");if(+r+t.childrenDepth>=3){a.classList.add(i)}}))}l.addClass(i);l.addClass("dragTarget");const d=v(a,n,s);e.dataTransfer.setDragImage(d,0,0);e.dataTransfer.setData("isFile",h(t).toString());e.dataTransfer.setData("draggingId",t.id)},onDragEnd:e=>{if(r){r(false)}const t=$(`#${m}`);if(t){t.remove()}$("div[data-drop-id]").each(((e,t)=>{t.classList.remove(i)}));$(e.target).removeClass(i);$(e.target).removeClass("dragTarget");$(`.${o}`).each(((e,t)=>{t.classList.remove(i);t.classList.remove("dragTarget")}))}}};t.initializeDrag=g;const y=(e,t,a,r)=>{if(!e){return{}}const{dropTargetClass:i,preventDropClass:o,selectedItemClass:s}=a;return{onDrop:async e=>{if(e.dataTransfer.files.length){return}const a=e.target;if(a.classList.contains(o)||$(a).parents().hasClass(o)){return}e.preventDefault();const d=e.dataTransfer.getData("draggingId");const c=l(e.dataTransfer.getData("isFile"));a.classList.remove(i);if(d!==t.id){if(c){const e=$(`[data-drag-id="${d}"]`);const a=[];if(e.hasClass(s)){$(`.${s}`).each(((e,t)=>{a.push(t.getAttribute("data-drag-id"))}))}else{a.push(d)}const r=await(0,n.moveFiles)(a,t.id);window.setMessage(r.success_message||$.__("Sucessfully moved file."),"success")}else{const e=await(0,n.moveFolder)(d,t.id);window.setMessage(e.success_message||$.__("Successfully moved folder."),"success")}return r()}},onDragEnter:e=>{if(e.dataTransfer.types.includes("Files")){return}const a=e.target;if(a.classList.contains(o)){return}e.preventDefault();if(a.getAttribute("data-drop-id")===t.id&&!a.classList.contains("dragTarget")){const e=$(`[data-drop-id=${t.id}]`);e.addClass(i)}},onDragOver:e=>{e.preventDefault()},onDragLeave:e=>{if(e.dataTransfer.types.includes("Files")){return}const a=e.target;if(a.classList.contains(o)){return}e.preventDefault();if(a.getAttribute("data-drop-id")===t.id){const e=$(`[data-drop-id=${t.id}]`);e.removeClass(i)}},"data-drop-id":t.id,"data-children-depth":t.childrenDepth,"data-folder-depth":t.depth}};t.initializeDrop=y},182337:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.enableTimeTracking=f;t.handleTimeTrackingToggle=m;var n=r(a(417842));var i=a(479706);a(330618);var o=r(a(468274));var s=a(313187);var l=r(a(14760));function d(e=null){window.setMessage(e||$.__("Sorry, something went wrong. Try giving it another shot?"),"error")}function c(e){if(e.status==="SUCCESS"||e.status==="success"){window.location="/employees/timesheet/?id="+window.Employee.id;return}if(e.status==="FAIL"&&e.reason&&e.reason==="no_pay_schedule"){window.BambooHR.Modal.setState({isOpen:false});(0,s.openNoPayScheduleModal)()}}function u(e=null){d(e)}function f(){(0,l.default)(window.Employee,c,u,true)}function p(){const{id:e,preferredName:t,lastName:a}=window.Employee;o.default.openModal(e,t,a,(()=>{const e=document.querySelector(".js-emp-menu-tt-toggle ba-icon");const t=document.querySelector(".js-emp-menu-tt-toggle-enable");const a=document.querySelector(".js-emp-menu-tt-toggle-disable");const r=document.querySelector(".js-emp-menu-tt-status-enable");const n=document.querySelector(".js-emp-menu-tt-status-disable");a.insertBefore(e,a.childNodes[0]);a.classList.add("disabled");t.classList.remove("disabled");r.classList.remove("TT_EmpMenu__status--selected");n.classList.add("TT_EmpMenu__status--selected")}))}function m(e){const{ttAction:t,ttMissingData:a}=e;const r=document.querySelector(".js-emp-menu-tt-toggle.disabled");const n=r.dataset.ttAction;if(t===n){return}if(t==="enable"){if(a.length){try{(0,s.openMissingDataModal)(a,window.Employee.preferredName);return}catch(e){if(e!=="no missing data"){throw e}}}f()}else{p()}}},287831:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"WithholdingWrapper",{enumerable:true,get:function(){return r.WithholdingWrapper}});var r=a(171098)},81722:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FeedbackDropdown",{enumerable:true,get:function(){return r.FeedbackDropdown}});var r=a(476869)},812120:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FeedbackRequestWarning",{enumerable:true,get:function(){return r.FeedbackRequestWarning}});var r=a(781385)},653795:(e,t,a)=>{"use strict";var $=a(992005);var moment=a(496406);Object.defineProperty(t,"__esModule",{value:true});t.getFilterObject=m;t.updateUrl=h;t.getTabName=v;t.catchPerformanceError=t.setError=t.formatEmployeeList=t.attachCharacterCount=t.setPerformancePageVars=t.performancePageVars=void 0;var r=a(273641);var n=a(774548);var i=a(479706);var o=a(427507);let s=(0,n.getJsonScriptVar)("pageVars","Performance");t.performancePageVars=s;const l=e=>{t.performancePageVars=s=e};t.setPerformancePageVars=l;const d=(e,t)=>{$(e).on("keyup paste",(e=>{const{target:a}=e;const r=Number($(a).attr("data-max-count"))||0;const n=a.value.length;const i=r-n;const o=i>0?i:0;let s="";$(".js-WordCount__left").remove();if(r<=n){a.value=a.value.substring(0,r);s="WordCount__left--urgent"}else if(r>100&&r-50<=n){s="WordCount__left--urgent"}else if(r<=100&&r-15<=n){s="WordCount__left--urgent"}else if(r-150<=n){s="WordCount__left"}else{s="hidden"}$(t?t:a).after(`<span class="${s} js-WordCount__left">${o}</span>`)}))};t.attachCharacterCount=d;const c=e=>{const t=e.map((e=>{const{employeeName:t,feedbackAssignments:a,userId:r}=e;return{assignmentCount:a,text:t,value:r}}));return t};t.formatEmployeeList=c;const u=(e={})=>{const{response:{data:{error:t=$.__("Uh Oh! There was an error. Please try again or contact BambooHR support.")}={}}={}}=e;window.setMessage(t,"error")};t.setError=u;const f=(e,t,a=true)=>{const n=(0,r.get)(e,"response");const i=(n===null||n===void 0?void 0:n.status)>=500&&(n===null||n===void 0?void 0:n.status)<600;if(i){window.Rollbar.error(t,e)}if(a){u(e)}};t.catchPerformanceError=f;const p=(e,t)=>{let a=false;if(e==="goals"){const{mode:e}=t;a=!!(e==="inProgress"||e==="completed"||e==="closed")}else if(e==="feedback"){const{start:e,end:r}=t;a=!!(moment(e).isValid()&&moment(r).isValid)}else if(e==="assessments"){const{reviewPeriodId:e}=t;a=!!Number(e)}return a};function m(e,t){if(!t){return}const a=t[e];if(a){const{filters:t=[]}=a;return t.reduce(((t,a)=>{if(p(e,a)){return{...t,...a}}return t}),{})}return{}}function h(e){const{appliedFilters:t,subPageId:a,employeeId:r,currentPageId:n}=e;const i=t?t[v(a)].default:true;let s={};if(!i){s=m(v(a),t)}(0,o.setParams)({id:r,page:n,subpage:a,...s},window.location.href)}function v(e){const t={1:"goals",2:"feedback",3:"assessments"};return t[e]}},18802:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.addTooltipsToDisabledRequestFields=D;t.getEmployeeModalHeader=N;t.updateInfoColumn=R;t.updateHireDates=B;t.customApproval=W;t.renderReactForm=K;var n=r(a(856075));var i=r(a(573674));var o=a(273641);var s=a(975558);var l=r(a(929522));var d=r(a(78587));var c=r(a(980249));var u=r(a(64937));var f=r(a(404192));var p=r(a(711921));var m=r(a(20026));var h=r(a(496406));var v=r(a(417842));var g=E(a(362166));var y=a(108201);var b=a(830734);var w=a(470116);var S=a(783840);var O=a(792012);var T=a(753158);var C=a(479706);function P(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(P=function(e){return e?a:t})(e)}function E(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=P(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}function M(e,t){if(e===null||t===null||e>t){return false}var a=t.getFullYear()-e.getFullYear();if(t.getMonth()<e.getMonth()){--a}if(t.getMonth()==e.getMonth()&&t.getDate()<e.getDate()){--a}return a}function x(e){var t=new Date;var a=typeof GLOBAL_DATEPICKER_MASK==="undefined"?"mm/dd/yy":GLOBAL_DATEPICKER_MASK;try{var r=$.datepicker.parseDate(a,e.value,{shortYearCutOff:30})}catch(e){return false}var n=M(r,t);if(n&&!(0,o.isNaN)(n)){$(".age").show();$(".dob-age").text(n)}else{$(".dob-age").text("");$(".age").hide()}}function k(e,t){var a,r,n;var i;if(e===null||t===null){return""}if(e.getDate()>t.getDate()){var o=32-new Date(e.getFullYear(),e.getMonth(),32).getDate();r=t.getDate()+o-e.getDate();i=1}else{r=t.getDate()-e.getDate();i=0}if(e.getMonth()+i>t.getMonth()){a=t.getMonth()+12-e.getMonth()-i;i=1}else{a=t.getMonth()-e.getMonth()-i;i=0}n=t.getFullYear()-e.getFullYear()-i;var s=[];if(n){s.push(sprintf($.__n("%1 year","%1 years",n),n))}if(a){s.push(sprintf($.__n("%1 month","%1 months",a),a))}if(r){s.push(sprintf($.__n("%1 day","%1 days",r),r))}if(n<0){return""}return s.join(", ")}function j(e){var t=new Date;var a=typeof GLOBAL_DATEPICKER_MASK==="undefined"?"mm/dd/yy":GLOBAL_DATEPICKER_MASK;try{var r=$.datepicker.parseDate(a,e.value,{shortYearCutOff:30})}catch(e){return false}try{if($(".termination-field").length>0){var n=$(".termination-field").val();t=$.datepicker.parseDate(a,n,{shortYearCutOff:30});if(t===null){t=new Date}}else{var i=$(".hiredate-los").data("termdate");if(i!="0000-00-00"&&i!=""){t=$.datepicker.parseDate("yy-mm-dd",i)}}}catch(e){return false}var o=k(r,t);if(o){$(".los").show();$(".hiredate-los").text(o)}else{$(".hiredate-los").text("");$(".los").hide()}}function I(e,t){t.find("option").hide();t.find("option.state_"+e).css("display","block");if(t.find(":selected").css("display")=="none"){t.val("")}$(t).trigger("liszt:updated");$(t).trigger("change")}function F(){$(".state-filing-status-field").each((function(e){var t=$(this);var a="select[name="+$(this).data("withholding-state-field")+"]";window.setTimeout((function(){$(a).change((function(){var e=$(this).find(":selected").text();I(e,t)}));$(a).change();window.formChanged=false}),500)}))}function D(){$(".request.disabled").each((function(){D.count++;$(this).attr("disabled",true);var e=false;if($(this).siblings("a").children().length||$(this).parent().siblings("label").children().length){e=true}if(!$(this).hasClass("hidden")&&!e&&$(this).is(":visible")){var t=$(this).attr("id");var a=$(this).attr("data-pending-id");var r=$.__("Pending Approval");var n=$.__("The latest change to this field is waiting for approval. Click to go to the original request.");var i="/inbox/details.php?id="+a+"&name=information_update&type=sent";if($(this).hasClass("notice")){i="/inbox/details.php?id="+a+"&name=information_update&type=inbox"}var o=$(this).attr("type");var s=BambooHR.icon("edit-approval-required-16x16",{className:"baseInvertOnHover request-icon request-"+(t||D.count)});if(o==="checkbox"){$(this).parent().siblings("label").append('<a href="'+i+'" class="request-icon-container" >'+s+"</a>")}else{$(this).before('<a href="'+i+'" >'+s+"</a>")}if(t.indexOf(":idx:")===-1){BambooHR.Components.Tooltip.create(".request-icon.request-"+(t||D.count),{lead:r,content:n,placement:"right",textAlign:"left"})}}}))}D.count=0;function N(){if(window.Employee){return(0,n.default)(u.default,{imageAlt:"Image of employee",imageSrc:window.Employee.photoURL,subTitle:window.Employee.jobTitle,title:window.Employee.preferredName+" "+window.Employee.lastName})}return null}$((function(){const e=$("#employeePhoto .empPhoto").attr("src");$("#employeeNav .js-employeePhotoSmall").attr("src",e);D();window.enableFormChangeTracking(document.forms.employee);if($(".termination-field").val()==""){$(".rehire-field").parent().parent().children("td,th").css("display","none")}$(".termination-field").change((function(){if(this.value!=""){$(".rehire-field").parent().parent().children("td,th").css("display","table-cell")}var e=$(".hiredate-field");if(e.length>0){j(e[0])}}));F();var t=$(".dob-field");if(t.length>0){t.change((function(){x(this)})).keypress((function(){x(this)})).find(":last").after(`<span>${$.__("Age: ")}<span class="dob-age"></span></span>`);x(t[0])}var a=$(".hiredate-field");if(a.length>0){var r=$.__("Length of service: ");a.change((function(){j(this)})).keypress((function(){j(this)})).find(":last").after(`<span>${r}<span class="hiredate-los"></span></span>`);j(a[0])}$(document).on("blur",".work-email-field, .home-email-field",i);function i(){if(typeof window.empStatus==="undefined"){window.empStatus="Active"}var e=$(".employee-status-field").val()||window.empStatus;window.empHasEmail=false;$(".checkEmailExists").each((function(e,t){if(window.validateEmail($(t).val())){window.empHasEmail=true}}));if(typeof empHasEmail!="undefined"){if(($(".work-email-field").val()!=""&&window.validateEmail($(".work-email-field").val())||$(".home-email-field").val()!=""&&window.validateEmail($(".home-email-field").val()))&&e=="Active"){$("#ssa_msg_on").hide()}else if((!window.empHasEmail||e=="Inactive")&&$('[id^="ea_disabled_field"]').is(":checked")){$("#ssa_msg_on").css("display","inline-block")}else if(!window.empHasEmail||e=="Inactive"){$("#ssa_msg_on").css("display","inline-block")}u()}}function u(){if($('[id^="ea_disabled_field"]:checked').length>0){$("#ssa_msg_off").css("display","inline-block");$("#ssa_msg_on").hide()}else{$("#ssa_msg_off").hide()}}$(".employee-status-field").change(i);$(".ess-field").change(i);$("#resetPassword").click((function(e){e.preventDefault();if(!window.empHasEmail){showModalPopup($.__("Error"),$.__("Please enter a valid work or home email for this employee before resetting the password."));return false}var t=$(this).data("userid");if(window.formChanged){if(window.trackedFormId){var a='<div class="navigateAwayModal"><img src="/images/bicons/warning-icon-lrg.png"/><div class="navHeader">'+$.__("You haven't saved your changes")+"</div>";a+='<p class="navMessage">'+$.__("Your changes will be lost if you navigate away from this page without saving.")+"</p></div>";var r="<button type='button' id='saveChangesButton' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only btn btnAction' role='button' aria-disabled='false'><span class='ui-button-text'>"+$.__("Save Changes")+"</span></button>";return showModalDialog($.__("Just Checking..."),a,$.__("Don't Save"),(function(){f(t)}),null,{additional_footer_html:r,open_callback:function(){$("#saveChangesButton").click((function(){$("#"+window.trackedFormId).submit()}));$("button:not(#saveChangesButton)").removeClass("btnAction")},width:"450px"})}modalDialogAlert($.__("Discard Changes"),$.__("You have not saved your changes. Do you want to discard your changes?"),$.__("Yes"),(function(){closeModalDialog();f(t)}))}else{f(t)}return false}));function f(e){$.ajax({type:"post",dataType:"json",url:"/settings/permissions/edit.php",data:{id:e,action:"password"},success:function(e){if(e.success){location.reload()}else{let t=e.message==""||e.message==undefined?$.__("There was an error resetting the password. Please try again."):e.message;setMessage(window.msg,"error")}}})}$('[id^="ea_enabled_field"], [id^="ea_disabled_field"]').click((function(){if($('[id^="ea_disabled_field"]').is(":checked")){$(".js-essAccessLevelSelect, #resetPassword").hide()}else{$("#resetPassword").show();$(".js-essAccessLevelSelect").show()}}));i();function p(){$.getJSON("/ajax/employee_current_job_info.php",{id:window.currentlyEditingEmployeeId},(function(e){e.currentlyEditingEmployeeId=window.currentlyEditingEmployeeId;var t=window.microTemplate(d.default,{empInfo:e});m.default.openModal({html:t,classes:"jquery-padding no-chosen-breakout",header:{title:{text:$.__("Delete Employee?")}},deleteModal:{active:true,selector:"#deleteConfirm"},footer:{buttons:{primary:{text:$.__("Yes, Delete this Employee"),performActionOnKeyCode:13,action:function(){let e=$('[name="position[reportsToEmployeeId]"]');if(e.length>0&&e.val()===""){setMessage($.__("Please select a new hiring lead before deleting this employee"),"error");return}if($("#deleteConfirm").val().toUpperCase()!=="DELETE"){setMessage($.__("Please type %1$s to confirm deleting this employee",'"DELETE"'),"error");$("#deleteConfirm").focus();return}m.default.Footer.Buttons.Primary.startProcessing();let t="/employees/delete_employee.php";let a={id:window.currentlyEditingEmployeeId};if(e.length>0&&!(0,o.isNaN)(parseInt(e.val(),10))){a.newHiringLeadId=e.val()}var r=$.post(t,a);r.done((function(e){var t=JSON.parse(e);if(t.canDeletePayrollEmployee){m.default.closeModal();window.location=t.redirect}else{m.default.openModal({html:microTemplate(c.default,{}),classes:"jquery-padding",header:{title:{text:$.__("Just so you know...")}},footer:{buttons:{primary:{show:true,text:$.__("OK, Thanks"),action:function(){m.default.closeModal();m.default.closeModal();window.location=t.redirect}},cancel:{show:false}}}})}}))}},secondary:{show:true,text:$.__("No, Keep this Employee"),action:function(){m.default.closeModal()}},cancel:{show:false}}},callbacks:{open:{after:function(){$("#deleteConfirm").focus()}}}})}))}$(".deleteEmployee").on("click",p);function v(){if($("#deleteConfirm").val()!==$.__("DELETE").toUpperCase()){var e=$.__('Please type the word "DELETE" to continue.');if($("#deleteEmployeeModal p:last-child").html()!=e){$("#deleteEmployeeModal").append('<p style="margin-bottom:0">'+e+"</p>")}$("#deleteConfirm").focus();return}closeModalDialog();$.post("/employees/delete_employee.php",{id:window.currentlyEditingEmployeeId},(function(e){if(e.success){window.location=e.redirect}else{setMessage(e.message,"error")}}),"json")}$(".js-customizeViewLink").click((function(){function e(){(0,s.showModal)((0,n.default)(l.default,{}))}if(window.formChanged){if(window.trackedFormId){window.BambooHR.Modal.setState({headline:$.__(`You haven't saved your changes`),dangerousContent:`<div class="Forms__confirmationMessage">${$.__("Your changes will be lost if you navigate away from this page without saving.")}</div>`,icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,isProcessing:false,primaryAction:function(){const e=$("#"+window.trackedFormId);if(e.valid()){window.BambooHR.Modal.setState({isProcessing:true},true);$("#"+window.trackedFormId).submit()}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("Save Changes"),secondaryAction:function(){window.BambooHR.Modal.setState({isOpen:false});e()},secondaryActionText:$.__(`Don't Save`),title:$.__("Just Checking...")})}}else{e()}}));if($(".termination-field").val()==""){$(".rehire-field").parent().parent().children("td,th").css("display","none")}$(".js-directReport-toggle").click((function(){var e=$(".directReports__overflow");var t=e.children().first().outerHeight()+parseInt(e.children().first().css("margin-bottom"));var a=e.children().length;if(!e.outerHeight()>0){e.css("height",t*a+"px");e.addClass("show");$(this).hide()}}));const g=$("#employeeGearMenu");function y(){$.ajax({type:"GET",url:"/ajax/employees/terminate.php",data:{id:window.currentlyEditingEmployeeId},dataType:"JSON",success:function(e){var t="#terminateEmployeeForm";var a=$("#terminateEmployeeTemplate").tmpl({fields:e});m.default.openModal({callbacks:{open:{after:function(){var a=m.default.getTopModalSelector();var r=a.find(t);var n=r.find("#termDate").focus();if(e.minDate){var i=(0,h.default)(e.minDate);n.attr("data-mindate",i.toISOString()).datepicker("option","minDate",i.toDate()).addClass("js-validate-mindate")}var o=r.find("textarea");o.on("autosize:resized",(function(){m.default.setPosition()}));r.bhrValidate({customMessages:{termDate:{validateMinDate:"This date must be after the current employment status date."}}});BambooHR.VirtualPageView.modal("terminateEmployee")}}},footer:{buttons:{primary:{action:function(e){var a=e.find(t);if(!a.valid()){return}m.default.Footer.Buttons.Primary.startProcessing();$.ajax({type:"POST",url:"/ajax/employees/termination.php",data:$("form#terminateEmployeeForm").serializeArray(),success:function(e){m.default.closeModal();setMessage($.__("Success"),"success");location.reload()},error:function(e){e=e.responseText===""?$.__("Whoops... No worries. Please fix any missing or incorrect information and try again."):e.responseText;setMessage(e,"error");m.default.Footer.Buttons.Primary.stopProcessing()}})}}}},html:a,title:$.__("Terminate Employment")})}})}g.on("click",".terminateEmployee",y);var b=false;var w=false;var S;if(typeof employeeTab!=="undefined"&&window.employeeTab==1){O()}$(window).scroll((function(){if(typeof employeeTab!=="undefined"&&window.employeeTab==1){O()}}));g.on("mouseenter",".down-list .hasSublist",(function(){var e=$(this).children(".sub-list");var t=e.width()+2;if(e.is(":visible")){clearTimeout(S)}e.addClass("hover").css("left","-"+t+"px")}));g.on("mouseleave",".down-list .hasSublist",(function(){var e=$(this);S=window.setTimeout((function(){$(e).children(".sub-list").removeClass("hover")}),100)}));function O(){if($(window).scrollTop()>200&&!b&&!w){const e=$(".js-SiteHeader").outerHeight(true);w=true;$("#employeeNav").wrap('<div id="employeeNavFixed">');$("#employeeNavFixed").addClass("branded-border");$("#employeeNavFixed").find(".employeeDetails").show();$("#employeeNavFixed").animate({top:e},250,(()=>{b=true}))}else if($(window).scrollTop()<200&&b&&w){$("#employeeNavFixed").animate({top:"0px"},0,(function(){$("#employeeNavFixed").find(".employeeDetails").hide();let e=document.getElementById("employeeNavFixed");let t=e.parentNode;t.insertBefore(e.firstChild,e);t.removeChild(e);b=false;w=false}))}}$(".footer__empWrapper .stickyFooterSaveButton").attr("onclick","return false;").addClass("disabled");$("#employee").on("keydown change",":input",(function(){$(".footer__empWrapper .stickyFooterSaveButton").attr("onclick",'return $("#employee").submit()').removeClass("disabled")}));function T(){const e=$(".ess-field").length>=1&&$(".ess-field:checked").val()=="enabled"||!!window.companyHasTrax||!!window.hasTrax;const t=$(".js-validate-ss-required").length==2;const a=t?$(".js-validate-ss-required").closest(".fieldGroup").hasClass("oneEmailRequired"):false;if(e&&t&&!a){$(".js-validate-ss-required").closest(".fieldGroup").addClass("oneEmailRequired").find(".fab-Label").attr("onerequired",$.__("(One Email Required)")).append('<span class="fab-Label--required" />')}else if(!e&&t&&a){$(".js-validate-ss-required").closest(".fieldGroup").removeClass("oneEmailRequired").find(".fab-Label").removeAttr("onerequired").find("span").remove()}}$("form#employee").one("focusin",T);$('[id^="ea_enabled_field"], [id^="ea_disabled_field"]').on("click",T)}));$(document).on("submit",document.forms.employee,(e=>{if(e.target.id==="custom_approval"){return false}if(typeof validate_employee==="function"){$("[class*='email-field']").each((function(){const e=$.trim($(this).val());$(this).val(e)}));if(!window.validate_employee(document.employee)){return false}}return true}));$.registerElementInitializer(".js-pay-schedule-insertable-list",(function(){const e=$.__(`You don't have any pay schedules set up. Add them in settings.`);const t=$(".js-pay-schedule-insertable-list");if(t.length&&t.find('ba-option[value!=""]').length===0){const a=document.createElement("ba-option");a.innerText=e;a.setAttribute("disabled","disabled");t.append(a)}}));const A=".js-location-insertable-list";$.registerElementInitializer(A,(function(){f.default.insertListModal(A,p.default.showModal,[null,{},false],"savedLocation")}));document.addEventListener("ba:selectAddItem",(e=>{if(e.target.classList.contains("js-location-insertable-list")){const{resolve:t,reject:a}=e.detail;const r=window.BambooHR.Modal.isOpen();const n=()=>{a();window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)};const i=e=>{const{ret:r,extra:n}=e;if(r==="SAVED"){const{id:e,label:a}=n;t([{text:a,value:e,selected:true}]);return}a()};p.default.showModal(null,{},false,i,n,{isSheet:r})}}));function L(e){return e.replace(/([^a-z0-9])/gi,"")}function R(){if(typeof currentlyEditingEmployeeId=="undefined"){return}$.post("/ajax/employees/info_column.php",{employeeId:window.currentlyEditingEmployeeId},(function(e){var t=$(".infoColumn").html(e);var a=t.find("img.grayscale");if(a.length>0&&$.isFunction($.fn.gray)){a.gray()}}));$.get("/ajax/employees/job_title.php",{employeeId:window.currentlyEditingEmployeeId},(function(e){$(".js_jobTitle").html(e)}))}function B(){if(typeof currentlyEditingEmployeeId==="undefined"){return}$.getJSON("/employees/hireDate/"+window.currentlyEditingEmployeeId,(function(e){var t=$('[name="field_'+e.hire_date.field_id+'"]');var a=$('[name="field_'+e.original_hire_date.field_id+'"]');if(t.length){t.val((0,h.default)(e.hire_date.value).format())}if(a.length){a.val((0,h.default)(e.original_hire_date.value).format())}}))}function H(e,t,a){window.BambooHR.Modal.setState({isProcessing:true},true);function r(){window.BambooHR.Modal.setState({isProcessing:false},true)}$.post($("#custom_approval").attr("action"),$("form").serializeIncludeDisabled(),(function(e){r();if(e.success){if(e.message){setMessage(e.message,"success")}var t=$("#comment").val();if(t.length>0&&e.threadId&&e.authorId){$.post("/ajax/employee_comments.php",{threadId:e.threadId,authorId:e.authorId,action:"add",comment:t})}if(a&&typeof a==="function"){a()}window.BambooHR.Modal.setState({isOpen:false,isProcessing:false})}else if(e.error){const{data:t={}}=e;const{fields:a=[]}=t;setMessage(e.error,"error");if(a.length>0){(0,y.highlightErrorFields)(a,"#custom_approval")}r()}else{r();errorFallBack()}}),"json").fail((function(){errorFallBack();r()}))}function W(e,t){v.default.get(`/ajax/dialog/approvals/custom.php?id=${e}&wid=${t}`).then((({data:a})=>{let r;if(a){const{title:i,html:o,save:s,templateName:l}=a;const d=(0,O.getModalTypeFromApprovalTemplateName)(l);const c=".js-customApproval input, .js-customApproval select, .js-customApproval textarea, .js-paidPer, .js-payType";const u=()=>{z(m)};const f=()=>{document.querySelectorAll(c).forEach((e=>{e.addEventListener("keyup",u);$(e).on("change",u)}));$("#custom_approval").on("change",G);$(".js-paySchedule").on("change",g.default.handlePayScheduleChange);$(".js-paidPer").on("change",g.default.handlePaidPerChange);$(".js-payType").on("change",U);$(".js-overtimeRate").on("change",g.default.handleOvertimeRateChange);if($(".js-jobDate").length!==0&&$(".js-startDate").length!==0){$(".js-startDate").on("change",(()=>$(".js-jobDate").val($(".js-startDate").val())))}window.Employees.Job.EmploymentStatusModal.init();$(".js-employmentStatusSelect").on("change",Y);setTimeout((()=>{window.Employees.Job.EmploymentStatusModal.updateTaxTypeInitialOptions($(".js-employmentStatusSelect").find("[selected]").attr("value"),"0")}),0)};const p=()=>{document.querySelectorAll(c).forEach((e=>{e.removeEventListener("keyup",u);$(e).off("change",u)}));$("#custom_approval").off("change",G);$(".js-paySchedule").off("change",g.default.handlePayScheduleChange);$(".js-paidPer").off("change",g.default.handlePaidPerChange);$(".js-payType").off("change",U);$(".js-overtimeRate").off("change",g.default.handleOvertimeRateChange);if($(".js-jobDate").length!==0&&$(".js-startDate").length!==0){$(".js-startDate").off("change")}$(".js-employmentStatusSelect").off("change",Y)};const m=()=>{if(!V()){window.setMessage($.__("The selected start date must come before the end date. Please try again."),"error");return}if(!g.default.paidPerAndPayTypeValid()){window.setMessage($.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error");return}z(m);if(!r.valid()){return}window.BambooHR.Modal.setState({isProcessing:true},true);H(e,t,p)};const h=document.createElement("div");h.innerHTML=o;let v=$(h);const y=v.find(".js-customApprovalModalHeader").remove().html();window.BambooHR.Modal.setState({content:(0,n.default)("div",{className:"js-request-form-wrapper",dangerouslySetInnerHTML:{__html:v.html()}}),contentHasPadding:false,header:(0,n.default)("div",{dangerouslySetInnerHTML:{__html:y}}),headerType:y?"filled":"",title:i,isOpen:true,onOpen:()=>{g.default.setupForm("requestChangeApproval");g.default.initializeForm("requestChangeApproval");const e=v.find("#dynamic-form-data");if(e&&(0,C.isEnabled)("ReactApprovals")){K("dynamic-form-approval","dynamic-form-data",T.EmployeeApprovals);return}$(".js-request-form-wrapper").initializeElements();r=$("#custom_approval");r.bhrValidate();f();if($(".employee_contacts.repeat").find(".blankState:visible").length>0){$(".js-contactAddInitial").trigger("click");$(".employee_contacts.repeat")[0].repeat.add()}G();g.default.handleOvertimeRateChange();g.default.addFormNote();g.default.handlePayScheduleChange()},onClose:()=>{p()},primaryActionText:s,primaryAction:null,type:d})}})).catch(window.errorFallBack)}function U(){g.default.handlePayTypeChange("requestChangeApproval")}const q={"dd MMM YYYY":"DD MMM YYYY","mm/dd/yyyy":"MM/DD/YYYY","dd/mm/yyyy":"DD/MM/YYYY","yyyy-mm-dd":"YYYY-MM-DD"};function V(){const e=$(".js-customApproval").find(".js-startDate");const t=$(".js-customApproval").find(".js-endDate");if(!e.length||!t.length||!t.val()){return true}const a=q[window.GLOBAL_DATE_MASK];const r=(0,h.default)(e.val(),a);const n=(0,h.default)(t.val(),a);return r.isBefore(n,"day")}function z(e=(()=>{})){var t=true;$(".js-customApproval :input[name*='field']").each((function(){if(this.tagName==="SELECT"){var e;$(this).children("option").each((function(){if(this.defaultSelected){e=this.value;return false}}));this.defaultValue=e}if(this.defaultChecked!=$(this).is(":checked")){t=false;return false}if(this.value!==this.defaultValue){t=false;return false}}));if(t){window.BambooHR.Modal.setState({primaryAction:null},true)}else{window.BambooHR.Modal.setState({primaryAction:e},true)}}function G(e){const t=$(".js-overtimeRate").closest(".fieldBox");const a=$(".js-exemptStatus");const r=a.attr("name");const n=$(`select[name="${r}"]`).val();const i=$(".js-payType ba-option:selected").text().toLowerCase();const o=i==="hourly";(0,g.toggleOvertimeRateDisplay)(t,n,o)}function Y(e){const t=$(e.target);const a=t.closest("form");a.addClass("customApprovalEmploymentStatusForm");if(window.Employees.Job.EmploymentStatusModal.checkIfPayrollCustomer()){window.Employees.Job.EmploymentStatusModal.employmentStatusChangeHandler(e,"0",a.find(".js-employeeTaxTypeFieldSelect select"),(()=>{window.Employees.Job.EmploymentStatusModal.addInfoStylesToTaxTypeSelect({taxTypeSelector:a.find(".js-employeeTaxTypeFieldSelect"),fieldRowSelector:".fieldRow",infoIconClass:"customApprovalEmploymentStatusIconWrapper"})}))}}function K(e,t="dynamic-form-data",a=w.DynamicForm){const r=document.getElementById(e);const i=document.getElementById(t);if(r&&i){const e=(0,S.getJsonData)(`#${t}`);const i=e&&e.root?e.root:null;const o=document.getElementById(i);if(i&&o){o.parentNode.removeChild(o)}(0,b.render)((0,n.default)(a,{data:e}),r)}}},615610:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.deleteCompanyFile=p;t.deleteCompanyFiles=m;t.deleteEmployeeFile=h;t.deleteEmployeeFiles=v;t.deleteEmployeeTaxFiles=g;t.deleteEmployeeFolder=y;t.deleteFolder=O;t.showDeleteModal=T;var n=r(a(856075));var i=r(a(573674));var o=a(230628);var s=a(774548);var l=a(273641);var d=a(479706);var c=a(417842);var u=a(975558);a(382768);var f=a(528451);function p(e,t,a){m($(`[data-file_id=${e}]`),t,a)}function m(e,t,a){let r=false;let n=null;let i=0;let o=false;if(e.selector.match(/(\d+)/)){n=parseInt(e.selector.match(/(\d+)/)[1])}if(e.length||n){const s=[];if(e.length){e.each((function(){if($(this).data("can_delete")==="yes"||$(this).data("can_delete")===undefined){s.push($(this).data("file_id"))}else{i++;if($(this).data("is-implementation")==="yes"){o=true}}}));if(s.length>3||e.hasClass("js-tasklist")||e.hasClass("js-esignature")){r=true}}else if(n){s.push(n)}if(s.length<1){return}T(s,t,a,r,false,i,o)}}function h(e,t){m($(`[data-file_id=${e}]`),t,true)}function v(e,t){m(e,t,true)}function g(e,t){T(e,false,true,false,t)}function y(e,t=null,a,r,i){$.get(`/${appPrefix}employees/files/getDeleteFolderCounts`,{id:a},(function(e){let r=0;let o=0;const s=e.counts;if(s){for(const e in s){o++;r+=parseInt(s[e].count)||0}}else{for(const t in e){o++;r+=parseInt(e[t].count)}}const l=(e,t,a)=>{if(i&&typeof i==="function"){i(t)}return b(e,t,a)};const d=e.templates||false;(0,u.showModal)((0,n.default)(f.DeleteEmployeeFolderModal,{affectedEmployees:s,deleteAction:l,employeeCount:o||0,employeeId:t,fileCount:r||0,hasTemplates:d,sectionId:a}))}),"json")}function b(e,t,a){return c.ajax.post(`/employees/${appPrefix}ajax/folder/delete/${e}`,{id:t,employeeId:e}).then((function(e){if(e.data.success){const r=$(`[data-section_id=${t}]`);if(r.hasClass("selected")){loadSectionFiles("all",$("select[name=sort-files]").val());$("#file-sections .sectionLink.all").addClass("selected")}r.remove();if(a>0&&$("#file-sections .sectionLink.selected").hasClass("all")){loadSectionFiles("all",$("select[name=sort-files]").val())}setMessage(e.data.success_message,"success")}else{setMessage(e.data.error,"error")}})).catch((function(e){setMessage(e,"error")}))}function w(e,t){return(0,n.default)("div",{},void 0,(0,n.default)("h4",{className:"FileDelete__header",dangerouslySetInnerHTML:{__html:e}}),t&&(0,n.default)("h6",{className:"FileDelete__subHeader",dangerouslySetInnerHTML:{__html:t}}))}function S(e,t,a){return(0,n.default)("div",{className:"FileDelete__wrapper"},void 0,(0,n.default)("div",{className:"FileDelete__imgWrapper"},void 0,(0,n.default)("img",{alt:"Delete Folder",className:"FileDelete__img",src:"/images/files/folderx.svg"})),(0,n.default)("div",{className:"FileDelete__details"},void 0,(0,n.default)("div",{className:"FileDelete__name"},void 0,t),(0,n.default)("div",{className:"FileDelete__fileCount"},void 0,$.__("%1 total files",e))),(0,n.default)("div",{className:"FileDelete__userList",dangerouslySetInnerHTML:{__html:a.html()}}))}function O(e){const t=e.find("span.count").text().replace(/[\(\)]/g,"");let a=$.__('Are you sure you want to delete the folder "%1"?',e.data("foldername"));if(t>0){a=$.__n('Are you sure you want to delete the folder "%2" and its %1 file?','Are you sure you want to delete the folder "%2" and all of its %1 files?',t,e.data("foldername"))}window.BambooHR.Modal.setState({aggressiveConfirmationText:"Type <strong>Delete</strong> to permanently remove the folder and its files.",headline:a,onClose:()=>{window.BambooHR.Modal.setState({isOpen:false})},primaryAction:()=>{window.BambooHR.Modal.setState({isProcessing:true},true);$.ajax({url:`/ajax/${appPrefix}files/edit_folder.php`,type:"post",data:{action:"delete",id:e.data("section_id")},success(a){if(a.success){if(e.parent().hasClass("selected")){window.resetFiles();loadSectionFiles("all",$("select[name=sort-files]").val());$(".allFilesListItem").addClass("selected")}e.parent().remove();if(t>0&&$("#file-sections .sectionLink.selected").hasClass("all")){window.resetFiles();loadSectionFiles("all",$("select[name=sort-files]").val())}setMessage(a.success_message,"success");window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true);setMessage(a.error,"error")}},dataType:"json"})},primaryActionText:$.__("Delete Folder"),isOpen:true,title:$.__("Just Checking..."),type:"aggressiveConfirmation"})}function T(e,t=false,a=false,r=false,n=false,i=0,s=false){const d=a?`/employees/files/delete_files`:`/files/delete_files`;const u=window.$filesTableWrapper||false;const f=(0,l.uniq)(e);const p=`${d}?${$.param({fileIds:f,filesRemoved:i,hasImplementationFilesRemoved:s?1:0,sort:$('select[name="sort-files"]').val()})}`;(0,o.handleStackableModalState)(t,true,{isLoading:true});c.ajax.get(p).then((e=>{const i=document.createElement("div");i.innerHTML=e.data;const s=$(i);if(s.find("#js-confirmDelete").val()){r=true}const l=s.find(".js-headLine").text();const c=s.find(".js-content").html();const p={alternativeAction:null,dangerousContent:c,contentHasPadding:true,headline:l,footer:null,icon:r===true?"":"fab-trash-can-43x48",iconColor:"danger",isLoading:false,onClose:()=>{(0,o.handleStackableModalState)(t,false,{sheetProps:null})},primaryAction:()=>{$.ajax({url:d,type:"post",data:{action:"delete",fileIds:f},success(e){if(e.success){if(typeof n==="function"){n(f)}else{f.forEach((e=>{let t=$(`tr[data-file_id="${e}"]`);const a=$(".file-wrapper, .FileWrapper, .FileUploadsEmployee__File");let r=a.filter(`[id="file-${e}"], [id="${e}"], [data-fileid="${e}"]`);if(r.length===0){r=a.find(`[data-file-id="${e}"]`)}t=t.add(r);if(t.length){const e=t.closest(".EmployeeFiles");const a=t.closest(".FileUploadsEmployee");t.remove();if(e.length>0&&e.find(".file-wrapper").length===0){e.find(".EmployeeFiles__FilesList").toggleClass("hidden",true);$(".MsgListing__taskEeFiles").toggleClass("hidden",true)}if(a.length>0&&a.find(".FileUploadsEmployee__File").length===0){a.remove();$(".List__FilesEmployee").remove()}}}));if(!a&&u&&u.find("tr").length<=0){u.find(".blankState").show()}const t=window.updateFileSectionCounts||o.updateFileSectionCounts;t(e.employeeId||false)}setMessage(e.success_message,"success");window.BambooHR.Modal.setState({isOpen:false})}else{setMessage(e.error,"error")}},dataType:"json"})},primaryActionKey:"Enter",primaryActionText:$.__n("Delete File","Delete Files",f.length),secondaryAction:()=>{(0,o.handleStackableModalState)(t,false,{sheetProps:null})},secondaryActionText:$.__n("Keep File","Keep Files",f.length),isOpen:true,title:$.__("Just Checking..."),type:r||f.length>3?"aggressiveConfirmation":"small"};if(t){p.type=p.type==="aggressiveConfirmation"?p.type:"smallSheet";window.BambooHR.Modal.setState({sheetProps:null},true)}(0,o.handleStackableModalState)(t,true,p)}))}},772777:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(615610);Object.keys(r).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===r[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return r[e]}})}));var n=a(256024);Object.keys(n).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===n[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return n[e]}})}));var i=a(599017);Object.keys(i).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===i[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return i[e]}})}));var o=a(141677);Object.keys(o).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===o[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return o[e]}})}));var s=a(230628);Object.keys(s).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===s[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return s[e]}})}));var l=a(76848);Object.keys(l).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===l[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return l[e]}})}))},556067:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.checkAvailableRepeatedly=r;t.toggleChatAvailability=n;t.loadSnapEngage=i;t.getSnapEngageClient=t.wireSnapEngage=void 0;function r(e,t){e();window.setTimeout((()=>{r(e,t)}),t)}function n(e,t,a,r){let n=$("."+a);if(e&&t.startLink!=="undefined"){n.removeClass(r+"--hide");n.on("click",(function(){t.startLink()}))}else{n.off("click");n.addClass(r+"--hide")}}function i(e="19325311-7882-4043-b503-b08e69b88da8"){return new Promise(((t,a)=>{let r=false;let n=document.getElementById("snapengage");if(!n){n=document.createElement("script");n.id="snapengage";n.type="text/javascript";n.async=true;n.src=`//storage.googleapis.com/code.snapengage.com/js/${e}.js`;let t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}const i=function(){if(!r&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){r=true;window.SnapEngage.hideButton();t(window.SnapEngage)}};n.addEventListener("load",i);n.addEventListener("readystatechange",i)}))}const o=(e,t)=>{const a=document.querySelector(".js-help-center-button");if(a){a.addEventListener("click",(async()=>{const a=await s("19325311-7882-4043-b503-b08e69b88da8");a.getAgentStatusAsync((r=>{n(r,a,e,t)}))}))}};t.wireSnapEngage=o;const s=e=>{if(window.SnapEngage){return new Promise((t=>{window.SnapEngage.switchWidget(e,(()=>{t(window.SnapEngage)}))}))}else{return i(e).then((e=>e))}};t.getSnapEngageClient=s},110516:(e,t,a)=>{"use strict";a(905930);a(376880)},166:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.formatAccounting=s;t.formatDecimal=d;t.isDecimal=c;t.makeDecimal=u;t.formatDate=void 0;var n=r(a(619969));var i=a(273641);var o=r(a(496406));function s(e,t={}){if(!(0,i.isPlainObject)(t)){throw new Error("options argument must an object")}e=d(e,t);if((0,i.startsWith)(e,"-")){e=`(${e.replace("-","")})`}return e}const l=(e,t="MM/DD/YYYY")=>{if(o.default.isMoment(e)){return e.format(t)}return(0,o.default)(e).format(t)};t.formatDate=l;function d(e,t={}){if(!(0,i.isPlainObject)(t)){throw new Error("options argument must an object")}const{currencyCode:a,decimalPlaces:r=2}=t;if(!c(e)){e=u(e,t)}return e.toDecimalPlaces(r).toNumber().toLocaleString("en-US",{currency:a,maximumFractionDigits:r,minimumFractionDigits:r,style:a?"currency":"decimal"})}function c(e){return e instanceof n.default}function u(e,t={}){if(!(0,i.isPlainObject)(t)){throw new Error("options argument must an object")}const{allowBoolean:a,nanDefault:r,nullDefault:o,undefinedDefault:s}=t;let l;if(!c(e)&&!(0,i.isString)(e)&&!(0,i.isFinite)(e)){if((0,i.isBoolean)(e)&&a){l=Number(e)}else if((0,i.isBoolean)(e)&&!a){throw new Error(`'allowBoolean' option must be explicitly truthy to make a Decimal from a boolean`)}else if(e===undefined&&!(0,i.isNil)(s)){l=s}else if(e===null&&!(0,i.isNil)(o)){l=o}else if((0,i.isNaN)(e)&&!(0,i.isNil)(r)){l=r}else{throw new Error("invalid amount")}}else{l=e}if((0,i.isString)(l)){l=l.replace(/[,$]/g,"");l=l.replace(/^\(([\d.]+)\)$/,"-$1")}if(c(l)){return l}try{return new n.default(l)}catch(e){throw new Error("amount cannot be made into a decimal")}}},485600:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a(764680));var i=p(a(964009));var o=a(273641);var s=r(a(669343));var l,d,c,u;function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=f(t);if(a&&a.has(e)){return a.get(e)}var r={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;if(o&&(o.get||o.set)){Object.defineProperty(r,i,o)}else{r[i]=e[i]}}}r.default=e;if(a){a.set(e,r)}return r}const m=(0,o.last)(document.querySelectorAll(".js-stickyTableAnchor"));let h=[];let v;let g;if(m){v=document.querySelectorAll("table#reportTable");g=document.querySelector("#inside-content.page").offsetWidth}let y=(l=(0,i.default)(["/reports/*","/greenhouse/reports/calls.php","/greenhouse/perms.php"]),d=(0,i.onReady)(),l(c=(u=class e{static get className(){return"LegacyReportStickyTable"}static get className(){return"LegacyReportStickyTable"}static get className(){return"LegacyReportStickyTable"}static get className(){return"LegacyReportStickyTable"}_onReadyHandler(t,a){if(!m){return}e.makeTablesSticky();document.addEventListener("navChanged",(e=>{const{isSticky:t}=e.detail;const a=document.getElementById("inside-content");const r=document.querySelectorAll(".fixedToHeader");let n=0;if(!a||!r||!r.length){return}n=(0,o.reduce)(r,((e,t)=>e+t.clientHeight),n);a.style.marginTop=(t?n:0)+"px"}));document.addEventListener("scroll",a.adjustHeader);document.addEventListener("resize",a.adjustHeader)}adjustHeader(){if(document.body.classList.contains("fixedPageHeader")){document.body.style.cssText="position: initial; left: 0px";for(let e=0;e<v.length;e++){v[e].style.cssText="position: initial; left: 0px"}}else{for(let e=0;e<v.length;e++){if(v[e].scrollWidth>g){document.body.style.cssText=`position: relative; left: ${window.pageXOffset}px`;v[e].style.cssText=`position: relative; left: -${window.pageXOffset}px`}}}}static makeTablesSticky(){const e=[].slice.call(document.querySelectorAll(".ts-list"));if(!m){return}h.forEach((e=>{e.destroy()}));h=e.map((e=>new s.default(e,{anchor:m})))}},(0,n.default)(u.prototype,"_onReadyHandler",[d],Object.getOwnPropertyDescriptor(u.prototype,"_onReadyHandler"),u.prototype),u))||c);t.default=y},188382:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ENPS_ON_MOBILE_ANONYMITY_BANNER_ENABLED=t.ENPS_SENTIMENT_RESPONSES_LESS_THAN_SIX_ENABLED=t.ENPS_SENTIMENT_ALL_TAGS_ENABLED=t.ENPS_SENTIMENT_MOST_MENTIONED_ENABLED=t.ENPS_SENTIMENT_TOP5_ENABLED=t.ENPS_SENTIMENT_SCORE_TREND_ENABLED=t.ENPS_SENTIMENT_UI_ENABLED=t.ENPS_SENTIMENT_TAGS_ENABLED=void 0;var r=a(479706);const n=(0,r.isEnabled)("enpsSentimentTags");t.ENPS_SENTIMENT_TAGS_ENABLED=n;const i=(0,r.isEnabled)("enpsSentimentUI");t.ENPS_SENTIMENT_UI_ENABLED=i;const o=(0,r.isEnabled)("enpsSentimentScoreTrend");t.ENPS_SENTIMENT_SCORE_TREND_ENABLED=o;const s=(0,r.isEnabled)("enpsSentimentTop5");t.ENPS_SENTIMENT_TOP5_ENABLED=s;const l=(0,r.isEnabled)("enpsSentimentMostMentioned");t.ENPS_SENTIMENT_MOST_MENTIONED_ENABLED=l;const d=(0,r.isEnabled)("enpsSentimentAllTags");t.ENPS_SENTIMENT_ALL_TAGS_ENABLED=d;const c=(0,r.isEnabled)("enpsSentimentResponsesLessThanSix");t.ENPS_SENTIMENT_RESPONSES_LESS_THAN_SIX_ENABLED=c;const u=(0,r.isEnabled)("enpsOnMobileAnonymityModal");t.ENPS_ON_MOBILE_ANONYMITY_BANNER_ENABLED=u},305136:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"useCurrencies",{enumerable:true,get:function(){return r.useCurrencies}});var r=a(843175)},794403:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(671810);Object.keys(r).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===r[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return r[e]}})}));var n=a(416660);Object.keys(n).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===n[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return n[e]}})}));var i=a(637952);Object.keys(i).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===i[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return i[e]}})}));var o=a(202726);Object.keys(o).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===o[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return o[e]}})}));var s=a(502659);Object.keys(s).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===s[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return s[e]}})}))},533048:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r={getPlanIcon:true,getSmallPlanIcon:true,isPlanEndsRequired:true};Object.defineProperty(t,"getPlanIcon",{enumerable:true,get:function(){return n.getPlanIcon}});Object.defineProperty(t,"getSmallPlanIcon",{enumerable:true,get:function(){return i.getSmallPlanIcon}});Object.defineProperty(t,"isPlanEndsRequired",{enumerable:true,get:function(){return o.isPlanEndsRequired}});var n=a(344371);var i=a(794989);var o=a(806493);var s=a(79429);Object.keys(s).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(r,e))return;if(e in t&&t[e]===s[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return s[e]}})}));var l=a(278694);Object.keys(l).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(r,e))return;if(e in t&&t[e]===l[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return l[e]}})}));var d=a(665297);Object.keys(d).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(r,e))return;if(e in t&&t[e]===d[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return d[e]}})}));var c=a(251012);Object.keys(c).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(r,e))return;if(e in t&&t[e]===c[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return c[e]}})}));var u=a(171748);Object.keys(u).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(r,e))return;if(e in t&&t[e]===u[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return u[e]}})}))},923217:(e,t,a)=>{"use strict";var $=a(992005);var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.EmployeeWellbeingSurvey=void 0;var n=r(a(856075));var i=r(a(573674));var o=a(651745);var s=a(687087);var l=a(835605);var d=a(77415);var c=a(180061);var u=a(548943);var f=a(404985);var p=a(709276);var m=r(a(383577));const h=({historyHook:e,updateQuestionUrl:t,service:a,surveyId:r=0,isPreview:i=false})=>{const h=(0,l.useStyles)();const{canContinue:v,closed:g,submitted:y,dispatchUpdate:b,totalQuestions:w,answer:S,questionNumber:O,nextButtonLabel:T,nextQuestionUrl:C,answers:P,question:E,freeResponse:M,loaded:x,imageUrl:k,updatePending:j,serverError:I}=(0,m.default)({service:a,surveyId:r,useHistoryHook:e,updateQuestionUrl:t});if(!x){return null}return(0,n.default)("div",{className:h.surveyRoot},void 0,!g&&!y?(0,n.default)(d.SurveyWrapper,{isFullBleed:true,isPreview:i,surveyName:"employee-wellbeing"},void 0,(0,n.default)(s.ScreenSize,{render:({isSmallScreen:e})=>(0,n.default)("form",{className:h.cardContentWrapper,onSubmit:e=>b({type:"SUBMIT_ANSWER",payload:e})},void 0,e?(0,n.default)("div",{className:h.questionCount},void 0,$.__("Question %1$s of %2$s",O.toString(),w.toString())):(0,n.default)("div",{className:h.backAndQuestionWrapper},void 0,O!==1&&(0,n.default)(o.TextButton,{className:h.back,onClick:()=>b({type:"PREVIOUS_QUESTION"}),startIcon:(0,n.default)(o.Icon,{name:"fab-arrow-left-8x7"}),type:"button"},void 0,$.__("Back")),(0,n.default)("div",{className:h.questionCounter},void 0,$.__("Question %1$s of %2$s",O.toString(),w.toString()))),(0,n.default)(f.QuestionImage,{imageUrl:k,isSmallScreen:e}),(0,n.default)("div",{className:h.question},void 0,(0,n.default)("h3",{},void 0,E)),(0,n.default)("div",{className:h.answers},void 0,(0,n.default)(u.ResponseOptions,{answers:P,disabled:j,handleAnswerChange:e=>b({type:"UPDATE_ANSWER",payload:e}),isSmallScreen:e,selectedAnswerValue:S})),(0,n.default)(p.SurveyTextField,{disabled:j,freeResponse:M,isSmallScreen:e,onChange:e=>b({type:"UPDATE_RESPONSE",payload:e}),questionNumber:O}),(0,n.default)("div",{className:`${h.submit} ${e&&h.smallSubmitButton}`},void 0,(0,n.default)(o.Button,{disabled:!v,endIcon:C&&(0,n.default)(o.Icon,{name:"fab-double-chevron-right-14x11"}),noSpacing:true,size:"biggie",type:"submit"},void 0,T)),e&&O!==1&&(0,n.default)("div",{className:h.previousQuestion},void 0,(0,n.default)(o.TextButton,{onClick:()=>b({type:"PREVIOUS_QUESTION"}),type:"button"},void 0,$.__("Previous Question"))))})):(0,n.default)(d.SurveyWrapper,{surveyName:"employee-wellbeing"},void 0,!g&&y&&(0,n.default)(c.SurveyStatus,{headerMessage:$.__("Thanks so much for your feedback!"),iconName:"fab-check-circle-48x48",id:"submitted-status",messages:[$.__("Youre all set, feel free to close this window and move on with your life.")]}),g&&(0,n.default)(c.SurveyStatus,{headerMessage:$.__("Survey Period is Now Closed"),iconName:"fab-triangle-exclamation-54x54",id:"closed-status",messages:[$.__("Your feedback is very important."),$.__("Please be sure to look for the next opportunity to answer the survey.")]})),(0,n.default)(o.SlidedownPortal,{action:{text:$.__("Refresh Page"),url:window.location.href},message:$.__("Something went wrong."),show:I,type:"error"}))};t.EmployeeWellbeingSurvey=h},719007:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"EnpsSurvey",{enumerable:true,get:function(){return r.EnpsSurvey}});var r=a(762998)},830734:(e,t,a)=>{"use strict";var r=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=t.render=void 0;var n=r(a(368652));var i=r(a(856075));var o=a(651745);var s=r(a(573674));var l=r(a(604928));var d=a(446034);var c=a(299151);var u=a(300635);let f="a";const p=(e,t,a,r)=>{l.default.render((0,i.default)(d.RecoilRoot,{},void 0,s.default.createElement(o.ThemeProvider,(0,n.default)({classNamePrefix:`jss-${f}`},r),(0,i.default)(o.DatePickerProvider,{formatType:(0,u.getFormatTypeFromGlobalDateMask)(),locale:(0,u.getLocale)()},void 0,e))),t,a);f=(0,c.nextClassPrefix)(f)};t.render=p;var m={render:p};t.default=m},497821:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<ul class="BhrTabs__tabList js-BhrTabs__tabList ',window.microTemplate.encodeHtml(extraClasses.tabList||""),'"> ');tabs.forEach((function(e){p.push('<li class="BhrTabs__tab BhrTabs__tab--',window.microTemplate.encodeHtml(e.name),"",window.microTemplate.encodeHtml(e.active?" BhrTabs__tab--active":""),"",window.microTemplate.encodeHtml(e.disabled?" BhrTabs__tab--disabled":"")," js-BhrTabs__tab ",window.microTemplate.encodeHtml(extraClasses.tab||""),"",window.microTemplate.encodeHtml(e.icon?" BhrTabs__tab--withIcon":""),"",window.microTemplate.encodeHtml(collapseTabs?" bhrCollapseTab":""),'" ',e.biData?"data-bi-id='"+e.biData+"'":"",' data-tab-name="',window.microTemplate.encodeHtml(e.name),'">  ');if(typeof e.icon==="string"){p.push("   ");if(/^\#/.test(e.icon)){p.push('    <svg class="BhrTabs__tabIcon ',window.microTemplate.encodeHtml(extraClasses.tabIcon||""),' baseFillColor">     <use xlink:href="',window.microTemplate.encodeHtml(e.icon),'"></use>    </svg>   ')}else{p.push('    <ba-icon name="',window.microTemplate.encodeHtml(e.icon),'" class="BhrTabs__tabIcon ',window.microTemplate.encodeHtml(extraClasses.tabIcon||""),' baseFillColor"></ba-icon>   ')}p.push("  ")}else if(e.icon&&typeof e.icon==="object"){p.push('   <ba-icon name="',window.microTemplate.encodeHtml(e.icon.name),'"    ');if(e.icon.artboard){p.push("     ",e.icon.artboard.size?'artboard-size="'+microTemplate.encodeHtml(e.icon.artboard.size)+'"':"","     ",e.icon.artboard.align?'artboard-align="'+microTemplate.encodeHtml(e.icon.artboard.align)+'"':"","    ")}p.push('    class="BhrTabs__tabIcon ',window.microTemplate.encodeHtml(extraClasses.tabIcon||""),' baseFillColor"></ba-icon>  ')}p.push("  ");if(clickable===true){p.push('   <a href="',window.microTemplate.encodeHtml(e.href||"#"),'" class="BhrTabs__tabLink ',window.microTemplate.encodeHtml(extraClasses.tabLink||""),'">    ',window.microTemplate.encodeHtml(e.label),"   </a>  ")}else{p.push('   <span class="BhrTabs__tabText ',window.microTemplate.encodeHtml(extraClasses.tabText||""),'">    ',window.microTemplate.encodeHtml(e.label),"   </span>  ")}p.push("  ");if(e.description){p.push('   <span class="BhrTabs__tabDescription ',window.microTemplate.encodeHtml(extraClasses.tabDescription||""),'">',BambooHR.Utils.sanitizeHtml(e.description),"</span>  ")}p.push("  </li>")}));if(collapseTabs){p.push('<li class="moreItems">   <a class="moreLink">',window.microTemplate.encodeHtml($.__("More")),'</a>   <ul class="moreMenu"></ul>  </li>')}p.push(' </ul> <div class="BhrTabs__tabContentWrapper js-BhrTabs__tabContentWrapper ',window.microTemplate.encodeHtml(extraClasses.tabContentWrapper||""),'"></div> ')}return p.join("")}},814129:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="PopoverStandard ',window.microTemplate.encodeHtml(popoverClass),'">   ');if(title){p.push('   <div class="PopoverStandard__title baseColor ',window.microTemplate.encodeHtml(titleClass),'" style="',window.microTemplate.encodeHtml(titleCssOverride),'">    ',window.microTemplate.encodeHtml(title),"   </div>  ")}p.push('   <div class="PopoverStandard__content ',window.microTemplate.encodeHtml(contentClass),'" style="',window.microTemplate.encodeHtml(contentCssOverride),'">   ');if(rawContent){p.push("    ",content,"   ")}else{p.push("    ",window.microTemplate.encodeHtml(content),"   ")}p.push("  </div> </div> ")}return p.join("")}},557696:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");var alignMap={left:"TooltipStandard--textLeft",right:"TooltipStandard--textRight",center:"TooltipStandard--textCenter"};var tooltipClasses="TooltipStandard "+alignMap[textAlign];p.push('  <div class="',window.microTemplate.encodeHtml(tooltipClasses),'">   ');if(title){p.push('   <p class="TooltipStandard__title">',window.microTemplate.encodeHtml(title),"</p>  ")}p.push("   ");if(Array.isArray(content)){p.push("   <ul>    ");content.forEach((function(e){p.push("     <li>",window.microTemplate.encodeHtml(e),"</li>    ")}));p.push("   </ul>  ")}else{p.push("   ",window.microTemplate.encodeHtml(content),"  ")}p.push(" </div> ")}return p.join("")}},41371:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");if(jadeEnabled){p.push('  <ba-select class="js-biweekly-which-week" width="7" not-clearable>   <ba-option value="1" data-biweekly-date="',window.microTemplate.encodeHtml(first.format()),'">    ...',window.microTemplate.encodeHtml(first.format("MMM DD")),",    ",window.microTemplate.encodeHtml(first.add(2,"week").format("MMM DD")),",    ",window.microTemplate.encodeHtml(first.add(2,"week").format("MMM DD")),'...   </ba-option>   <ba-option value="2" data-biweekly-date="',window.microTemplate.encodeHtml(second.format()),'">    ...',window.microTemplate.encodeHtml(second.format("MMM DD")),",    ",window.microTemplate.encodeHtml(second.add(2,"week").format("MMM DD")),",    ",window.microTemplate.encodeHtml(second.add(2,"week").format("MMM DD")),"...   </ba-option>  </ba-select> ")}else{p.push('  <option value="1" data-biweekly-date="',window.microTemplate.encodeHtml(first.format()),'">   ...',window.microTemplate.encodeHtml(first.format("MMM DD")),",   ",window.microTemplate.encodeHtml(first.add(2,"week").format("MMM DD")),",   ",window.microTemplate.encodeHtml(first.add(2,"week").format("MMM DD")),'...  </option>  <option value="2" data-biweekly-date="',window.microTemplate.encodeHtml(second.format()),'">   ...',window.microTemplate.encodeHtml(second.format("MMM DD")),",   ",window.microTemplate.encodeHtml(second.add(2,"week").format("MMM DD")),",   ",window.microTemplate.encodeHtml(second.add(2,"week").format("MMM DD")),"...  </option> ")}p.push(" ")}return p.join("")}},272779:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push(' <div class="RehireModal">  ');if(!jadeEnabled){p.push('  <div class="EmploymentStatusHeader baseColorBg">   <img class="EmploymentStatusHeader__icon EmploymentStatusHeader__icon--low" src="/images/employees/badge.svg" />   <div class="EmploymentStatusHeader__title">',window.microTemplate.encodeHtml(model.employeeName),"</div>  </div>  ")}p.push('  <div class="RehireModal__form">   <form class="BhrForms BhrForms--noSpace js-rehire-modal-form">    <fieldset class="moz-override">     <div class="fieldRow">      <div class="fieldBox required">       <label for="effectiveDate" class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml(model.fields.effectiveDate.label),'</label>       <div class="fieldDiv fab-InputWrapper">        <input ',window.microTemplate.encodeHtml(jadeEnabled?"calendar-picker no-facade":""),' id="effectiveDate" name="effectiveDate" type="text" class="calendar-field date-field js-validate-date-field js-validate-mindate js-effectiveDate fab-TextInput" />       </div>      </div>     </div>      <div class="fieldRow">      <div class="fieldBox required">       <label for="employmentStatusId" class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml(model.fields.employmentStatusId.label),'</label>       <div class="fieldDiv">        ');if(!jadeEnabled){p.push('         <select id="employmentStatusId" name="employmentStatusId" class="long">          ',generateOptions(model.fields.employmentStatusId),"         </select>        ")}else{p.push('         <ba-select width="5" id="employmentStatusId" class="js-employmentStatusSelect" name="employmentStatusId" required="true">          ',generateOptions(model.fields.employmentStatusId),"         </ba-select>        ")}p.push("       </div>      </div>       ");if(model.fields.hasOwnProperty("taxEmployeeTypeId")){p.push('      <div class="fieldBox">       <label for="taxEmployeeTypeId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.taxEmployeeTypeId.label),'</label>       <div class="fieldDiv">        <ba-select width="5" id="taxEmployeeTypeId" name="taxEmployeeTypeId">         ',generateOptions(model.fields.taxEmployeeTypeId),"        </ba-select>       </div>      </div>      ")}p.push("      </div>      ");if(model.fields.hasOwnProperty("acaStatus")||model.fields.hasOwnProperty("benetracStatusId")){p.push('     <div class="fieldRow">      ');if(model.fields.hasOwnProperty("acaStatus")){p.push('      <div class="fieldBox required">       <label for="acaStatus" class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml(model.fields.acaStatus.label),'</label>       <div class="fieldDiv">        ');if(!jadeEnabled){p.push('         <select id="acaStatus" name="acaStatus" class="long">          ',generateOptions(model.fields.acaStatus),"         </select>        ")}else{p.push('         <ba-select width="7" id="acaStatus" name="acaStatus" required="true">          ',generateOptions(model.fields.acaStatus),"         </ba-select>        ")}p.push("       </div>      </div>      ")}p.push("      ");if(model.fields.hasOwnProperty("benetracStatusId")){p.push('      <div class="fieldBox required">       <label for="benetracStatusId" class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml(model.fields.benetracStatusId.label),'</label>       <div class="fieldDiv">        ');if(!jadeEnabled){p.push('         <select id="benetracStatusId" name="benetracStatusId" class="long">           ',generateOptions(model.fields.benetracStatusId),"         </select>        ")}else{p.push('         <ba-select width="7" id="benetracStatusId" name="benetracStatusId" required="true">           ',generateOptions(model.fields.benetracStatusId),"         </ba-select>        ")}p.push("       </div>      </div>      ")}p.push("     </div>     ")}p.push('     </fieldset>    <fieldset class="moz-override">     <div class="fieldRow">      <div class="fieldBox">       <label for="jobTitleId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.jobTitleId.label),'</label>       <div class="fieldDiv">        ');if(!jadeEnabled){p.push('         <select id="jobTitleId" name="jobTitleId" class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.jobTitleId,["xlong"])),'">          ',generateOptions(model.fields.jobTitleId),"         </select>        ")}else{p.push("         <ba-select          ",window.microTemplate.encodeHtml(getCanAddAttributes(model.fields.jobTitleId)),'          class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.jobTitleId,["xlong"])),'"          data-add-item-field-id="jobTitleId"          data-add-item-label="',window.microTemplate.encodeHtml(model.fields.jobTitleId.label),'"          id="jobTitleId"          name="jobTitleId"          width="5"         >           ',generateOptions(model.fields.jobTitleId),"         </ba-select>        ")}p.push('       </div>      </div>      <div class="fieldBox">       <label for="reportsToEmployeeId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.reportsToEmployeeId.label),'</label>       <div class="fieldDiv">        ');if(!jadeEnabled){p.push('         <select name="reportsToEmployeeId" class="xlong">          ',generateOptions(model.fields.reportsToEmployeeId),"         </select>        ")}else{p.push('         <ba-select width="5" id="reportsToEmployeeId" name="reportsToEmployeeId">          ',generateOptions(model.fields.reportsToEmployeeId),"         </ba-select>        ")}p.push('        </div>      </div>     </div>     <div class="fieldRow">      <div class="fieldBox">       <label for="departmentId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.departmentId.label),'</label>       <div class="fieldDiv">        ');if(!jadeEnabled){p.push('         <select id="departmentId" name="departmentId" class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.departmentId,["xlong"])),'">          ',generateOptions(model.fields.departmentId),"         </select>        ")}else{p.push("         <ba-select          ",window.microTemplate.encodeHtml(getCanAddAttributes(model.fields.departmentId)),'          class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.departmentId,["xlong"])),'"          data-add-item-field-id="departmentId"          data-add-item-label="',window.microTemplate.encodeHtml(model.fields.departmentId.label),'"          id="departmentId"          name="departmentId"          width="5"         >          ',generateOptions(model.fields.departmentId),"         </ba-select>        ")}p.push('       </div>      </div>      <div class="fieldBox">       <label for="divisionId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.divisionId.label),'</label>       <div class="fieldDiv">        ');if(!jadeEnabled){p.push('         <select id="divisionId" name="divisionId" class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.divisionId,["xlong"])),'">          ',generateOptions(model.fields.divisionId),"         </select>        ")}else{p.push("         <ba-select          ",window.microTemplate.encodeHtml(getCanAddAttributes(model.fields.divisionId)),'          class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.divisionId,["xlong"])),'"          data-add-item-field-id="divisionId"          data-add-item-label="',window.microTemplate.encodeHtml(model.fields.divisionId.label),'"          id="divisionId"          name="divisionId"          width="5"         >          ',generateOptions(model.fields.divisionId),"         </ba-select>        ")}p.push('       </div>      </div>     </div>     <div class="fieldRow">      <div class="fieldBox">       <label for="locationId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.locationId.label),'</label>       <div class="fieldDiv">        ');if(!jadeEnabled){p.push('         <select id="locationId" name="locationId" class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.locationId,["xlong"])),'">          ',generateOptions(model.fields.locationId),"         </select>        ")}else{p.push("         <ba-select          ",window.microTemplate.encodeHtml(getCanAddAttributes(model.fields.locationId)),'          class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.locationId,["xlong","js-location-insertable-list"])),'"          data-add-item-label="',window.microTemplate.encodeHtml(model.fields.locationId.label),'"          id="locationId"          name="locationId"          width="5"         >          ',generateOptions(model.fields.locationId),"         </ba-select>        ")}p.push("       </div>      </div>     </div>    </fieldset>    ");if(!model.hasTrax){p.push('    <fieldset class="moz-override">     <div class="fieldGroup ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"required":""),'">      <label class="fab-Label ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"fab-Label--required":""),'">',window.microTemplate.encodeHtml($.__("Pay Rate")),'</label>      <div class="fieldRow fieldRow--forceBottomSpace">       <div class="fieldBox">        <div class="fieldDiv fab-InputWrapper">         ');if(!jadeEnabled){p.push('         <div class="CurrencyPicker">         ')}p.push('          <input class="fab-TextInput fab-TextInput--width4 currency-field js-rate js-rate-display js-validate-payRate CurrencyPicker__input" type="text" name="rate[0]"           value="',window.microTemplate.encodeHtml(model.fields["rate[0]"].value),'" data-cursymbol="',window.microTemplate.encodeHtml(model.fields["rate[0]"].meta.symbol),'" >          <a class="fab-TextInput__button fab-TextInput__button--text CurrencyPicker__button" onclick="showNewCurrencyPicker(this, \'.js-rate-display\', \'.js-rate-hidden\')" data-employee-id="',window.microTemplate.encodeHtml(model.employeeId),'">           ',window.microTemplate.encodeHtml(model.fields["rate[1]"].value),'          </a>          <input class="currencyType js-rate-hidden" type="hidden" name="rate[1]" value="',window.microTemplate.encodeHtml(model.fields["rate[1]"].value),'">         ');if(!jadeEnabled){p.push("         </div>         ")}p.push('        </div>       </div>       <div class="fieldBox compensation-per">        ',window.microTemplate.encodeHtml($.__("per")),'       </div>       <div class="fieldBox">        <div class="fieldDiv">         ');if(!jadeEnabled){p.push('          <select name="paidPer" class="js-validate-payRate">           ',generateOptions(model.fields.paidPer),"          </select>         ")}else{p.push('          <ba-select           width="5"           id="paidPer"           name="paidPer"           class="js-validate-payRate"           ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?'required="true"':""),"          >           ",generateOptions(model.fields.paidPer),"          </ba-select>         ")}p.push('        </div>       </div>      </div>     </div>     <div class="fieldRow">      <div class="fieldBox ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"required":""),'">       <label class="fab-Label ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"fab-Label--required":""),'">',window.microTemplate.encodeHtml(model.fields.payType.label),'</label>       <div class="fieldDiv">         ');if(!jadeEnabled){p.push('          <select name="payType" class="long">           ',generateOptions(model.fields.payType),"          </select>         ")}else{p.push('          <ba-select           width="5"           id="payType"           name="payType"           ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?'required="true"':""),"          >           ",generateOptions(model.fields.payType),"          </ba-select>         ")}p.push('        </div>      </div>      <div class="fieldBox ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"required":""),'">       <label for="payPeriod" class="fab-Label ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"fab-Label--required":""),'" >',window.microTemplate.encodeHtml(model.fields.payPeriod.label),'</label>       <div class="fieldDiv">        ');if(!jadeEnabled){p.push('         <select id="payPeriod" name="payPeriod" class="long ',window.microTemplate.encodeHtml(model.fields.payPeriod.classes),'">          ',generateOptions(model.fields.payPeriod),"         </select>        ")}else{p.push('         <ba-select          width="5"          id="payPeriod"          name="payPeriod"          ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?'required="true"':""),"         >          ",generateOptions(model.fields.payPeriod),"         </ba-select>        ")}p.push("       </div>      </div>     </div>    </fieldset>    ")}p.push("   </form>  </div> </div> ")}return p.join("")}},606312:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="navigateAwayModal">     <img src="/images/bicons/warning-icon-lrg.png"/>     <div class="navHeader">',$.__("Reset password for %1$s?","<strong>"+BambooHR.Utils.htmlentities(firstName)+"</strong>"),'</div>     <p class="navMessage">         ',$.__("An email will be sent to %1$s containing a reset password.","<strong>"+(BambooHR.Utils.htmlentities(email)||$.__("the user"))+"</strong>"),"     </p> </div> ")}return p.join("")}},394637:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");if(jadeEnabled){p.push('  <div id="uploadFilesDialog">   <form name="fileUploadForm" id="fileUploadForm" class="shareForm">    <div class="fileField multiUpload">     <div class="uploadDesc">      <ba-icon class="uploadModalIcon" name="fab-upload-20x24"></ba-icon><span class="upload-msg">',window.microTemplate.encodeHtml($.__("Drop Files Here to Upload")),"</span><br/>      <span>",window.microTemplate.encodeHtml($.__("or")),'</span><br/>     </div>     <div class="FileUploadActions">      <div class="files"></div>      <span class="attach-wrapper centerThis" data-id="resume"></span>     </div>    </div>   </form>  </div> ')}else{p.push(' <div id="uploadFilesDialog">  <form name="fileUploadForm" id="fileUploadForm" class="shareForm" style="width: 445px;">   <div class="fileField multiUpload">    <div class="uploadDesc">     <span class="upload-msg">',window.microTemplate.encodeHtml($.__("Drop Files Here to Upload")),"</span><br/>     <span>",window.microTemplate.encodeHtml($.__("or")),'</span><br/>    </div>    <div class="fieldDiv">     <div class="files"></div>     <span class="attach-wrapper centerThis" data-id="resume"></span>    </div>   </div>  </form> </div> ')}p.push("  ")}return p.join("")}},365720:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="navigateAwayModal LargeRequestModal__container">  <ba-icon class="LargeRequestModal__icon" name="fab-triangle-exclamation-48x48"></ba-icon>  <div class="LargeRequestModal__text">   <h4 class="LargeRequestModal__header">',window.microTemplate.encodeHtml($.__("Youre Requesting %1$s %2$s off",window.formatNumberJS(days),"days")),'</h4>   <p class="LargeRequestModal__dates">    ',$.__("You are requesting time off for %1$s%2$s%3$s to %4$s%5$s%6$s.","<strong>",startDay,"</strong>","<strong>",endDay,"</strong>"),"<br />    ",window.microTemplate.encodeHtml($.__("It may take a moment for the selected days to load.")),"   </p>  </div> </div>")}return p.join("")}},181779:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<p class="AccessLevelSelector__emailModalMsg">  ',window.microTemplate.encodeHtml($.__("%1$s needs a home or work email in order to be added to an Access Level. Add one or both below.",user.firstName)),' </p> <form class="BhrForms" id="access-levels-require-email-form">  <div class="fieldGroup">   <div class="fieldRow">    <div class="fieldBox">     <label class="fab-Label">',window.microTemplate.encodeHtml($.__("Email")),'</label>     <div class="fieldDiv">     ');if(hasEmployee){p.push('      <span class="inputIcons inputOfficeIcon">       <input type="text" class="fab-TextInput fab-TextInput--width8 xxlong" name="workEmail" placeholder="',window.microTemplate.encodeHtml($.__("Work")),'" />      </span>     ')}else{p.push('      <input type="text" class="xxlong" name="email" />     ')}p.push("     </div>    </div>   </div>   ");if(hasEmployee){p.push('   <div class="fieldRow">    <div class="fieldBox">     <div class="fieldDiv">      <span class="inputIcons inputHomeIcon">       <input type="text" class="fab-TextInput fab-TextInput--width8 xxlong" name="homeEmail" placeholder="',window.microTemplate.encodeHtml($.__("Home")),'" />      </span>     </div>    </div>   </div>   ')}p.push("  </div> </form> ")}return p.join("")}},888674:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");accessLevelIds.forEach((function(e){p.push('  <input type="hidden" name="',window.microTemplate.encodeHtml(inputFieldName),'" value="',window.microTemplate.encodeHtml(e),'" /> ')}));p.push(' <input type="hidden" name="',window.microTemplate.encodeHtml(noAccessFieldName),'" value="',window.microTemplate.encodeHtml(noAccessValue),'" /> ')}return p.join("")}},590416:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push(' <div style="width:425px;">  <div class="navigateAwayModal">   <img src="/images/bicons/warning-icon-lrg.png" />   <div class="navHeader">    ',window.microTemplate.encodeHtml(data.navHeader),'   </div>   <p class="navMessage">    ',window.microTemplate.encodeHtml(data.navMessage),"   </p>  </div> </div> ")}return p.join("")}},648020:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");var uploadedFiles=newUploadedFiles||false;p.push("  ");files.forEach((function(e){var t=e.isEsig||e.info&&e.info.icon&&typeof e.info.icon.indexOf==="function"&&e.info.icon.indexOf("esignature")>-1;var a=window.BambooHR.Utils.getIconNameFromFileName(e.originalName||e.name,"16x20",t);p.push(' <div class="FileCard js-file  ');if(e.disabled){p.push("  FileCard--disabled  ")}p.push("  ");if(e.mode==="display"||theme==="display"){p.push("  FileCard--display  ")}p.push("  ");if(e.theme==="light"||theme==="light"){p.push("  FileCard--light  ")}p.push('"  ');if(e.data){p.push("   ");Object.keys(e.data).filter((function(t){return e.data[t]})).forEach((function(t){p.push("    data-",window.microTemplate.encodeHtml(t),'="',window.microTemplate.encodeHtml(e.data[t]),'"   ')}));p.push("  ")}p.push("  ");if(e.action){p.push('   data-action="',window.microTemplate.encodeHtml(e.action),'"  ')}p.push('  data-file-id="',window.microTemplate.encodeHtml(e.fileId),'"  data-id="',window.microTemplate.encodeHtml(e.id),'"     data-key="',window.microTemplate.encodeHtml(e.key),'" >  <span class="FileCard__detail">   <span class="FileCard__title dot-ellipsis" title="',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.name)),'">    ',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.name)),"   </span>   ");if(e.status){p.push('    <span class="FileCard__status dot-ellipsis" title="',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.status)),'">     ',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.status)),"    </span>   ")}p.push('  </span>  <span class="FileCard__info">   ');if(jadeEnabled!==undefined&&jadeEnabled){p.push("    ");if(a){p.push('     <span class="FileCard__icon">      <ba-icon name=',window.microTemplate.encodeHtml(a),' alt="');if(e.isSafe){p.push("",window.microTemplate.encodeHtml(e.name),"")}else{p.push("'Virus Detected'")}p.push('"></ba-icon>     </span>    ')}p.push("   ")}else{p.push("    ");if(e.info.icon){p.push('     <img class="FileCard__image" src="/images/files/types/',window.microTemplate.encodeHtml(e.info.icon),'" alt="');if(e.isSafe){p.push("",window.microTemplate.encodeHtml(e.name),"")}else{p.push("'Virus Detected'")}p.push('"/>    ')}p.push("   ")}p.push("    ");if(e.info.className&&e.mode==="display"){p.push('    <span class="FileCard__btn FileCard__btn--',window.microTemplate.encodeHtml(e.info.className),'">     ',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.info.text)),"    </span>   ")}else{p.push("    ",window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.info.text)),"   ")}p.push("  </span> ");if(e.mode!=="display"){p.push("  ");if(e.data.isComplete===null){p.push('   <span class="FileCard__close js-fc-close"></span>  ')}else{p.push('   <span class="FileCard__close js-fc-modal" data-is-complete="',window.microTemplate.encodeHtml(e.data.isComplete),'"></span>  ')}p.push("   ");if(jadeEnabled!==undefined&&jadeEnabled){p.push("   ");if(e.info.text==="Esignature"){p.push('    <label class="bhrToggle bhrToggle--require"          data-tip-class="bhrTooltip--autoWidth"          ');if(e.required==="yes"){p.push('      data-tip-content="',window.microTemplate.encodeHtml($.__("Click to make the signature optional.")),'"      data-tip-lead="',window.microTemplate.encodeHtml($.__("Signature Required")),'"     ')}else{p.push('      data-tip-content="',window.microTemplate.encodeHtml($.__("Click to make the signature required.")),'"      data-tip-lead="',window.microTemplate.encodeHtml($.__("Signature Optional")),'"     ')}p.push('      data-tip-delay="800"    >     <input      type="checkbox"      class="bhrToggle__input js-fc-toggle-required"      name="fc-toggle-',window.microTemplate.encodeHtml(e.fileId),'"      data-file-id="',window.microTemplate.encodeHtml(e.fileId),'"      ');if(e.required==="yes"){p.push("      checked      ")}p.push('     >     <span class="bhrToggle__label"></span>     <span class="bhrToggle__handle"></span>    </label>   ')}p.push("  ")}else{p.push("   ");if(e.info.text==="Esignature"){p.push('    <label class="bhrToggle bhrToggle--require"     data-tip-class="bhrTooltip--autoWidth"    ');if(e.required==="yes"){p.push('     data-tip-content="',window.microTemplate.encodeHtml($.__("Click to make the signature optional.")),'"     data-tip-lead="',window.microTemplate.encodeHtml($.__("Signature Required")),'"    ')}else{p.push('     data-tip-content="',window.microTemplate.encodeHtml($.__("Click to make the signature required.")),'"     data-tip-lead="',window.microTemplate.encodeHtml($.__("Signature Optional")),'"    ')}p.push('     data-tip-delay="800"    >     <input      type="checkbox"      class="bhrToggle__input js-fc-toggle-required"      name="fc-toggle-',window.microTemplate.encodeHtml(e.fileId),'"      data-file-id="',window.microTemplate.encodeHtml(e.fileId),'"      ');if(e.required==="yes"){p.push("      checked      ")}p.push('     >     <span class="bhrToggle__label baseColor-after"></span>     <span class="bhrToggle__handle"></span>    </label>   ')}p.push("  ")}p.push('  <input type="hidden" class="js-file-ids" ');if(uploadedFiles){p.push(' name="temporary_file_ids[]" ')}else{p.push(' name="file_ids[]" ')}p.push(' id="',window.microTemplate.encodeHtml("filesinput-"+e.fileId),'" value="',window.microTemplate.encodeHtml(e.id),'" /> ')}p.push(" </div> ")}));p.push(" ")}return p.join("")}},160869:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);var moment=__webpack_require__(496406);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");records.forEach((function(e){var t="no";var a=window.BambooHR.Utils.getIconNameFromFileName(e.original_file_name,"20x24");var r="no";var n=false;var i="FileList__row js-file-section_"+e.file_section_id;if(e.esignature_template_id!==null&&e.has_esignatures&&e.esignatures&&e.esignatures.has_fields){t="yes"}if(e.esignature_template_id&&e.esignatures&&e.esignatures.has_fields){i+=" show-esignature-template"}if(e.meta!==undefined){if(e.meta.required==="yes"){r="yes"}if(e.meta.checked){i+=" FileList__row--active";n=true}if(e.meta.disabled){i+=" FileList__row--disabled"}}p.push('  <li class="',window.microTemplate.encodeHtml(i),'">  <div class="FileList__check">   <div class="fab-Checkbox">    <input     type="checkbox"     name=""     class="js-file-check fab-Checkbox__input"     id="check',window.microTemplate.encodeHtml(e.id+"-"+t+"-"+r),'"     data-can-see="',window.microTemplate.encodeHtml(e.can_see_file),'"     data-ext="',window.microTemplate.encodeHtml(t==="yes"?$.__("Esignature"):e.ext),'"     data-file-id="',window.microTemplate.encodeHtml(e.id),'"     data-file-data-id="',window.microTemplate.encodeHtml(e.most_recent_file_data_id),'"     data-icon="',window.microTemplate.encodeHtml(e.img_sizes.small),'"     data-name="',window.microTemplate.encodeHtml(e.name),'"     data-original-name="',window.microTemplate.encodeHtml(e.original_file_name),'"     data-required="',window.microTemplate.encodeHtml(r),'"     ');if(n){p.push("     checked     ")}p.push("     ");if(e.meta.disabled){p.push("     disabled     ")}p.push('    />    <span class="fab-Checkbox__box"></span>    <label class="fab-Checkbox__label" for="check',window.microTemplate.encodeHtml(e.id+"-"+t+"-"+r),'"        ');if(e.meta.disabled){p.push('        data-tip-content="',window.microTemplate.encodeHtml(e.meta.disabledText),'"        ')}p.push('    ></label>   </div>  </div>  <div class="FileList__icon">   ');if(e.img_sizes.medium==="esignature.png"){p.push("    <ba-icon name='fab-file-esig-20x24'></ba-icon>   ")}else{p.push("    <ba-icon name=",window.microTemplate.encodeHtml(a),"></ba-icon>   ")}p.push('   </div>  <div class="FileList__info">   <span class="FileList__info-title truncate">',window.microTemplate.encodeHtml(e.name),'</span>   <span class="FileList__info-can-see-file hidden">',window.microTemplate.encodeHtml(e.can_see_file),'</span>   <span class="FileList__info-info">   ');var o=moment(e.created).format(moment.convert.jQuery(GLOBAL_DATEPICKER_MASK));var s;if(e.created_str){s=e.created_str}else if(e.created_user_id>0){s=$.__("Created %1$s by %2$s",o,e.created_user)}else{s=$.__("Created %1$s",o)}p.push("   ",window.microTemplate.encodeHtml(s+" ("+window.BambooHR.Utils.humanFileSize(e.size)+")"),"   </span>  </div>  ");if(t==="yes"){p.push('  <div class="FileList__actions">   <span     class="bhrTooltip"     onmouseenter="window.sharedFilesManager.createTooltip(this);"     onmouseleave="window.sharedFilesManager.destroyTooltip();"     data-required-action="',window.microTemplate.encodeHtml(e.id),'"   >    <label class="bhrToggle bhrToggle--require js-file-action">     <input       type="checkbox"       class="bhrToggle__input"       data-file-id="',window.microTemplate.encodeHtml(e.id),'"       ');if(r==="yes"){p.push("      checked      ")}p.push('     >     <span class="bhrToggle__label"></span>     <span class="bhrToggle__handle"></span>    </label>   <span>  </div>  ')}p.push(" </li> ")}));p.push("  ");if(records.length===0){p.push(' <div class="FileList-BlankStateWrapper">  <div class="FilesWrapper__BlankState blankState">   <svg class="blankState__image" xmlns="http://www.w3.org/2000/svg" width="52" height="65" viewBox="0 0 52 65">    <polygon points="0 0 32.9 0 52.1 19.3 52 65 0 65" fill="#d4d4d4"/>    <path fill="#fff" d="M23.6 45.2C23.4 44.3 23.5 43.4 23.7 42.6 23.9 41.9 24.1 41.1 24.5 40.5 24.9 39.8 25.3 39.2 25.8 38.7 26.3 38.1 26.7 37.6 27.2 37 27.6 36.5 28 36 28.2 35.5 28.5 34.9 28.7 34.4 28.7 33.8 28.7 32.8 28.4 32.1 27.8 31.5 27.3 31 26.5 30.7 25.5 30.7 24.7 30.7 24 30.8 23.3 31.2 22.7 31.6 22.1 32.1 21.5 32.7L19 30.4C19.8 29.4 20.8 28.6 22 28 23.1 27.3 24.4 27 25.8 27 26.9 27 27.8 27.1 28.7 27.4 29.6 27.7 30.4 28.1 31 28.6 31.7 29.2 32.2 29.9 32.5 30.7 32.9 31.5 33 32.4 33 33.5 33 34.3 32.9 35.1 32.6 35.7 32.3 36.4 31.9 37 31.5 37.6 31 38.2 30.6 38.8 30.1 39.3 29.5 39.9 29.1 40.4 28.7 41 28.3 41.6 28 42.3 27.7 43 27.5 43.6 27.4 44.4 27.5 45.2L23.6 45.2ZM22.7 51C22.7 50.1 22.9 49.4 23.5 48.8 24 48.3 24.7 48 25.6 48 26.4 48 27.1 48.3 27.6 48.8 28.2 49.4 28.5 50.1 28.5 51 28.5 51.9 28.2 52.6 27.6 53.2 27.1 53.8 26.4 54.1 25.6 54.1 24.7 54.1 24 53.8 23.5 53.2 22.9 52.6 22.7 51.9 22.7 51L22.7 51Z"/>    <polygon fill="#fff" points="31 2 50 21 31 21"/>   </svg>   <div class="blankState__subText--large">',blankState.empty,"</div>   ");if(blankState.link){p.push('   <a href="',window.microTemplate.encodeHtml(blankState.link.url),'" onclick="window.SimpleModal.closeModal();" class="blankState__link" target="_blank" rel="noopener noreferrer">',window.microTemplate.encodeHtml(blankState.link.text),"</a>   ")}p.push("  </div> </div> ")}p.push(" ")}return p.join("")}},844661:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div id="addFileModal" class="FileListModal">  <form action="" id="js-FilesAddForm">   <div class="FileListModal__subHeader">    <div class="fl-left">     <ba-select is-clearable="false" class="js-FilesAddSelect" width="6">      <ba-option value="all" selected>',window.microTemplate.encodeHtml($.__("All Files")),"</ba-option>      ");sections.forEach((function(e){p.push("       ");if(e.visibility!=="hidden"){p.push('        <ba-option value="',window.microTemplate.encodeHtml(e.id),'">',window.microTemplate.encodeHtml(e.name),"</ba-option>      ")}p.push("      ")}));p.push('     </ba-select>    </div>    <div class="FilesList__count js-filecount fl-right">     ',window.microTemplate.encodeHtml($.__n("%s File Selected","%s Files Selected",selectedFiles)),'    </div>   </div>   <ul class="FileList FileList--modal FileList--scrollable js-FileList"></ul>  </form> </div> ')}return p.join("")}},909224:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="ClockedOutError">  <ba-icon name="triangle-exclamation-26x23" class="ClockedOutError__warningIcon"></ba-icon>  <div class="ClockedOutError__message">   <div class="ClockedOutError__messageHeader">    ',window.microTemplate.encodeHtml($.__("At least one employee just clocked out.")),'   </div>   <div class="ClockedOutError__messageText">    ',window.microTemplate.encodeHtml($.__("Before you clicked approve, one or more employees clocked out.")),"    ",window.microTemplate.encodeHtml($.__("Please go back and review and approve any potential changes.")),"   </div>  </div> </div> ")}return p.join("")}},48582:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="TimeTrackingGenericWarningModal">  <ba-icon name="fab-triangle-exclamation-24x24" class="TimeTrackingGenericWarningModal__alertIcon"></ba-icon>  <div>   <div class="TimeTrackingGenericWarningModal__header">    ',header,'   </div>   <div class="TimeTrackingGenericWarningModal__description">    ',description,"   </div>  </div> </div>")}return p.join("")}},224438:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="TimeTrackingWarningModal">  <ba-icon name="',window.microTemplate.encodeHtml(iconName),'" class="TimeTrackingWarningModal__icon"></ba-icon>  ');paragraphs.forEach((function(e){p.push('   <div class="TimeTrackingWarningModal__paragraph">',e,"</div>  ")}));p.push(" </div> ")}return p.join("")}},616482:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");if(workWeekStartsOn.count>0){p.push('  <div class="TimeDetail__workWeekWarning">   <ba-icon class="TimeDetail__workWeekWarning__icon" name="fab-triangle-exclamation-20x20"></ba-icon>   <p class="TimeDetail__workWeekWarning__text">    ',window.microTemplate.encodeHtml(workWeekWarningMessage),"   </p>  </div> ")}p.push('  <div class="TimeDetail">   <div class="TimeDetailSlats">    ');entries.forEach((function(e,t){p.push('   <div class="TimeDetailSlat">    <div class="TimeDetailSlat__day">     ');if(e.hasWorkWeekStartsOnChanged){p.push('      <div class="TimeDetailSlat__day__workWeekWarning js-time-details-work-week-warning-icon">       <ba-icon class="TimeDetailSlat__day__workWeekWarning__icon" name="fab-triangle-exclamation-16x16"></ba-icon>      </div>     ')}p.push('     <div class="TimeDetailSlat__dayOfWeek">',window.microTemplate.encodeHtml(e.dayOfWeek),'</div>     <div class="TimeDetailSlat__dayDate">',window.microTemplate.encodeHtml(e.dayDate),'</div>    </div>    <div class="TimeDetailSlat__data">     <div class="TimeDetailSlat__hours">',window.microTemplate.encodeHtml(formatTime(e.hours||0)),"</div>      ");if(e.note){p.push('      <div class="TimeDetailSlat__note js-time-details-modal-note" data-tooltip-index="',window.microTemplate.encodeHtml(t),'">       <ba-icon class="baseFillColor TimeDetailSlat__noteIcon" name="fab-page-9x11"></ba-icon>      </div>     ')}p.push('      <div class="TimeDetailSlat__extraInfo">       ');e.overtimeSummary.forEach((function(t){p.push('       <div class="TimeDetailSlat__extraInfoItem TimeDetailSlat__extraInfoItem--overtime">        <ba-icon class="TimeDetailSlat__infoIcon--overtime" name="fab-stopwatch-alert-16x16"></ba-icon>        ',window.microTemplate.encodeHtml(formatTime(t.hours,true))," ",window.microTemplate.encodeHtml($.__("Overtime"))," ");if(e.overtimeSummary.length>1){p.push(" (",window.microTemplate.encodeHtml(t.multiplier),"x) ")}p.push("       </div>      ")}));p.push("       ");e.extras.forEach((function(e){p.push('      <div class="TimeDetailSlat__extraInfoItem">       <ba-icon class="TimeDetailSlat__infoIcon" name="',window.microTemplate.encodeHtml(e.iconName),'"></ba-icon>       ',window.microTemplate.encodeHtml(e.info),"      </div>      ")}));p.push("      </div>    </div>   </div>   ")}));p.push('   </div>    <div class="TimeDetailSummaryPreserve">   <div class="TimeDetailSummary">    <img src="',window.microTemplate.encodeHtml(employeePhotoUrl),'" class="TimeDetailSummary__photo">    <div class="TimeDetailSummary__name">',window.microTemplate.encodeHtml(employeeName),'</div>    <div class="TimeDetailSummary__dateSpan">',window.microTemplate.encodeHtml(dateSpan),'</div>     <div class="TimeDetailBreakdown">     <div class="baseColor TimeDetailBreakdown__total">',window.microTemplate.encodeHtml(formatTime(totalTime)),"</div>      ");overtimeSummary.forEach((function(e){p.push('      <div class="TimeDetailBreakdown__item TimeDetailBreakdown__alert">       ',window.microTemplate.encodeHtml(formatTime(e.hours,true))," ",window.microTemplate.encodeHtml($.__("Overtime"))," ");if(overtimeSummary.length>1){p.push(" (",window.microTemplate.encodeHtml(e.multiplier),"x) ")}p.push("      </div>     ")}));p.push("      ");if(totalTimeOff){p.push('     <div class="TimeDetailBreakdown__item">      ',window.microTemplate.encodeHtml(formatTime(totalTimeOff,true))," ",window.microTemplate.encodeHtml($.__("Time Off")),"     </div>     ")}p.push("      ");if(totalHoliday){p.push('     <div class="TimeDetailBreakdown__item">      ',window.microTemplate.encodeHtml(formatTime(totalHoliday,true))," ",window.microTemplate.encodeHtml($.__("Holiday")),"     </div>     ")}p.push("    </div>     ");if(timeSheetLink){p.push('    <a href="',window.microTemplate.encodeHtml(timeSheetLink),'" class="TimeDetailSummary__link fab-TextButton fab-TextButton--muted fab-TextButton--small fab-link">     ',window.microTemplate.encodeHtml($.__("Go to Timesheet"))," &raquo;    </a>    ")}p.push("    </div>  </div>  </div> ")}return p.join("")}},576201:e=>{"use strict";e.exports='<div class="Balloon js-balloon">\n\n\t\x3c!-- Close Icon --\x3e\n\t<div class="Balloon__closeX js-balloon-close-x">\n\t\t<ba-icon class="Balloon__closeSVG js-balloon-close-icon" name="x-10x10" />\n\t</div>\n\n\t\x3c!-- Border --\x3e\n\t<div class="Balloon__border"></div>\n\n\t\x3c!-- "Tail" --\x3e\n\t<div class="Balloon__tail js-balloon-tail"></div>\n\n\t\x3c!-- Content gets placed here --\x3e\n\t<div class="Balloon__content js-balloon-content"></div>\n\n</div>\n'},346134:e=>{"use strict";e.exports='<div class="Balloon js-balloon">\n\n\t\x3c!-- Close Icon --\x3e\n\t<div class="Balloon__closeX js-balloon-close-x">\n\t\t<ba-icon class="Balloon__closeSVG js-balloon-close-icon" name="fab-x-12x12" />\n\t</div>\n\n\t\x3c!-- Border --\x3e\n\t<div class="Balloon__border"></div>\n\n\t\x3c!-- "Tail" --\x3e\n\t<div class="Balloon__tail js-balloon-tail"></div>\n\n\t\x3c!-- Content gets placed here --\x3e\n\t<div class="Balloon__content js-balloon-content"></div>\n\n</div>\n'}};var __webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var a=__webpack_module_cache__[e]={id:e,loaded:false,exports:{}};__webpack_modules__[e].call(a.exports,a,a.exports,__webpack_require__);a.loaded=true;return a.exports}__webpack_require__.m=__webpack_modules__;(()=>{__webpack_require__.amdO={}})();(()=>{var e=[];__webpack_require__.O=(t,a,r,n)=>{if(a){n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[a,r,n];return}var o=Infinity;for(var i=0;i<e.length;i++){var[a,r,n]=e[i];var s=true;for(var l=0;l<a.length;l++){if((n&1===0||o>=n)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](a[l])))){a.splice(l--,1)}else{s=false;if(n<o)o=n}}if(s){e.splice(i--,1);t=r()}}return t}})();(()=>{__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;__webpack_require__.d(t,{a:t});return t}})();(()=>{__webpack_require__.d=(e,t)=>{for(var a in t){if(__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)){Object.defineProperty(e,a,{enumerable:true,get:t[a]})}}}})();(()=>{__webpack_require__.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();(()=>{__webpack_require__.hmd=e=>{e=Object.create(e);if(!e.children)e.children=[];Object.defineProperty(e,"exports",{enumerable:true,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}});return e}})();(()=>{__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{__webpack_require__.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();(()=>{__webpack_require__.nmd=e=>{e.paths=[];if(!e.children)e.children=[];return e}})();(()=>{__webpack_require__.p="/js/"})();(()=>{var e={8592:0};__webpack_require__.O.j=t=>e[t]===0;var t=(t,a)=>{var[r,n,i]=a;var o,s,l=0;for(o in n){if(__webpack_require__.o(n,o)){__webpack_require__.m[o]=n[o]}}if(i)var d=i(__webpack_require__);if(t)t(a);for(;l<r.length;l++){s=r[l];if(__webpack_require__.o(e,s)&&e[s]){e[s][0]()}e[r[l]]=0}return __webpack_require__.O(d)};var a=globalThis["webpackChunk"]=globalThis["webpackChunk"]||[];a.forEach(t.bind(null,0));a.push=t.bind(null,a.push.bind(a))})()})()}catch(e){const message=e&&(e.message||"Exception contains no error message");if(window.Rollbar&&typeof window.Rollbar.error==="function"){console.log("Logging error to Rollbar.");window.Rollbar.error("Error Handler Plugin: common.19f9de84.dist.js - "+message,e)}else{console.log("Could not find Rollbar to log error.");throw e}}