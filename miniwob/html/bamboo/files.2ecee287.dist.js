try{(globalThis["webpackChunk"]=globalThis["webpackChunk"]||[]).push([[5372],{525777:(e,t,a)=>{"use strict";a.r(t)},239762:(e,t,a)=>{"use strict";a.r(t)},483382:(e,t,a)=>{"use strict";a.r(t)},741047:(e,t,a)=>{"use strict";a.r(t)},851819:(e,t,a)=>{"use strict";a.r(t)},349253:(e,t,a)=>{"use strict";a.r(t)},435923:(e,t,a)=>{"use strict";a.r(t)},330466:(e,t,a)=>{"use strict";a.r(t)},589631:(e,t,a)=>{"use strict";a.r(t)},456365:(e,t,a)=>{"use strict";a.r(t)},382768:(e,t,a)=>{"use strict";a.r(t)},253128:(e,t,a)=>{"use strict";a.r(t)},95126:(e,t,a)=>{var i={"./af":201009,"./af.js":201009,"./ar":88769,"./ar-dz":423739,"./ar-dz.js":423739,"./ar-kw":493745,"./ar-kw.js":493745,"./ar-ly":499576,"./ar-ly.js":499576,"./ar-ma":967408,"./ar-ma.js":967408,"./ar-sa":848781,"./ar-sa.js":848781,"./ar-tn":987856,"./ar-tn.js":987856,"./ar.js":88769,"./az":902030,"./az.js":902030,"./be":356476,"./be.js":356476,"./bg":25304,"./bg.js":25304,"./bm":48125,"./bm.js":48125,"./bn":800034,"./bn.js":800034,"./bo":864082,"./bo.js":864082,"./br":508317,"./br.js":508317,"./bs":93107,"./bs.js":93107,"./ca":68272,"./ca.js":68272,"./cs":598567,"./cs.js":598567,"./cv":961583,"./cv.js":961583,"./cy":810076,"./cy.js":810076,"./da":231760,"./da.js":231760,"./de":8973,"./de-at":563214,"./de-at.js":563214,"./de-ch":174728,"./de-ch.js":174728,"./de.js":8973,"./dv":154053,"./dv.js":154053,"./el":607499,"./el.js":607499,"./en-au":767876,"./en-au.js":767876,"./en-ca":247010,"./en-ca.js":247010,"./en-gb":234239,"./en-gb.js":234239,"./en-ie":399830,"./en-ie.js":399830,"./en-il":428438,"./en-il.js":428438,"./en-nz":843264,"./en-nz.js":843264,"./eo":339486,"./eo.js":339486,"./es":332430,"./es-do":216310,"./es-do.js":216310,"./es-us":373099,"./es-us.js":373099,"./es.js":332430,"./et":634975,"./et.js":634975,"./eu":287063,"./eu.js":287063,"./fa":268073,"./fa.js":268073,"./fi":350957,"./fi.js":350957,"./fo":681775,"./fo.js":681775,"./fr":674179,"./fr-ca":714306,"./fr-ca.js":714306,"./fr-ch":273791,"./fr-ch.js":273791,"./fr.js":674179,"./fy":47014,"./fy.js":47014,"./gd":562958,"./gd.js":562958,"./gl":87344,"./gl.js":87344,"./gom-latn":935798,"./gom-latn.js":935798,"./gu":268485,"./gu.js":268485,"./he":627917,"./he.js":627917,"./hi":852159,"./hi.js":852159,"./hr":395842,"./hr.js":395842,"./hu":430005,"./hu.js":430005,"./hy-am":351312,"./hy-am.js":351312,"./id":560781,"./id.js":560781,"./is":964101,"./is.js":964101,"./it":843467,"./it.js":843467,"./ja":944164,"./ja.js":944164,"./jv":570079,"./jv.js":570079,"./ka":657036,"./ka.js":657036,"./kk":92022,"./kk.js":92022,"./km":663418,"./km.js":663418,"./kn":343655,"./kn.js":343655,"./ko":30986,"./ko.js":30986,"./ky":4604,"./ky.js":4604,"./lb":399026,"./lb.js":399026,"./lo":520537,"./lo.js":520537,"./lt":622288,"./lt.js":622288,"./lv":301495,"./lv.js":301495,"./me":960690,"./me.js":960690,"./mi":602571,"./mi.js":602571,"./mk":993959,"./mk.js":993959,"./ml":497225,"./ml.js":497225,"./mr":146622,"./mr.js":146622,"./ms":511070,"./ms-my":248899,"./ms-my.js":248899,"./ms.js":511070,"./mt":763931,"./mt.js":763931,"./my":995393,"./my.js":995393,"./nb":204274,"./nb.js":204274,"./ne":708914,"./ne.js":708914,"./nl":533114,"./nl-be":668479,"./nl-be.js":668479,"./nl.js":533114,"./nn":804513,"./nn.js":804513,"./pa-in":328264,"./pa-in.js":328264,"./pl":432848,"./pl.js":432848,"./pt":990899,"./pt-br":755077,"./pt-br.js":755077,"./pt.js":990899,"./ro":492512,"./ro.js":492512,"./ru":821753,"./ru.js":821753,"./sd":116840,"./sd.js":116840,"./se":778362,"./se.js":778362,"./si":450464,"./si.js":450464,"./sk":866324,"./sk.js":866324,"./sl":141963,"./sl.js":141963,"./sq":53039,"./sq.js":53039,"./sr":293454,"./sr-cyrl":10466,"./sr-cyrl.js":10466,"./sr.js":293454,"./ss":95158,"./ss.js":95158,"./sv":428859,"./sv.js":428859,"./sw":557594,"./sw.js":557594,"./ta":926915,"./ta.js":926915,"./te":115677,"./te.js":115677,"./tet":192154,"./tet.js":192154,"./tg":274098,"./tg.js":274098,"./th":289071,"./th.js":289071,"./tl-ph":601869,"./tl-ph.js":601869,"./tlh":392346,"./tlh.js":392346,"./tr":671483,"./tr.js":671483,"./tzl":30266,"./tzl.js":30266,"./tzm":433138,"./tzm-latn":732960,"./tzm-latn.js":732960,"./tzm.js":433138,"./ug-cn":29456,"./ug-cn.js":29456,"./uk":250805,"./uk.js":250805,"./ur":261127,"./ur.js":261127,"./uz":529628,"./uz-latn":480840,"./uz-latn.js":480840,"./uz.js":529628,"./vi":256962,"./vi.js":256962,"./x-pseudo":249257,"./x-pseudo.js":249257,"./yo":462423,"./yo.js":462423,"./zh-cn":161002,"./zh-cn.js":161002,"./zh-hk":506046,"./zh-hk.js":506046,"./zh-tw":924710,"./zh-tw.js":924710};function s(e){var t=n(e);return a(t)}function n(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return i[e]}s.keys=function e(){return Object.keys(i)};s.resolve=n;e.exports=s;s.id=95126},687717:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.bambooHRPdfViewer=void 0;var i=u(a(109424));var s=a(332827);var n=a(714024);var o=a(397683);var l=u(a(39327));var r=a(412586);var d=a(735882);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var i={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e){if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var o=s?Object.getOwnPropertyDescriptor(e,n):null;if(o&&(o.get||o.set)){Object.defineProperty(i,n,o)}else{i[n]=e[n]}}}i.default=e;if(a){a.set(e,i)}return i}class f{static get className(){return"bambooHRPdfViewer"}constructor(e,t,a){this.PDFViewerLibrary=i;this.DEFAULT_SCALE_DELTA=1.1;this.MIN_SCALE=.25;this.MAX_SCALE=10;this._afterPrint=this._afterPrint.bind(this);this._beforePrint=this._beforePrint.bind(this);this._forceRendering=this._forceRendering.bind(this);this._getViewerConfiguration=this._getViewerConfiguration.bind(this);this._handleOpenPDFError=this._handleOpenPDFError.bind(this);this._initialize=this._initialize.bind(this);this._openPDF=this._openPDF.bind(this);this._registerPrinterListeners=this._registerPrinterListeners.bind(this);this._registerToolBarEvents=this._registerToolBarEvents.bind(this);this._registerViewerListeners=this._registerViewerListeners.bind(this);this._renderContainer=this._renderContainer.bind(this);this._renderPdf=this._renderPdf.bind(this);this._renderPdfViewer=this._renderPdfViewer.bind(this);this._scrollPageIntoView=this._scrollPageIntoView.bind(this);this._setPdfZoom=this._setPdfZoom.bind(this);this._setupToolBar=this._setupToolBar.bind(this);this._updatePageNumberOnScroll=this._updatePageNumberOnScroll.bind(this);this._updatePageScale=this._updatePageScale.bind(this);this._updatePageScaleSelect=this._updatePageScaleSelect.bind(this);this._viewNextPage=this._viewNextPage.bind(this);this._viewPreviousPage=this._viewPreviousPage.bind(this);this._zoomIn=this._zoomIn.bind(this);this._zoomOut=this._zoomOut.bind(this);this._initialize(e,t,a)}_afterPrint(){if(this.printService){this.printService.destroy();this.printService=null}this.printing=false;this._forceRendering()}_beforePrint(){if(this.printService){return}this.printing=true;if(!this.pdfViewerApp.pageViewsReady){this.pdfViewerApp.l10n.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing.").then((function(e){window.alert(e)}));return}let e=this.pdfViewerApp.getPagesOverview();let t=this._getViewerConfiguration().printContainer;this.printService=o.PDFPrintServiceFactory.instance.createPrintService(this.pdfDocument,e,t);this._forceRendering();this.printService.layout()}_ensureOverlayManager(){if(!this.overlayManager){this.overlayManager=new l.OverlayManager;this.passwordPrompt=new d.passwordPrompt(this._getViewerConfiguration().passwordOverlay,this.overlayManager)}}_forceRendering(){this.pdfViewerApp.renderingQueue.printing=this.printing;this.pdfViewerApp.renderingQueue.isThumbnailViewEnabled=false;this.pdfViewerApp.renderingQueue.renderHighestPriority()}_getViewerConfiguration(){const e=document.createElement("button");return{appContainer:document.body,container:document.getElementById("viewerContainer"),viewerContainer:document.getElementById("viewer"),eventBus:new s.EventBus,toolbar:{container:document.getElementById("toolbarViewer"),numPages:document.getElementById("numPages"),pageNumber:document.getElementById("pageNumber"),scaleSelectContainer:document.getElementById("scaleSelectContainer"),scaleSelect:document.getElementById("scaleSelect"),customScaleOption:document.getElementById("customScaleOption"),previous:document.getElementById("previous"),next:document.getElementById("next"),zoomIn:document.getElementById("zoomIn"),zoomOut:document.getElementById("zoomOut"),viewFind:document.getElementById("viewFind"),openFile:e,print:document.getElementById("print"),presentationModeButton:e,download:document.getElementById("download"),viewBookmark:e},passwordOverlay:{overlayName:"passwordOverlay",container:document.getElementById("passwordOverlay"),label:document.getElementById("passwordText"),input:document.getElementById("password"),submitButton:document.getElementById("passwordSubmit"),cancelButton:document.getElementById("passwordCancel")},printContainer:document.getElementById("printContainer")}}_handleOpenPDFError(e){this._renderContainer();if(Object.values(this.PDFViewerLibrary.PasswordResponses).includes(e===null||e===void 0?void 0:e.code)){this._ensureOverlayManager();const t=this;const a=function(e){t._openPDF(e)};this.passwordPrompt._setUpdateCallback(a,e.code);this.passwordPrompt._setPasswordResponses(this.PDFViewerLibrary.PasswordResponses);this.passwordPrompt._open()}else{window.setMessage(`Oops! Something went wrong and we couldn't load your data. Try again.`,"error");console.error(e)}}_initialize(e,t,a){this.html=e;this.documentUrl=t;this.$pdfViewerContainer=a;this.overlayManager=null;this.pdfDocument=null;this.printService=null;this.containerRendered=false;this.PDFViewerLibrary.GlobalWorkerOptions.workerSrc="../../build/webpack/pdf.worker.bundle.js";o.PDFPrintServiceFactory.instance.clearOverlayPromise();this._openPDF();this._registerPrinterListeners()}_openPDF(e=""){const t=this.documentUrl;const a=this._handleOpenPDFError;const i=this.PDFViewerLibrary.getDocument({url:t,password:e,cMapUrl:"/js/cmaps/",cMapPacked:true});const s=this._renderPdfViewer;i.onPassword=()=>{this._handleOpenPDFError({code:1})};i.promise.then(s).catch(a)}_registerPrinterListeners(){let e=this;window.addEventListener("beforeprint",e._beforePrint);window.addEventListener("afterprint",e._afterPrint)}_registerToolBarEvents(){this.pdfViewerApp.eventBus.on("pagechanging",this._updatePageNumberOnScroll);this.pdfViewerApp.eventBus.on("nextpage",this._viewNextPage);this.pdfViewerApp.eventBus.on("previouspage",this._viewPreviousPage);this.pdfViewerApp.eventBus.on("print",window.printFile);this.pdfViewerApp.eventBus.on("scalechanged",this._setPdfZoom);this.pdfViewerApp.eventBus.on("zoomin",this._zoomIn);this.pdfViewerApp.eventBus.on("zoomout",this._zoomOut)}_registerViewerListeners(){let e=document.getElementById("viewer");e.tabIndex="-1";e.onclick=function(){this.focus()}}_renderContainer(){if(!this.containerRendered){this.containerRendered=true;this.$pdfViewerContainer.html(this.html)}}_renderPdf(e){this.pdfDocument=e;const t=this._getViewerConfiguration();if(!t.container){return false}this.pdfViewerApp=new s.PDFViewer(t);this.pdfViewerApp.setDocument(e);this.pdfViewerApp.onePageRendered.then((()=>{this._setPdfZoom({value:"page-width"})}));return true}_renderPdfViewer(e){this._renderContainer();if(!this._renderPdf(e)){return}this._setupToolBar();this._registerToolBarEvents();const t=`<style> div#viewer > .page > .textLayer { display: none; } div#viewer > .page { margin: 10px auto; } </style>`;this._registerViewerListeners();this.$pdfViewerContainer.append(t);this.$pdfViewerContainer.find("#loadingMsg").remove()}_scrollPageIntoView(e,t){const a=1;const i=this.pdfViewerApp.viewer.getElementsByClassName("page");if(t>-1&&t<i.length){this.pdfViewerApp._scrollIntoView({pageNumber:e,pageSpot:a,pageDiv:i[t]})}}_setPdfZoom(e){const{value:t}=e;this.pdfViewerApp._setScale(t)}_setupToolBar(){document.getElementById("pageNumberSpan").innerText="";this.pdfToolBar=new n.Toolbar(this._getViewerConfiguration().toolbar,this.pdfViewerApp.eventBus,r.NullL10n);this.pdfToolBar.pagesCount=this.pdfDocument.numPages;this.pdfToolBar.eventBus.dispatch("localized");this.pdfToolBar.setPageNumber(1);const e=this.pdfToolBar;$("#scaleSelect").on("change",(function(){if(this.value==="custom"){return}e.eventBus.dispatch("scalechanged",{source:e,value:this.value})}));window.PDFToolBar=this.pdfToolBar}_updatePageNumberOnScroll(e){const{pageNumber:t=1}=e;this.pdfToolBar.setPageNumber(t)}_updatePageScale(e){this.pdfViewerApp._setScaleUpdatePages(e,"custom",true);const t=this.pdfToolBar;const a=t.items.scaleSelect.value;const i=t.items.customScaleOption.innerText;const s=this;$("#scaleSelect").trigger("liszt:updated");t.setPageScale(null,s.pdfViewerApp._currentScale);new Promise((function(e,t){s._updatePageScaleSelect({currentCustomValueText:i,currentRetryCount:0,currentSelectValue:a,resolve:e,reject:t})})).then((function(){$("#scaleSelect").trigger("liszt:updated")}))}_updatePageScaleSelect(e={}){const t=3;const{currentCustomValueText:a,currentRetryCount:i=0,currentSelectValue:s,reject:n=(()=>{}),resolve:o=(()=>{})}=e;if(i<t){if(this.pdfToolBar.items.scaleSelect.value!==s||this.pdfToolBar.items.customScaleOption.innerText!==a){o();return}e.currentRetryCount=i+1;const t=this;setTimeout((function(){t._updatePageScaleSelect(e)}),20);return}n()}_viewNextPage(e){const{pageNumber:t,pagesCount:a}=e.source;const i=t+1;if(i<=a){this._scrollPageIntoView(i,t)}}_viewPreviousPage(e){const{pageNumber:t}=e.source;const a=t-1;if(a>-1){this._scrollPageIntoView(a,a-1)}}_zoomIn(e){let t=this.pdfViewerApp.currentScale;do{t=(t*this.DEFAULT_SCALE_DELTA).toFixed(2);t=Math.ceil(t*10)/10;t=Math.min(this.MAX_SCALE,t)}while(--e>0&&t<this.MAX_SCALE);this._updatePageScale(t)}_zoomOut(e){let t=this.pdfViewerApp.currentScale;do{t=(t/this.DEFAULT_SCALE_DELTA).toFixed(2);t=Math.floor(t*10)/10;t=Math.max(this.MIN_SCALE,t)}while(--e>0&&t>this.MIN_SCALE);this._updatePageScale(t)}}t.bambooHRPdfViewer=f},473782:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(774548);var s={name:"auto-action"};function n(e){$.extend(s,e)}function o(){var e=(0,i.getParameterByName)(s.name);e=(0,i.sanitizeHtml)(e);if(!e){return}var t="data-auto-action-"+e;var a=$("["+t+"]");if(a.length<1){return}$.each(a,(function(e,a){$(a).trigger(a.getAttribute(t))}))}$((function(){o()}));var l={setOptions:n};t.default=l},13545:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.GearIcon=void 0;let i={_selectors:{template:".template"},updateSignatureItem:function(e,t,a,i,s){var n=$('tr[data-file_id="'+e+'"]');n.find("li"+this._selectors.template).html("<a onclick=\"Files.SendSignatureRequest.openModal('"+t+"', '"+$.__("Send Signature Request")+"', '"+a+"', '"+i+"', "+s+')">'+$.__("Request Signature")+"...</a>")}};t.GearIcon=i},872183:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.secureDownloadDetail=void 0;var i=a(4592);const s=(e,t,a)=>{const s=(0,i.getFileInfo)(e,t);const n=(0,i.getSfsData)(e,t);const o=a&&typeof a==="function"?a:()=>{};Promise.all([s,n]).then((([e,t])=>{(0,i.showSecureDownloadManager)({file:e.data,sfsItems:t.data,onDisableLink:o})})).catch((e=>{console.error(e);window.errorFallBack()}))};t.secureDownloadDetail=s;window.secureDownloadDetail=s;$("body").off("click.secure-download-detail-button").on("click.secure-download-detail-button",".js-secure-download-detail-button",(e=>{const{fileId:t,fileType:a}=e.target.dataset;const n=t=>{const a=$(e.currentTarget);const s=a.find(".sfsCount");const n=a.find(".sfsDetailCopy");if(s){$(s).text(t)}if(n){$(n).text((0,i.getDetailButtonCopy)(t))}if(t===0){a.addClass("hidden")}};s(t,a,n)}))},329349:(e,t,a)=>{"use strict";var $=a(992005);var jQuery=a(992005);var i=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.SendSignatureRequest=void 0;var s=i(a(417842));var n=a(479706);var o=a(845382);var l=i(a(506521));const r=(0,n.isEnabled)("jade");let d=function(){var e=null;var t=null;function a(){e=null;t=null}function i(){d();$("#allEmployees").on("click",(function(){var e=$(".input-list");if($(this).is(":checked")){e.addClass("disabled").attr("disabled");e.siblings("label").addClass("disabled")}else{e.removeClass("disabled").removeAttr("disabled");e.siblings("label").removeClass("disabled")}}));$(".js-toggleEmployeeInputList").on("click",(e=>{if(e.target.id==="someEmployeesRadioOption"){$(".js-EmployeeInputList").removeClass("hidden")}else if(e.target.id==="allEmployeesRadioOption"){$(".js-EmployeeInputList").addClass("hidden")}}))}function n(e){l.default.fetchDisclaimer(e)}function d(){$("#allEmployees").off("click")}function c(){if(e&&e.length){return e}e=$(".free.ac_input");return e}function u(){if(t&&t.length){return t}t=$(".ac_results");return t}var f=new jQuery.Event("keydown",{which:40,keyCode:40});function p(){var e=$(this).closest("span.item");e.remove();var t=$(".inputs input").length===1;if(t){c().setOptions({extraParams:{all:true}}).flushCache().removeAttr("style")}return false}function m(e,t){var a=xmlEntities(t[2]);var i=xmlEntities(t[1]);const s=i!=="empty";var n=s?(0,o.replaceXmlEntities)(t[0]):`${(0,o.replaceXmlEntities)(t[0])} ${a}`;var l=s?i+"-"+a:i;var d=i+"Ids";if(i==="all"){c().css({position:"fixed",left:-9999});u().css("left",-9999)}$(`<span class="item" id="${l}">${n}<input type="hidden" name="${d}[]" value="${a}" />${r?'<ba-icon class="remove" name="fab-x-8x8"></ba-icon>':'<a class="remove"></a>'}`).insertBefore(".input-list span.input");c().val("");$("#"+l+" .remove").on("click",p)}function h(e){$(".input-list").autoInputList({autocompleteUrl:"/quicksearch/request/esignature",description:e,extraParams:{all:false},formatAutoItem:qsWithPhoto,formatTagItem:m,autocompleteOptions:{highlight:BambooHR.Utils.highlightTermInMarkup,minChars:1,scroll:false,max:4}}).activate()}function g(e,t,o,l,c,u=true){const f=`/ajax/files/send_signature_request.php?workflowId=${e}`;var p=this;if(r){const r={isLoading:true,isOpen:true};if(u){window.BambooHR.Modal.setState({sheetProps:r},true)}else{window.BambooHR.Modal.setState(r)}s.default.get(f).then((s=>{if(s&&s.data){const r={biId:"files-signature-request",dangerousContent:s.data,isLoading:false,onClose:()=>{d();a();if(u){window.BambooHR.Modal.setState({sheetProps:null},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryAction:()=>{window.BambooHR.Modal.setState({isProcessing:true},true);p.send(e,o,l,u)},primaryActionText:$.__("Send Request"),title:t};if(u){window.BambooHR.Modal.setState({sheetProps:r},true)}else{window.BambooHR.Modal.setState({...r},true)}a();h($.__("Enter names or groups"));i();n(c)}}));return}SimpleModal.openModal({callbacks:{open:{after:function(){window.SimpleModal.Footer.Buttons.Primary.setAttr("data-bi-id","files-signature-request-modal-action-primary");a();h($.__("Enter names or groups"));i()}},close:{after:function(){d();a()}}},classes:"no-overflow",footer:{show:true,buttons:{primary:{text:$.__("Send Request"),action:function(){SimpleModal.Footer.Buttons.startProcessing();p.send(e,o,l)}}}},title:t,url:f})}function b(e,t,a,i=true){$.post("/ajax/files/send_signature_request.php?route=sendSignatureRequest&workflowId="+e,$(".js-send-signature-request-form").serialize(),(function(e){setMessage(e.error,e.success===true?"success":"error");if(e.success===true){BambooHR.Utils.eventTrack("e-Signatures","Request",t+" ("+a+")",e.numberOfRequests);document.dispatchEvent(new Event("Files:sendSignatureRequest:requestSent"));if(r){if(i){window.BambooHR.Modal.setState({sheetProps:null},true)}else{window.BambooHR.Modal.setState({isOpen:false})}}else{SimpleModal.closeModal()}}else{$(".js-highlightOnError").addClass("RecipientsSectionLabel--error");$(".js-missingDataError").removeClass("hidden")}if(r){window.BambooHR.Modal.setState({isProcessing:false,sheetProps:{isProcessing:false}},true)}else{SimpleModal.Footer.Buttons.stopProcessing()}}),"json").error((function(){errorFallBack();if(r){window.BambooHR.Modal.setState({isProcessing:false,sheetProps:{isProcessing:false}},true)}else{SimpleModal.Footer.Buttons.stopProcessing()}}))}return{enableAutoInputList:h,openModal:g,send:b}}();t.SendSignatureRequest=d},181521:(e,t,a)=>{"use strict";var $=a(992005);var i=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.DeleteEmployeeFolderModal=m;var s=i(a(856075));var n=u(a(573674));var o=a(651745);var l=a(69231);var r=a(753134);var d=a(975558);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=c(t);if(a&&a.has(e)){return a.get(e)}var i={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e){if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var o=s?Object.getOwnPropertyDescriptor(e,n):null;if(o&&(o.get||o.set)){Object.defineProperty(i,n,o)}else{i[n]=e[n]}}}i.default=e;if(a){a.set(e,i)}return i}const f=true;const p=(0,o.makeStyles)((({palette:e,typography:t})=>(0,o.createStyles)({subheader:{marginTop:"5px",color:e.grey[900],textAlign:"center"},disclaimer:{display:"flex",margin:"0 auto"},disclaimerIcon:{marginRight:"10px",paddingLeft:"10px",fontSize:t.fabricFontSize("small"),height:"50px"},disclaimerText:{flex:"1",color:e.grey[900],textAlign:"left",fontSize:t.fabricFontSize("small")},confirmationContentOverride:{"& input.fab-TextInput":{width:"64px"},"& input.fab-TextInput:focus":{borderColor:"rgb(194, 11, 11) !important",boxShadow:"0 1px 0 0 rgba(194, 11, 11, .33) !important"}},employeeList:{marginTop:"5px",marginBottom:"10px"},employeeName:{color:e.grey[900]},fileCount:{color:e.error.main}})));function m(e){const{fileCount:t,employeeCount:a,hasTemplates:i,employeeId:c,sectionId:u,deleteAction:m,affectedEmployees:h}=e;const g=p();const[b,v]=(0,n.useState)(false);const[w,y]=(0,n.useState)(true);const S=(0,s.default)(r.Message,{params:[a],text:$._n("Delete from {1} Employee","Delete from {1} Employees",a)});const j=(0,s.default)(r.Message,{text:$._("That's right. This folder and all files in it will be deleted from all employees.")});const F=(0,s.default)(r.Message,{params:[a],text:$._n('Type "**{1}**" to show you realize that {1} employee will lose files.','Type "**{1}**" to show you realize that {1} employees will lose files.',a)});const M=(0,s.default)(r.Message,{params:[h.length],text:$._n("{1} employee will lose files:","{1} employees will lose files:",h.length)});const P=i?(0,s.default)("div",{className:g.disclaimer},void 0,(0,s.default)("div",{className:g.disclaimerIcon},void 0,(0,s.default)(l.ColoredIcon,{fabricColorName:"gray9",iconName:"fab-folder-closed-12x10"})),(0,s.default)("div",{className:g.disclaimerText},void 0,(0,s.default)(r.Message,{text:$._("Also, 1 or more E-signature templates are set to save to this folder. They will now be saved in the **Signed Documents** folder.")}))):null;const C=[];h.forEach((e=>C.push((0,s.default)("p",{className:g.employeeName},void 0,e.employee_name," ",(0,s.default)("span",{className:g.fileCount},void 0,"(",$.__n("%1 file","%1 files",e.count),")")))));const x=f?(0,s.default)("div",{},void 0,(0,s.default)("b",{},void 0,M),(0,s.default)("div",{className:g.employeeList},void 0,C)):null;let k;if(t===1){k=$.__n("You're about to delete %1 file from %2 employee","You're about to delete %1 file from %2 employees",t,a)}else{k=$.__n("You're about to delete %1 files from %2 employee","You're about to delete %1 files from %2 employees",t,a)}function I(){y(false)}function B(e){if(Number(e.target.value)===Number(a)){v(true)}else{v(false)}}function O(){(0,d.closeModal)()}function E(){m(c,u,t).then((function(){I()}))}return(0,s.default)(o.StandardModal,{isOpen:w,onCloseComplete:O,onRequestClose:I},void 0,(0,s.default)(o.StandardModal.Body,{renderFooter:(0,s.default)(o.StandardModal.Footer,{actions:[(0,s.default)(o.Button,{clickAction:I,type:"button"},"primary",$._("Don't Delete")),(0,s.default)(o.Button,{clickAction:E,isDisabled:!b,secondary:true,type:"button"},"secondary",S)]}),renderHeader:(0,s.default)(o.StandardModal.Header,{hasCloseButton:true,title:$.__("Just Checking...")})},void 0,(0,s.default)(o.StandardModal.Constraint,{},void 0,(0,s.default)(o.StandardModal.HeroHeadline,{icon:(0,s.default)("span",{},void 0,(0,s.default)(l.ColoredIcon,{fabricColorName:"danger",iconName:"fab-trash-can-43x48"})),text:k}),(0,s.default)("div",{className:g.subheader},void 0,j),(0,s.default)("div",{className:g.confirmationContentOverride},void 0,(0,s.default)(o.StandardModal.Constraint,{},void 0,(0,s.default)(o.StandardModal.ConfirmationContent,{confirmationText:(0,s.default)("div",{},void 0,x,(0,s.default)("p",{},void 0,f?"":$.__("We really want to make sure this is clear.")),(0,s.default)("p",{},void 0,F)),onConfirmationChange:B}))),(0,s.default)("div",{},void 0,P))))}},528451:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"DeleteEmployeeFolderModal",{enumerable:true,get:function(){return i.DeleteEmployeeFolderModal}});var i=a(181521)},256024:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.downloadEmployeeFiles=i;t.downloadCompanyFiles=s;t.downloadMultipleFiles=n;function i(){const e="/employees/files/";n(e)}function s(){const e="/files/";n(e)}function n(e){let t=0;let a=[];const i=new Date;$(".file-checkbox input:checkbox:checked").each((function(){a.push(getFileId($(this).attr("id")));t++}));if(t>0){window.location=e+"download.php?stop=stop&file_ids="+a.join()+"&t="+i.getTime()}return false}},76848:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.emailSecureLink=n;var i=a(724762);var s=a(4592);function n(e){const{id:t,type:a,size:n,filename:o}=e.dataset;const l=()=>{const e=$(`.js-secure-download-detail-button[data-file-id="${t}"]`);if(e){if(e.hasClass("hidden")){e.removeClass("hidden")}const t=e.find(".sfsCount");const a=e.find(".sfsDetailCopy");if(t){const e=parseInt($(t).text(),10);const i=e+1;$(t).text(i);if(a){$(a).text((0,s.getDetailButtonCopy)(i))}}}};if(n==="0"){(0,i.errorEmptyFile)({filename:o})}else{(0,i.emailSecureLink)({id:t,type:a,onSfsCreation:l})}}},599017:(e,t,a)=>{"use strict";var $=a(992005);var i=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.shareEmployeeFile=d;t.shareFile=c;t.shareFolder=u;t.unshareFileOrFolder=f;var s=i(a(856075));var n=i(a(573674));var o=a(652005);var l=i(a(417842));var r=a(479706);function d(e,t,a){a=a=="stacked";t=t?t:false;let i=$.__("Unshare");if(t==="share"){i=$.__("Share")}const s="/ajax/dialog/"+appPrefix+"employee_files/unshare_file.php?share="+t+"&id="+e;(0,o.handleStackableModalState)(a,true,{isLoading:true});l.default.get(s).then((({data:e})=>{const t={alternativeAction:()=>{(0,o.handleStackableModalState)(a,false)},dangerousContent:e,isLoading:false,primaryAction:()=>{$.post(s,$("#shareForm").serialize(),(function(e){if(e.ret=="SAVED"){(0,o.handleStackableModalState)(a,false);setMessage(e.message,"success");loadSectionFiles(e.section_id,$("select[name=sort-files]").val())}}),"json")},primaryActionText:i,secondaryAction:null,title:i,type:a?"smallSheet":"small"};(0,o.handleStackableModalState)(a,true,t)}));return false}function c(e,t,a=""){const i=$("tr[data-file_id="+e+"]");const n=i.data("filename")||a;const r="/ajax/"+appPrefix+"files/share_file.php?id="+e;function d(e){if($(e).find("tr.allEmployeesRow").length>0){$("input#allEmployees").attr("checked","checked");$("#shareInput input").attr("disabled","disabled");$(".shareListInputLabel").addClass("disabled");$("#shareInput").addClass("disabled")}else{$("#shareInput input").attr("disabled",null);$(".shareListInputLabel").removeClass("disabled");$("#shareInput").removeClass("disabled")}}(0,o.handleStackableModalState)(t,true,{isLoading:true});l.default.get(r).then((({data:a})=>{let i=document.createElement("div");i.innerHTML=a;const l=$(i).find(".js-footerContent").remove().html();const c=()=>{window.BambooHR.Modal.setState({isProcessing:true},true);$.post(r,$("form#shareForm").serialize(),(function(a){if(a.success){if(a.shared=="shared"){$(".js-fileRow[data-file_id="+e+"] .js-sharedData").removeClass("hidden")}else{$(".js-fileRow[data-file_id="+e+"] .js-sharedData").addClass("hidden")}window.BambooHR.Modal.setState({isProcessing:false},true);(0,o.handleStackableModalState)(t,false);if(a.msg!==""){setMessage(a.msg,"success")}}else{window.BambooHR.Modal.setState({isProcessing:false},true);setMessage(a.error,"error")}}),"json")};const u={alternativeAction:()=>{(0,o.handleStackableModalState)(t,false)},contentHasPadding:false,dangerousContent:i,footer:(0,s.default)("div",{className:"js-footerOptions fileModalFooterOptions"}),headline:null,icon:null,isLoading:false,onClose:()=>{(0,o.handleStackableModalState)(t,false)},onOpen:()=>{const a=$(".js-footerOptions");a.html(l);$("#sharedWith",".sharedFileTableWrapper").load("/ajax/"+appPrefix+"files/shared_with.php?id="+e+"&type=file",{},(function(){d(this)}));a.find('input[name="name"]').on("keyup",(function(){if($(this).val()!==""){$(".ui-button.create").button("enable")}}));a.find("input#allEmployees").on("change",(function(){const a={action:"share",allEmployees:this.checked?"on":"off"};$.post("/ajax/"+appPrefix+"files/share_file.php?id="+e,a,(function(a){if(a.success){$("#sharedWith").load("/ajax/"+appPrefix+"files/shared_with.php?id="+e+"&type=file",{},(function(){d(this)}));$(".input-list .item").remove();$(".cancel-option").remove();$(".input-list .description").show().next(".inputs").hide();$(".input-list.shown").removeClass("shown");$("#notifyLabel").hide();if(a.shared=="shared"){$(".js-fileRow[data-file_id="+e+"] .js-sharedData").removeClass("hidden")}else{$(".js-fileRow[data-file_id="+e+"] .js-sharedData").addClass("hidden")}const i={primaryAction:()=>{(0,o.handleStackableModalState)(t,false)},primaryActionText:$.__("Done")};(0,o.handleStackableModalState)(t,true,i);if(a.msg!==""){setMessage(a.msg,"success")}}else{setMessage(a.error,"error")}}),"json")}));(0,o.setupShareInputs)(a.selector);a.find(".input-list").addClass("fab-TextInput fab-TextInput--width100");$(".js-autoListInput",a).click((()=>{if(a.find("input#allEmployees").attr("checked")||$("#shareInput .item").length>0){return}(0,o.handleStackableModalState)(t,true,{primaryActionText:u.primaryActionText,primaryAction:c})}))},primaryAction:()=>(0,o.handleStackableModalState)(t,false),primaryActionText:$.__("Done"),secondaryAction:null,title:$.__("Share %1",n),type:t?"smallSheet":"small"};(0,o.handleStackableModalState)(t,true,u);u.onOpen()}))}function u(e,t){let a={};const i=$("#shareFileSectionTemplate").tmpl(a);function n(e){if($(e).find("tr.allEmployeesRow").length>0){$("input#allEmployees").attr("checked","checked");$("#shareInput input").attr("disabled","disabled");$(".shareListInputLabel").addClass("disabled");$("#shareInput").addClass("disabled")}else{$("#shareInput input").attr("disabled",null);$(".shareListInputLabel").removeClass("disabled");$("#shareInput").removeClass("disabled")}}let l=document.createElement("div");l.innerHTML=i.html();const r=$(l).find(".js-footerContent").remove().html();const d=()=>{window.BambooHR.Modal.setState({isProcessing:true},true);$.post("/ajax/"+appPrefix+"files/share_folder.php?id="+e,$("form#shareForm").serialize(),(function(t){if(t.success){if(t.shared===true){$(".js-FileFolder[data-section_id="+e+"]").parent().addClass("shared")}else{$(".js-FileFolder[data-section_id="+e+"]").parent().removeClass("shared")}window.BambooHR.Modal.setState({isOpen:false});if(t.msg!==""){setMessage(t.msg,"success")}}else{window.BambooHR.Modal.setState({isProcessing:false},true);setMessage(t.error,"error")}}),"json")};const c=$.__("Share");window.BambooHR.Modal.setState({contentHasPadding:false,dangerousContent:l,footer:(0,s.default)("div",{className:"js-footerOptions fileModalFooterOptions"}),onClose:()=>{window.BambooHR.Modal.setState({isOpen:false})},onOpen:()=>{const t=$(".js-footerOptions");t.html(r);$("#sharedWith","#fabricModalContent").load("/ajax/"+appPrefix+"files/shared_with.php?id="+e+"&type=folder",{},(function(){n(this)}));t.find("input#allEmployees").on("change",(function(){const t={action:"share",all_employees:this.checked?"true":"false"};$.post("/ajax/"+appPrefix+"files/share_folder.php?id="+e,t,(function(t){if(t.success){$("#sharedWith").load("/ajax/"+appPrefix+"files/shared_with.php?id="+e+"&type=folder",{},(function(){n(this)}));$(".input-list .item").remove();$(".cancel-option").remove();$(".input-list .description").show().next(".inputs").hide();$(".input-list.shown").removeClass("shown");$("#notifyLabel").hide();if(t.shared===true){$(".js-FileFolder[data-section_id="+e+"]").parent().addClass("shared")}else{$(".js-FileFolder[data-section_id="+e+"]").parent().removeClass("shared")}window.BambooHR.Modal.setState({primaryActionText:$.__("Done"),primaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})}},true);if(t.msg!==""){setMessage(t.msg,"success")}}else{setMessage(t.error,"error")}}),"json")}));(0,o.setupShareInputs)(t.selector);t.find(".input-list").addClass("fab-TextInput fab-TextInput--width100");$(".js-autoListInput",t).click((()=>{if(t.find("input#allEmployees").attr("checked")||$("#shareInput .item").length>0){return}window.BambooHR.Modal.setState({primaryActionText:c,primaryAction:d},true)}))},primaryAction:null,primaryActionText:c,isOpen:true,title:$.__("Share %1 Folder",t)})}function f(e,t,a,i,s){if(e=="file"){$.post("/ajax/"+appPrefix+"files/share_file.php?id="+t,{action:"unshare",type:a,shareId:i},(function(e){if(e.success){if(e.shared=="shared"){$("tr[data-file_id="+t+"]").find("span.shared.icon").show()}else{$("tr[data-file_id="+t+"]").find("span.shared.icon").hide()}s.remove();if(a=="all_employees"){$("#allEmployees").removeAttr("checked");$("#shareInput input").attr("disabled",null);$(".shareListInputLabel").removeClass("disabled");$("#shareInput").removeClass("disabled")}}else{setMessage(e.error,"error")}}),"json")}else if(e=="folder"){$.post("/ajax/"+appPrefix+"files/share_folder.php?id="+t,{action:"unshare",type:a,shareId:i},(function(e){if(e.success){if(e.shared===true){$("li[data-section_id="+t+"]").addClass("shared")}else{$("li[data-section_id="+t+"]").removeClass("shared")}s.remove();if(a=="all_employees"){$("#allEmployees").removeAttr("checked");$(".inputListWrapper .disabled").removeClass("disabled");$("#shareInput input").attr("disabled",null)}}else{setMessage(e.error,"error")}}),"json")}}},141677:(e,t,a)=>{"use strict";var $=a(992005);var i=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.addFile=f;t.upload=p;t.uploadEmployeeFile=m;t.updateFooterModal=h;t.updateUploadInputs=g;var s=i(a(856075));var n=i(a(573674));var o=a(230628);var l=a(652005);var r=i(a(64937));var d=a(743444);var c=a(479706);var u=a(810165);function f(e,t,a){let i=[];t.each((function(e,t){i.push($(t).data("file_id"))}));let s="/ajax/files/edit_folder.php?id="+e;let n={action:"addFile",fileIds:i};if(a){$("li.sectionLink[data-section_id="+e+"]").addClass("selected");s="/employees/ajax/folder/moveFiles/"+window.currentlyEditingEmployeeId;n={id:e,fileIds:i}}$.post(s,n,(function(e){if(e.success){let t=$("li.sectionLink.selected");if(t.length){t.each((function(){const e=$(this).find(".js-FileFolder").data("section_id");$("#files-table-wrapper .js-FilesTable").children().remove();loadSectionFiles(e,$("select[name=sort-files]").val(),null,true)}))}else{loadSectionFiles("all",$("select[name=sort-files]",null,true).val());$("#file-sections .sectionLink.all").addClass("selected")}$("li.sectionLink").each((function(){let t=0;const a=$(this).find(".js-FileFolder").data("section_id");if(a&&e.sectionCounts[a]){t=e.sectionCounts[a]}$(this).find("span.count").html("("+t+")")}))}else{window.setMessage(e.error,"error")}}),"json")}function p(){if(!$("li.sectionLink:not(.all)").length>0){return(0,o.editFolder)(null,"first")}const e=$("#uploadFilesFooterDialog").tmpl();const t=$(".sectionLink.selected .js-FileFolder").data("section_id");let a=$("li.js-canUpload");const i=$("#uploadFilesDialog").html();const s="#modal-dialog";const n="#fabricModalContent";let l=e.find('ba-select[name="fileSection"]');b(l,a,t);v(i,e.html(),(()=>{let e=$(".shareForm select[name=fileSection]").val();let t=$(".employeeFolderSelection");if(t.length>0){e=t.data("sectionId")}if(!e){setMessage($.__("Please select a folder."),"error");return false}window.BambooHR.Modal.setState({isProcessing:true},true);a=$("#shareInput :input").serializeArray();$.merge(a,$(n+" :input[name^=attachId]").serializeArray());a.push({name:"action",value:"upload"},{name:"fileSection",value:e},{name:"share",value:$("#allEmployees").is(":checked")});$.ajax({url:"/ajax/"+appPrefix+"files/edit_file.php",type:"post",data:a,success:function(t){if(t.success){(0,o.updateFileSectionCounts)();offset=0;doneLoading=false;loadSectionFiles(e,$("ba-select[name=sort-files]").val());$(".sectionLink").removeClass("selected");$('[data-section_id="'+e+'"]').parent(".js-fileFolderWrapper").addClass("selected");setMessage(t.success_message,"success");$(".uploadDesc").show();window.BambooHR.Modal.setState({isOpen:false})}else{setMessage(t.error,"error");window.BambooHR.Modal.setState({isProcessing:false},true)}},dataType:"json"})}));$(".uploadDesc").show();$("#allEmployees").on("click",(function(){if($(this).is(":checked")){$(".shareListInputLabel:not(.folderLabel), #shareInput input, #shareInput").addClass("disabled").attr("disabled","disabled")}else{$(".shareListInputLabel:not(.folderLabel), #shareInput input, #shareInput").removeClass("disabled").attr("disabled",null)}}))}function m(e,t=false){if(!e){return false}if(!t&&!$("li.sectionLink:not(.all)").length>0){return(0,o.editFolder)(null,"first",true,e)}const a=$("#uploadFilesFooterDialog").tmpl();const i=$(".sectionLink.selected").data("section_id");let s=$("li.sectionLink.droppable:not(.all)");const n=$("#uploadFilesDialog").html();const l="#modal-dialog";const r="#fabricModalContent";const d=a.find('ba-select[name="employeeFileSection"]');b(d,s,i,true);v(n,a.html(),(()=>{let a=$(".shareForm select[name=employeeFileSection]").val();let i=$(".employeeFolderSelection");if(i.length>0){a=i.data("sectionId")}if(!a){setMessage($.__("Please select a folder."),"error");return false}window.BambooHR.Modal.setState({isProcessing:true},true);s=$(r+" :input[name^=attachId]").serializeArray();s.push({name:"action",value:"upload"},{name:"employeeId",value:e},{name:"employeeFileSection",value:a},{name:"share",value:$("#shareWithEmployee").is(":checked")});if(t){s.push({name:"isEmployeeDocumentUpload",value:t})}$.ajax({url:"/ajax/"+appPrefix+"employees/files/edit_file.php",type:"post",data:s,success:function(t){window.BambooHR.Modal.setState({isProcessing:false},true);if(t.success){(0,o.updateFileSectionCounts)(e);$("li.sectionLink[data-section_id="+a+"]").addClass("selected");loadSectionFiles(a,$("select[name=sort-files]").val());setMessage(t.success_message,"success");$(".uploadDesc").show();window.BambooHR.Modal.setState({isOpen:false})}else{setMessage(t.error,"error")}},dataType:"json"})}));$(".uploadDesc").show();$(l+" input[name^=attachId]").each((function(){$(this).remove()}));$(".ui-dialog-buttonset .ui-button").button("disable")}function h(e){window.BambooHR.Modal.setState({primaryAction(...t){(0,d.confirmUpload)({isSheet:true}).then((()=>e(...t)))}},true)}function g(e,t){if(e==="enable"){let e=$(".js-uploadFolderSelect");if(e.length===0){h(t)}$(".js-disableShare").attr("disabled",null);$(".js-dummyInput").addClass("hidden");$("label.js-disableShare").removeClass("disabled");$(".js-autoInputListContainer").removeClass("hidden")}else{window.BambooHR.Modal.setState({primaryAction:false},true);$(".js-disableShare").attr("disabled",true);$("label.js-disableShare").addClass("disabled");$(".js-autoInputListContainer").addClass("hidden");$(".js-dummyInput").removeClass("hidden")}}function b(e,t,a,i){if(e.length>0){e.children().remove();for(let a=0;a<t.length;a++){const i=$(t[a]).find(".js-FileFolder");let s=document.createElement("ba-option");s.textContent=i.attr("data-foldername");s.setAttribute("value",i.attr("data-section_id"));if(i.parent().hasClass("selected")){s.setAttribute("selected",true)}e.append(s)}if(a==="all"){e.find("ba-option").each((function(){$(this).removeAttr("selected")}))}else{e.find("ba-option").each((function(){if(parseInt($(this).attr("value"))===a){$(this).attr("selected","selected")}else{$(this).removeAttr("selected")}}))}}}function v(e,t,a){const i="#fabricModalContent";const n="#fabricModalFooterContent";const o=window.Employee?(0,s.default)(r.default,{imageAlt:"Image of employee",imageSrc:window.Employee.photoURL,subTitle:window.Employee.jobTitle,title:window.Employee.preferredName+" "+window.Employee.lastName}):null;let d=$(".js-uploadFolderSelect");window.BambooHR.Modal.setState({biId:"files-upload",contentHasPadding:true,dangerousContent:'<div id="js-uploadFilesContent">'+e+"</div>",footer:(0,s.default)("div",{className:"FileModalShareOptionsWrapper js-shareOptionsWrapper",id:"fabricModalFooterContent"}),header:o,onClose:()=>{d.off("ba:selectChange");g("disable")},onOpen:()=>{$("#js-uploadFilesContent").find("form.shareForm").prop("name","fileUploadForm").prop("id","fileUploadForm");const e=$(".js-shareOptionsWrapper");e.html(t);d=e.find(".js-uploadFolderSelect");d.on("ba:selectChange",(function(e){if(e.originalEvent.detail.value){h(a)}}));$(".FileUploadActions").addClass("centerContent");let s=$(".multiUpload");let o={linkHTML:`<span class="attach-link">\n\t\t\t\t\t\t\t\t\t<button data-bi-id="files-upload-choose-file" class="fab-Button fab-Button--secondary fab-Button--noSpace js-chooseFile" type="button">`+$.__("Choose File(s)")+` </button>\n\t\t\t\t\t\t\t\t\t<button class="files-add-file fab-TextButton fab-link" type="button"\n\t\t\t\t\t\t\t\t\t        style="display: none;"> + `+$.__("Add a file")+` </button>\n\t\t\t\t\t\t\t\t</span>`,success:function(e,t){$(".noFile",s).hide();let i=$(".attach-wrapper",s).closest("form");i.append('<input type="hidden" name="attachId[]" data-name="'+e.name+'" data-type="'+e.type+'" data-size="'+e.size+'" data-image="'+e.image+'" value="'+e.fid+'">');let n=$(".js-uploadFolderSelect");g("enable");if(n.length===0||n.val()){h(a)}},removeFile:function(e){let t=e.attr("id").replace("file-","");if(e.hasClass("uploadDone")){$(`input[name^=attachId][value='`+t+`']`).remove()}if((0,u.updateFileUploadActions)(s)){g("disable")}return true},onRemove:function(){if((0,u.updateFileUploadActions)(s)){g("disable")}},createFileWrapper:function(e,t){$(".noFile",s).hide();if($(".files > *",s).length===0){$(".attach-link button, .uploadDesc",s).toggle();(0,u.centerFileUploadActions)(s,false)}return $.fileUploader.createFileWrapper(e,t)},setDragOverValues:function(e){setTimeout((function(){e.addClass("dragOver").find(".upload-msg").text($.__("Upload Files"))}))},setDragOffValues:function(){$(".dragOver").find(".upload-msg").text($.__("Drop Files Here to Upload"));$(".dragOver").removeClass("dragOver")},uploaderId:"multiUpload"};$((function(){$(".attach-wrapper",s).closest(i).fileUploader(o)}));$(i+" input[name^=attachId]").each((function(){$(this).remove()}));g("disable");(0,l.setupShareInputs)(n)},primaryAction:null,primaryActionText:$.__("Upload"),isOpen:true,title:$.__("Upload Files")})}},817946:(e,t,a)=>{"use strict";var $=a(992005);var i=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.emailFile=p;t.previewEmployeeFile=m;t.previewFile=h;t.duplicateFile=g;t.renameFile=b;t.renameFileSuccess=v;t.runScan=w;t.scanFiles=y;t.showEmployeeFile=S;t.showFile=j;t.showFileNoAccess=F;var s=i(a(856075));var n=i(a(573674));var o=a(652005);var l=a(845382);var r=a(774548);var d=a(417842);var c=i(a(642948));var u=a(651745);var f=a(830734);function p(e,t,a){let i=t?"/ajax/"+appPrefix+"employees/files/email_file.php":"/ajax/"+appPrefix+"files/email_file.php";i+="?id="+e;const n=!BambooHR.Utils.canEmailFilesAndReports();(0,o.handleStackableModalState)(a,true,{isLoading:true});d.ajax.get(i).then((e=>{const t=()=>{$("#emailFileForm .input-list").autoInputList({autocompleteUrl:"/ajax/"+appPrefix+"files/quicksearch-email.php",description:$.__("Enter email addresses..."),formatAutoItem:activeIndicator,formatTagItem:function(e,t,a){if(t){$(`<span class="item">`+xmlEntities(t[0])+`\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="ids[]" value='`+t[1]+`' />\n\t\t\t\t\t\t\t\t\t<button class="remove fab-FloatingIconButton fab-FloatingIconButton--teenie fab-FloatingIconButton--secondary" type="button">\n\t\t\t\t\t\t\t\t\t\t<span class="fab-FloatingIconButton__icon"><ba-icon name="fab-x-10x10"></ba-icon></span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</span>`).insertBefore(".input-list span.input");$(this).val("");$(".item .remove").live("click",(function(){$(this).closest("span.item").remove();return false}))}}});$("#emailFileForm .input-list .free").addClass("fab-TextInput fab-TextInput--width100");const e=$.__("Enter email addresses...");$(".free").click().focus().attr("placeholder",e);$("#emailFileForm").on("focus",".input-list .free",(function(){$("#emailFileForm .input-list").addClass("focused");$("#emailTo").removeClass("error")})).on("blur",".input-list .free",(function(){$("#emailFileForm .input-list").removeClass("focused")}));$("#emailFileForm .input-list .description").bind("click.autoInit.bhr",(function(){$(".description").hide().unbind("click.autoInit.bhr").next(".inputs").show();$("#emailFileForm .free").focus()}))};const l={alternativeAction:()=>{(0,o.handleStackableModalState)(a,false)},contentHasPadding:true,dangerousContent:e.data,footer:n?(0,s.default)("span",{},void 0,$.__("Note: Emailing is disabled while in trial.")):"",headline:null,icon:null,isLoading:false,onClose:()=>{(0,o.handleStackableModalState)(a,false)},primaryAction:n?null:()=>{if($('form#emailFileForm input[name="ids[]"]').length===0){$("#emailFileForm .js-emailFileFormRecipients").addClass("fab-Label--error");return}(0,o.handleStackableModalState)(a,true,{isProcessing:true});$.post(i,$("form#emailFileForm").serialize(),(function(e){if(e.success){setMessage(e.success_message,"success");(0,o.handleStackableModalState)(a,false)}else{(0,o.handleStackableModalState)(a,true,{isProcessing:false})}}),"json")},primaryActionText:$.__("Send"),secondaryAction:null,title:$.__("Email This File"),type:a?"smallSheet":"small"};(0,o.handleStackableModalState)(a,true,l);t()}))}function m(e,t,a,i){h(e,t,a,true,i)}function h(e,t,a,i,n,d,p,m=false,h=false){if(empty(t)){setMessage($.__(`We don't know how to open that file`),"error");return}const g=`\n\t\t<div id="previewDialog" class="pdfjsViewer" dir="ltr">\n\t\t\t<div id="documentContainer"></div>\n\t\t\t<div id="documentOptions"></div>\n\t\t</div>\n\t`;i=i||false;d=d||false;if(typeof n==="undefined"||n===""||n===null){n="tr"}const b=$(`${n}[data-file_id="${t}"]`);const v=a||b.data("filename");const w=p||b.data("filemode");const y=b.data("is-esig");let S;function j(){if(window.printPDFInfo&&window.clearPrintFile){window.clearPrintFile(window.printPDFInfo);window.printPDFInfo=null}}const F={html:g,title:(0,l.decodeEscapeSequence)(v),classes:"full-screen previewDialog",callbacks:{close:{after:function(){$(document).trigger("filepreviewer:close:after");j();if(window.BambooHR.Modal.isOpen){window.BambooHR.Modal.setState({isOpen:false})}},before:function(){$(document).trigger("filepreviewer:close:before");if(window.webViewerDestroy){window.webViewerDestroy()}clearTimeout(S)}},open:{before:function(){$(document).trigger("filepreviewer:open:before")},after:function(){const a=$("#previewDialog"),n=a.find("#documentContainer"),l=a.find("#documentOptions");a.removeClass("noSidebar noPreview");if(d){l.hide();a.find(".branded-icon").hide();a.addClass("noSidebar")}if(w=="img"){window.BambooHR.Modal.setState({isLoading:false},true);const t=$('<div class="documentImage"></div>');n.append('<div id="loadingMsg">'+$.__("Loading Image...")+'<img class="loader" src="/images/setup/ajax-loader.gif"/>');(0,f.render)((0,s.default)(u.Loader,{small:true}),document.getElementById("loadingMsg"));n.find("#noPreviewMsg").remove();n.find("img.img-preview").remove();n.append(t);t.html('<img onload="showImage(this)" class="img-preview" src="/ajax/'+appPrefix+"fetcher.php?doc="+e+"&format=img"+(i?"&employee=true":"")+'"/></div>')}else{n.find("#noPreviewMsg").remove();n.find("#loadingMsg").remove();n.find("img.img-preview").remove();n.append('<div id="loadingMsg">'+$.__("Loading Preview...")+'<img class="loader" src="/images/setup/ajax-loader.gif"/></div>');(0,f.render)((0,s.default)(u.Loader,{small:true}),document.getElementById("loadingMsg"));let a="/"+(appPrefix?appPrefix:"")+"files/download.php?id="+t;let l="/ajax/"+appPrefix+"file_preview_status.php?v="+e;if(i==true){a="/"+(appPrefix?appPrefix:"")+"employees/files/download.php?id="+t;l="/ajax/"+appPrefix+"file_preview_status.php?v="+e+"&employee=true"}if(m){}window.downloadPdfjsFile=function(){window.location.href=a};let r=0;const d=function(){r++;$.get(l+(r>1?"&status-only":""),(function(e,t,i){const s=i.getResponseHeader("x-bamboohr-error-message");if(s){window.setMessage(s,"error");F.callbacks.close.after();return false}window.BambooHR.Modal.setState({isLoading:false},true);if(e.res==="yes"){p()}else if(e.res==="failed"){if(e.s3==="yes"){n.html((0,o.getErrorState)({fabIcon:"fab-file-sad-100x120",icon:"file-sad.png",title:$.__("Sorry, we canâ€™t provide a preview for this file."),subText:$.__("You can always download and view it on your computer."),fileUrl:a}));n.find("#loadingMsg").remove()}else{n.html((0,o.getErrorState)({icon:"file-hourglass.png",title:$.__("We are working on generating a preview for this file. Please check back later."),subText:$.__("You can always download and view it on your computer."),fileUrl:a}));n.find("#loadingMsg").remove()}}else if(e.error&&e.error=="missing file data"){n.html((0,o.getErrorState)({fabIcon:"fab-file-sad-100x120",icon:"file-sad.png",title:$.__("There was a problem uploading this file."),subText:$.__("This file could not be processed, try uploading it again.")}));n.find("#loadingMsg").remove()}else if(e.error&&e.error==="archived"){$(".js-simplemodal-title").text($.__("This file is gone"));$(".js-simplemodal-button-primary").text($.__("Close"));n.html((0,o.getErrorState)({icon:"file-dinosaur.png",title:$.__("Sorry, this doesn't exist anymore."),subText:$.__("Talk to your HR Administrator to see if they can dig it up.")}));n.find("#loadingMsg").remove()}else if(r<3){S=setTimeout(d,2e3*Math.min(r,5))}else{n.html((0,o.getErrorState)({fabIcon:"fab-file-sad-100x120",icon:"file-sad.png",title:$.__("Sorry, we canâ€™t provide a preview for this file."),subText:$.__("You can always download and view it on your computer."),fileUrl:a}));n.find("#loadingMsg").remove()}}),"json").fail((function(e,t,a){console.log("why?");console.log(e);console.log(t);console.log(a)}))};d()}if(!d){let e="/ajax/"+appPrefix+"files/previewer_sidebar.php?id="+t;if(i){e+="&employee_file=true"}if(m){}$.get(e,(function(e){if(e.success){l.show().css("opacity",0).html(e.html).velocity({opacity:1},{duration:150})}}),"json")}function r(e){let t="/ajax/"+appPrefix+"fetcher.php?doc="+e+"&format=pdf";if(i){t+="&employee=true"}if(m){}return t}function p(){(0,c.default)("/ajax/"+appPrefix+"files/previewer/load_html.php/previewerHtml",r(e),n)}}}},footer:{show:true,buttons:{primary:{show:true,text:$.__("Done"),action:function(){SimpleModal.closeModal()}},cancel:{show:false}}}};F.callbacks.open.before();window.BambooHR.Modal.setState({alternativeAction:null,contentHasPadding:false,dangerousContent:g,header:(0,s.default)("div",{className:"filePreviewModalHeader"},void 0,(0,s.default)("h2",{className:"filePreviewModalHeader__title mobileHide"},void 0,(0,s.default)("span",{className:"filePreviewModalHeader__icon"},void 0,(0,s.default)("ba-icon",{name:(0,r.getIconNameFromFileName)(F.title,"23x28",y)})),F.title),(0,s.default)("h3",{className:"filePreviewModalHeader__title hidden mobileOnly mobileOnly--block"},void 0,(0,s.default)("span",{className:"filePreviewModalHeader__icon"},void 0,(0,s.default)("ba-icon",{name:(0,r.getIconNameFromFileName)(F.title,"20x24")})),F.title)),isHeadless:true,isLoading:true,isOpen:true,onClose:F.callbacks.close.after,onOpen:F.callbacks.open.after,primaryAction:()=>{F.callbacks.close.before();j();window.BambooHR.Modal.setState({isOpen:false})},primaryActionKey:null,primaryActionText:$.__("Close"),type:"fullScreen"});if(h){F.callbacks.open.after()}}function g(e,t,a,i,s){if(window.GLOBAL_IS_ASSUMED_USER){return window.disabledForPermsTest()}if(t){e.Setup.disableSidebarButtons();d.ajax.post(`/esignatures/template/${t}/duplicate`).then((t=>{const{data:{newFileId:n,newFileName:o}={}}=t;if(n){const t=o?o:$.__("%1$s - Copy",a);const l=()=>{e.init(e.TYPE_SETUP);setMessage($.__("Done! You are now editing the duplicated copy."),"success");window.resetFiles();window.loadSectionFiles($(".sectionLink.selected .js-FileFolder").data("section_id"),$("select[name=sort-files]").val())};e.Setup.openModal(0,n,l,t,i,s,true)}else{window.BambooHR.Modal.setState({isOpen:false,isProcessing:false});setMessage(t!==null&&t!==void 0&&t.error?t.error:$.__("Uh-oh. Something went wrong, please try again!"),"error")}})).catch(((e={})=>{const{response:{data:{error:{message:t=$.__("Uh-oh. Something went wrong, please try again!")}={}}={}}={}}=e;console.error(e);window.BambooHR.Modal.setState({isOpen:false,isProcessing:false});setMessage(t,"error")}))}}function b(e,t,a,i){const s=$(`[data-file_id="${e}"], [data-file-id="${e}"]`);const n=s.data("filename")||s.data("fileName")||i||"";const c=(0,l.decodeEscapeSequence)(n);const u={name:c,fclass:`filetype-${(0,r.getFileTypeFromExt)(c)}`};const f=t?`/ajax/${appPrefix}employees/files/rename_file.php`:`/ajax/${appPrefix}files/rename_file.php`;(0,o.handleStackableModalState)(a,true,{isLoading:true});d.ajax.get(`${f}?${$.param(u)}`).then((t=>{const i={alternativeAction:()=>{(0,o.handleStackableModalState)(a,false)},contentHasPadding:true,dangerousContent:t.data,footer:null,headline:null,icon:null,isLoading:false,onOpen:()=>{$("#fileName").select().focus()},onClose:()=>{(0,o.handleStackableModalState)(a,false)},primaryAction:()=>{const t=$(".js-renameInput").val();if(t===""){setMessage($.__("Please enter a name for this file."),"error")}else{$.ajax({url:f,type:"post",data:{id:e,name:t},success:function(i){if(i.success){setMessage(i.success_message,"success");let s={isOpen:false};if(a){s={title:t,sheetProps:{isOpen:false}}}(0,o.handleStackableModalState)(a,false,s);const l=window.renameFileSuccess||v;l(e,t,n)}else{setMessage(i.error,"error")}},dataType:"json"})}},primaryActionKey:"Enter",primaryActionText:$.__("Rename File"),secondaryAction:false,title:$.__("Rename File"),type:a?"smallSheet":"small"};(0,o.handleStackableModalState)(a,true,i)}))}function v(e,t,a=""){const i=window.js(t);const n=$(`tr[data-file_id=${e}]`);const o=n.data("is-esig");n.find(".js-fileName").text(t);n.data("filename",t);const l=$(".file-wrapper, .FileWrapper, .FileUploadsEmployee__File");let d=l.filter(`[id="file-${e}"], [id="${e}"], [data-fileid="${e}"]`);if(d.length===0){d=l.find(`[data-file-id="${e}"]`)}const c=d.find(".js-FileWrapper__FileLink, .js-Comment__fileName, .js-Comment__fileName-link");const u=c.find(".FileName__Text, > span");const f=d.find("ba-icon.FileType__icon");u.text(t);c.attr("data-file-name",i);c.data("fileName",t);if(c.length>0&&c[0].hasAttribute("onclick")){c.attr("onclick",c.attr("onclick").replace(a,i))}f.attr("name",(0,r.getIconNameFromFileName)(t,"16x20"));window.BambooHR.Modal.setState({header:(0,s.default)("div",{className:"filePreviewModalHeader"},void 0,(0,s.default)("h2",{className:"filePreviewModalHeader__title"},void 0,(0,s.default)("span",{className:"filePreviewModalHeader__icon"},void 0,(0,s.default)("ba-icon",{name:(0,r.getIconNameFromFileName)(t,"23x28",o)})),t))},true)}function w(e){if(!e){return}$.ajax({url:"/ajax/"+appPrefix+"file_status.php",data:{ids:e},dataType:"json",async:false,success:function(e){for(let t in e){const a=$("[data-file_id="+t+"]");if(e[t]=="uploaded"){a.attr("data-scanstatus","complete")}else if(e[t]=="virus"){a.attr("data-scanstatus","virus-detected").attr("data-fileimage","virus.png");a.find("td.file-icon img").attr("src","/images/files/types/virus.png").removeAttr("width").removeAttr("height");const e=$('[data-scanstatus="virus-detected"]').length;setMessage($.__n("Warning: One of these files has a virus.","Warning: Some of these files have a virus.",e),"info")}}if(fileScanTimeout<12e4){fileScanTimeout*=1.5;window.setTimeout((function(){y(fileScanTimeout)}),fileScanTimeout)}}})}function y(){let e=[];$("[data-scanstatus=scanning]").each((function(t){e.push($(this).data("file_id"))}));if(e.length){w(e.join(","))}}function S(e,t,a){j(e,t,a,true)}function j(e,t,a,i,n){if(typeof n==="undefined"||n===""){n="tr"}let l=`/${appPrefix||""}files/download.php?id=${t}`;if(i==true){l=`/${appPrefix||""}employees/files/download.php?id=${t}`}const d='<div id="previewDialog">'+'<div id="documentContainer">'+(0,o.getErrorState)({fabIcon:"fab-file-sad-100x120",icon:"file-sad.png",title:$.__("Sorry, we canâ€™t provide a preview for this file."),subText:$.__("You can always download and view it on your computer."),fileUrl:l})+"</div>"+'<div class="branded-icon"></div>'+'<div id="documentOptions"></div>'+"</div>";const c=$(n+"[data-file_id="+t+"]");const u=$("#previewDialog");const f=u.find("#documentContainer");const p=a||c.data("filename");f.find("#noPreviewMsg").remove();f.find("#loadingMsg").remove();u.addClass("noPreview");const m={html:d,title:p,classes:"previewDialog full-screen",callbacks:{open:{after:function(){let e="/ajax/"+appPrefix+"files/previewer_sidebar.php?id="+t;if(i){e+="&employee_file=true"}$.get(e,(function(e){if(e.success){$("#documentOptions").css("opacity",0).html(e.html).velocity({opacity:1},{duration:150})}}),"json")}}},footer:{show:true,buttons:{primary:{show:true,text:$.__("Done"),action:function(){SimpleModal.closeModal()}},cancel:{show:false}}}};window.BambooHR.Modal.setState({dangerousContent:d,header:(0,s.default)("div",{className:"filePreviewModalHeader"},void 0,(0,s.default)("h2",{className:"filePreviewModalHeader__title"},void 0,(0,s.default)("span",{className:"filePreviewModalHeader__icon"},void 0,(0,s.default)("ba-icon",{name:(0,r.getIconNameFromFileName)(p,"30x36")})),p)),isOpen:true,onOpen:m.callbacks.open.after,primaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:$.__("Done"),type:"fullScreen"})}function F(e){$.get("/ajax/"+appPrefix+"files/no_access.php",{filename:e},(function(e){window.BambooHR.Modal.setState({dangerousContent:e,title:$.__("There's nothing to see here..."),isOpen:true,isLoading:false,primaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:$.__("Move Along"),alternativeActionText:""},true)}),"html").fail(errorFallBack)}},664121:(e,t,a)=>{"use strict";var $=a(992005);var i=a(565862);Object.defineProperty(t,"__esModule",{value:true});t.addFolderSuccess=r;t.editFolder=d;t.EmployeeFolderClicked=c;t.firstFolderSuccess=u;t.renameFolderSuccess=f;var s=i(a(569005));var n=a(652005);var o=a(141677);var l=a(479706);function r(e,t,a,i){let o=$("#file-sections > li:last-child").clone().attr("data-section_id",e).attr("data-foldername",t).attr("title",t);let l={sectionId:e,sectionName:t,sectionNameJSEncoded:(0,s.default)(t).call(t,"'","\\'")};if(!o.hasClass("all")||!o.length){const a=i?"#firstEmployeeFolderMenuTemplate":"#firstFolderMenuTemplate";o=$(a).tmpl(l).attr("data-section_id",e).attr("data-foldername",t)}if(i){$(".blankState").hide();o.find(".files-section-wrapper").attr("id","files-table-wrapper_"+e).empty()}o.appendTo("#file-sections");o.removeClass("shared");o.removeClass("selected");if(a){o.addClass("droppable");(0,n.setupDroppable)(o,i)}else{o.removeClass("droppable")}const r=function(e,t){const a=$(e).find("span.sectionName").text().toLowerCase();const i=$(t).find("span.sectionName").text().toLowerCase();let s=0;if(a<i){s=-1}else if(a>i){s=1}return s};let d=$("#file-sections > li:not(.all)");d.sort(r);for(let e=0;e<d.length;e++){d[e].parentNode.appendChild(d[e])}}function d(e,t,a=false,i=null){const s={name:$("[data-section_id="+e+"]").data("foldername")};let n;let o="";switch(t){case"add":n="#addFolderTemplate";o=$.__("Add Folder");break;case"first":n="#firstFolderTemplate";o=$.__("Create a Folder First");if(a){t="add"}break;case"rename":n="#renameFolderTemplate";o=$.__("Rename Folder");break}const l=$(n).tmpl(s);window.BambooHR.Modal.setState({dangerousContent:l.html(),isOpen:true,onClose:()=>{window.BambooHR.Modal.setState({isOpen:false})},primaryAction:function(){const s=$("#fabricModalContent #folderName").val().trim();if(s===""){setMessage($.__("Please enter a name for this folder."),"error")}else{let n="/ajax/"+appPrefix+"files/edit_folder.php";let o={id:e,name:s,action:t,employeeId:i};if(a){n="/employees/"+appPrefix+"ajax/folder/"+t+"/"+i;o={id:e,name:s,employeeId:i}}$.ajax({type:"post",url:n,data:o,success:function(i){if(i.success){setMessage(i.success_message,"success");window.BambooHR.Modal.setState({isOpen:false});switch(t){case"add":r(i.section_id,s,i.can_edit,a);break;case"first":u(i.section_id,s,i.can_edit,a);break;case"rename":f(e,s);break}}else{setMessage(i.error,"error")}},dataType:"json"})}},primaryActionKey:"Enter",primaryActionText:$.__("Save"),title:o});$("#fabricModalContent #folderName").select().focus()}function c(e){const t=$(e).parent(".sectionLink");const a=$(t).data("section_id");if($(t).hasClass("selected")){$(t).removeClass("selected");$(t).find(".files-section-wrapper").hide();return}$(t).addClass("selected");loadSectionFiles(a,$("select[name=sort-files]").val())}function u(e,t,a,i){r(e,t,a,i);$("li.sectionLink.selected").removeClass("selected");$("li.sectionLink[data-section_id="+e+"]").addClass("selected");if(i){$(".blankState").hide();return(0,o.uploadEmployeeFile)(i)}(0,o.upload)()}function f(e,t){let a=$("li[data-section_id="+e+"]");a=$(".js-FileFolder[data-section_id="+e+"]");a.find(".sectionName").text(t);a.data("foldername",t);a.attr("title",t);if(a.hasClass("selected")){$("#files-content #section-name .name").text(t)}}},652005:(e,t,a)=>{"use strict";var $=a(992005);Object.defineProperty(t,"__esModule",{value:true});t.getErrorState=l;t.handleStackableModalState=r;t.resetProcessingButton=d;t.setupDraggable=c;t.setupDroppable=u;t.setupShareInputs=f;t.showImage=p;t.updateButtonForProcessing=m;t.updateFileSectionCounts=h;t.updateHeadingCount=g;var i=a(929392);var s=a(273641);var n=a(141677);var o=a(479706);function l(e){if(!e.hasOwnProperty("fabIcon")){e.fabIcon="unknown-0x0"}let t=`\n\t\t<div class="blankState no-line">\n\t\t\t<div class="blankState__image txtCenter">\n\t\t\t!* if (fabIcon) { *!\n\t\t\t\t<ba-icon name="!*= fabIcon *!" />\n\t\t\t!* } *!\n\t\t\t</div>\n\t\t\t<p class="title txtCenter">!*= title *!</p>\n\t\t\t<p class="blankState__subText txtCenter">!*= subText *!</p>\n\t\t\t!* if (typeof(fileUrl) != "undefined" && fileUrl != "") { *!\n\t\t\t\t<div class="footer">\n\t\t\t\t\t<a class="fab-Button fab-Button--outline fab-Button--small" target="_blank" rel="noopener noreferrer" href="!*= fileUrl *!"><span class="fab-Button__icon fab-Button__icon--left"><ba-icon name="fab-download-12x14"></ba-icon></span>!*= $.__('Download') *!</a>\n\t\t\t\t</div>\n\t\t\t!* } *!\n\t\t</div>\n\t`;return microTemplate(t,e)}function r(e,t,a){if(e){if(t){a.isOpen=t;window.BambooHR.Modal.setState({sheetProps:a},true)}else{window.BambooHR.Modal.setState({sheetProps:null},true)}}else if(t){if(window.BambooHR.Modal.isOpen()){window.BambooHR.Modal.setState(a,true)}else{a.isOpen=true;window.BambooHR.Modal.setState(a)}}else{window.BambooHR.Modal.setState({isOpen:false})}}function d(){$(".ui-dialog-buttonset").find("button.processing").removeClass("processing disabled")}function c(e,t={}){if(!$(".droppable").length){return}e.draggable({revert:true,revertDuration:350,helper:function(e,t){const a=$(".draggable.checked");const s=a.size();if(s>1){const e=(0,i.sprintf)($.__n("Move %1 Document","Move %1 Documents",s),s);return $("<div class='dragMultiple'><img src='/images/files/files-drag.png'><span>"+e+"</span></div>")}if(!$(this).hasClass("checked")){$(this).addClass("checked");$(this).find("input[type=checkbox]").attr("checked","checked")}const n=$(this).clone();n.find(".file-checkbox").remove();n.find(".file-data p, .file-data span").hide();n.find(".file-options").remove();n.find(".file-icon img").css("height","20px").css("width","16px");n.css("width","auto").wrap("<div/>").removeClass("checked");return n},cancel:".js-not-draggable",cursorAt:{left:-1,top:-1},cursor:"pointer",...t})}function u(e,t){e.droppable({activeClass:"",hoverClass:"sectionLinkHover",tolerance:"pointer",drop:function(e,a){a.draggable.draggable("option","revert",false);const i=$("tr.checked");const s=$(this).find(".js-FileFolder");const o=s.data("section_id");if(o&&i.closest("li").data("section_id")!=o){const e=i.clone();$(".ui-draggable-dragging").remove();const a=o;if(s.attr("data-shared")=="yes"&&!t){const t=$("#addToSharedFolderTemplate").tmpl({});window.BambooHR.Modal.setState({dangerousContent:t.html(),primaryAction:()=>{(0,n.addFile)(a,e);window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:$.__("Add File to Shared Folder?"),isOpen:true,title:$.__("Create Shared File")})}else{(0,n.addFile)(o,e,t)}}}})}function f(e){const t=e+" .input-list";$(t).autoInputList({autocompleteOptions:{highlight:BambooHR.Utils.highlightTermInMarkup},autocompleteUrl:"/quicksearch/share/file",description:$.__("Enter names or groups..."),formatAutoItem:qsWithPhoto,formatTagItem:function(t,a,i){if(a){$('<span class="item">'+a[0]+'<input type="hidden" name="ids['+a[1]+'][]" value="'+a[2]+'" />'+'<button class="js-removeItem removeItem fab-FloatingIconButton fab-FloatingIconButton--teenie fab-FloatingIconButton--secondary" type="button">'+'<span class="fab-FloatingIconButton__icon"><ba-icon name="fab-x-10x10"></ba-icon></span></button></span>').insertBefore(".input-list span.input");$(this).val("");$(".input-list:not(.disabled)").on("click",".js-removeItem",(function(){$(this).closest("span.item").remove();$(".free",e).focus();return false}))}}}).focus((function(){$(".input-list:not(.disabled)",e).addClass("focus")})).blur((function(){$(".input-list",e).removeClass("focus")}));$(".free",e).addClass("fab-TextInput fab-TextInput--width100");$(".input-list:not(.disabled) .description",e).bind("click.autoInit.bhr",(function(){if($(e).find("input#allEmployees").attr("checked")){return}$(".input-list .description",e).hide().next(".inputs").show();$(".input-list",e).addClass("shown");$(".free",e).focus();$(".js-simplemodal-button-primary, .ui-dialog-buttonset .btn span.ui-button-text").text($.__("Share"));const t=$('<span class="cancel-option"><a href="#">'+$.__("Cancel")+"</a></span>");if($(".js-simplemodal-cancel").length){$(".js-simplemodal-cancel").show()}else if(!$(".ui-dialog-buttonset > .cancel-option").length){$(".ui-dialog-buttonset .btn").after(t)}$(".js-simplemodal-cancel, .ui-dialog-buttonset .cancel-option").click((function(){$(".inputs .item").remove();$(".js-simplemodal-button-primary, .ui-dialog-buttonset .btn span.ui-button-text").text($.__("Done"));$("#notifyLabel").hide();$(".input-list.shown").removeClass("shown");$(".input-list .description").show().next(".inputs").hide();if($(this).hasClass("cancel-option")){$(this).remove()}else{$(this).hide()}return false}))}));$(".input-list:not(.disabled)").click((function(){$(".free").focus()}));const a=$(".shareForm .input input");const i=$(".forInputSize");i.css({"font-size":a.css("font-size"),"font-family":a.css("font-family")})}function p(e){if(e.clientHeight>e.clientWidth){$(e).addClass("image--tall")}else{$(e).addClass("image--wide")}e.style.opacity="1";$("#loadingMsg").remove()}function m(){$(".ui-dialog-buttonset").find("button.btnAction").addClass("processing disabled")}function h(e){let t="/ajax/files/get_file_counts.php";if(e){t="/employees/files/getFileCounts/"+e}$.ajax({url:t,dataType:"json",success:function(e){const t="employee_upload";const a="/files/loadFiles?sectionId=signature&offset=0";const i=document.querySelector("#section-name .name");const n=i?i.dataset.fileSectionId:-1;const o=$("#file-sections .sectionLink");let l=null;o.each(((a,i)=>{const o=$(i);const r=o.data("section_id")||o.find("[data-section_id]").data("section_id");const d=o.data("section_type")||o.find("[data-section_type]").data("section_type");const c=(0,s.find)(e,(e=>r===Number(e.id)))||false;if(c){c.id=Number(c.id);c.count=Number(c.count)}else{return}if(window.isViewingSelfAsEss&&(c&&c.section_type===t||d===t)){o.toggleClass("hidden",c?c.count===0:0)}o.find(".icon span.count, .js-FileFolder__count").text(`(${c?c.count:0})`);if(c.id===Number(n)){l=c.count}}));if(typeof n==="string"){if(n==="all"){g((0,s.sumBy)(e,(e=>parseInt(e.count))))}else if(n==="signature"){$.get(a,(e=>g(e.sectionFileCount)))}else{g(l)}}if("determineBlankState"in window){window.determineBlankState()}}})}function g(e){if(e!==null){$(".heading-filter #section-name .count").text(`(${e})`)}}},230628:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=a(817946);Object.keys(i).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===i[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return i[e]}})}));var s=a(664121);Object.keys(s).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===s[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return s[e]}})}));var n=a(652005);Object.keys(n).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in t&&t[e]===n[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return n[e]}})}))},729843:(e,t,a)=>{"use strict";var i=a(565862);a(872183);a(253128);var s=i(a(473782));var n=c(a(772777));var o=a(329349);var l=a(13545);var r=a(810165);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var a=d(t);if(a&&a.has(e)){return a.get(e)}var i={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e){if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)){var o=s?Object.getOwnPropertyDescriptor(e,n):null;if(o&&(o.get||o.set)){Object.defineProperty(i,n,o)}else{i[n]=e[n]}}}i.default=e;if(a){a.set(e,i)}return i}const u=window.BambooHR;u.Components=u.Components||{};u.Components.AutoActioner=s.default;Object.assign(window,n);window.Files=window.Files||{};window.Files.SendSignatureRequest=o.SendSignatureRequest;window.Files.GearIcon=l.GearIcon;window.updateFileUploadActions=r.updateFileUploadActions;window.centerFileUploadActions=r.centerFileUploadActions},686788:()=>{},502754:()=>{},156391:()=>{},505001:()=>{},435496:()=>{},251566:()=>{}},e=>{"use strict";var t=t=>e(e.s=t);e.O(0,[4736],(()=>t(729843)));var a=e.O()}])}catch(e){const t=e&&(e.message||"Exception contains no error message");if(window.Rollbar&&typeof window.Rollbar.error==="function"){console.log("Logging error to Rollbar.");window.Rollbar.error("Error Handler Plugin: files.2ecee287.dist.js - "+t,e)}else{console.log("Could not find Rollbar to log error.");throw e}}