/*! For license information please see global.cae608e4.dist.js.LICENSE.txt */
try{(globalThis["webpackChunk"]=globalThis["webpackChunk"]||[]).push([[2172],{280934:function(e){!function(t,i){true?e.exports=i():0}(this,(function(){"use strict";function e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function i(i){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?t(Object(s),!0).forEach((function(t){e(i,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach((function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(s,e))}))}return i}function n(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var i=[],n=!0,s=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(e){var t,i="algoliasearch-client-js-".concat(e.key),n=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(n().getItem(i)||"{}")};return{get:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var i=JSON.stringify(e),n=a()[i];return Promise.all([n||t(),void 0!==n])})).then((function(e){var t=s(e,2),n=t[0],a=t[1];return Promise.all([n,a||i.miss(n)])})).then((function(e){return s(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var s=a();return s[JSON.stringify(e)]=t,n().setItem(i,JSON.stringify(s)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=a();delete t[JSON.stringify(e)],n().setItem(i,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){n().removeItem(i)}))}}}function o(e){var t=a(e.caches),i=t.shift();return void 0===i?{get:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},n=t();return n.then((function(e){return Promise.all([e,i.miss(e)])})).then((function(e){return s(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return i.get(e,n,s).catch((function(){return o({caches:t}).get(e,n,s)}))},set:function(e,n){return i.set(e,n).catch((function(){return o({caches:t}).set(e,n)}))},delete:function(e){return i.delete(e).catch((function(){return o({caches:t}).delete(e)}))},clear:function(){return i.clear().catch((function(){return o({caches:t}).clear()}))}}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(i,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(i);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var r=n(),o=s&&s.miss||function(){return Promise.resolve()};return r.then((function(e){return o(e)})).then((function(){return r}))},set:function(i,n){return t[JSON.stringify(i)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function d(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[i],e[i]=n}return e}function u(e,t){return t?(Object.keys(t).forEach((function(i){e[i]=t[i](e)})),e):e}function c(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var s=0;return e.replace(/%s/g,(function(){return encodeURIComponent(i[s++])}))}var f={WithinQueryParameters:0,WithinHeaders:1};function h(e,t){var i=e||{},n=i.data||{};return Object.keys(i).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(n[e]=i[e])})),{data:Object.entries(n).length>0?n:void 0,timeout:i.timeout||t,headers:i.headers||{},queryParameters:i.queryParameters||{},cacheable:i.cacheable}}var p={Read:1,Write:2,Any:3},g=1,m=2,v=3;function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;return i(i({},e),{},{status:t,lastUpdate:Date.now()})}function b(e){return"string"==typeof e?{protocol:"https",url:e,accept:p.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||p.Any}}var y="GET",S="POST";function E(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(w(t))}))}))).then((function(e){var i=e.filter((function(e){return function(e){return e.status===g||Date.now()-e.lastUpdate>12e4}(e)})),n=e.filter((function(e){return function(e){return e.status===v&&Date.now()-e.lastUpdate<=12e4}(e)})),s=[].concat(a(i),a(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:s.length>0?s.map((function(e){return b(e)})):t}}))}function C(e,t,n,s){var r=[],o=function(e,t){if(e.method===y||void 0===e.data&&void 0===t.data)return;var n=Array.isArray(e.data)?e.data:i(i({},e.data),t.data);return JSON.stringify(n)}(n,s),l=function(e,t){var n=i(i({},e.headers),t.headers),s={};return Object.keys(n).forEach((function(e){var t=n[e];s[e.toLowerCase()]=t})),s}(e,s),d=n.method,u=n.method!==y?{}:i(i({},n.data),s.data),c=i(i(i({"x-algolia-agent":e.userAgent.value},e.queryParameters),u),s.queryParameters),f=0,h=function t(i,a){var u=i.pop();if(void 0===u)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:O(r)};var h={data:o,headers:l,method:d,url:T(u,n.path,c),connectTimeout:a(f,e.timeouts.connect),responseTimeout:a(f,s.timeout)},p=function(e){var t={request:h,response:e,host:u,triesLeft:i.length};return r.push(t),t},g={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(n){var s=p(n);return n.isTimedOut&&f++,Promise.all([e.logger.info("Retryable failure",F(s)),e.hostsCache.set(u,w(u,n.isTimedOut?v:m))]).then((function(){return t(i,a)}))},onFail:function(e){throw p(e),function(e,t){var i=e.content,n=e.status,s=i;try{s=JSON.parse(i).message}catch(e){}return function(e,t,i){return{name:"ApiError",message:e,status:t,transporterStackTrace:i}}(s,n,t)}(e,O(r))}};return e.requester.send(h).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,i=e.status;return!t&&0==~~i}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,g)}))};return E(e.hostsCache,t).then((function(e){return h(a(e.statelessHosts).reverse(),e.getTimeout)}))}function x(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var i="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(i)&&(t.value="".concat(t.value).concat(i)),t}};return t}function T(e,t,i){var n=k(i),s="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return n.length&&(s+="?".concat(n)),s}function k(e){return Object.keys(e).map((function(t){return c("%s=%s",t,(i=e[t],"[object Object]"===Object.prototype.toString.call(i)||"[object Array]"===Object.prototype.toString.call(i)?JSON.stringify(e[t]):e[t]));var i})).join("&")}function O(e){return e.map((function(e){return F(e)}))}function F(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return i(i({},e),{},{request:i(i({},e.request),{},{headers:i(i({},e.request.headers),t)})})}var M=function(e){var t=e.appId,n=function(e,t,i){var n={"x-algolia-api-key":i,"x-algolia-application-id":t};return{headers:function(){return e===f.WithinHeaders?n:{}},queryParameters:function(){return e===f.WithinQueryParameters?n:{}}}}(void 0!==e.authMode?e.authMode:f.WithinHeaders,t,e.apiKey),a=function(e){var t=e.hostsCache,i=e.logger,n=e.requester,a=e.requestsCache,r=e.responsesCache,o=e.timeouts,l=e.userAgent,d=e.hosts,u=e.queryParameters,c={hostsCache:t,logger:i,requester:n,requestsCache:a,responsesCache:r,timeouts:o,userAgent:l,headers:e.headers,queryParameters:u,hosts:d.map((function(e){return b(e)})),read:function(e,t){var i=h(t,c.timeouts.read),n=function(){return C(c,c.hosts.filter((function(e){return 0!=(e.accept&p.Read)})),e,i)};if(!0!==(void 0!==i.cacheable?i.cacheable:e.cacheable))return n();var a={request:e,mappedRequestOptions:i,transporter:{queryParameters:c.queryParameters,headers:c.headers}};return c.responsesCache.get(a,(function(){return c.requestsCache.get(a,(function(){return c.requestsCache.set(a,n()).then((function(e){return Promise.all([c.requestsCache.delete(a),e])}),(function(e){return Promise.all([c.requestsCache.delete(a),Promise.reject(e)])})).then((function(e){var t=s(e,2);t[0];return t[1]}))}))}),{miss:function(e){return c.responsesCache.set(a,e)}})},write:function(e,t){return C(c,c.hosts.filter((function(e){return 0!=(e.accept&p.Write)})),e,h(t,c.timeouts.write))}};return c}(i(i({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:p.Read},{url:"".concat(t,".algolia.net"),accept:p.Write}].concat(d([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:i(i(i({},n.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:i(i({},n.queryParameters()),e.queryParameters)}));return u({transporter:a,appId:t,addAlgoliaAgent:function(e,t){a.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then((function(){}))}},e.methods)},P=function(e){return function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={transporter:e.transporter,appId:e.appId,indexName:t};return u(n,i.methods)}},I=function(e){return function(t,n){var s=t.map((function(e){return i(i({},e),{},{params:k(e.params||{})})}));return e.transporter.read({method:S,path:"1/indexes/*/queries",data:{requests:s},cacheable:!0},n)}},A=function(e){return function(t,s){return Promise.all(t.map((function(t){var a=t.params,r=a.facetName,o=a.facetQuery,l=n(a,["facetName","facetQuery"]);return P(e)(t.indexName,{methods:{searchForFacetValues:L}}).searchForFacetValues(r,o,i(i({},s),l))})))}},D=function(e){return function(t,i,n){return e.transporter.read({method:S,path:c("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:i},cacheable:!0},n)}},j=function(e){return function(t,i){return e.transporter.read({method:S,path:c("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},i)}},L=function(e){return function(t,i,n){return e.transporter.read({method:S,path:c("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:i},cacheable:!0},n)}},R=1,N=2,B=3;function H(e,t,n){var s,a={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var i=new XMLHttpRequest;i.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return i.setRequestHeader(t,e.headers[t])}));var n,s=function(e,n){return setTimeout((function(){i.abort(),t({status:0,content:n,isTimedOut:!0})}),1e3*e)},a=s(e.connectTimeout,"Connection timeout");i.onreadystatechange=function(){i.readyState>i.OPENED&&void 0===n&&(clearTimeout(a),n=s(e.responseTimeout,"Socket timeout"))},i.onerror=function(){0===i.status&&(clearTimeout(a),clearTimeout(n),t({content:i.responseText||"Network request failed",status:i.status,isTimedOut:!1}))},i.onload=function(){clearTimeout(a),clearTimeout(n),t({content:i.responseText,status:i.status,isTimedOut:!1})},i.send(e.data)}))}},logger:(s=B,{debug:function(e,t){return R>=s&&console.debug(e,t),Promise.resolve()},info:function(e,t){return N>=s&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:l(),requestsCache:l({serializable:!1}),hostsCache:o({caches:[r({key:"".concat("4.9.3","-").concat(e)}),l()]}),userAgent:x("4.9.3").add({segment:"Browser",version:"lite"}),authMode:f.WithinQueryParameters};return M(i(i(i({},a),n),{},{methods:{search:I,searchForFacetValues:A,multipleQueries:I,multipleSearchForFacetValues:A,initIndex:function(e){return function(t){return P(e)(t,{methods:{search:j,searchForFacetValues:L,findAnswers:D}})}}}}))}return H.version="4.9.3",H}))},459025:(e,t)=>{t.defaults={};t.set=function(e,i,n){var s=n||{};var a=t.defaults;var r=s.expires||a.expires;var o=s.domain||a.domain;var l=s.path!==undefined?s.path:a.path!==undefined?a.path:"/";var d=s.secure!==undefined?s.secure:a.secure;var u=s.httponly!==undefined?s.httponly:a.httponly;var c=s.samesite!==undefined?s.samesite:a.samesite;var f=r?new Date(typeof r==="number"?(new Date).getTime()+r*864e5:r):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+i.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(f&&f.getTime()>=0?";expires="+f.toUTCString():"")+(o?";domain="+o:"")+(l?";path="+l:"")+(d?";secure":"")+(u?";httponly":"")+(c?";samesite="+c:"")};t.get=function(e){var t=document.cookie.split(";");while(t.length){var i=t.pop();var n=i.indexOf("=");n=n<0?i.length:n;var s=decodeURIComponent(i.slice(0,n).replace(/^\s+/,""));if(s===e){return decodeURIComponent(i.slice(n+1))}}return null};t.erase=function(e,i){t.set(e,"",{expires:-1,domain:i&&i.domain,path:i&&i.path,secure:0,httponly:0})};t.all=function(){var e={};var t=document.cookie.split(";");while(t.length){var i=t.pop();var n=i.indexOf("=");n=n<0?i.length:n;var s=decodeURIComponent(i.slice(0,n).replace(/^\s+/,""));e[s]=decodeURIComponent(i.slice(n+1))}return e}},925482:(e,t,i)=>{var jQuery=i(992005);(function($,e){if($.fn.dotdotdot){return}$.fn.dotdotdot=function(e){if(this.length==0){$.fn.dotdotdot.debug('No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each((function(){$(this).dotdotdot(e)}))}var s=this;if(s.data("dotdotdot")){s.trigger("destroy.dot")}s.data("dotdotdot-style",s.attr("style")||"");s.css("word-wrap","break-word");if(s.css("white-space")==="nowrap"){s.css("white-space","normal")}s.bind_events=function(){s.bind("update.dot",(function(e,t){e.preventDefault();e.stopPropagation();l.maxHeight=typeof l.height=="number"?l.height:h(s);l.maxHeight+=l.tolerance;if(typeof t!="undefined"){if(typeof t=="string"||t instanceof HTMLElement){t=$("<div />").append(t).contents()}if(t instanceof $){r=t}}p=s.wrapInner('<div class="dotdotdot" />').children();p.contents().detach().end().append(r.clone(true)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var o=false,u=false;if(d.afterElement){o=d.afterElement.clone(true);o.show();d.afterElement.detach()}if(a(p,l)){if(l.wrap=="children"){u=i(p,l,o)}else{u=n(p,s,p,l,o)}}p.replaceWith(p.contents());p=null;if($.isFunction(l.callback)){l.callback.call(s[0],u,r)}d.isTruncated=u;return u})).bind("isTruncated.dot",(function(e,t){e.preventDefault();e.stopPropagation();if(typeof t=="function"){t.call(s[0],d.isTruncated)}return d.isTruncated})).bind("originalContent.dot",(function(e,t){e.preventDefault();e.stopPropagation();if(typeof t=="function"){t.call(s[0],r)}return r})).bind("destroy.dot",(function(e){e.preventDefault();e.stopPropagation();s.unwatch().unbind_events().contents().detach().end().append(r).attr("style",s.data("dotdotdot-style")||"").data("dotdotdot",false)}));return s};s.unbind_events=function(){s.unbind(".dot");return s};s.watch=function(){s.unwatch();if(l.watch=="window"){var e=$(window),t=e.width(),i=e.height();e.bind("resize.dot"+d.dotId,(function(){if(t!=e.width()||i!=e.height()||!l.windowResizeFix){t=e.width();i=e.height();if(c){clearInterval(c)}c=setTimeout((function(){s.trigger("update.dot")}),100)}}))}else{u=o(s);c=setInterval((function(){if(s.is(":visible")){var e=o(s);if(u.width!=e.width||u.height!=e.height){s.trigger("update.dot");u=e}}}),500)}return s};s.unwatch=function(){$(window).unbind("resize.dot"+d.dotId);if(c){clearInterval(c)}return s};var r=s.contents(),l=$.extend(true,{},$.fn.dotdotdot.defaults,e),d={},u={},c=null,p=null;if(!(l.lastCharacter.remove instanceof Array)){l.lastCharacter.remove=$.fn.dotdotdot.defaultArrays.lastCharacter.remove}if(!(l.lastCharacter.noEllipsis instanceof Array)){l.lastCharacter.noEllipsis=$.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis}d.afterElement=f(l.after,s);d.isTruncated=false;d.dotId=t++;s.data("dotdotdot",true).bind_events().trigger("update.dot");if(l.watch){s.watch()}return s};$.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:true,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:false,windowResizeFix:true};$.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}};$.fn.dotdotdot.debug=function(e){};var t=1;function i(e,t,i){var n=e.children(),s=false;e.empty();for(var r=0,o=n.length;r<o;r++){var l=n.eq(r);e.append(l);if(i){e.append(i)}if(a(e,t)){l.remove();s=true;break}else{if(i){i.detach()}}}return s}function n(e,t,i,r,o){var l=false;var d="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style";var u="script, .dotdotdot-keep";e.contents().detach().each((function(){var c=this,f=$(c);if(typeof c=="undefined"||c.nodeType==3&&$.trim(c.data).length==0){return true}else if(f.is(u)){e.append(f)}else if(l){return true}else{e.append(f);if(o){e[e.is(d)?"after":"append"](o)}if(a(i,r)){if(c.nodeType==3){l=s(f,t,i,r,o)}else{l=n(f,t,i,r,o)}if(!l){f.detach();l=true}}if(!l){if(o){o.detach()}}}}));return l}function s(e,t,i,n,s){var o=e[0];if(!o){return false}var u=d(o),f=u.indexOf(" ")!==-1?" ":"　",h=n.wrap=="letter"?"":f,p=u.split(h),g=-1,m=-1,v=0,w=p.length-1;if(n.fallbackToLetter&&v==0&&w==0){h="";p=u.split(h);w=p.length-1}while(v<=w&&!(v==0&&w==0)){var b=Math.floor((v+w)/2);if(b==m){break}m=b;l(o,p.slice(0,m+1).join(h)+n.ellipsis);if(!a(i,n)){g=m;v=m}else{w=m;if(n.fallbackToLetter&&v==0&&w==0){h="";p=p[0].split(h);g=-1;m=-1;v=0;w=p.length-1}}}if(g!=-1&&!(p.length==1&&p[0].length==0)){u=r(p.slice(0,g+1).join(h),n);l(o,u)}else{var y=e.parent();e.detach();var S=s&&s.closest(y).length?s.length:0;if(y.contents().length>S){o=c(y.contents().eq(-1-S),t)}else{o=c(y,t,true);if(!S){y.detach()}}if(o){u=r(d(o),n);l(o,u);if(S&&s){$(o).parent().append(s)}}}return true}function a(e,t){return e.innerHeight()>t.maxHeight}function r(e,t){while($.inArray(e.slice(-1),t.lastCharacter.remove)>-1){e=e.slice(0,-1)}if($.inArray(e.slice(-1),t.lastCharacter.noEllipsis)<0){e+=t.ellipsis}return e}function o(e){return{width:e.innerWidth(),height:e.innerHeight()}}function l(e,t){if(e.innerText){e.innerText=t}else if(e.nodeValue){e.nodeValue=t}else if(e.textContent){e.textContent=t}}function d(e){if(e.innerText){return e.innerText}else if(e.nodeValue){return e.nodeValue}else if(e.textContent){return e.textContent}else{return""}}function u(e){do{e=e.previousSibling}while(e&&e.nodeType!==1&&e.nodeType!==3);return e}function c(e,t,i){var n=e&&e[0],s;if(n){if(!i){if(n.nodeType===3){return n}if($.trim(e.text())){return c(e.contents().last(),t)}}s=u(n);while(!s){e=e.parent();if(e.is(t)||!e.length){return false}s=u(e[0])}if(s){return c($(s),t)}}return false}function f(e,t){if(!e){return false}if(typeof e==="string"){e=$(e,t);return e.length?e:false}return!e.jquery?false:e}function h(e){var t=e.innerHeight(),i=["paddingTop","paddingBottom"];for(var n=0,s=i.length;n<s;n++){var a=parseInt(e.css(i[n]),10);if(isNaN(a)){a=0}t-=a}return t}var p=$.fn.html;$.fn.html=function(t){if(t!=e&&!$.isFunction(t)&&this.data("dotdotdot")){return this.trigger("update",[t])}return p.apply(this,arguments)};var g=$.fn.text;$.fn.text=function(t){if(t!=e&&!$.isFunction(t)&&this.data("dotdotdot")){t=$("<div />").text(t).html();return this.trigger("update",[t])}return g.apply(this,arguments)}})(jQuery)},658990:(e,t,i)=>{"use strict";i.r(t)},380733:(e,t,i)=>{"use strict";i.r(t)},702738:(e,t,i)=>{"use strict";i.r(t)},719692:(e,t,i)=>{"use strict";i.r(t)},330229:(e,t,i)=>{"use strict";i.r(t)},680328:(e,t,i)=>{"use strict";i.r(t)},483382:(e,t,i)=>{"use strict";i.r(t)},616487:(e,t,i)=>{"use strict";i.r(t)},44692:(e,t,i)=>{"use strict";i.r(t)},668332:(e,t,i)=>{"use strict";i.r(t)},775322:(e,t,i)=>{"use strict";i.r(t)},362482:(e,t,i)=>{"use strict";i.r(t)},38712:(e,t,i)=>{"use strict";i.r(t)},641860:(e,t,i)=>{"use strict";i.r(t)},798452:(e,t,i)=>{"use strict";i.r(t)},596839:(e,t,i)=>{"use strict";i.r(t)},38594:(e,t,i)=>{"use strict";i.r(t)},35131:(e,t,i)=>{"use strict";i.r(t)},273213:(e,t,i)=>{"use strict";i.r(t)},966517:(e,t,i)=>{"use strict";i.r(t)},625752:(e,t,i)=>{"use strict";i.r(t)},9886:(e,t,i)=>{"use strict";i.r(t)},757308:(e,t,i)=>{"use strict";i.r(t)},330618:(e,t,i)=>{"use strict";i.r(t)},614306:(e,t,i)=>{"use strict";i.r(t)},109285:(e,t,i)=>{"use strict";i.r(t)},760747:(e,t,i)=>{"use strict";i.r(t)},243853:(e,t,i)=>{"use strict";i.r(t)},95126:(e,t,i)=>{var n={"./af":201009,"./af.js":201009,"./ar":88769,"./ar-dz":423739,"./ar-dz.js":423739,"./ar-kw":493745,"./ar-kw.js":493745,"./ar-ly":499576,"./ar-ly.js":499576,"./ar-ma":967408,"./ar-ma.js":967408,"./ar-sa":848781,"./ar-sa.js":848781,"./ar-tn":987856,"./ar-tn.js":987856,"./ar.js":88769,"./az":902030,"./az.js":902030,"./be":356476,"./be.js":356476,"./bg":25304,"./bg.js":25304,"./bm":48125,"./bm.js":48125,"./bn":800034,"./bn.js":800034,"./bo":864082,"./bo.js":864082,"./br":508317,"./br.js":508317,"./bs":93107,"./bs.js":93107,"./ca":68272,"./ca.js":68272,"./cs":598567,"./cs.js":598567,"./cv":961583,"./cv.js":961583,"./cy":810076,"./cy.js":810076,"./da":231760,"./da.js":231760,"./de":8973,"./de-at":563214,"./de-at.js":563214,"./de-ch":174728,"./de-ch.js":174728,"./de.js":8973,"./dv":154053,"./dv.js":154053,"./el":607499,"./el.js":607499,"./en-au":767876,"./en-au.js":767876,"./en-ca":247010,"./en-ca.js":247010,"./en-gb":234239,"./en-gb.js":234239,"./en-ie":399830,"./en-ie.js":399830,"./en-il":428438,"./en-il.js":428438,"./en-nz":843264,"./en-nz.js":843264,"./eo":339486,"./eo.js":339486,"./es":332430,"./es-do":216310,"./es-do.js":216310,"./es-us":373099,"./es-us.js":373099,"./es.js":332430,"./et":634975,"./et.js":634975,"./eu":287063,"./eu.js":287063,"./fa":268073,"./fa.js":268073,"./fi":350957,"./fi.js":350957,"./fo":681775,"./fo.js":681775,"./fr":674179,"./fr-ca":714306,"./fr-ca.js":714306,"./fr-ch":273791,"./fr-ch.js":273791,"./fr.js":674179,"./fy":47014,"./fy.js":47014,"./gd":562958,"./gd.js":562958,"./gl":87344,"./gl.js":87344,"./gom-latn":935798,"./gom-latn.js":935798,"./gu":268485,"./gu.js":268485,"./he":627917,"./he.js":627917,"./hi":852159,"./hi.js":852159,"./hr":395842,"./hr.js":395842,"./hu":430005,"./hu.js":430005,"./hy-am":351312,"./hy-am.js":351312,"./id":560781,"./id.js":560781,"./is":964101,"./is.js":964101,"./it":843467,"./it.js":843467,"./ja":944164,"./ja.js":944164,"./jv":570079,"./jv.js":570079,"./ka":657036,"./ka.js":657036,"./kk":92022,"./kk.js":92022,"./km":663418,"./km.js":663418,"./kn":343655,"./kn.js":343655,"./ko":30986,"./ko.js":30986,"./ky":4604,"./ky.js":4604,"./lb":399026,"./lb.js":399026,"./lo":520537,"./lo.js":520537,"./lt":622288,"./lt.js":622288,"./lv":301495,"./lv.js":301495,"./me":960690,"./me.js":960690,"./mi":602571,"./mi.js":602571,"./mk":993959,"./mk.js":993959,"./ml":497225,"./ml.js":497225,"./mr":146622,"./mr.js":146622,"./ms":511070,"./ms-my":248899,"./ms-my.js":248899,"./ms.js":511070,"./mt":763931,"./mt.js":763931,"./my":995393,"./my.js":995393,"./nb":204274,"./nb.js":204274,"./ne":708914,"./ne.js":708914,"./nl":533114,"./nl-be":668479,"./nl-be.js":668479,"./nl.js":533114,"./nn":804513,"./nn.js":804513,"./pa-in":328264,"./pa-in.js":328264,"./pl":432848,"./pl.js":432848,"./pt":990899,"./pt-br":755077,"./pt-br.js":755077,"./pt.js":990899,"./ro":492512,"./ro.js":492512,"./ru":821753,"./ru.js":821753,"./sd":116840,"./sd.js":116840,"./se":778362,"./se.js":778362,"./si":450464,"./si.js":450464,"./sk":866324,"./sk.js":866324,"./sl":141963,"./sl.js":141963,"./sq":53039,"./sq.js":53039,"./sr":293454,"./sr-cyrl":10466,"./sr-cyrl.js":10466,"./sr.js":293454,"./ss":95158,"./ss.js":95158,"./sv":428859,"./sv.js":428859,"./sw":557594,"./sw.js":557594,"./ta":926915,"./ta.js":926915,"./te":115677,"./te.js":115677,"./tet":192154,"./tet.js":192154,"./tg":274098,"./tg.js":274098,"./th":289071,"./th.js":289071,"./tl-ph":601869,"./tl-ph.js":601869,"./tlh":392346,"./tlh.js":392346,"./tr":671483,"./tr.js":671483,"./tzl":30266,"./tzl.js":30266,"./tzm":433138,"./tzm-latn":732960,"./tzm-latn.js":732960,"./tzm.js":433138,"./ug-cn":29456,"./ug-cn.js":29456,"./uk":250805,"./uk.js":250805,"./ur":261127,"./ur.js":261127,"./uz":529628,"./uz-latn":480840,"./uz-latn.js":480840,"./uz.js":529628,"./vi":256962,"./vi.js":256962,"./x-pseudo":249257,"./x-pseudo.js":249257,"./yo":462423,"./yo.js":462423,"./zh-cn":161002,"./zh-cn.js":161002,"./zh-hk":506046,"./zh-hk.js":506046,"./zh-tw":924710,"./zh-tw.js":924710};function s(e){var t=a(e);return i(t)}function a(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return n[e]}s.keys=function e(){return Object.keys(n)};s.resolve=a;e.exports=s;s.id=95126},222781:(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>r});function n(e,t,i){this.x=e;this.y=t;this.time=i||(new Date).getTime()}n.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1};n.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};function s(e,t,i,n){this.startPoint=e;this.control1=t;this.control2=i;this.endPoint=n}s.prototype.length=function(){var e=10;var t=0;var i=void 0;var n=void 0;for(var s=0;s<=e;s+=1){var a=s/e;var r=this._point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x);var o=this._point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){var l=r-i;var d=o-n;t+=Math.sqrt(l*l+d*d)}i=r;n=o}return t};s.prototype._point=function(e,t,i,n,s){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*n*(1-e)*e*e+s*e*e*e};function a(e,t){var i=this;var n=t||{};this.velocityFilterWeight=n.velocityFilterWeight||.7;this.minWidth=n.minWidth||.5;this.maxWidth=n.maxWidth||2.5;this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2};this.penColor=n.penColor||"black";this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)";this.onBegin=n.onBegin;this.onEnd=n.onEnd;this._canvas=e;this._ctx=e.getContext("2d");this.clear();this._handleMouseDown=function(e){if(e.which===1){i._mouseButtonDown=true;i._strokeBegin(e)}};this._handleMouseMove=function(e){if(i._mouseButtonDown){i._strokeUpdate(e)}};this._handleMouseUp=function(e){if(e.which===1&&i._mouseButtonDown){i._mouseButtonDown=false;i._strokeEnd(e)}};this._handleTouchStart=function(e){if(e.targetTouches.length===1){var t=e.changedTouches[0];i._strokeBegin(t)}};this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];i._strokeUpdate(t)};this._handleTouchEnd=function(e){var t=e.target===i._canvas;if(t){e.preventDefault();i._strokeEnd(e)}};this.on()}a.prototype.clear=function(){var e=this._ctx;var t=this._canvas;e.fillStyle=this.backgroundColor;e.clearRect(0,0,t.width,t.height);e.fillRect(0,0,t.width,t.height);this._data=[];this._reset();this._isEmpty=true};a.prototype.fromDataURL=function(e){var t=this;var i=new Image;var n=window.devicePixelRatio||1;var s=this._canvas.width/n;var a=this._canvas.height/n;this._reset();i.src=e;i.onload=function(){t._ctx.drawImage(i,0,0,s,a)};this._isEmpty=false};a.prototype.toDataURL=function(e){var t;switch(e){case"image/svg+xml":return this._toSVG();default:for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++){n[s-1]=arguments[s]}return(t=this._canvas).toDataURL.apply(t,[e].concat(n))}};a.prototype.on=function(){this._handleMouseEvents();this._handleTouchEvents()};a.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown);this._canvas.removeEventListener("mousemove",this._handleMouseMove);document.removeEventListener("mouseup",this._handleMouseUp);this._canvas.removeEventListener("touchstart",this._handleTouchStart);this._canvas.removeEventListener("touchmove",this._handleTouchMove);this._canvas.removeEventListener("touchend",this._handleTouchEnd)};a.prototype.isEmpty=function(){return this._isEmpty};a.prototype._strokeBegin=function(e){this._data.push([]);this._reset();this._strokeUpdate(e);if(typeof this.onBegin==="function"){this.onBegin(e)}};a.prototype._strokeUpdate=function(e){var t=e.clientX;var i=e.clientY;var n=this._createPoint(t,i);var s=this._addPoint(n),a=s.curve,r=s.widths;if(a&&r){this._drawCurve(a,r.start,r.end)}this._data[this._data.length-1].push({x:n.x,y:n.y,time:n.time})};a.prototype._strokeEnd=function(e){var t=this.points.length>2;var i=this.points[0];if(!t&&i){this._drawDot(i)}if(typeof this.onEnd==="function"){this.onEnd(e)}};a.prototype._handleMouseEvents=function(){this._mouseButtonDown=false;this._canvas.addEventListener("mousedown",this._handleMouseDown);this._canvas.addEventListener("mousemove",this._handleMouseMove);document.addEventListener("mouseup",this._handleMouseUp)};a.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none";this._canvas.style.touchAction="none";this._canvas.addEventListener("touchstart",this._handleTouchStart);this._canvas.addEventListener("touchmove",this._handleTouchMove);this._canvas.addEventListener("touchend",this._handleTouchEnd)};a.prototype._reset=function(){this.points=[];this._lastVelocity=0;this._lastWidth=(this.minWidth+this.maxWidth)/2;this._ctx.fillStyle=this.penColor};a.prototype._createPoint=function(e,t,i){var s=this._canvas.getBoundingClientRect();return new n(e-s.left,t-s.top,i||(new Date).getTime())};a.prototype._addPoint=function(e){var t=this.points;var i=void 0;t.push(e);if(t.length>2){if(t.length===3)t.unshift(t[0]);i=this._calculateCurveControlPoints(t[0],t[1],t[2]);var n=i.c2;i=this._calculateCurveControlPoints(t[1],t[2],t[3]);var a=i.c1;var r=new s(t[1],n,a,t[2]);var o=this._calculateCurveWidths(r);t.shift();return{curve:r,widths:o}}return{}};a.prototype._calculateCurveControlPoints=function(e,t,i){var s=e.x-t.x;var a=e.y-t.y;var r=t.x-i.x;var o=t.y-i.y;var l={x:(e.x+t.x)/2,y:(e.y+t.y)/2};var d={x:(t.x+i.x)/2,y:(t.y+i.y)/2};var u=Math.sqrt(s*s+a*a);var c=Math.sqrt(r*r+o*o);var f=l.x-d.x;var h=l.y-d.y;var p=c/(u+c);var g={x:d.x+f*p,y:d.y+h*p};var m=t.x-g.x;var v=t.y-g.y;return{c1:new n(l.x+m,l.y+v),c2:new n(d.x+m,d.y+v)}};a.prototype._calculateCurveWidths=function(e){var t=e.startPoint;var i=e.endPoint;var n={start:null,end:null};var s=this.velocityFilterWeight*i.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity;var a=this._strokeWidth(s);n.start=this._lastWidth;n.end=a;this._lastVelocity=s;this._lastWidth=a;return n};a.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};a.prototype._drawPoint=function(e,t,i){var n=this._ctx;n.moveTo(e,t);n.arc(e,t,i,0,2*Math.PI,false);this._isEmpty=false};a.prototype._drawCurve=function(e,t,i){var n=this._ctx;var s=i-t;var a=Math.floor(e.length());n.beginPath();for(var r=0;r<a;r+=1){var o=r/a;var l=o*o;var d=l*o;var u=1-o;var c=u*u;var f=c*u;var h=f*e.startPoint.x;h+=3*c*o*e.control1.x;h+=3*u*l*e.control2.x;h+=d*e.endPoint.x;var p=f*e.startPoint.y;p+=3*c*o*e.control1.y;p+=3*u*l*e.control2.y;p+=d*e.endPoint.y;var g=t+d*s;this._drawPoint(h,p,g)}n.closePath();n.fill()};a.prototype._drawDot=function(e){var t=this._ctx;var i=typeof this.dotSize==="function"?this.dotSize():this.dotSize;t.beginPath();this._drawPoint(e.x,e.y,i);t.closePath();t.fill()};a.prototype._fromData=function(e,t,i){for(var s=0;s<e.length;s+=1){var a=e[s];if(a.length>1){for(var r=0;r<a.length;r+=1){var o=a[r];var l=new n(o.x,o.y,o.time);if(r===0){this._reset();this._addPoint(l)}else if(r!==a.length-1){var d=this._addPoint(l),u=d.curve,c=d.widths;if(u&&c){t(u,c)}}else{}}}else{this._reset();var f=a[0];i(f)}}};a.prototype._toSVG=function(){var e=this;var t=this._data;var i=this._canvas;var n=Math.max(window.devicePixelRatio||1,1);var s=0;var a=0;var r=i.width/n;var o=i.height/n;var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"width",i.width);l.setAttributeNS(null,"height",i.height);this._fromData(t,(function(t,i){var n=document.createElement("path");if(!isNaN(t.control1.x)&&!isNaN(t.control1.y)&&!isNaN(t.control2.x)&&!isNaN(t.control2.y)){var s="M "+t.startPoint.x.toFixed(3)+","+t.startPoint.y.toFixed(3)+" "+("C "+t.control1.x.toFixed(3)+","+t.control1.y.toFixed(3)+" ")+(t.control2.x.toFixed(3)+","+t.control2.y.toFixed(3)+" ")+(t.endPoint.x.toFixed(3)+","+t.endPoint.y.toFixed(3));n.setAttribute("d",s);n.setAttribute("stroke-width",(i.end*2.25).toFixed(3));n.setAttribute("stroke",e.penColor);n.setAttribute("fill","none");n.setAttribute("stroke-linecap","round");l.appendChild(n)}}),(function(t){var i=document.createElement("circle");var n=typeof e.dotSize==="function"?e.dotSize():e.dotSize;i.setAttribute("r",n);i.setAttribute("cx",t.x);i.setAttribute("cy",t.y);i.setAttribute("fill",e.penColor);l.appendChild(i)}));var d="data:image/svg+xml;base64,";var u="<svg"+' xmlns="http://www.w3.org/2000/svg"'+' xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+s+" "+a+" "+r+" "+o+'"')+(' width="'+r+'"')+(' height="'+o+'"')+">";var c=l.innerHTML;if(c===undefined){var f=document.createElement("dummy");var h=l.childNodes;f.innerHTML="";for(var p=0;p<h.length;p+=1){f.appendChild(h[p].cloneNode(true))}c=f.innerHTML}var g="</svg>";var m=u+c+g;return d+btoa(m)};a.prototype.fromData=function(e){var t=this;this.clear();this._fromData(e,(function(e,i){return t._drawCurve(e,i.start,i.end)}),(function(e){return t._drawDot(e)}))};a.prototype.toData=function(){return this._data};const r=a},484966:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(651745);var s=(0,n.makeStyles)((({palette:e})=>(0,n.createStyles)({root:{},icon:{position:"absolute",left:"8px"},header:{paddingLeft:"21px",position:"relative",display:"flex",justifyContent:"space-between","&:hover":{"& $icon":{"& svg":{fill:e.primary.main}}},cursor:"pointer"},closed:{height:0,overflow:"hidden"},iconOpen:{transform:"rotate(90deg)"}})));t.default=s},803391:(e,t)=>{"use strict";var i,n,s;!function(a,r){if(true)!(n=[e,t],i=r,s=typeof i==="function"?i.apply(t,n):i,s!==undefined&&(e.exports=s));else{var o}}(void 0,(function(e,t){"use strict";var i,n,s="function"==typeof Map?new Map:(i=[],n=[],{has:function(e){return-1<i.indexOf(e)},get:function(e){return n[i.indexOf(e)]},set:function(e,t){-1===i.indexOf(e)&&(i.push(e),n.push(t))},delete:function(e){var t=i.indexOf(e);-1<t&&(i.splice(t,1),n.splice(t,1))}}),a=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){a=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function r(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!s.has(e)){var t,i=null,n=null,r=null,o=function(){e.clientWidth!==n&&c()},l=function(t){window.removeEventListener("resize",o,!1),e.removeEventListener("input",c,!1),e.removeEventListener("keyup",c,!1),e.removeEventListener("autosize:destroy",l,!1),e.removeEventListener("autosize:update",c,!1),Object.keys(t).forEach((function(i){e.style[i]=t[i]})),s.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",l,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",c,!1),window.addEventListener("resize",o,!1),e.addEventListener("input",c,!1),e.addEventListener("autosize:update",c,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",s.set(e,{destroy:l,update:c}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),i="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(i)&&(i=0),c()}function d(t){var i=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=i,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),s=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+i+"px",n=e.clientWidth,t.forEach((function(e){e.node.scrollTop=e.scrollTop})),s&&(document.documentElement.scrollTop=s)}}function c(){u();var t=Math.round(parseFloat(e.style.height)),i=window.getComputedStyle(e,null),n="content-box"===i.boxSizing?Math.round(parseFloat(i.height)):e.offsetHeight;if(n<t?"hidden"===i.overflowY&&(d("scroll"),u(),n="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==i.overflowY&&(d("hidden"),u(),n="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==n){r=n;var s=a("autosize:resized");try{e.dispatchEvent(s)}catch(t){}}}}function o(e){var t=s.get(e);t&&t.destroy()}function l(e){var t=s.get(e);t&&t.update()}var d=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((d=function(e){return e}).destroy=function(e){return e},d.update=function(e){return e}):((d=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return r(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e},d.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=d,e.exports=t.default}))},623484:(e,t,i)=>{"use strict";var jQuery=i(992005);window.bhrChosenOptions={allow_single_deselect:true,disable_search_threshold:8};(function(){var e;e=function(){function e(){this.options_index=0;this.parsed=[]}e.prototype.add_node=function(e){if(e.nodeName==="OPTGROUP"){return this.add_group(e)}else{return this.add_option(e)}};e.prototype.add_group=function(e){var t,i,n,s,a,r;t=this.parsed.length;this.parsed.push({array_index:t,group:true,label:e.label,children:0,disabled:e.disabled,datasets:e.dataset});a=e.childNodes;r=[];for(n=0,s=a.length;n<s;n++){i=a[n];r.push(this.add_option(i,t,e.disabled))}return r};e.prototype.add_option=function(e,t,i){if(e.nodeName==="OPTION"){if(e.text!==""){if(t!=null)this.parsed[t].children+=1;this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML+(e.dataset.note?'<span class="formNote">'+e.dataset.note+"</span>":""),selected:e.selected,disabled:i===true?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText,datasets:e.dataset})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true,datasets:{}})}return this.options_index+=1}};return e}();e.select_to_array=function(t){var i,n,s,a,r;n=new e;r=t.childNodes;for(s=0,a=r.length;s<a;s++){i=r[s];n.add_node(i)}return n.parsed};this.SelectParser=e}).call(window);(function(){var e,t;t=this;e=function(){e.default_multiple_text="Select Some Options";e.default_single_text="Select an option";e.default_no_result_text="No results match";function e(t,i){this.form_field=t;this.options=i!=null?i:{};this.set_default_values();this.is_multiple=this.form_field.multiple;this.has_sticky_options=this.form_field.dataset.stickyOptions=="true"?true:false;if(this.is_multiple)this.default_text_default=this.options.placeholder_text_multiple||e.default_multiple_text;else this.default_text_default=this.options.placeholder_text_single||e.default_single_text;this.setup();this.set_up_html();this.register_observers();this.finish_setup()}e.prototype.set_default_values=function(){var t=this;this.click_test_action=function(e){return t.test_active_click(e)};this.activate_action=function(e){return t.activate_field(e)};this.arrow_selection=false;this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.result_interaction_dirty=false;this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.choices=0;return this.results_none_found=this.options.no_results_text||e.default_no_result_text};e.prototype.mouse_enter=function(){return this.mouse_on_container=true};e.prototype.mouse_leave=function(e){this.mouse_on_container=false;return true};e.prototype.input_focus=function(e){this.arrow_selection=false;this.result_interaction_dirty=false;var t=this;if(!this.active_field){return setTimeout((function(){return t.activate_field()}),50)}};e.prototype.input_blur=function(e){var t=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout((function(){return t.blur_test()}),100)}};e.prototype.result_add_option=function(e){var t,i;e.dom_id=this.container_id+"_o_"+e.array_index;t=e.selected&&this.is_multiple?[]:["active-result"];if(e.selected)t.push("result-selected");if(e.group_array_index!=null)t.push("group-option");if(e.disabled)t.push("disabledOption");if(e.classes!=="")t.push(e.classes);i=e.style.cssText!==""?' style="'+e.style+'"':"";if(this.is_multiple){return'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+i+'><input type="checkbox" class="oldStyle"><label>'+e.html+"</label></li>"}else{return'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+i+">"+e.html+"</li>"}};e.prototype.results_update_field=function(){this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};e.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};e.prototype.results_search=function(e){this.result_interaction_dirty=true;if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};e.prototype.keyup_checker=function(e){var t,i;t=(i=e.which)!=null?i:e.keyCode;this.search_field_scale();switch(t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0){return this.keydown_backstroke()}else if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}break;case 13:e.preventDefault();if(this.results_showing)return this.result_select(e);break;case 27:if(this.results_showing)this.results_hide();return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};e.prototype.generate_field_id=function(){var e;e=this.generate_random_id();this.form_field.id=e;return e};e.prototype.generate_random_char=function(){var e,t,i;e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ";i=Math.floor(Math.random()*e.length);return t=e.substring(i,i+1)};return e}();t.AbstractChosen=e}).call(window);(function(){var $,e,t,i,n=Object.prototype.hasOwnProperty,s=function(e,t){for(var i in t){if(n.call(t,i))e[i]=t[i]}function s(){this.constructor=e}s.prototype=t.prototype;e.prototype=new s;e.__super__=t.prototype;return e};i=this;$=jQuery;$.fn.extend({chosen:function(t){if($.browser.msie&&($.browser.version==="6.0"||$.browser.version==="7.0")){return this}return $(this).each((function(i){if($(this).hasClass("chzn-ignore")){return this}if($(this).hasClass("fsField")){return this}if($(this).attr("multiple")&&!$(this).hasClass("chzn-enabled")){return this}if(!$(this).hasClass("chzn-done")){return new e(this,t)}}))}});$.fn.extend({customChosen:function(t){return $(this).each((function(i){return new e(this,t)}))}});e=function(e){s(n,e);function n(){n.__super__.constructor.apply(this,arguments)}n.prototype.setup=function(){this.form_field_jq=$(this.form_field);return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")};n.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")};n.prototype.set_up_html=function(){var e,i,n,s;this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,"_"):this.generate_field_id();this.container_id+="_chzn";this.f_width=this.form_field_jq.outerWidth();if(this.form_field.options&&this.form_field.options.length>=this.disable_search_threshold||this.allow_single_deselect)this.f_width+=13;this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default;e=$("<div />",{id:this.container_id,class:"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+(this.f_width+22)+"px;"});if(this.is_multiple){e.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>')}else{e.html('<a href="javascript:void(0)" class="chzn-single chosen-default" tabindex="-1"><span class="'+(this.allow_single_deselect?"chzn-allow-deselect":"")+'">'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" class="ignore" /></div><ul class="chzn-results"></ul></div>')}e.addClass(this.form_field_jq.attr("class"));var a=this.form_field_jq.data();for(var r in a){if(r.indexOf("jQuery")==-1){e.data(r,a[r])}}this.form_field_jq.hide().after(e);this.container=$("#"+this.container_id);this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single"));this.dropdown=this.container.find("div.chzn-drop").first();i=this.container.height();n=this.f_width-t(this.dropdown);this.dropdown.css({width:n+22+"px",top:i+"px"});this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chzn-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chzn-search").first();this.selected_item=this.container.find(".chzn-single").first();s=n-t(this.search_container)-t(this.search_field)}if(this.has_sticky_options){var o=document.createElement("ul");o.className=" chzn-results chzn-results-sticky";this.dropdown[0].appendChild(o);this.sticky_wrapper=this.container.find(".chzn-results-sticky")}this.search_results_sticky=this.container.find("ul.chzn-results-sticky").first();this.results_build();this.set_tab_index();return this.form_field_jq.trigger("liszt:ready",{chosen:this})};n.prototype.register_observers=function(){var e=this;this.container.mousedown((function(t){return e.container_mousedown(t)}));this.container.mouseup((function(t){return e.container_mouseup(t)}));this.container.mouseenter((function(t){return e.mouse_enter(t)}));this.container.mouseleave((function(t){return e.mouse_leave(t)}));this.search_results.mouseup((function(t){return e.search_results_mouseup(t)}));this.dropdown.mouseenter((function(t){return e.mouse_enter(t)}));this.dropdown.mouseleave((function(t){return e.mouse_leave(t)}));this.search_results.mouseover((function(t){return e.search_results_mouseover(t)}));this.search_results.mouseout((function(t){return e.search_results_mouseout(t)}));if(this.has_sticky_options){this.sticky_wrapper.mouseup((function(t){return e.search_results_mouseup(t)}));this.sticky_wrapper.mouseover((function(t){return e.search_results_mouseover(t)}));this.sticky_wrapper.mouseout((function(t){return e.search_results_mouseout(t)}))}this.form_field_jq.bind("liszt:updated",(function(t){return e.results_update_field(t)}));this.form_field_jq.bind("liszt:close",(function(t){return e.results_hide(t)}));this.form_field_jq.bind("liszt:activate.chosen",(function(t){return e.activate_field(t)}));this.search_field.blur((function(t){return e.input_blur(t)}));this.search_field.keyup((function(t){return e.keyup_checker(t)}));this.search_field.keydown((function(t){return e.keydown_checker(t)}));this.search_field.focus((function(t){return e.input_focus(t)}));if(this.is_multiple){return this.search_choices.click((function(t){return e.choices_click(t)}))}else{return this.container.click((function(e){return e.preventDefault()}))}};n.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled||this.form_field_jq.hasClass("disabled");if(this.is_disabled){this.container.addClass("chzn-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus",this.activate_action)}return this.close_field()}else{this.container.removeClass("chzn-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}}};n.prototype.container_mousedown=function(e){var t;if(!this.is_disabled){t=e!=null?$(e.target).hasClass("search-choice-close"):false;if(e&&e.type==="mousedown"){e.stopPropagation();$(e.target).trigger("chzn:chzn-choice-close")}if(!this.pending_destroy_click&&!t){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}$(document).click(this.click_test_action);this.results_show()}else if(!this.is_multiple&&e&&($(e.target)[0]===this.selected_item[0]||$(e.target).parents("a.chzn-single").length)){e.preventDefault();this.results_toggle()}return this.activate_field()}else{return this.pending_destroy_click=false}}};n.prototype.container_mouseup=function(e){if(e.target.nodeName==="ABBR")return this.results_reset(e)};n.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}};n.prototype.close_field=function(){$(document).unbind("click",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();this.form_field_jq.trigger("blur");return this.search_field_scale()};n.prototype.activate_field=function(){this.container.addClass("chzn-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};n.prototype.test_active_click=function(e){if($(e.target).parents("#"+this.container_id).length){return this.active_field=true}else{return this.close_field()}};n.prototype.results_build=function(){var e,t,n,s,a,r;this.parsing=true;this.results_data=i.SelectParser.select_to_array(this.form_field);if(this.is_multiple&&this.choices>0){this.search_choices.find("li.search-choice").remove();this.choices=0}else if(!this.is_multiple){this.single_set_selected_text(this.default_text);if(this.form_field.options&&this.form_field.options.length<=this.disable_search_threshold||$(this.form_field).data("disable-search")==true){this.container.addClass("chzn-container-single-nosearch").find(".chzn-search").css({height:"0",width:"0",padding:"0"})}else{this.container.removeClass("chzn-container-single-nosearch").find(".chzn-search").css({height:"",width:"",padding:""})}}e="";r="";a=this.results_data;for(n=0,s=a.length;n<s;n++){t=a[n];if(t.group){e+=this.result_add_group(t)}else if(this.has_sticky_options&&t.datasets.stickyOption=="bottom"){r+=this.result_add_option(t)}else if(!t.empty){e+=this.result_add_option(t)}if(!t.group){if(t.selected&&this.is_multiple){this.choice_build(t)}else if(t.selected&&!this.is_multiple){this.single_set_selected_text(t.text);if(this.allow_single_deselect)this.single_deselect_control_build()}}}this.search_field_disabled();this.show_search_field_default();this.search_field_scale();this.search_results.html(e);if(this.has_sticky_options){this.sticky_wrapper.html(r)}return this.parsing=false};n.prototype.result_add_group=function(e){if(!e.disabled){e.dom_id=this.container_id+"_g_"+e.array_index;return'<li id="'+e.dom_id+'" class="group-result">'+$("<div />").text(e.label).html()+"</li>"}else{return""}};n.prototype.result_do_highlight=function(e){var t,i,n,s,a;if(e.length){this.result_clear_highlight();this.result_highlight=e;if(!$(e).hasClass("disabledOption"))this.result_highlight.addClass("highlighted");n=parseInt(this.search_results.css("maxHeight"),10);a=this.search_results.scrollTop();s=n+a;i=this.result_highlight.position().top+this.search_results.scrollTop();t=i+this.result_highlight.outerHeight();if(t>=s){return this.search_results.scrollTop(t-n>0?t-n:0)}else if(i<a){return this.search_results.scrollTop(i)}}};n.prototype.result_clear_highlight=function(){if(this.result_highlight)this.result_highlight.removeClass("highlighted");return this.result_highlight=null};n.prototype.results_show=function(){BambooHR.publish("chosen:open:before",this.dropdown);var e;var t=this.container;var i=t.closest(".js-chosen-container");var n;var s;if(!this.is_multiple){this.selected_item.addClass("chzn-single-with-drop");if(!$(this.form_field).data("chzn-nodropup")){var a=false;if(i.length){n=i.innerHeight();s=t.offset().top-i.offset().top+t.height()+Math.ceil(this.dropdown.height())}else{n=$(window).height();if($("footer").hasClass("fixedFooter")){if(!$(".fixedFooter").hasClass("staticFooter")){n-=$("footer.fixedFooter").outerHeight()}s=this.container.offset().top+this.container.height()-$(window).scrollTop()+Math.ceil(this.dropdown.height())}}if(s>n){a=true;if(this.container.offset().top-Math.ceil(this.dropdown.height())<10){this.search_results.css("height",this.container.offset().top-this.search_container.height()-20+"px")}this.container.addClass("chzn-with-dropup");this.dropdown.addClass("chzn-dropup")}}if(this.result_single_selected){this.result_do_highlight(this.result_single_selected)}}if(!a){e=this.is_multiple?this.container.height():this.container.height()-1;this.dropdown.css({top:e+"px",bottom:"auto",left:0})}else{this.dropdown.css({bottom:this.container.height()-1+"px",left:0,top:"auto"})}this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());BambooHR.publish("chosen:open:after",this.dropdown);return this.winnow_results()};n.prototype.results_hide=function(){BambooHR.publish("chosen:close:before",this.dropdown);if(!this.is_multiple){this.selected_item.removeClass("chzn-single-with-drop")}this.result_clear_highlight();this.container.removeClass("chzn-with-dropup");this.dropdown.removeClass("chzn-dropup");this.dropdown.css({left:"-9000px"});this.results_showing=false;BambooHR.publish("chosen:close:after",this.dropdown);return this.results_showing};n.prototype.set_tab_index=function(e){var t;if(this.form_field_jq.attr("tabindex")){t=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);if(this.is_multiple){return this.search_field.attr("tabindex",t)}else{this.selected_item.attr("tabindex",-1);return this.search_field.attr("tabindex",t)}}};n.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};n.prototype.search_results_mouseup=function(e){var t;t=$(e.target).hasClass("active-result")?$(e.target):$(e.target).parents(".active-result").first();if(t.length){this.result_highlight=t;return this.result_select(e)}};n.prototype.search_results_mouseover=function(e){var t;t=$(e.target).hasClass("active-result")?$(e.target):$(e.target).parents(".active-result").first();if(t){this.result_interaction_dirty=true;return this.result_do_highlight(t)}};n.prototype.search_results_mouseout=function(e){if($(e.target).hasClass("active-result"||0)){return this.result_clear_highlight()}};n.prototype.choices_click=function(e){e.preventDefault();if(this.active_field&&!$(e.target).hasClass("search-choice"||0)&&!this.results_showing){return this.results_show()}};n.prototype.choice_build=function(e){var t,i,n=this;t=this.container_id+"_c_"+e.array_index;this.choices+=1;this.search_container.before('<li class="search-choice" id="'+t+'"><span>'+e.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+e.array_index+'"></a></li>');i=$("#"+t).find("a").first();return i.click((function(e){return n.choice_destroy_link_click(e)}))};n.prototype.choice_destroy_link_click=function(e){e.preventDefault();if(!this.is_disabled){this.pending_destroy_click=true;return this.choice_destroy($(e.target))}else{return e.stopPropagation}};n.prototype.choice_destroy=function(e){this.choices-=1;this.show_search_field_default();if(this.is_multiple&&this.choices>0&&this.search_field.val().length<1){this.results_hide()}this.result_deselect(e.attr("rel"));return e.parents("li").first().remove()};n.prototype.results_reset=function(e){this.form_field.options[0].selected=true;this.single_set_selected_text(this.default_text);this.show_search_field_default();$(e.target).remove();this.form_field_jq.trigger("change");if(this.active_field)return this.results_hide()};n.prototype.result_select=function(e){var t,i,n,s;if(this.result_highlight){t=this.result_highlight;i=t.attr("id");this.result_clear_highlight();if(this.is_multiple){this.result_deactivate(t)}else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=t}t.addClass("result-selected");s=i.substr(i.lastIndexOf("_")+1);n=this.results_data[s];if(this.form_field.options[n.options_index].disabled){return false}n.selected=true;this.form_field.options[n.options_index].selected=true;if(this.is_multiple){this.choice_build(n)}else{this.single_set_selected_text(n.text);if(this.allow_single_deselect)this.single_deselect_control_build()}if(!(e.metaKey&&this.is_multiple))this.results_hide();this.search_field.val("");this.form_field_jq.trigger("change");return this.search_field_scale()}};n.prototype.result_activate=function(e){return e.addClass("active-result")};n.prototype.result_deactivate=function(e){return e.removeClass("active-result")};n.prototype.single_set_selected_text=function(e){if(e==null){e=this.default_text}if(e===this.default_text){this.selected_item.addClass("chosen-default")}else{this.single_deselect_control_build();this.selected_item.removeClass("chosen-default");var t=this.form_field_jq.data("selected-placeholder");if(typeof t==="string"){e=window.sprintf(t,e);return this.selected_item.find("> span").html(BambooHR.Utils.sanitizeHtml(e))}}return this.selected_item.find("span").text(e)};n.prototype.result_deselect=function(e){var t,i;i=this.results_data[e];i.selected=false;this.form_field.options[i.options_index].selected=false;t=$("#"+this.container_id+"_o_"+e);t.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change");return this.search_field_scale()};n.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1){return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}};n.prototype.winnow_results=function(){var e,t,i,n,s,a,r,o,l,d,u,c,f,h,p,g,m;this.no_results_clear();o=0;l=this.search_field.val()===this.default_text?"":$("<div/>").text($.trim(this.search_field.val())).html();s=new RegExp("^"+l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");c=new RegExp(l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");m=this.results_data;for(f=0,p=m.length;f<p;f++){t=m[f];if(!t.disabled&&!t.empty){if(t.group){$("#"+t.dom_id).css("display","none")}else if(!(this.is_multiple&&t.selected)){e=false;r=t.dom_id;a=$("#"+r);if(s.test(t.html)){e=true;o+=1}else if(t.html.indexOf(" ")>=0||t.html.indexOf("[")===0){n=t.html.trim().replace(/\[|\]/g,"").split(/[\s]+/);if(n.length){for(h=0,g=n.length;h<g;h++){i=n[h];if(s.test(i)){e=true;o+=1}}}}if(e){if(l.length){d=t.html.search(c);u=t.html.substr(0,d+l.length)+"</em>"+t.html.substr(d+l.length);u=u.substr(0,d)+"<em>"+u.substr(d)}else{if(this.is_multiple){u='<input type="checkbox" class="oldStyle"><label>'+t.html+"</label>"}else{u=t.html}}a.html(u);this.result_activate(a);if(t.group_array_index!=null){$("#"+this.results_data[t.group_array_index].dom_id).css("display","list-item")}}else{if(this.result_highlight&&r===this.result_highlight.attr("id")){this.result_clear_highlight()}this.result_deactivate(a)}}}}if(o<1&&l.length){return this.no_results(l)}else{return this.winnow_results_set_highlight()}};n.prototype.winnow_results_clear=function(){var e,t,i,n,s;this.search_field.val("");t=this.search_results.find("li");s=[];for(i=0,n=t.length;i<n;i++){e=t[i];e=$(e);if(e.hasClass("group-result")){s.push(e.css("display","auto"))}else if(!this.is_multiple||!e.hasClass("result-selected")){s.push(this.result_activate(e))}else{s.push(void 0)}}return s};n.prototype.winnow_results_set_highlight=function(){var e,t;if(!this.result_highlight){if(!this.is_multiple){t=$(this.search_results).find(".result-selected.active-result")}e=t.length?t.first():this.search_results.find(".active-result").first();if(e!=null)return this.result_do_highlight(e)}};n.prototype.no_results=function(e){var t;t=$('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');t.find("span").first().html(e);return this.search_results.append(t)};n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};n.prototype.keydown_arrow=function(){this.arrow_selection=true;this.result_interaction_dirty=true;var e,t;if(!this.result_highlight){e=this.search_results.find("li.active-result").first();if(e)this.result_do_highlight($(e))}else if(this.results_showing){t=this.result_highlight.nextAll("li.active-result").first();if(t)this.result_do_highlight(t)}if(!this.results_showing)return this.results_show()};n.prototype.keyup_arrow=function(){this.arrow_selection=true;this.result_interaction_dirty=true;var e;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else if(this.result_highlight){e=this.result_highlight.prevAll("li.active-result");if(e.length){return this.result_do_highlight(e.first())}else{if(this.choices>0)this.results_hide();return this.result_clear_highlight()}}};n.prototype.keydown_backstroke=function(){if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{this.pending_backstroke=this.search_container.siblings("li.search-choice").last();return this.pending_backstroke.addClass("search-choice-focus")}};n.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};n.prototype.keydown_checker=function(e){var t,i;t=(i=e.which)!=null?i:e.keyCode;this.search_field_scale();if(t!==8&&this.pending_backstroke)this.clear_backstroke();switch(t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple&&this.result_highlight&&this.result_interaction_dirty){this.result_select(e)}this.result_interaction_dirty=false;this.mouse_on_container=false;this.arrow_selection=false;var n=":tabbable";if($(e.target).is("[tabindex]")){var n=":tabbable[tabindex]"}var s=$(n).index(e.target);var a=$(n).get(s-1);var r=$(n).get(s+1);if(e.shiftKey){if(a){a.focus();return false}return true}else{if(r){r.focus();return false}return true}return false;break;case 13:e.preventDefault();break;case 38:e.preventDefault();this.keyup_arrow();break;case 40:e.preventDefault();this.keydown_arrow();break}};n.prototype.search_field_scale=function(){var e,t,i,n,s,a,r,o,l;if(this.is_multiple){i=0;r=0;s="position:absolute; left: -1000px; top: -1000px; display:none;";a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(o=0,l=a.length;o<l;o++){n=a[o];s+=n+":"+this.search_field.css(n)+";"}t=$("<div />",{style:s});t.text(this.search_field.val());$("body").append(t);r=t.width()+25;t.remove();if(r>this.f_width-10)r=this.f_width-10;this.search_field.css({width:r+"px"});e=this.container.height();return this.dropdown.css({top:e+"px"})}};n.prototype.generate_random_id=function(){var e;e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while($("#"+e).length>0){e+=this.generate_random_char()}return e};return n}(AbstractChosen);t=function(e){var t;return t=e.outerWidth()-e.width()};i.get_side_border_padding=t}).call(window)},798370:(e,t,i)=>{"use strict";var jQuery=i(992005);(function(e){e.Jcrop=function(t,i){function n(e){return Math.round(e)+"px"}function s(e){return j.baseClass+"-"+e}function a(){return e.fx.step.hasOwnProperty("backgroundColor")}function r(t){var i=e(t).offset();return[i.left,i.top]}function o(e){return[e.pageX-L[0],e.pageY-L[1]]}function l(t){typeof t!="object"&&(t={}),j=e.extend(j,t),e.each(["onChange","onSelect","onRelease","onDblClick"],(function(e,t){typeof j[t]!="function"&&(j[t]=function(){})}))}function d(e,t,i){L=r(q),me.setCursor(e==="move"?e:e+"-resize");if(e==="move")return me.activateHandlers(c(t),m,i);var n=_.getFixed(),s=f(e),a=_.getCorner(f(s));_.setPressed(_.getCorner(s)),_.setCurrent(a),me.activateHandlers(u(e,n),m,i)}function u(e,t){return function(i){if(!j.aspectRatio)switch(e){case"e":i[1]=t.y2;break;case"w":i[1]=t.y2;break;case"n":i[0]=t.x2;break;case"s":i[0]=t.x2}else switch(e){case"e":i[1]=t.y+1;break;case"w":i[1]=t.y+1;break;case"n":i[0]=t.x+1;break;case"s":i[0]=t.x+1}_.setCurrent(i),ge.update()}}function c(e){var t=e;return ve.watchKeys(),function(e){_.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,ge.update()}}function f(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function h(e){return function(t){return j.disabled?!1:e==="move"&&!j.allowMove?!1:(L=r(q),ue=!0,d(e,o(t)),t.stopPropagation(),t.preventDefault(),!1)}}function p(e,t,i){var n=e.width(),s=e.height();n>t&&t>0&&(n=t,s=t/e.width()*e.height()),s>i&&i>0&&(s=i,n=i/e.height()*e.width()),oe=e.width()/n,le=e.height()/s,e.width(n).height(s)}function g(e){return{x:e.x*oe,y:e.y*le,x2:e.x2*oe,y2:e.y2*le,w:e.w*oe,h:e.h*le}}function m(e){var t=_.getFixed();t.w>j.minSelect[0]&&t.h>j.minSelect[1]?(ge.enableHandles(),ge.done()):ge.release(),me.setCursor(j.allowSelect?"crosshair":"default")}function v(e){if(j.disabled)return!1;if(!j.allowSelect)return!1;ue=!0,L=r(q),ge.disableHandles(),me.setCursor("crosshair");var t=o(e);return _.setPressed(t),ge.update(),me.activateHandlers(w,m,e.type.substring(0,5)==="touch"),ve.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function w(e){_.setCurrent(e),ge.update()}function b(){var t=e("<div></div>").addClass(s("tracker"));return N&&t.css({opacity:0,backgroundColor:"white"}),t}function y(e){Y.removeClass().addClass(s("holder")).addClass(e)}function S(e,t){function i(){window.setTimeout(b,c)}var n=e[0]/oe,s=e[1]/le,a=e[2]/oe,r=e[3]/le;if(ce)return;var o=_.flipCoords(n,s,a,r),l=_.getFixed(),d=[l.x,l.y,l.x2,l.y2],u=d,c=j.animationDelay,f=o[0]-d[0],h=o[1]-d[1],p=o[2]-d[2],g=o[3]-d[3],m=0,v=j.swingSpeed;n=u[0],s=u[1],a=u[2],r=u[3],ge.animMode(!0);var w,b=function(){return function(){m+=(100-m)/v,u[0]=Math.round(n+m/100*f),u[1]=Math.round(s+m/100*h),u[2]=Math.round(a+m/100*p),u[3]=Math.round(r+m/100*g),m>=99.8&&(m=100),m<100?(C(u),i()):(ge.done(),ge.animMode(!1),typeof t=="function"&&t.call(_e))}}();i()}function E(e){C([e[0]/oe,e[1]/le,e[2]/oe,e[3]/le]),j.onSelect.call(_e,g(_.getFixed())),ge.enableHandles()}function C(e){_.setPressed([e[0],e[1]]),_.setCurrent([e[2],e[3]]),ge.update()}function x(){return g(_.getFixed())}function T(){return _.getFixed()}function k(e){l(e),D()}function O(){j.disabled=!0,ge.disableHandles(),ge.setCursor("default"),me.setCursor("default")}function F(){j.disabled=!1,D()}function M(){ge.done(),me.activateHandlers(null,null)}function P(){Y.remove(),z.show(),z.css("visibility","visible"),e(t).removeData("Jcrop")}function I(e,t){ge.release(),O();var i=new Image;i.onload=function(){var n=i.width,s=i.height,a=j.boxWidth,r=j.boxHeight;q.width(n).height(s),q.attr("src",e),K.attr("src",e),p(q,a,r),U=q.width(),V=q.height(),K.width(U).height(V),ee.width(U+Z*2).height(V+Z*2),Y.width(U).height(V),pe.resize(U,V),F(),typeof t=="function"&&t.call(_e)},i.src=e}function A(e,t,i){var n=t||j.bgColor;j.bgFade&&a()&&j.fadeTime&&!i?e.animate({backgroundColor:n},{queue:!1,duration:j.fadeTime}):e.css("backgroundColor",n)}function D(e){j.allowResize?e?ge.enableOnly():ge.enableHandles():ge.disableHandles(),me.setCursor(j.allowSelect?"crosshair":"default"),ge.setCursor(j.allowMove?"move":"default"),j.hasOwnProperty("trueSize")&&(oe=j.trueSize[0]/U,le=j.trueSize[1]/V),j.hasOwnProperty("setSelect")&&(E(j.setSelect),ge.done(),delete j.setSelect),pe.refresh(),j.bgColor!=te&&(A(j.shade?pe.getShades():Y,j.shade?j.shadeColor||j.bgColor:j.bgColor),te=j.bgColor),ie!=j.bgOpacity&&(ie=j.bgOpacity,j.shade?pe.refresh():ge.setBgOpacity(ie)),ne=j.maxSize[0]||0,se=j.maxSize[1]||0,ae=j.minSize[0]||0,re=j.minSize[1]||0,j.hasOwnProperty("outerImage")&&(q.attr("src",j.outerImage),delete j.outerImage),ge.refresh()}var j=e.extend({},e.Jcrop.defaults),L,R=navigator.userAgent.toLowerCase(),N=/msie/.test(R),B=/msie [1-6]\./.test(R);typeof t!="object"&&(t=e(t)[0]),typeof i!="object"&&(i={}),l(i);var H={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},z=e(t),G=!0;if(t.tagName=="IMG"){if(z[0].width!=0&&z[0].height!=0)z.width(z[0].width),z.height(z[0].height);else{var W=new Image;W.src=z[0].src,z.width(W.width),z.height(W.height)}var q=z.clone().removeAttr("id").css(H).show();q.width(z.width()),q.height(z.height()),z.after(q).hide()}else q=z.css(H).show(),G=!1,j.shade===null&&(j.shade=!0);p(q,j.boxWidth,j.boxHeight);var U=q.width(),V=q.height(),Y=e("<div />").width(U).height(V).addClass(s("holder")).css({position:"relative",backgroundColor:j.bgColor}).insertAfter(z).append(q);j.addClass&&Y.addClass(j.addClass);var K=e("<div />"),X=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),J=e("<div />").width("100%").height("100%").css("zIndex",320),Q=e("<div />").css({position:"absolute",zIndex:600}).dblclick((function(){var e=_.getFixed();j.onDblClick.call(_e,e)})).insertBefore(q).append(X,J);G&&(K=e("<img />").attr("src",q.attr("src")).css(H).width(U).height(V),X.append(K)),B&&Q.css({overflowY:"hidden"});var Z=j.boundary,ee=b().width(U+Z*2).height(V+Z*2).css({position:"absolute",top:n(-Z),left:n(-Z),zIndex:290}).mousedown(v),te=j.bgColor,ie=j.bgOpacity,ne,se,ae,re,oe,le,de=!0,ue,ce,fe;L=r(q);var he=function(){function e(){var e={},t=["touchstart","touchmove","touchend"],i=document.createElement("div"),n;try{for(n=0;n<t.length;n++){var s=t[n];s="on"+s;var a=s in i;a||(i.setAttribute(s,"return;"),a=typeof i[s]=="function"),e[t[n]]=a}return e.touchstart&&e.touchend&&e.touchmove}catch(e){return!1}}function t(){return j.touchSupport===!0||j.touchSupport===!1?j.touchSupport:e()}return{createDragger:function(e){return function(t){return j.disabled?!1:e==="move"&&!j.allowMove?!1:(L=r(q),ue=!0,d(e,o(he.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1)}},newSelection:function(e){return v(he.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:t()}}(),_=function(){function e(e){e=r(e),f=u=e[0],h=c=e[1]}function t(e){e=r(e),p=e[0]-f,g=e[1]-h,f=e[0],h=e[1]}function i(){return[p,g]}function n(e){var t=e[0],i=e[1];0>u+t&&(t-=t+u),0>c+i&&(i-=i+c),V<h+i&&(i+=V-(h+i)),U<f+t&&(t+=U-(f+t)),u+=t,f+=t,c+=i,h+=i}function s(e){var t=a();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function a(){if(!j.aspectRatio)return l();var e=j.aspectRatio,t=j.minSize[0]/oe,i=j.maxSize[0]/oe,n=j.maxSize[1]/le,s=f-u,a=h-c,r=Math.abs(s),p=Math.abs(a),g=r/p,m,v,w,b;return i===0&&(i=U*10),n===0&&(n=V*10),g<e?(v=h,w=p*e,m=s<0?u-w:w+u,m<0?(m=0,b=Math.abs((m-u)/e),v=a<0?c-b:b+c):m>U&&(m=U,b=Math.abs((m-u)/e),v=a<0?c-b:b+c)):(m=f,b=r/e,v=a<0?c-b:c+b,v<0?(v=0,w=Math.abs((v-c)*e),m=s<0?u-w:w+u):v>V&&(v=V,w=Math.abs(v-c)*e,m=s<0?u-w:w+u)),m>u?(m-u<t?m=u+t:m-u>i&&(m=u+i),v>c?v=c+(m-u)/e:v=c-(m-u)/e):m<u&&(u-m<t?m=u-t:u-m>i&&(m=u-i),v>c?v=c+(u-m)/e:v=c-(u-m)/e),m<0?(u-=m,m=0):m>U&&(u-=m-U,m=U),v<0?(c-=v,v=0):v>V&&(c-=v-V,v=V),d(o(u,c,m,v))}function r(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>U&&(e[0]=U),e[1]>V&&(e[1]=V),[Math.round(e[0]),Math.round(e[1])]}function o(e,t,i,n){var s=e,a=i,r=t,o=n;return i<e&&(s=i,a=e),n<t&&(r=n,o=t),[s,r,a,o]}function l(){var e=f-u,t=h-c,i;return ne&&Math.abs(e)>ne&&(f=e>0?u+ne:u-ne),se&&Math.abs(t)>se&&(h=t>0?c+se:c-se),re/le&&Math.abs(t)<re/le&&(h=t>0?c+re/le:c-re/le),ae/oe&&Math.abs(e)<ae/oe&&(f=e>0?u+ae/oe:u-ae/oe),u<0&&(f-=u,u-=u),c<0&&(h-=c,c-=c),f<0&&(u-=f,f-=f),h<0&&(c-=h,h-=h),f>U&&(i=f-U,u-=i,f-=i),h>V&&(i=h-V,c-=i,h-=i),u>U&&(i=u-V,h-=i,c-=i),c>V&&(i=c-V,h-=i,c-=i),d(o(u,c,f,h))}function d(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var u=0,c=0,f=0,h=0,p,g;return{flipCoords:o,setPressed:e,setCurrent:t,getOffset:i,moveOffset:n,getCorner:s,getFixed:a}}(),pe=function(){function t(e,t){p.left.css({height:n(t)}),p.right.css({height:n(t)})}function i(){return s(_.getFixed())}function s(e){p.top.css({left:n(e.x),width:n(e.w),height:n(e.y)}),p.bottom.css({top:n(e.y2),left:n(e.x),width:n(e.w),height:n(V-e.y2)}),p.right.css({left:n(e.x2),width:n(U-e.x2)}),p.left.css({width:n(e.x)})}function a(){return e("<div />").css({position:"absolute",backgroundColor:j.shadeColor||j.bgColor}).appendTo(h)}function r(){f||(f=!0,h.insertBefore(q),i(),ge.setBgOpacity(1,0,1),K.hide(),o(j.shadeColor||j.bgColor,1),ge.isAwake()?d(j.bgOpacity,1):d(1,1))}function o(e,t){A(c(),e,t)}function l(){f&&(h.remove(),K.show(),f=!1,ge.isAwake()?ge.setBgOpacity(j.bgOpacity,1,1):(ge.setBgOpacity(1,1,1),ge.disableHandles()),A(Y,0,1))}function d(e,t){f&&(j.bgFade&&!t?h.animate({opacity:1-e},{queue:!1,duration:j.fadeTime}):h.css({opacity:1-e}))}function u(){j.shade?r():l(),ge.isAwake()&&d(j.bgOpacity)}function c(){return h.children()}var f=!1,h=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),p={top:a(),left:a().height(V),right:a().height(V),bottom:a()};return{update:i,updateRaw:s,getShades:c,setBgColor:o,enable:r,disable:l,resize:t,refresh:u,opacity:d}}(),ge=function(){function t(t){var i=e("<div />").css({position:"absolute",opacity:j.borderOpacity}).addClass(s(t));return X.append(i),i}function i(t,i){var n=e("<div />").mousedown(h(t)).css({cursor:t+"-resize",position:"absolute",zIndex:i}).addClass("ord-"+t);return he.support&&n.bind("touchstart.jcrop",he.createDragger(t)),J.append(n),n}function a(e){var t=j.handleSize,n=i(e,O++).css({opacity:j.handleOpacity}).addClass(s("handle"));return t&&n.width(t).height(t),n}function r(e){return i(e,O++).addClass("jcrop-dragbar")}function o(e){var t;for(t=0;t<e.length;t++)P[e[t]]=r(e[t])}function l(e){var i,n;for(n=0;n<e.length;n++){switch(e[n]){case"n":i="hline";break;case"s":i="hline bottom";break;case"e":i="vline right";break;case"w":i="vline"}F[e[n]]=t(i)}}function d(e){var t;for(t=0;t<e.length;t++)M[e[t]]=a(e[t])}function u(e,t){j.shade||K.css({top:n(-t),left:n(-e)}),Q.css({top:n(t),left:n(e)})}function c(e,t){Q.width(Math.round(e)).height(Math.round(t))}function f(){var e=_.getFixed();_.setPressed([e.x,e.y]),_.setCurrent([e.x2,e.y2]),p()}function p(e){if(k)return m(e)}function m(e){var t=_.getFixed();c(t.w,t.h),u(t.x,t.y),j.shade&&pe.updateRaw(t),k||w(),e?j.onSelect.call(_e,g(t)):j.onChange.call(_e,g(t))}function v(e,t,i){if(!k&&!t)return;j.bgFade&&!i?q.animate({opacity:e},{queue:!1,duration:j.fadeTime}):q.css("opacity",e)}function w(){Q.show(),j.shade?pe.opacity(ie):v(ie,!0),k=!0}function y(){C(),Q.hide(),j.shade?pe.opacity(1):v(1),k=!1,j.onRelease.call(_e)}function S(){I&&J.show()}function E(){I=!0;if(j.allowResize)return J.show(),!0}function C(){I=!1,J.hide()}function x(e){e?(ce=!0,C()):(ce=!1,E())}function T(){x(!1),f()}var k,O=370,F={},M={},P={},I=!1;j.dragEdges&&e.isArray(j.createDragbars)&&o(j.createDragbars),e.isArray(j.createHandles)&&d(j.createHandles),j.drawBorders&&e.isArray(j.createBorders)&&l(j.createBorders),e(document).bind("touchstart.jcrop-ios",(function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()}));var A=b().mousedown(h("move")).css({cursor:"move",position:"absolute",zIndex:360});return he.support&&A.bind("touchstart.jcrop",he.createDragger("move")),X.append(A),C(),{updateVisible:p,update:m,release:y,refresh:f,isAwake:function(){return k},setCursor:function(e){A.css("cursor",e)},enableHandles:E,enableOnly:function(){I=!0},showHandles:S,disableHandles:C,animMode:x,setBgOpacity:v,done:T}}(),me=function(){function t(t){ee.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",r).bind("touchend.jcrop",l):f&&e(document).bind("mousemove.jcrop",n).bind("mouseup.jcrop",s)}function i(){ee.css({zIndex:290}),e(document).unbind(".jcrop")}function n(e){return u(o(e)),!1}function s(e){return e.preventDefault(),e.stopPropagation(),ue&&(ue=!1,c(o(e)),ge.isAwake()&&j.onSelect.call(_e,g(_.getFixed())),i(),u=function(){},c=function(){}),!1}function a(e,i,n){return ue=!0,u=e,c=i,t(n),!1}function r(e){return u(o(he.cfilter(e))),!1}function l(e){return s(he.cfilter(e))}function d(e){ee.css("cursor",e)}var u=function(){},c=function(){},f=j.trackDocument;return f||ee.mousemove(n).mouseup(s).mouseout(s),q.before(ee),{activateHandlers:a,setCursor:d}}(),ve=function(){function t(){j.keySupport&&(a.show(),a.focus())}function i(e){a.hide()}function n(e,t,i){j.allowMove&&(_.moveOffset([t,i]),ge.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function s(e){if(e.ctrlKey||e.metaKey)return!0;fe=e.shiftKey?!0:!1;var t=fe?10:1;switch(e.keyCode){case 37:n(e,-t,0);break;case 39:n(e,t,0);break;case 38:n(e,0,-t);break;case 40:n(e,0,t);break;case 27:j.allowSelect&&ge.release();break;case 9:return!0}return!1}var a=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),r=e("<div />").css({position:"absolute",overflow:"hidden"}).append(a);return j.keySupport&&(a.keydown(s).blur(i),B||!j.fixedSupport?(a.css({position:"absolute",left:"-20px"}),r.append(a).insertBefore(q)):a.insertBefore(q)),{watchKeys:t}}();he.support&&ee.bind("touchstart.jcrop",he.newSelection),J.hide(),D(!0);var _e={setImage:I,animateTo:S,setSelect:E,setOptions:k,tellSelect:x,tellScaled:T,setClass:y,disable:O,enable:F,cancel:M,release:ge.release,destroy:P,focus:ve.watchKeys,getBounds:function(){return[U*oe,V*le]},getWidgetSize:function(){return[U,V]},getScaleFactor:function(){return[oe,le]},getOptions:function(){return j},ui:{holder:Y,selection:Q}};return N&&Y.bind("selectstart",(function(){return!1})),z.data("Jcrop",_e),_e},e.fn.Jcrop=function(t,i){var n;return this.each((function(){if(e(this).data("Jcrop")){if(t==="api")return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else this.tagName=="IMG"?e.Jcrop.Loader(this,(function(){e(this).css({display:"block",visibility:"hidden"}),n=e.Jcrop(this,t),e.isFunction(i)&&i.call(n)})):(e(this).css({display:"block",visibility:"hidden"}),n=e.Jcrop(this,t),e.isFunction(i)&&i.call(n))})),this},e.Jcrop.Loader=function(t,i,n){function s(){r.complete?(a.unbind(".jcloader"),e.isFunction(i)&&i.call(r)):window.setTimeout(s,50)}var a=e(t),r=a[0];a.bind("load.jcloader",s).bind("error.jcloader",(function(t){a.unbind(".jcloader"),e.isFunction(n)&&n.call(r)})),r.complete&&e.isFunction(i)&&(a.unbind(".jcloader"),i.call(r))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery)},297647:(e,t,i)=>{"use strict";var jQuery=i(992005);(function($){$.fn.alterClass=function(e,t){var i=this;if(e.indexOf("*")===-1){i.removeClass(e);return!t?i:i.addClass(t)}var n=new RegExp("\\s"+e.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");i.each((function(e,t){var i=" "+t.className+" ";while(n.test(i)){i=i.replace(n," ")}t.className=$.trim(i)}));return!t?i:i.addClass(t)}})(jQuery)},295119:(e,t,i)=>{"use strict";var $=i(992005);(function(){$.fn.autoInputList=function(e){var t=null;var i=this.selector;var n=e.isShareModal||false;var s=$.extend({autoClose:true,autocompleteUrl:"/ajax/quicksearch.php",description:"",done:function(){},extraInit:function(){},extraParams:{},formatAutoItem:function(e,t,i,n){if(e.length===3){return'<img src="'+e[2]+'" style="width:24px" /> '+e[1]}else{return false}},formatTagItem:function(e,t,n){if(t){if(typeof t==="string"){t=t.split("|")}$('<span class="item">'+xmlEntities(t[1])+'<input type="hidden" name="eeids[]" value="'+t[0]+'" />'+'<a class="remove" href="javascript:void(0)"></a></span>').insertBefore(i+" span.input");$(".free").val("");$(".item .remove").live("click",(function(){$(this).closest("span.item").remove();return false}))}},inputAttributes:{},inputClass:".free",startingItems:[]},e);function a(e){var t=$(i);var a=t.find(".description");var r=t.find(".inputs");if(e){t.removeClass("inactive");a.hide();r.show();t.find(s.inputClass).focus()}else{t.addClass("inactive");a.show();if(!n){r.hide()}}}$((function(){s.extraInit();var e=$.extend({delay:50,cacheLength:1,resultsClass:s.resultsClass,selectFirst:true,matchSubset:false,max:20,formatItem:s.formatAutoItem,extraParams:s.extraParams},s.autocompleteOptions);const n=typeof(s===null||s===void 0?void 0:s.inputAttributes)==="object"?Object.keys((s===null||s===void 0?void 0:s.inputAttributes)||{}).map((e=>`${e}="${s===null||s===void 0?void 0:s.inputAttributes[e]}"`)).join(" "):"";$(i).append('<div class="description">'+s.description+'</div><span class="inputs" style="display:none"><span class="input"><input type="text" class="'+s.inputClass.substr(1)+'" value="" '+n+" /></span></span>");$(i).css({display:"inline-block"});$(i).addClass("inactive");$(i).click((function(){if(!$(this).hasClass("disabled")){a(true)}}));$(i+" "+s.inputClass).click((function(){$(this).focus()}));t=$(s.inputClass).keydown((function(e){if(e.keyCode==8&&this.value==""){var t=$(this).closest(i);var n=t.find("span.item:last");n.find(".remove").click()}else if(e.keyCode==13){e.preventDefault()}})).blur((function(){if(s.autoClose){setTimeout((function(){if($(i).find(".item").length==0){a(false)}}))}})).autocomplete(s.autocompleteUrl,e).result(s.formatTagItem);if(s.startingItems.length!==0){$.each(s.startingItems,(function(e,t){s.formatTagItem(null,t);a(true)}))}s.done()}));this.activate=function(){a(true);return this};this.deactivate=function(){a(false);return this};this.autocomplete=t;return this}})()},832757:(e,t,i)=>{"use strict";var jQuery=i(992005);(function($){$.inlineEdit=function(){};$.extend($.inlineEdit,{saveUrl:"",parent:undefined,originalText:"",originalElement:undefined,state:{editing:false,active:undefined},options:{highlightParent:"tr:first",onEdit:function(){},onCancel:function(){},onSave:function(e){if(e.error){alert(e.error)}}},save:function(e,t){var i=this;var n=t.find("input:first").val();var e=Number(e);if(e==0){alert("Error: No ID defined");return false}if(undefined!=n&&n!=""){$.post(this.saveUrl,{id:e,value:n,ajax:1},(function(e){i.update(e,n)}),"json")}return false},update:function(e,t){this.parent.empty();if(!e.error){this.originalElement.text(t).appendTo(this.parent)}else{this.originalElement.appendTo(this.parent)}$(this.parent).parents(this.options.highlightParent).effect("highlight",{},1500);this.state.editing=false;this.options.onSave(e)},edit:function(){var e=$(this).parent();if(!this.state.editing){var t=this;this.parent=e;$(this).removeClass("inlineEdit-hover");this.originalElement=$(this).detach();this.originalText=$(this).text();var i=/[0-9]+/;var n=i.exec($(this).attr("id"));e.html('<form id="inlineForm'+n+'"><input type="text" name="change" class="text inlineEditInput" value="'+xmlEntities(this.originalText)+'" /><br />'+'<input type="submit" value="Save" class="button btnSmall" />'+' or <a id="inlineFormCancel'+n+'" href="javascript:void(0)" class="canceledit-link">Cancel</a></form>');e.find("input:first").select().focus();$("#inlineForm"+n).submit((function(){t.save(n,$(this));return false}));$("#inlineFormCancel"+n).click((function(){t.cancel();return false}));this.state.editing=true;this.state.active=this;this.options.onEdit()}},escCancel:function(e){if(e.keyCode==27){$.inlineEdit.state.active.cancel()}},cancel:function(){if(this.state.editing){this.parent.empty();this.originalElement.appendTo(this.parent);this.state.editing=false;this.options.onCancel()}}});$.fn.inlineEdit=function(e,t){$(document).bind("keypress",$.inlineEdit.escCancel);return this.each((function(){var i=$(this);i=$.extend(i,$.inlineEdit);if(undefined!=t){i.options=$.extend(i.options,t)}i.saveUrl=e;i.hover((function(){if(!i.state.editing){$(this).addClass("inlineEdit-hover")}}),(function(){$(this).removeClass("inlineEdit-hover")})).attr("title","Click to edit").attr("alt","Click to edit");return i.click((function(){i.edit()}))}))}})(jQuery)},171445:(e,t,i)=>{"use strict";var jQuery=i(992005);(function(e){var t=e.fn.domManip,i="_tmplitem",n=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,s={},a={},r,o={key:0,data:{}},l=0,d=0,u=[];function c(t,i,n,r){var o={data:r||(i?i.data:{}),_wrap:i?i._wrap:null,tmpl:null,parent:i||null,nodes:[],calls:b,nest:y,wrap:S,html:E,update:C};t&&e.extend(o,t,{nodes:[],parent:i});if(n){o.tmpl=n;o._ctnt=o._ctnt||o.tmpl(e,o);o.key=++l;(u.length?a:s)[l]=o}return o}e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,i){e.fn[t]=function(n){var a=[],o=e(n),l,u,c,f,h=this.length===1&&this[0].parentNode;r=s||{};if(h&&h.nodeType===11&&h.childNodes.length===1&&o.length===1){o[i](this[0]);a=this}else{for(u=0,c=o.length;u<c;u++){d=u;l=(u>0?this.clone(true):this).get();e.fn[i].apply(e(o[u]),l);a=a.concat(l)}d=0;a=this.pushStack(a,t,o.selector)}f=r;r=null;e.tmpl.complete(f);return a}}));e.fn.extend({tmpl:function(t,i,n){return e.tmpl(this[0],t,i,n)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(i,n,a){if(i[0]&&i[0].nodeType){var o=e.makeArray(arguments),l=i.length,u=0,c;while(u<l&&!(c=e.data(i[u++],"tmplItem")));if(l>1)o[0]=[e.makeArray(i)];if(c&&d)o[2]=function(t){e.tmpl.afterManip(this,t,a)};t.apply(this,o)}else t.apply(this,arguments);d=0;!r&&e.tmpl.complete(s);return this}});e.extend({tmpl:function(t,i,n,r){var l,d=!r;if(d){r=o;t=e.template[t]||e.template(null,t);a={}}else if(!t){t=r.tmpl;s[r.key]=r;r.nodes=[];r.wrapped&&g(r,r.wrapped);return e(f(r,null,r.tmpl(e,r)))}if(!t)return[];if(typeof i==="function")i=i.call(r||{});n&&n.wrapped&&g(n,n.wrapped);l=e.isArray(i)?e.map(i,(function(e){return e?c(n,r,t,e):null})):[c(n,r,t,i)];return d?e(f(r,null,l)):l},tmplItem:function(t){var i;if(t instanceof e)t=t[0];while(t&&t.nodeType===1&&!(i=e.data(t,"tmplItem"))&&(t=t.parentNode));return i||o},template:function(t,i){if(i){if(typeof i==="string")i=p(i);else if(i instanceof e)i=i[0]||{};if(i.nodeType)i=e.data(i,"tmpl")||e.data(i,"tmpl",p(i.innerHTML));return typeof t==="string"?e.template[t]=i:i}return t?typeof t!=="string"?e.template(null,t):e.template[t]||e.template(null,n.test(t)?t:e(t)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},if:{open:"if(($notnull_1) && $1a){",close:"}"},else:{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){s={}},afterManip:function(t,i,n){var s=i.nodeType===11?e.makeArray(i.childNodes):i.nodeType===1?[i]:[];n.call(t,i);w(s);d++}});function f(t,n,s){var a,r=s?e.map(s,(function(e){return typeof e==="string"?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+i+'="'+t.key+'" $2'):e:f(e,t,e._ctnt)})):t;if(n)return r;r=r.join("");r.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,(function(t,i,n,s){a=e(n).get();w(a);if(i)a=h(i).concat(a);if(s)a=a.concat(h(s))}));return a?a:h(r)}function h(t){var i=document.createElement("div");i.innerHTML=t;return e.makeArray(i.childNodes)}function p(t){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+e.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,(function(t,i,n,s,a,r,o){var l=e.tmpl.tag[n],d,u,c;if(!l)throw"Template command not found: "+n;d=l._default||[];if(r&&!/\w$/.test(a)){a+=r;r=""}if(a){a=m(a);o=o?","+m(o)+")":r?")":"";u=r?a.indexOf(".")>-1?a+r:"("+a+").call($item"+o:a;c=r?u:"(typeof("+a+")==='function'?("+a+").call($item):("+a+"))"}else c=u=d.$1||"null";s=m(s);return"');"+l[i?"close":"open"].split("$notnull_1").join(a?"typeof("+a+")!=='undefined' && ("+a+")!=null":"true").split("$1a").join(c).split("$1").join(u).split("$2").join(s?s.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,(function(e,t,i,n){n=n?","+n+")":i?")":"";return n?"("+t+").call($item"+n:e})):d.$2||"")+"_.push('"}))+"');}return _;")}function g(t,i){t._wrap=f(t,true,e.isArray(i)?i:[n.test(i)?i:e(i).html()]).join("")}function m(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function v(e){var t=document.createElement("div");t.appendChild(e.cloneNode(true));return t.innerHTML}function w(t){var n="_"+d,r,o,u={},f,h,p;for(f=0,h=t.length;f<h;f++){if((r=t[f]).nodeType!==1)continue;o=r.getElementsByTagName("*");for(p=o.length-1;p>=0;p--)g(o[p]);g(r)}function g(t){var r,o=t,f,h,p;if(p=t.getAttribute(i)){while(o.parentNode&&(o=o.parentNode).nodeType===1&&!(r=o.getAttribute(i)));if(r!==p){o=o.parentNode?o.nodeType===11?0:o.getAttribute(i)||0:0;if(!(h=s[p])){h=a[p];h=c(h,s[o]||a[o],null,true);h.key=++l;s[l]=h}d&&g(p)}t.removeAttribute(i)}else if(d&&(h=e.data(t,"tmplItem"))){g(h.key);s[h.key]=h;o=e.data(t.parentNode,"tmplItem");o=o?o.key:0}if(h){f=h;while(f&&f.key!=o){f.nodes.push(t);f=f.parent}delete h._ctnt;delete h._wrap;e.data(t,"tmplItem",h)}function g(e){e=e+n;h=u[e]=u[e]||c(h,s[h.parent.key+n]||h.parent,null,true)}}}function b(e,t,i,n){if(!e)return u.pop();u.push({_:e,tmpl:t,item:this,data:i,options:n})}function y(t,i,n){return e.tmpl(e.template(t),i,n,this)}function S(t,i){var n=t.options||{};n.wrapped=i;return e.tmpl(e.template(t.tmpl),t.data,n,t.item)}function E(t,i){var n=this._wrap;return e.map(e(e.isArray(n)?n.join(""):n).filter(t||"*"),(function(e){return i?e.innerText||e.textContent:e.outerHTML||v(e)}))}function C(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]);e(t).remove()}})(jQuery)},988369:(e,t,i)=>{"use strict";var $=i(992005);(function(){const e=window.BambooHR.FeatureToggle.isEnabled("jade");let t;$.fn.bhrLiveSearch=function(i){const n=this;const s=$(n);const a=$.extend({result:".js-globalResults",url:"/ajax/globalsearch.php",loader:e?`<div class="dotLoader">\n\t\t\t\t\t<div class="bounce1"></div>\n\t\t\t\t\t<div class="bounce2"></div>\n\t\t\t\t\t<div class="bounce3"></div>\n\t\t\t\t</div>`:'<img class="gLoader" src="/images/loader3.gif">'},i);let r=null;let o;let l="";let d=0;let u=0;let c=false;let f={};function h(){$(a.result).hide();c=false}function p(){if($(`${a.result} li.selected`).length===0){$(`${a.result} li li:first`).addClass("selected")}else{const e=$(a.result).find("li.selected");o=e.next();if(o.length===0){o=e.parent().closest("li").next().find("li:first")}if(o.length===1){o.addClass("selected");e.removeClass("selected")}}}function g(){const e=$(`${a.result} li.selected`);o=e.prev();if(o.length===0){o=e.parent().closest("li").prev().find("li:last")}if(o.length===1){o.addClass("selected");e.removeClass("selected")}}function m(e,t){l=e;if($.trim(e)===""){h()}else{const n=++u;if(!c){$(a.result).html(a.loader).show();c=true}if(r!==null){r.abort()}if(i.getAdditionalParams&&typeof i.getAdditionalParams==="function"){f=i.getAdditionalParams()}r=$.post(a.url,{q:e,section:t,...f},(function(e){if(n>d){d=n;if($.trim(e)===""){h()}else{var t=$(a.result);t.html(e);if(i.prepend&&typeof i.prepend==="function"){i.prepend(t)}t.show();if(e.indexOf("js-bhr-live-search-empty-results")>-1){s.trigger("bhrLiveSearch:emptyResults")}else{s.trigger("bhrLiveSearch:nonEmptyResults");if($(`${a.result} li.selected`).length===0){$(`${a.result} li li:first`).addClass("selected")}}c=true}}}),"html")}}$(document).on("mousemove",`${a.result} ul ul li`,(function(){$(`${a.result} .selected`).removeClass("selected");$(this).addClass("selected")}));$(document).on("click",`${a.result} ul ul li`,(function(){$(`${a.result} .selected`).removeClass("selected");$(this).addClass("selected")})).on("click",`${a.result} .gSectionName`,(function(e){if(typeof a.expandSection!=="undefined"&&a.expandSection===true){m(l,$(this).data("section-name"))}})).on("click",null,(function(e){if(!$(e.srcElement).hasClass("globalsearch")&&!$(e.srcElement).hasClass("gResults--persist")){h()}}));return this.each((function(){$(this).keyup((function(e){if(e.keyCode!==13&&e.keyCode!==40&&e.keyCode!==38&&e.keyCode!==27){m(this.value)}})).keydown((function(e){if(e.keyCode===13){const t=$(".js-globalResults .selected");if(t.length>0){e.preventDefault();r.abort();h();window.location.href=$(".js-globalResults .selected").attr("onclick").replace(/location=\'(.*)\'/i,"$1")}}else if(e.keyCode===27){h()}else if(e.keyCode===40){e.preventDefault();if(c){p()}else{m(this.value)}}else if(e.keyCode===38){e.preventDefault();if(c){g()}else{m(this.value)}}})).focus((function(){if(this.value!==""){m(this.value)}})).blur((function(){if(!$(t).hasClass("globalsearch")&&$(t).closest(".js-globalResults").length===0){h()}}))}))};$((function(){$(document).mousedown((function(e){t=$(e.target)}));$(document).mouseup((function(){t=null}))}))})()},469861:e=>{"use strict";(function t(i,n){if(true){e.exports=n()}else{}})(void 0,(function(){return function(e){var t={};function i(n){if(t[n]){return t[n].exports}var s=t[n]={exports:{},id:n,loaded:false};e[n].call(s.exports,s,s.exports,i);s.loaded=true;return s.exports}i.m=e;i.c=t;i.p="";return i(0)}([function(e,t,i){Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n){n.writable=true}Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i){e(t.prototype,i)}if(n){e(t,n)}return t}}();var s=i(1);var a=l(s);var r=i(33);var o=l(r);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var i in e){if(Object.prototype.hasOwnProperty.call(e,i)){t[i]=e[i]}}}t.default=e;return t}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=false;var c=[];function f(e){return c.some((function(t){return t.contains(e)}))}function h(e){if(!f(e.target)){e.preventDefault()}}var p=null;var g=0;var m=0;function v(e){if(f(e.target)){return false}p=e.target;g=p.scrollTop;m=p.scrollLeft;p.addEventListener("mouseup",w);p.addEventListener("scroll",b)}function w(){b();p.removeEventListener("mouseup",w);p.removeEventListener("scroll",b)}function b(){p.scrollTop=g;p.scrollLeft=m}function y(){o.lock();a.addEvent(window,"wheel",h);a.addEvent(window,"mousedown",v);u=true}function S(){o.unlock();a.removeEvent(window,"wheel",h);a.removeEvent(window,"mousedown",v);u=false}var E=function(){function e(){d(this,e)}n(e,null,[{key:"on",value:function e(){if(!u){y()}}},{key:"off",value:function e(){if(u){S()}}},{key:"toggle",value:function e(){var t=arguments.length<=0||arguments[0]===undefined?!u:arguments[0];if(t){this.on()}else{this.off()}}},{key:"ignore",value:function e(t){if(t&&t.tagName){c.push(t)}else{c=c.concat(Array.from(document.querySelectorAll(t)).filter((function(e){return!c.includes(e)})))}}},{key:"removeIgnored",value:function e(t){if(t&&t.tagName){c=c.filter((function(e){return e!==t}))}else{(function(){var e=Array.from(document.querySelectorAll(t));c=c.filter((function(t){return!e.includes(t)}))})()}}},{key:"isBlocked",get:function e(){return u}},{key:"ignoredElements",get:function e(){return c}}]);return e}();t.default=E;e.exports=t["default"]},function(e,t,i){Object.defineProperty(t,"__esModule",{value:true});t.addEvent=n;t.removeEvent=s;t.addClass=a;t.removeClass=r;i(2);function n(e,t,i){e.addEventListener(t,i)}function s(e,t,i){e.removeEventListener(t,i)}function a(e){var t=e.className.trim().split(/\s+/);for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++){n[s-1]=arguments[s]}e.className=t.concat(n.filter((function(e){return!t.includes(e.trim())}))).join(" ").trim()}function r(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++){i[n-1]=arguments[n]}e.className=e.className.trim().split(/\s+/).filter((function(e){return!i.includes(e.trim())})).join(" ").trim()}},function(e,t,i){i(3);e.exports=i(6).Array.includes},function(e,t,i){var n=i(4),s=i(22)(true);n(n.P,"Array",{includes:function e(t){return s(this,t,arguments.length>1?arguments[1]:undefined)}});i(30)("includes")},function(e,t,i){var n=i(5),s=i(6),a=i(7),r=i(17),o=i(20),l="prototype";var d=function(e,t,i){var u=e&d.F,c=e&d.G,f=e&d.S,h=e&d.P,p=e&d.B,g=c?n:f?n[t]||(n[t]={}):(n[t]||{})[l],m=c?s:s[t]||(s[t]={}),v=m[l]||(m[l]={}),w,b,y,S;if(c){i=t}for(w in i){b=!u&&g&&g[w]!==undefined;y=(b?g:i)[w];S=p&&b?o(y,n):h&&typeof y=="function"?o(Function.call,y):y;if(g){r(g,w,y,e&d.U)}if(m[w]!=y){a(m,w,S)}if(h&&v[w]!=y){v[w]=y}}};n.core=s;d.F=1;d.G=2;d.S=4;d.P=8;d.B=16;d.W=32;d.U=64;d.R=128;e.exports=d},function(e,t){var i=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number"){__g=i}},function(e,t){var i=e.exports={version:"2.4.0"};if(typeof __e=="number"){__e=i}},function(e,t,i){var n=i(8),s=i(16);e.exports=i(12)?function(e,t,i){return n.f(e,t,s(1,i))}:function(e,t,i){e[t]=i;return e}},function(e,t,i){var n=i(9),s=i(11),a=i(15),r=Object.defineProperty;t.f=i(12)?Object.defineProperty:function e(t,i,o){n(t);i=a(i,true);n(o);if(s){try{return r(t,i,o)}catch(e){}}if("get"in o||"set"in o){throw TypeError("Accessors not supported!")}if("value"in o){t[i]=o.value}return t}},function(e,t,i){var n=i(10);e.exports=function(e){if(!n(e)){throw TypeError(e+" is not an object!")}return e}},function(e,t){e.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},function(e,t,i){e.exports=!i(12)&&!i(13)((function(){return Object.defineProperty(i(14)("div"),"a",{get:function(){return 7}}).a!=7}))},function(e,t,i){e.exports=!i(13)((function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t,i){var n=i(10),document=i(5).document,s=n(document)&&n(document.createElement);e.exports=function(e){return s?document.createElement(e):{}}},function(e,t,i){var n=i(10);e.exports=function(e,t){if(!n(e)){return e}var i,s;if(t&&typeof(i=e.toString)=="function"&&!n(s=i.call(e))){return s}if(typeof(i=e.valueOf)=="function"&&!n(s=i.call(e))){return s}if(!t&&typeof(i=e.toString)=="function"&&!n(s=i.call(e))){return s}throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},function(e,t,i){var n=i(5),s=i(7),a=i(18),r=i(19)("src"),o="toString",l=Function[o],d=(""+l).split(o);i(6).inspectSource=function(e){return l.call(e)};(e.exports=function(e,t,i,o){var l=typeof i=="function";if(l){a(i,"name")||s(i,"name",t)}if(e[t]===i){return}if(l){a(i,r)||s(i,r,e[t]?""+e[t]:d.join(String(t)))}if(e===n){e[t]=i}else{if(!o){delete e[t];s(e,t,i)}else{if(e[t]){e[t]=i}else{s(e,t,i)}}}})(Function.prototype,o,(function e(){return typeof this=="function"&&this[r]||l.call(this)}))},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++i+n).toString(36))}},function(e,t,i){var n=i(21);e.exports=function(e,t,i){n(e);if(t===undefined){return e}switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(typeof e!="function"){throw TypeError(e+" is not a function!")}return e}},function(e,t,i){var n=i(23),s=i(27),a=i(29);e.exports=function(e){return function(t,i,r){var o=n(t),l=s(o.length),d=a(r,l),u;if(e&&i!=i){while(l>d){u=o[d++];if(u!=u){return true}}}else{for(;l>d;d++){if(e||d in o){if(o[d]===i){return e||d||0}}}}return!e&&-1}}},function(e,t,i){var n=i(24),s=i(26);e.exports=function(e){return n(s(e))}},function(e,t,i){var n=i(25);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return n(e)=="String"?e.split(""):Object(e)}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(e==undefined){throw TypeError("Can't call method on  "+e)}return e}},function(e,t,i){var n=i(28),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){var n=i(28),s=Math.max,a=Math.min;e.exports=function(e,t){e=n(e);return e<0?s(e+t,0):a(e,t)}},function(e,t,i){var n=i(31)("unscopables"),s=Array.prototype;if(s[n]==undefined){i(7)(s,n,{})}e.exports=function(e){s[n][e]=true}},function(e,t,i){var n=i(32)("wks"),s=i(19),a=i(5).Symbol,r=typeof a=="function";var o=e.exports=function(e){return n[e]||(n[e]=r&&a[e]||(r?a:s)("Symbol."+e))};o.store=n},function(e,t,i){var n=i(5),s="__core-js_shared__",a=n[s]||(n[s]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i){if(Object.prototype.hasOwnProperty.call(i,n)){e[n]=i[n]}}}return e};t.lock=g;t.unlock=m;var s=i(34);var a=r(s);function r(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var i in e){if(Object.prototype.hasOwnProperty.call(e,i)){t[i]=e[i]}}}t.default=e;return t}}var o=document.querySelector("html");var l=["overflow","position","width","top","left"];var d={overflowY:"auto",overflowX:"auto",position:"fixed",width:"100%",top:undefined,left:undefined};var u={top:null,left:null};var c={};function f(){u.top=window.pageYOffset;u.left=window.pageXOffset}function h(){var e={};l.forEach((function(t){var i=o.style[t];if(i){e[t]=i}}));c=e}function p(){window.scrollTo(u.left,u.top)}function g(){f();h();var e=a.elementHasScrollBars(o);var t=n({},d,{top:-u.top+"px",left:-u.left+"px",overflowY:e.vertical?"scroll":"auto",overflowX:e.horizontal?"scroll":"auto"});Object.keys(t).forEach((function(e){o.style[e]=t[e]}))}function m(){l.forEach((function(e){o.style[e]=c[e]||""}));p()}},function(e,t){Object.defineProperty(t,"__esModule",{value:true});t.default=i;t.elementHasScrollBars=n;function i(){var e=false;var t=0;var i=document.createElement("div");i.style.height="200px";i.style.width="200px";i.style.position="fixed";i.style.top="-100%";i.style.left="-100%";i.style.overflow="scroll";var n=document.body||document.querySelector("html");n.appendChild(i);if(i.clientWidth<i.offsetWidth){e=true;t=i.offsetWidth-i.clientWidth}n.removeChild(i);return{active:e,size:t}}function n(e){var t=window.getComputedStyle(e)["overflow-y"];var i=window.getComputedStyle(e)["overflow-x"];return{horizontal:(i==="scroll"||i==="auto")&&e.scrollWidth>e.clientWidth,vertical:(t==="scroll"||t==="auto")&&e.scrollHeight>e.clientHeight}}}])}))},612931:(e,t,i)=>{"use strict";var $=i(992005);var n=i(479706);var s=i(108201);const a="/location/getTimezoneFromZip/%1$s";const r=(0,n.isEnabled)("jade");function o(e){return $(this).closest(".fieldGroup").find(e)}class l{static get className(){return"CountryStateZip"}constructor(){this.stateCurValues={};this.classlist="state-field state short";this.selectors={end:'"]',country:':input[data-csz^="country"]',countryStart:':input[data-csz^="country+',paySchedule:".js-paySchedule",state:':input[data-csz^="state"]',stateStart:':input[data-csz^="state+',traxRequired:".trax-required.js-country-field",zip:':input[data-csz^="postal_code"]',zipStart:':input[data-csz^="postal_code+',tz:':input[data-csz^="timezone"]'}}setEventListeners(){const e=this;const t=$(document);if(r){t.on("ba:selectChange",e.selectors.country,(function(){window.setTimeout((()=>e.changeCountry(this)))}));t.on("ba:selectChange",e.selectors.paySchedule,(function(){window.setTimeout((()=>{$(e.selectors.traxRequired).each((function(){e.changeCountry(this);e.updateCountryList(this)}))}))}));t.on("ba:selectChange",e.selectors.state,(function(){const t=this.dataset.csz.split("+")[1];window.setTimeout((()=>{e.stateCurValues[t]=u(t)}))}))}else{t.on("change",e.selectors.country,(function(){e.changeCountry(this)}));t.on("change",e.selectors.state,(function(){const t=this.dataset.csz.split("+")[1];e.stateCurValues[t]=this.value}))}t.on("change",e.selectors.zip,(function(){const t=o.call(this,e.selectors.tz);if(t.length<1){return}e.getTimezone(this.value).done((({success:e,error:i,timezone_value:n})=>{if(!e){console.error(i);return}t.val(n).trigger("liszt:updated")}))}));$(e.selectors.country).observe((function(){if(this.dataset.csz.indexOf(":idx:")>-1||this.dataset.observe==="done"){return}const t=this.dataset.csz.split("+")[1];this.dataset.observe="done";window.setTimeout((()=>{if(r){e.stateCurValues[t]=u(t)}else{e.stateCurValues[t]=d(`${e.selectors.stateStart}${t}${e.selectors.end}`).val()}e.updateCountryList(this);e.changeCountry(this)}))}))}getPayRollDetails(e){const t=$(e);const i=t.closest(".js-PowerEditForm").length>0;const n=e.classList.contains("trax-required")||i;return!n?{}:(0,s.getFormPayRollDetails)(t,true)}updateCountryList(e){const t=this;const i=e.dataset.csz.split("+")[1];let n="";if(e.classList.contains("trax-required")){const{employeeId:t=null,payScheduleId:i=null}=this.getPayRollDetails(e);if(i!==null){n=`payScheduleId=${i}`}else if(t!==null){n=`employeeId=${t}`}}$.getJSON(`/ajax/get_countries?${n}`,(function(n){if(n.success){const s=$(e);t.changeCountryElement(s,i,n).then((({input:e,value:t})=>{c(e[0]);if(t&&r){const i=e[0].querySelector(`ba-option[value='${t}']`);if(i){window.setTimeout((()=>i.setAttribute("selected",true)))}}}))}}))}changeCountry(e){const t=this;const i=e.dataset.csz.split("+")[1];let n=$(t.selectors.stateStart+i+t.selectors.end);const s=$(t.selectors.zipStart+i+t.selectors.end);const a=d(`${t.selectors.countryStart}${i}${t.selectors.end}`);let o=e.value;if(n.length===0&&s.length===0){return}if(!o){if(typeof GLOBAL_COMPANY_COUNTRY_ID!=="undefined"){o=GLOBAL_COMPANY_COUNTRY_ID}else{o=1}}let l=t.getCountryInfo(o);const u=l.stateLabel;const f=a.data("special-csz-labels");if(f){switch(f){case"employee_dependents":l=t.getDependentCountryInfo(o);break;case"employee_contacts":l=t.getContactCountryInfo(o);break}}const h=l.stateLabel;const p=l.zipLabel;let g="";if(e.classList.contains("trax-required")){const{employeeId:t=null,payScheduleId:i=null}=this.getPayRollDetails(e);if(i!==null){g=`&payScheduleId=${i}`}else if(t!==null){g=`&employeeId=${t}`}}const m=`/ajax/get_states?country=${o}${g}`;$.getJSON(m,(function(e){if(e.success){if(s.length>0){t.setZipLabel(s,p)}if(n.length>0){n.attr("data-placeholder",u);n=t.changeStateElement(n,i,e).then((({input:e,value:i})=>{t.setStateLabel(e,h);c(e[0]);if(i&&r){const t=e[0].querySelector(`ba-option[value='${i}']`);if(t){window.setTimeout((()=>t.setAttribute("selected",true)))}}})).catch((()=>null))}}}))}getCountryInfo(e){e=parseInt(e);let t="";let i="";switch(e){case 1:case 0:t=$.__("State");i=$.__("ZIP");break;case 3:t=$.__("State");i=$.__("Post Code");break;case 222:t=$.__("County");i=$.__("Post Code");break;case 157:t=$.__("State");i=$.__("Postal Code");break;default:t=$.__("Province");i=$.__("Postal Code");break}return{zipLabel:i,stateLabel:t}}getDependentCountryInfo(e){e=parseInt(e);let t="";let i="";switch(e){case 1:case 0:t=$.__("Dependent State");i=$.__("Dependent ZIP Code");break;case 3:t=$.__("Dependent State");i=$.__("Dependent Post Code");break;case 222:t=$.__("Dependent County");i=$.__("Dependent Post Code");break;case 157:t=$.__("Dependent State");i=$.__("Dependent Postal Code");break;default:t=$.__("Dependent Province");i=$.__("Dependent Postal Code");break}return{zipLabel:i,stateLabel:t}}getContactCountryInfo(e){e=parseInt(e);let t="";let i="";switch(e){case 1:case 0:t=$.__("Emergency Contact State");i=$.__("Emergency Contact ZIP Code");break;case 3:t=$.__("Emergency Contact State");i=$.__("Emergency Contact Post Code");break;case 222:t=$.__("Emergency Contact County");i=$.__("Emergency Contact Post Code");break;case 157:t=$.__("Emergency Contact State");i=$.__("Emergency Contact Postal Code");break;default:t=$.__("Emergency Contact Province");i=$.__("Emergency Contact Postal Code");break}return{zipLabel:i,stateLabel:t}}getTimezone(e){const t=window.sprintf(a,e);return $.getJSON(t).fail(((e,t,i)=>{console.error(i)}))}setZipLabel(e,t){let i=e.parent(".fieldDiv").parent(".fieldBox").children("label");if(r){if(i.length===0){i=e.closest(".fab-FormColumn").children(".fab-Label")}}if(i.length>0){i.text(t)}else{i=e.siblings("label.placeholder");if(i.length>0){i.text(t);e.attr("placeholder","")}else{const i=e.parent("td");if(i.length>0){i.parent("tr:not([id])").children("th").text(t)}else{e.attr("placeholder",t);$.placeholder.shim({autoFormClass:"BhrForms"})}}}}setStateLabel(e,t){e.siblings("label.placeholder").remove();let i=e.parent(".fieldDiv").parent(".fieldBox").children("label");if(r){if(i.length===0){i=e.closest(".fab-FormColumn").children(".fab-Label")}}if(i.length>0){i.text(t)}else{const i=e.parent("td");if(i.length>0){i.parent("tr:not([id])").children("th").text(t)}else if(e[0].nodeName.toLowerCase()==="input"){e.attr("placeholder",t);$.placeholder.shim({autoFormClass:"BhrForms"})}}}changeCountryElement(e,t,i){const n=e.find("ba-option:selected").val()||null;const s={};$.each(e[0].attributes,(function(e,t){s[t.nodeName]=t.nodeValue}));const a=Object.keys(i.data);let r=false;if(a.length>0){const t=document.createElement("ba-select");const o=Object.assign({},{width:7},s,{placeholder:s["data-placeholder"]||s.placeholder});delete o.type;const l=Object.keys(o);l.forEach((e=>t.setAttribute(e,o[e])));const d=$(t);d.removeClass(((e,t)=>(t.match(/\bfab-TextInpu\S+/g)||[]).join(" ")));let u="";for(let e=0;e<a.length;++e){const t=a[e]==n?'selected="selected"':"";r=t===""?r:true;u+=`<ba-option value="${a[e]}" ${t}>${i.data[a[e]]}</ba-option>`}d.html(u);e.replaceWith(d);e=d}let o;if(a.length<2&&!r){o=a[0];e.val(o);e.removeAttr("data-csz-value")}return new Promise((t=>t({input:e,value:o})))}changeStateElement(e,t,i){const n=this;const s={};$.each(e[0].attributes,(function(e,t){s[t.nodeName]=t.nodeValue}));if(e[0].classList.contains("dynamic-field-react")){return new Promise(((e,t)=>t(false)))}if(i.data.length>0){if(r){const a=document.createElement("ba-select");const r=Object.assign({},{width:4},s,{placeholder:s["data-placeholder"]});delete r.type;const o=Object.keys(r);o.forEach((e=>a.setAttribute(e,r[e])));const l=$(a);l.removeClass(((e,t)=>(t.match(/\bfab-TextInpu\S+/g)||[]).join(" ")));let d="";for(let e=0;e<i.data.length;++e){const s=n.stateCurValues[t]==i.data[e].id?'selected="selected"':"";d+=`<ba-option value="${i.data[e].id}" ${s}>${i.data[e].name}</ba-option>`}l.html(d);e.replaceWith(l);e=l}else{e.replaceWith((function(){return $("<select />",s)}));e=$(n.selectors.stateStart+t+n.selectors.end);let a="<option></option>";for(let e=0;e<i.data.length;++e){const s=n.stateCurValues[t]==i.data[e].id?'selected="selected"':"";a+=`<option value="${i.data[e].id}" ${s}>${i.data[e].name}</option>`}e.siblings(".chzn-container").remove();e.html(a).addClass(n.classlist).removeClass("chzn-done").show().chosen(bhrChosenOptions)}}else{e.replaceWith((function(){const e=Object.assign({},s,{type:"text",autocomplete:""});delete e.placeholder;delete e.width;return $("<input />",e).addClass("fab-TextInput")}));e=$(n.selectors.stateStart+t+n.selectors.end);e.val(isNaN(n.stateCurValues[t])?n.stateCurValues[t]:"");if(!r){e.removeClass(`${n.classlist} chzn-done`).show();e.siblings(".chzn-container").remove()}}const a=e.data("csz-value");if(a){e.val(a);e.removeAttr("data-csz-value")}e.trigger("change");return new Promise((t=>t({input:e,value:a})))}}function d(e){return r?$(`${e} select`):$(e)}function u(e){let t=document.querySelector(`[data-csz^="state+${e}"]`);if(t){if(t.nodeName==="BA-SELECT"){t=t.querySelector("select")}return t?t.value:""}}function c(e){const t=["requiredWhenVisible","requiredWhenTraxSyncing"];t.forEach((t=>{if(e.classList.contains(t)){const i=e.querySelector("select");if(i){i.classList.add(t)}}}))}const f=new l;f.setEventListeners()},846436:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PARAGRAPH_FIELD_PADDING_TOP=t.PARAGRAPH_FIELD_PADDING_RIGHT=t.PARAGRAPH_FIELD_PADDING_LEFT=t.PARAGRAPH_FIELD_PADDING_BOTTOM=t.PARAGRAPH_FIELD_LINE_HEIGHT=t.PARAGRAPH_FIELD_FONT_SIZE=t.FIELD_BORDER_WIDTH=void 0;const i=1;t.FIELD_BORDER_WIDTH=i;const n=15;t.PARAGRAPH_FIELD_FONT_SIZE=n;const s=19;t.PARAGRAPH_FIELD_LINE_HEIGHT=s;const a=5;t.PARAGRAPH_FIELD_PADDING_BOTTOM=a;const r=10;t.PARAGRAPH_FIELD_PADDING_LEFT=r;const o=15;t.PARAGRAPH_FIELD_PADDING_RIGHT=o;const l=5;t.PARAGRAPH_FIELD_PADDING_TOP=l},484005:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);var s=i(273641);const a={setup:"Setup",signing:"Signing"};const r={get FieldManager(){try{return window.Esignatures[a[this.EsigType]].FieldManager}catch(e){window.Rollbar.error("Unable to determine Esignature type",{type:this.EsigType})}},init(e){this.EsigType=e;this.setupWrappers();this.setupEventListeners();this._setMetadataForPages();window.Esignatures.Previewer.Pagination.updateLabels(1,this.$.pages.length);window.Esignatures.Previewer.Pagination.subscribe(this.scroll,this);window.Esignatures.subscribe("document:zoom",this.zoom,this)},destroy(){$(this._selectors.document).off("keydown.Document")},getIntersectingPage(e){var t=null;(0,s.each)(this._pages,(i=>{if(n.Rect.intersects(i.rect,e)){t=i;return false}}));return t},getContainingPage(e){var t=null;(0,s.each)(this._pages,(i=>{if(n.Rect.contains(i.rect,e)){t=i;return false}}));return t},updatePagesBoundingRect(){(0,s.each)(this._pages,(e=>{e.rect=e.el.getBoundingClientRect()}))},getPage(e){return(0,s.find)(this._pages,{num:e})},_pages:{},subscriptions:[],current:null,width:0,mouse:{x:0,y:0,down:false,start:{x:0,y:0}},currentScroll:{top:0,left:0},scrollMultiplier:2,_selectors:{pane:".js-bhrPreview-pane",doc:".js-bhrPreview-document",pages:".js-bhrPreview-page",document:"body"},zoom(e){$.each(this.$.pages,(function(t,i){$(i).css({width:e/100*this.getAttribute("data-width")+"px"})}));this.updatePagesBoundingRect()},scroll(e){if(e<=this.$.pages.length&&e>0){var t=this.$.pages[e-1].offsetTop;this.$.pane.animate({scrollTop:t},500)}},setupWrappers(){this.$=(0,n.setupWrappers)(this._selectors)},setupEventListeners(){this.setupMouseDragListeners();this.$.pane.on("scroll",(()=>{this.handleSubscriptions();window.Esignatures.publish("document:scroll")}));$(this._selectors.document).off("keydown.Document").on("keydown.Document",(function(e){var t=e.keyCode||e.which;if(t===9){e.preventDefault();e.stopPropagation();if(e.shiftKey){window.Esignatures.publish("document:shift+tab")}else{window.Esignatures.publish("document:tab")}}}))},setupMouseDragListeners(){var e=$(window);e.on("mousemove",(e=>{this.mouse.x=e.pageX;this.mouse.y=e.pageY;if(this.mouse.down){this.drag();return false}}));this.$.doc.on("mousedown",(e=>{let t=e.target||e.srcElement;if(e.which===1&&$(t).is(".js-bhrPreview-document, .js-page-svg")){if(this.FieldManager&&!this.FieldManager.clearActiveField()){return false}this.mouse.down=true;this.mouse.start.x=this.mouse.x;this.mouse.start.y=this.mouse.y;this.currentScroll.top=this.$.pane.scrollTop();this.currentScroll.left=this.$.pane.scrollLeft();document.getSelection().removeAllRanges();window.Esignatures.publish("document:mousedown");return false}}));e.off("mouseup.Document").on("mouseup.Document",(()=>{this.mouse.down=false}))},drag(){var e=(this.mouse.start.x-this.mouse.x)*this.scrollMultiplier,t=(this.mouse.start.y-this.mouse.y)*this.scrollMultiplier;this.$.pane.scrollLeft(this.currentScroll.left+e);this.$.pane.scrollTop(this.currentScroll.top+t)},handleSubscriptions:(0,s.throttle)((function(){this.subscriptions.forEach((e=>{var t=this.scrollSpy();if(this.current!==t){e.fn.call(e.context,t)}}))}),200),subscribeToPageChange(e,t){this.subscriptions.push({fn:e,context:t})},scrollSpy(){var e=this.$.pane.offset().top+this.$.pane.outerHeight()/2,t=null;this.$.pages.each(((i,n)=>{if($(n).offset().top<=e){t=i+1}}));return t},_setMetadataForPages(){this.$.pages.each(((e,t)=>{var i=$(t),n=i.get(0),s=i.find("> img");s.css("width","100%");s.addClass("js-page-svg");this._pages[i.attr("id")]={$:i,el:n,num:e+1,w:i.data("width"),h:i.data("height"),rect:n.getBoundingClientRect()};this.width=Math.max(this.width,this._pages[i.attr("id")].w)}))}};var o=r;t.default=o},359054:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(273641);var s=i(774548);const a={_selectors:{current:".js-bhrPreview-current",total:".js-bhrPreview-total",actions:".js-bhrPreview-pagerAction"},subscriptions:[],init(){this.setupWrappers();this.setupEventListeners();window.Esignatures.Previewer.Document.subscribeToPageChange(this.updateLabels,this)},setupWrappers(){this.$=(0,s.setupWrappers)(this._selectors)},setupEventListeners(){this.$.actions.on("click",(e=>{var t=parseInt(this.$.current.text())+$(e.currentTarget).data("change");this.handleSubscriptions(t)}))},subscribe(e,t){this.subscriptions.push({fn:e,context:t})},updateLabels(e,t){this.$.current.text(e);this.$.total.text(t)},handleSubscriptions:(0,n.throttle)((function(e){this.subscriptions.forEach((t=>{t.fn.call(t.context,e)}))}),200)};var r=a;t.default=r},741640:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);const s={_selectors:{slider:".js-bhrPreview-zoom",label:".js-bhrPreview-zoomLabel",fitWidth:".js-bhrPreview-fitWidth",document:".js-bhrPreview-document"},get Document(){return window.Esignatures.Previewer.Document},get level(){return parseInt(this.$.slider.val(),10)},init(){this.setupWrappers();this.setupEventListeners();this._fitToWidth()},setupWrappers(){this.$=(0,n.setupWrappers)(this._selectors)},setupEventListeners(){this.$.slider.on("mousemove change",(e=>{var t=this.level;this.updateLabel(t);window.Esignatures.publish("document:zoom",t)}));this.$.fitWidth.on("click",(()=>{this._fitToWidth()}))},updateLabel(e){this.$.label.text(e+"%")},_fitToWidth(){const e=this.$.document.width()/this.Document.width*100;const t=Math.floor(Math.min(50,e/2));const i=Math.ceil(Math.max(200,e*2));return this.$.slider.attr({min:t,max:i}).val(e).change()}};var a=s;t.default=a},402185:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(484005));var a=n(i(359054));var r=n(i(741640));const o={get Document(){return s.default},get Pagination(){return a.default},get Zoom(){return r.default},init(e){this.Pagination.init();this.Document.init(e);this.Zoom.init()},destroy(){this.Document.destroy()}};var l=o;t.default=l},464898:(e,t,i)=>{"use strict";var $=i(992005);var moment=i(496406);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(856075));var a=g(i(573674));var r=i(783840);var o=i(830734);var l=i(651745);var d=i(651745);var u=n(i(60042));var c=i(774548);var f=g(i(261462));var h=i(189682);function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(p=function(e){return e?i:t})(e)}function g(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=p(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}const m={_DATE_TYPES:{REQUESTED:"requested",SIGNED:"signed"},init(){this._reportJsonData=(0,r.getJsonData)("#js-signatureReportData");this._handleRowSelect=this._handleRowSelect.bind(this);this._cancelAll=this._cancelAll.bind(this);this._remindAll=this._remindAll.bind(this);this._rebuildAll=this._rebuildAll.bind(this);this._print=this._print.bind(this);this._renderTable=this._renderTable.bind(this);this._renderTable();$(f.default)},_handleRowSelect(e){e.forEach((e=>{if(this._reportData[e].renderBasicView){this._reportData[e].renderBasicView=false}else{this._reportData[e].renderBasicView=true}}));this._renderTable()},_addParser(){$.tablesorter.addParser({id:"esignaturesStatus",is(){return false},format(e){return e.replace($.__("Sent"),6).replace($.__("Viewed"),5).replace($.__("In Progress"),4).replace($.__("Not Signed"),3).replace($.__("Chose Not to Sign"),2).replace($.__("Completed"),1).replace(/\s/g,"")},type:"numeric"})},_cancelAll(e){document.dispatchEvent(new Event("Esignature:Report:cancelAll"))},_remindAll(e){(0,f.remind)(null,null,null,(0,c.getParameterByName)("id"))},_print(){BambooHR.Utils.printDiv("#js-esigReportTableWrapper")},_rebuildAll(e){$(e).addClass("disabled");$.post("/ajax/reports/esignatures/rebuild.php?rebuild_all=true","",(function(){setMessage("Documents have been queued for rebuild. Please check back in a few min.","success")})).fail((function(){setMessage("Unable to process. Please contact dev or IT.","error")}))},_getCellFlags(e){const{can_see_employee:t=false,can_see_file:i=false,status:n="",signers:s=[]}=e;const a=Object.keys(s).length>1;const r=(n==="Sent"||n==="InProgress")&&a;const o=n==="Completed"&&i&&t;return{multipleSigners:a,hideBasicView:r,hideDetailView:!r,showExecutedDocLink:o,showCompletedNoAccessTooltip:n==="Completed"&&o}},_getRenderBasicViewFromStatus(e){return e==="Completed"||e==="CompletedNotSigned"},_renderActionCell(e){const{isCancelled:t=false,cantSendReminder:i=false,cantSendReminderTooltipText:n="",current_signer_enabled:a=false,current_signer_name:r="",employee_name:o="",status:u="",workflow_instance_id:c=-1}=e;let h;if(t){h=(0,s.default)("div",{className:"fab-Table__cellActions"},void 0,(0,s.default)(l.TextButton,{clickAction:()=>{(0,f.uncancel)(null,e.cancelledCount&&e.ids?e.ids:c,this._reportData,this._renderTable)},"data-bi-id":e.cancelledCount&&e.ids?"":"uncancel-single-result",iconAfter:"fab-arrow-reverse-13x14",size:"teenie",text:$.__("Undo"),type:"button"}))}else if(u!="CompletedNotSigned"&&u!="Completed"){let e=(0,s.default)("div",{className:"fab-Table__cellAction"},void 0,(0,s.default)(d.Tooltip,{content:n},void 0,(0,s.default)(l.FloatingIconButton,{icon:"fab-bell-ringing-15x18",isDisabled:true,secondary:true,size:"teenie",type:"button"})));if(!i){e=(0,s.default)("div",{className:"fab-Table__cellAction"},void 0,(0,s.default)(d.Tooltip,{content:$.__("Send Reminder")},void 0,(0,s.default)(l.FloatingIconButton,{clickAction:()=>{if(a){(0,f.remind)(null,c,r)}else{(0,f.warnInactive)(null,c,r)}},icon:"fab-bell-ringing-15x18",secondary:true,size:"teenie",type:"button"})))}return(0,s.default)("div",{className:"fab-Table__cellActions"},void 0,!!r&&e,(0,s.default)("div",{className:"fab-Table__cellAction"},void 0,(0,s.default)(d.Tooltip,{content:$.__("Cancel Request")},void 0,(0,s.default)(l.IconButton,{color:"secondary","data-bi-id":"cancel-single-result",floatingIcon:true,icon:"fab-circle-x-16x16",onClick:()=>{(0,f.cancel)(c,o,this._reportData,this._renderTable)},size:"teenie",type:"button"}))))}else if(this._reportJsonData.isSupportUser){h=(0,s.default)("div",{className:"fab-Table__cellActions"},void 0,(0,s.default)(l.Button,{clickAction:()=>{(0,f.rebuild)(c)},outline:true,secondary:true,size:"teenie",text:$.__("Rebuild"),type:"button"}))}return h},_renderDateCell(e,t){const{hideBasicView:i,multipleSigners:n}=this._getCellFlags(e);const{isCancelled:a=false,renderBasicView:r=this._getRenderBasicViewFromStatus(e.status),requested_date:o="",signed_date:l="",status:d="",signers:u={}}=e;if(a){return(0,s.default)("div",{})}const c=n?"js-record-detail-view":"js-record-basic-view";const f=this._DATE_TYPES.SIGNED;const h=this._DATE_TYPES.REQUESTED;const p=()=>{let e=(0,s.default)("span",{},void 0,"―");if(t===f&&d=="Completed"){e=(0,s.default)("span",{},void 0,moment(l).format(moment.defaultFormat))}else if(t===h&&o){e=(0,s.default)("span",{},void 0,moment(o).format(moment.defaultFormat))}return e};const g=()=>(0,s.default)("ul",{},void 0,Object.values(u).map((e=>{const{position:i,signer:n="",signer_sent:a="",signer_signed:r="",signer_status:o=""}=e;let l=(0,s.default)("span",{},void 0,"―");if(t===f&&o=="Signed"){const e=moment.utc(r).toDate();l=(0,s.default)("span",{className:n==="employee"?"semibold":""},void 0,moment(e).format(moment.defaultFormat))}else if(t===h&&a){const e=moment.utc(a).toDate();l=(0,s.default)("span",{},void 0,moment(e).format(moment.defaultFormat))}return(0,s.default)("li",{className:n=="employee"?"semibold":""},i+n+t,l)})));let m;if(n&&i&&!r||!r&&n){m=g()}else{m=p()}return(0,s.default)("div",{className:"eSignature__detailReport-column "+c},void 0,m)},_renderSignerCell(e){const{hideBasicView:t,multipleSigners:i,showExecutedDocLink:n,showCompletedNoAccessTooltip:r}=this._getCellFlags(e);const{cancelledCount:o,company_file:l={},employee_name:d,employee_file:c={},isCancelled:f=false,renderBasicView:h=this._getRenderBasicViewFromStatus(e.status),signers:p={0:{}}}=e;if(e.renderBasicView!==true&&h!==false){this._reportData[e.id].renderBasicView=h}const g=(e={},t="",i)=>{const{id:o,name:l,mode:u}=e;const c=r?"":$.__("Document Signed");const f=p[Object.keys(p)[0]];let h=d;if(!h){h=f.signer_name?f.signer_name:f.completed_signer_name}const g=(0,s.default)("span",{title:c},void 0,h);const m=(0,s.default)(a.Fragment,{},void 0,(0,s.default)("input",{className:"js-esignature","data-file_id":o,"data-filemode":u,"data-filename":l,"data-filetype":t,type:"hidden"}),(0,s.default)("button",{className:"fab-TextButton fab-link fab-TextButton--inline",onClick:()=>{previewFile(i,o,l,t==="employee","input",true)},type:"button"},void 0,g));return n?m:g};const m=()=>(0,s.default)("ul",{},void 0,Object.values(p).map((e=>{const{completed_signer_name:t="",position:i,signer:n="",signer_name:a="",signer_status:r=""}=e;const o=(0,u.default)({"eSignature__detailReport-employee":n=="employee"});const l=r=="Signed"?t:a;return(0,s.default)("li",{className:o},i+l,l)})));const v=(0,u.default)({"eSignature__detailReport-column":true,"eSignature__detailReport-signer":true,"eSignature__detailReport-basicView":!t&&h,"js-record-basic-view":i&&!t,"eSignature__detailReport-detailView":t||!h&&i,"js-record-detail-view":i&&t});let w=(0,s.default)("div",{},void 0,$.__("The signature request for %1 has been canceled.",d));if(!f){if(i&&t&&!h||!h&&i){w=m()}else if(c.id){w=g(c,"employee",c.most_recent_employee_file_data_id)}else if(l.id){w=g(l,"company",l.most_recent_file_data_id)}else{w=g()}}if(f&&o){w=$.__("%1 pending signature requests have been canceled.",o)}return(0,s.default)("div",{className:v},void 0,w)},_renderStatusCell(e){const{multipleSigners:t,hideBasicView:i}=this._getCellFlags(e);const{isCancelled:n=false,renderBasicView:a=this._getRenderBasicViewFromStatus(e.status),signers:r={},status:o="",status_translated:l=""}=e;if(n){return(0,s.default)("div",{})}const d={Completed:"fab-check-circle-16x16",CompletedNotSigned:"fab-circle-x-16x16",InProgress:"fab-clock-20x20",Sent:"fab-paper-airplane-14x14",Signed:"fab-check-11x11",Waiting:"fab-hourglass-12x14",Viewed:"fab-eye-16x12",NotSigned:"fab-x-14x14",NotSent:"fab-paper-airplane-14x14"};const u=t?"js-record-detail-view":"js-record-basic-view";const c=()=>(0,s.default)("span",{className:"eSignature__detailReport-status eSignature__detailReport-status--"+o},void 0,(0,s.default)("span",{className:"signedDocs-Icon"},void 0,(0,s.default)("ba-icon",{name:d[o]})),l);const f=()=>(0,s.default)("ul",{},void 0,Object.values(r).map((e=>{const{position:t,signer:i="",signer_status_translated:n="",signer_status:a=""}=e;return(0,s.default)("li",{className:"eSignature__detailReport-status eSignature__detailReport-status--"+a},t+i,(0,s.default)("span",{className:"signedDocs-Icon"},void 0,(0,s.default)("ba-icon",{name:d[a]})),n)})));let h;if(i&&t&&!a||!a&&t){h=f()}else{h=c()}return(0,s.default)("div",{className:"eSignature__detailReport-column "+u},void 0,h)},_renderNewTable(e=this._reportData,t=this._reportDataById,i=false,n=this._reportJsonData.pendingIds||""){(0,o.render)((0,s.default)(h.SignatureReportTableWrapper,{isSupportUser:i,pendingIds:n,reportId:(0,c.getParameterByName)("id")}),document.getElementById("js-esigReportTableWrapper"))},_renderTable(e=this._reportData,t=this._reportDataById){this._renderNewTable(e,t,this._reportJsonData.isSupportUser)}};var v=m;t.default=v},261462:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.uncancel=p;t.cancel=g;t.rebuild=m;t.remind=v;t.warnInactive=w;t.default=y;var n=i(774548);var s=i(273641);var a={};var r="data-cancelled";var o="data-notification";var l=$("[data-template-name]").text();var d={};var u={cancel:"[data-cancel]",uncancel:"[data-uncancel]",remind:"[data-remind]",warnInactive:"[data-warnInactive]"};function c(e){if(typeof e==="string"){setMessage($.__("A reminder has been sent to %1.",e),"success")}else{setMessage($.__("Reminders have been sent out to all active employees who still need to sign the %1.",l),"success")}}function f(){setMessage($.__("Uh oh, something went wrong. Please try again or contact support@bamboohr.com"),"error")}function h(e,t,i,s){$.post("/ajax/reports/esignatures/manage_pending.php",{pending:e,workflowInstanceIds:t,esignatureTemplateId:s},(function(e){if(e!==null&&e!==void 0&&e.redirect){(0,n.redirect)("/reports/?view=signedDocuments",e.message,"success");return}if(!e||!e.success){f()}else if(typeof i==="function"){i()}}),"json").fail((function(){f()}))}a.uncancel=p;function p(e,t,i,a){h("uncancel",t,(()=>{var e;const r=t.split(",");(0,n.eventTrack)("e-Signatures","uncancel",l,r===null||r===void 0?void 0:r.length);if(r.length>1&&(e=i.canceled)!==null&&e!==void 0&&e.canceledTableData){i=(0,s.cloneDeep)(i.canceled.canceledTableData)}t.split(",").forEach((function(e){i[e].isCancelled=false;$('[data-pending="'+e+'"]').show()}));const o=d.cancelAll.attr("data-cancel").split(",").filter(Boolean).concat(t.split(",")).toString();d.cancelAll.attr("data-cancel",o);d.remindAll.attr("data-remind",o);if(d.cancelAll.attr("data-cancel")){d.cancelAll.show();d.remindAll.show();d.sectionAll.show()}if(typeof a==="function"){a(i)}}))}function g(e,t,i,a,r){const o=e.split(",");if(typeof t==="string"){(0,n.eventTrack)("e-Signatures","Cancel",l,1)}else{(0,n.eventTrack)("e-Signatures","Cancel",l,o.length);d.cancelAll.attr("data-cancel","");d.remindAll.attr("data-remind","")}if(!d.cancelAll.attr("data-cancel")){d.cancelAll.parent().remove();d.remindAll.parent().remove();d.sectionAll.parent().remove()}h("cancel",e,(()=>{let n;let r;if(typeof t!=="string"){r=(0,s.cloneDeep)(i)}o.forEach((function(e){if(typeof t==="string"){i[e].isCancelled=true}else{delete r[e]}$('[data-pending="'+e+'"]').hide()}));if(typeof t!=="string"){const t=(0,s.cloneDeep)(i);i=Object.assign({},{canceled:{cancelledCount:o.length,canceledTableData:t,ids:e,isCancelled:true}},r);n=["canceled",...Object.keys(r)]}if(typeof a==="function"){a(i,n)}}),r)}a.cancel=g;function m(e,t){const i="Unable to process. Please contact dev or IT.";if(e){var n=$(this);n.addClass("disabled");$.post("/ajax/reports/esignatures/rebuild.php?rebuild_one=true",{convertWithApi:t,workflowInstanceId:e},(function(e){setMessage("That document has been queued for rebuild. Please check back in a few min.","success")})).fail((function(){setMessage(i,"error")}))}else{$.post("/ajax/reports/esignatures/rebuild.php?rebuild_all=true","",(function(e){setMessage("Documents have been queued for rebuild. Please check back in a few min.","success")})).fail((function(){setMessage(i,"error")}))}}a.remind=v;function v(e,t,i,s){let a=t?t.split(","):[];(0,n.eventTrack)("e-Signatures","Remind",l,a.length);c(i);if(t){h("remind",t,(()=>{}),null)}else{h("remind",null,(()=>{}),s)}}a.warnInactive=w;function w(e,t,i){setMessage($.__("Looks like %1$s is inactive, so a reminder has not been sent.",i),"error")}function b(e){}function y(){d=(0,n.setupWrappers)(u);d.cancelAll=$(".js-cancel-all");d.remindAll=$(".js-remind-all");d.sectionAll=$(".js-section-all");$.each(u,(function(e){b(e)}));$("th").on("click",(function(){$("["+r+"]").hide()}));$("body").on("click",".js-rebuild-all",(function(){$(this).addClass("disabled");$.post("/ajax/reports/esignatures/rebuild.php?rebuild_all=true","",(function(e){setMessage("Documents have been queued for rebuild. Please check back in a few min.","success")})).fail((function(){setMessage("Unable to process. Please contact dev or IT.","error")}))}));$(".js-rebuild-one").click((function(){var e=$(this);e.addClass("disabled");var t=e.data("workflow-instance-id");$.post("/ajax/reports/esignatures/rebuild.php?rebuild_one=true",{workflowInstanceId:t},(function(e){setMessage("That document has been queued for rebuild. Please check back in a few min.","success")})).fail((function(){setMessage("Unable to process. Please contact dev or IT.","error")}))}))}},441984:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getFlyoutOptions=s;var n=i(40635);function s(){return n.Ajax.get("/esignatures/approver_options").then((e=>e.data))}},777218:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(273641);var s=i(121198);var a=i(774548);var r=i(846436);const o={get Document(){return window.Esignatures.Previewer.Document},get Dragger(){return window.Esignatures.Setup.Field.Dragger},get Field(){return window.Esignatures.Setup.Field},get FieldManager(){return window.Esignatures.Setup.FieldManager},get Flyout(){return window.Esignatures.Setup.Flyout},init(){this.$=(0,a.setupWrappers)(this._selectors)},clickToCreate(e){if(!this.Flyout.userHasBeenSelected()){return false}var t=this._getTemplateId(e.type);var i=this._getTemplateField(t,false);var s=this._getTemplateField(t);var a=i.outerWidth()*(this.$.zoom.val()/100);var r=i.outerHeight()*(this.$.zoom.val()/100);var o=this.$.pane[0].getBoundingClientRect();var l=this.$.pane.outerHeight()/2-r/2;var d=this.$.pane.outerWidth()/2-a/2;var u={width:a,height:r,top:o.top+l,left:o.left+d};this.Document.updatePagesBoundingRect();var c=this.Document.getIntersectingPage(u);var f=c.rect.top*-1+u.top;var h=c.rect.left*-1+u.left;let p=this.getSizeLimits(e.type,c);let g=r/c.rect.height*100;if(e.type==="paragraph"){g=Math.max(parseInt(p.minHeight,10),g)}let m={top:f/c.rect.height*100+"%",left:h/c.rect.width*100+"%",width:a/c.rect.width*100+"%",height:g+"%"};s.css((0,n.merge)({},m,p));if(e.name){s.find(this._selectors.fieldName).text(e.name)}s.appendTo(c.el);this.Field.fitContent(s);if(!this.Document.getContainingPage(s.get(0).getBoundingClientRect())){if(parseFloat(s[0].style.top)>0){s.css({top:100-parseFloat(s[0].style.height)+"%"})}else{s.css({top:"0%"})}}var v=this.FieldManager.addField(e.type,s,c,m,e.fieldId,e.subfieldId);window.Esignatures.publish("setup:field:create",v)},dragToCreate(e,t){if(!this.Flyout.userHasBeenSelected()){return false}var i=this._getTemplateId(e.type);var n=this._getTemplateField(i,false);var a=this._getTemplateField(i);var r=n.outerWidth()*(this.$.zoom.val()/100);var o=n.outerHeight()*(this.$.zoom.val()/100);a.css({width:r,height:o,top:t.y-o/2,left:t.x-r/2,zIndex:(0,s.getMaxZIndex)()});if(e.name){a.find(this._selectors.fieldName).text(e.name)}a.appendTo("body");this.Field.fitContent(a);var l=this.FieldManager.addField(e.type,a,0,null,e.fieldId,e.subfieldId);this.Dragger.acceptDraggingField(l,t);window.Esignatures.publish("setup:field:create",l);window.Esignatures.publish("setup:field:drag:start")},getSizeLimits(e,t){return{minHeight:this._getMinHeight(e)*(this.$.zoom.val()/100)/t.rect.height*100+"%",minWidth:this._getMinWidth(e)*(this.$.zoom.val()/100)/t.rect.width*100+"%",maxWidth:this._getMaxWidth(e,t),maxHeight:this._getMaxHeight(e,t)}},_selectors:{fieldName:".js-eSignatureField-value",pane:"div.js-bhrPreview-pane:first",zoom:"input.js-bhrPreview-zoom:first"},_getTemplateField(e,t){t=typeof t!=="undefined"?t:true;var i=$(e).children().first();if(t===true){return i.clone()}return i},_getTemplateId(e){return"#esignature-"+e+"-template"},_getMinHeight(e){let t=13;if(e==="paragraph"){t+=2*r.PARAGRAPH_FIELD_LINE_HEIGHT+2*r.FIELD_BORDER_WIDTH;t+=r.PARAGRAPH_FIELD_PADDING_TOP+r.PARAGRAPH_FIELD_PADDING_BOTTOM}return t},_getMinWidth(e){var t=40;if(e==="checkbox"){t=13}return t},_getMaxWidth(e,t){if(e==="checkbox"){return 26*(this.$.zoom.val()/100)/t.rect.width*100+"%"}return"100%"},_getMaxHeight(e,t){if(e==="checkbox"){return 26*(this.$.zoom.val()/100)/t.rect.height*100+"%"}return"none"}};var l=o;t.default=l},22800:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);const s={get Flyout(){return window.Esignatures.Setup.Flyout},get FieldManager(){return window.Esignatures.Setup.FieldManager},init(){this.$=(0,n.setupWrappers)(this._selectors);this._attachHandlers()},destroy(){this._destroyHandlers()},destroyField(e){this.Flyout.clearSpecificPersonMessage();var t=$(e).closest(this._selectors.field);var i=t.data("id");t.remove();var n=this.FieldManager.deleteField(i);window.Esignatures.publish("setup:field:destroy",n)},_selectors:{page:".js-bhrPreview-page",field:".js-esignature-field",button:".js-eSignatureField__close",window},_attachHandlers(){this._destroyHandlers();this.$.page.on("mousedown",this._selectors.button,(e=>{if(e.which===1){this.destroyField(e.currentTarget);return false}}));this.$.window.on("keydown.esignatures:setup:field:destroyer",(e=>{if(e.srcElement&&e.srcElement.tagName.toLowerCase()!=="input"&&(e.which===8||e.which===46)){var t=this.FieldManager.getActiveField();if(t){this.destroyField(t.el)}return false}}))},_destroyHandlers(){this.$.window.off("keydown.esignatures:setup:field:destroyer")}};var a=s;t.default=a},390260:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(273641);var s=i(121198);var a=i(774548);const r={SCROLL_SIZE:.2,SCROLL_SPEED:.2,get Creator(){return window.Esignatures.Setup.Field.Creator},get Destroyer(){return window.Esignatures.Setup.Field.Destroyer},get Document(){return window.Esignatures.Previewer.Document},get FieldManager(){return window.Esignatures.Setup.FieldManager},get GroupManager(){return window.Esignatures.Setup.GroupManager},get Flyout(){return window.Esignatures.Setup.Flyout},init(){this.$=(0,a.setupWrappers)(this._selectors);this._attachHandlers()},destroy(){this._destroyHandlers()},acceptDraggingField(e,t){this._status.field=e.el;this._status.$field=e.$;this._status.dragging=true;var i=this._status.$field.offset();this._status.mouseOffsetX=t.x-i.left;this._status.mouseOffsetY=t.y-i.top;if(this._status.mouseOffsetY>this._status.$field.outerHeight()){this._status.mouseOffsetY=10}},_selectors:{field:"div.eSignatureField",page:"div.js-bhrPreview-page",pane:".js-bhrPreview-pane",zoom:"input.js-bhrPreview-zoom:first"},_status:{$field:null,field:null,dragging:false,mousedown:false,mouseOffsetX:0,mouseOffsetY:0,mousePageX:0,mousePageY:0,top:null,left:null,pageTop:null,pageLeft:null,Page:null},_scroll:{rect:null,timer:null,downSpeed:0,upSpeed:0,leftSpeed:0,rightSpeed:0,height:0,width:0,top:0,bottom:0,left:0,right:0},_start(){var e=this._status.$field.offset();var t=this._status.$field.outerWidth();var i=this._status.$field.outerHeight();this._status.$field.detach();this.FieldManager.updateField(this._status.field.dataset.id,{Page:0});this._status.$field.css((0,n.merge)(e,{width:t,height:i,zIndex:(0,s.getMaxZIndex)()+10,minHeight:0,minWidth:0,maxHeight:"100%",maxWidth:"100%"}));this._status.$field.appendTo("body");this.FieldManager.setActiveField(this._status.field.getAttribute("data-id"))},_stop(){this._updateLastValidPosition();if(!this._foundValidPosition()){this.Destroyer.destroyField(this._status.field);return}var e=this.FieldManager.getActiveField();var t=this._status.top-this._status.pageTop;var i=this._status.left-this._status.pageLeft;this._status.$field.detach();let s=this.Creator.getSizeLimits(e.type,this._status.Page);let a=this._status.$field.outerHeight()/this._status.Page.$.height()*100;if(e.type==="paragraph"){a=Math.max(parseInt(s.minHeight,10),a)}let r={top:t/this._status.Page.$.height()*100+"%",left:i/this._status.Page.$.width()*100+"%",height:a+"%",width:this._status.$field.outerWidth()/this._status.Page.$.width()*100+"%"};this._status.$field.css((0,n.merge)({},r,s,{zIndex:""}));this._status.$field.appendTo(this._status.Page.el);this.FieldManager.updateField(this._status.$field.data("id"),{percentages:r,Page:this._status.Page})},_drag(e){this._updateLastValidPosition();var t=e.pageY-this._status.mouseOffsetY;var i=e.pageX-this._status.mouseOffsetX;this._status.$field.offset({top:t,left:i})},_updateLastValidPosition(){this.Document.updatePagesBoundingRect();var e=this._status.field.getBoundingClientRect();var t=this.Document.getContainingPage(e);let i=true;const s=this.FieldManager.getActiveField();if(s.Group){const e=this.GroupManager.boundingBoxTooWide(s.Group)===false;const a=t===(0,n.find)(s.Group.fields,(e=>e!==s)).Page;i=e&&a}if(t&&i){this._status.top=e.top;this._status.left=e.left;this._status.pageTop=t.rect.top;this._status.pageLeft=t.rect.left;this._status.Page=t}},_foundValidPosition(){return this._status.top!==null&&this._status.left!==null&&this._status.Page!==null},_attachHandlers(){this._destroyHandlers();this._mouseDownHandler();this._dragStopHandler();this._dragDraggingHandler()},_destroyHandlers(){$(window).off("mouseup.esignatures:setup:field:dragger");$(window).off("mousemove.esignatures:setup:field:dragger")},_mouseDownHandler(){this.$.page.on("mousedown",this._selectors.field,(e=>{if(e.which===1&&!e.altKey){if(!this.Flyout.userHasBeenSelected()){return false}this._status.mousedown=true;this._status.field=e.currentTarget;this._status.$field=$(e.currentTarget);var t=this._status.$field.offset();this._status.mouseOffsetX=e.pageX-t.left;this._status.mouseOffsetY=e.pageY-t.top;this._status.mousePageX=e.pageX;this._status.mousePageY=e.pageY;this.FieldManager.setActiveField(e.currentTarget.getAttribute("data-id"));return false}}))},_dragStopHandler(){$(window).on("mouseup.esignatures:setup:field:dragger",(e=>{this._status.mousedown=false;if(this._status.dragging){this._stop();this._scrollDisable();window.Esignatures.publish("setup:field:drag:stop",this._status.$field);this._status.field=null;this._status.$field=null;this._status.top=null;this._status.left=null;this._status.Page=null;this._status.dragging=false;return false}}))},_dragDraggingHandler(){$(window).on("mousemove.esignatures:setup:field:dragger",(e=>{if(!this._status.dragging&&this._status.mousedown&&Math.sqrt(Math.pow(this._status.mousePageX-e.pageX,2)+Math.pow(this._status.mousePageY-e.pageY,2))>10){this._status.dragging=true;this._start();this._scrollEnable();window.Esignatures.publish("setup:field:drag:start")}if(this._status.dragging){this._drag(e);this._updateScrollSpeeds(e);window.Esignatures.publish("setup:field:drag:dragging",{$field:this._status.$field,x:e.clientX,y:e.clientY,Page:this._status.Page});return false}}))},_configureScrolling(){this._scroll.rect=this.$.pane.get(0).getBoundingClientRect();this._scroll.height=this._scroll.rect.height*this.SCROLL_SIZE;this._scroll.width=this._scroll.rect.width*this.SCROLL_SIZE;this._scroll.top=this._scroll.rect.top+this._scroll.height;this._scroll.bottom=this._scroll.rect.bottom-this._scroll.height;this._scroll.left=this._scroll.rect.left+this._scroll.width;this._scroll.right=this._scroll.rect.right-this._scroll.width},_scrollEnable(){this._configureScrolling();this._scroll.timer=window.setInterval((()=>{this.$.pane.scrollTop(this.$.pane.scrollTop()-this._scroll.upSpeed);this.$.pane.scrollTop(this.$.pane.scrollTop()+this._scroll.downSpeed);this.$.pane.scrollLeft(this.$.pane.scrollLeft()-this._scroll.leftSpeed);this.$.pane.scrollLeft(this.$.pane.scrollLeft()+this._scroll.rightSpeed);this._updateLastValidPosition()}),10)},_scrollDisable(){window.clearInterval(this._scroll.timer)},_updateScrollSpeeds(e){this._scroll.upSpeed=Math.max(0,this._scroll.top-e.clientY)*this.SCROLL_SPEED;this._scroll.downSpeed=Math.max(0,e.clientY-this._scroll.bottom)*this.SCROLL_SPEED;this._scroll.leftSpeed=Math.max(0,this._scroll.left-e.clientX)*this.SCROLL_SPEED;this._scroll.rightSpeed=Math.max(0,e.clientX-this._scroll.right)*this.SCROLL_SPEED}};var o=r;t.default=o},546227:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(273641);var s=i(121198);var a=i(774548);const r={get Dragger(){return window.Esignatures.Setup.Field.Dragger},get FieldManager(){return window.Esignatures.Setup.FieldManager},get Flyout(){return window.Esignatures.Setup.Flyout},init(){this.$=(0,a.setupWrappers)(this._selectors);this._attachHandlers()},_selectors:{page:".js-bhrPreview-page",field:".eSignatureField"},_dragToDuplicate(e,t){var i=e.$.clone();i.css((0,n.merge)({},e.$.offset(),{width:e.$.outerWidth(),height:e.$.outerHeight(),minHeight:0,minWidth:0,maxHeight:"100%",maxWidth:"100%",zIndex:(0,s.getMaxZIndex)()+10}));i.appendTo("body");var a=this.FieldManager.duplicateField(e,i);this.Dragger.acceptDraggingField(a,{x:t.pageX,y:t.pageY});window.Esignatures.publish("setup:field:create",a);window.Esignatures.publish("setup:field:drag:start")},_attachHandlers(){this.$.page.on("mousedown",this._selectors.field,(e=>{if(e.which===1&&e.altKey){if(!this.Flyout.userHasBeenSelected()){return false}var t=this.FieldManager.getActiveField();var i=$(e.target).closest(this._selectors.field).data("id");if(t.type==="checkbox"){return}if(i&&i!==t){if(this.FieldManager.get(i)){this.FieldManager.setActiveField(i);t=this.FieldManager.getActiveField()}}if(t){this._dragToDuplicate(t,e)}return false}}))}};var o=r;t.default=o},415493:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);const s={get Document(){return window.Esignatures.Previewer.Document},get Field(){return window.Esignatures.Setup.Field},get FieldManager(){return window.Esignatures.Setup.FieldManager},get Flyout(){return window.Esignatures.Setup.Flyout},get GroupManager(){return window.Esignatures.Setup.GroupManager},init(){this.$=(0,n.setupWrappers)(this._selectors);this._attachHandlers()},destroy(){this._destroyHandlers()},_selectors:{field:".js-esignature-field",page:".js-bhrPreview-page",resize:".js-resize-handle",zoom:".js-bhrPreview-zoom:first"},_status:{$field:null,field:null,resizing:false,lastValidWidth:0,lastValidHeight:0,mouseOffsetX:0,mouseOffsetY:0,width:0,height:0,Page:null},_start(e,t){this._status.resizing=true;this._status.$field=$(e).parent(this._selectors.field);this._status.field=this._status.$field.get(0);this._status.mouseOffsetX=t.pageX;this._status.mouseOffsetY=t.pageY;this._status.width=this._status.lastValidWidth=this._status.$field.outerWidth();this._status.height=this._status.lastValidHeight=this._status.$field.outerHeight();this._status.Page=this.FieldManager.getActiveField().Page},_stop(){this._updateLastValidSize();var e=this._status.$field.get(0).style.width;var t=this._status.$field.get(0).style.height;const i=this.FieldManager.getActiveField();if(!this.Document.getContainingPage(this._status.field.getBoundingClientRect())||i.Group&&this.GroupManager.boundingBoxTooWide(i.Group)===true){e=this._status.lastValidWidth/this._status.Page.rect.width*100+"%";t=this._status.lastValidHeight/this._status.Page.rect.height*100+"%";this._status.$field.css({width:e,height:t})}this.FieldManager.updateFieldPercentages(this._status.$field.data("id"),{width:e,height:t});this._status.field=null;this._status.$field=null;this._status.resizing=false},_resize(e){this._updateLastValidSize();let t=0;let i=0;let n=this._status.$field;let s=n.data("type");let a=0;let r=0;let o=this.Field.Creator.getSizeLimits(s,this._status.Page);if(s==="checkbox"){var l=this._status.width+e.pageX-this._status.mouseOffsetX;var d=this._status.height+e.pageY-this._status.mouseOffsetY;if(l<0){l=0}if(d<0){d=0}var u=Math.sqrt(l*l+d*d);i=u/Math.sqrt(2);t=i}else{t=e.pageY-this._status.mouseOffsetY+this._status.height;i=e.pageX-this._status.mouseOffsetX+this._status.width}a=t/this.$.page.height()*100;a=Math.max(parseFloat(o.minHeight,10),a);r=i/this.$.page.width()*100;if(s==="checkbox"){a=Math.min(parseFloat(o.maxHeight,10),a);r=Math.min(parseFloat(o.maxWidth,10),r)}this._status.$field.css({width:r+"%",height:a+"%"});if(s!=="paragraph"){this.Field.fitContent(this._status.$field)}},_attachHandlers(){this._destroyHandlers();this._startHandler();this._stopHandler();this._resizeHandler()},_destroyHandlers(){$(window).off("mouseup.esignatures:setup:field:resizer");$(window).off("mousemove.esignatures:setup:field:resizer")},_startHandler(){this.$.page.on("mousedown",this._selectors.resize,(e=>{if(e.which===1){if(!this.Flyout.userHasBeenSelected()){return false}this._start(e.currentTarget,e);window.Esignatures.publish("setup:field:resize:start");return false}}))},_stopHandler(){$(window).on("mouseup.esignatures:setup:field:resizer",(e=>{if(this._status.resizing){this._stop();window.Esignatures.publish("setup:field:resize:stop");return false}}))},_resizeHandler(){$(window).on("mousemove.esignatures:setup:field:resizer",(e=>{if(this._status.resizing){this._resize(e);window.Esignatures.publish("setup:field:resize:resizing");return false}}))},_updateLastValidSize(){this.Document.updatePagesBoundingRect();var e=this._status.field.getBoundingClientRect();var t=this.Document.getContainingPage(e);let i=true;const n=this.FieldManager.getActiveField();if(n.Group){i=this.GroupManager.boundingBoxTooWide(n.Group)===false}if(t&&i){this._status.lastValidWidth=e.width;this._status.lastValidHeight=e.height}}};var a=s;t.default=a},489297:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(273641);var s=i(774548);const a={SNAP_DISTANCE:10,get FieldManager(){return window.Esignatures.Setup.FieldManager},init(){window.Esignatures.subscribe("setup:field:drag:dragging",this._handle,this);this._attachHandlers()},destroy(){this._destroyHandlers()},_enabled:false,_field:null,_guides:{top:null,right:null,bottom:null,left:null},_handle(e){if(!this._enabled){return}this._drawGuides(this._findClosestField(e.Page,e.x,e.y));this._snap(e.$field)},_snap(e){if(!this._field||!("el"in this._field)||!this._guides){return}var t=e[0].getBoundingClientRect();var i=this._field.el.getBoundingClientRect();var n;if(this._guides.top){n=this._guides.top[0].getBoundingClientRect().top;if(Math.abs(t.top-n)<this.SNAP_DISTANCE){e.css({top:i.top+document.body.scrollTop})}if(Math.abs(t.bottom-n)<this.SNAP_DISTANCE){e.css({top:i.top+document.body.scrollTop-t.height})}}if(this._guides.bottom){n=this._guides.bottom[0].getBoundingClientRect().bottom;if(Math.abs(t.top-n)<this.SNAP_DISTANCE){e.css({top:i.bottom+document.body.scrollTop})}if(Math.abs(t.bottom-n)<this.SNAP_DISTANCE){e.css({top:i.bottom+document.body.scrollTop-t.height})}}if(this._guides.left){n=this._guides.left[0].getBoundingClientRect().left;if(Math.abs(t.left-n)<this.SNAP_DISTANCE){e.css({left:i.left})}if(Math.abs(t.right-n)<this.SNAP_DISTANCE){e.css({left:i.left-t.width})}}if(this._guides.right){n=this._guides.right[0].getBoundingClientRect().right;if(Math.abs(t.left-n)<this.SNAP_DISTANCE){e.css({left:i.right})}if(Math.abs(t.right-n)<this.SNAP_DISTANCE){e.css({left:i.right-t.width})}}},_drawGuides(e){if(this._field&&this._field.id===e.id||JSON.stringify(e,["id","required","Group","type","fieldId","subfieldId"])==="{}"){return}this._field=e;var t="rgba(0, 0, 255, 0.2)";this._clearGuides();this._guides.top=$('<div style="position:absolute;width:100%;height:1px;top:'+e.percentages.top+";left:0px;background-color:"+t+';"></div>').appendTo(e.Page.$);this._guides.bottom=$('<div style="position:absolute;width:100%;height:1px;top:'+(parseFloat(e.percentages.top)+parseFloat(e.percentages.height))+"%;left:0px;background-color:"+t+';"></div>').appendTo(e.Page.$);this._guides.left=$('<div style="position:absolute;width:1px;height:100%;top:0px;left:'+e.percentages.left+";background-color:"+t+';"></div>').appendTo(e.Page.$);this._guides.right=$('<div style="position:absolute;width:1px;height:100%;top:0px;left:'+(parseFloat(e.percentages.left)+parseFloat(e.percentages.width))+"%;background-color:"+t+';"></div>').appendTo(e.Page.$)},_clearGuides(){(0,n.each)(this._guides,(function(e){if(e){e.remove()}}))},_findClosestField(e,t,i){var n=Number.POSITIVE_INFINITY;var a={};this.FieldManager.getFieldsOnPage(e).forEach((function(e){var r=s.Rect.distance(e.el.getBoundingClientRect(),{x:t,y:i});if(r<n){n=r;a=e}}));return a},_disable(){this._enabled=false;this._field=null;this._clearGuides()},_attachHandlers(){this._destroyHandlers();$(document).on("keydown.esignatures:setup:field:snapper",(e=>{if(e.which===16){this._enabled=true}}));$(document).on("keyup.esignatures:setup:field:snapper",(e=>{if(e.which===16){this._disable()}}))},_destroyHandlers(){$(document).off("keydown.esignatures:setup:field:snapper");$(document).off("keyup.esignatures:setup:field:snapper")}};var r=a;t.default=r},917083:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=i(846436);var a=n(i(777218));var r=n(i(22800));var o=n(i(390260));var l=n(i(546227));var d=n(i(415493));var u=n(i(489297));const c={get Creator(){return a.default},get Destroyer(){return r.default},get Dragger(){return o.default},get Duplicator(){return l.default},get Resizer(){return d.default},get Snapper(){return u.default},init(){this.Creator.init();this.Destroyer.init();this.Dragger.init();this.Duplicator.init();this.Resizer.init();this.Snapper.init();this.fitContent();window.Esignatures.subscribe("document:zoom",this.fitContent,this)},destroy(){this.Destroyer.destroy();this.Dragger.destroy();this.Resizer.destroy();this.Snapper.destroy()},fitContent(e){var t=[];if(typeof e==="undefined"||typeof e==="string"||typeof e==="number"){t=$(this._selectors.field)}else{t=[e]}$.each(t,((e,t)=>{if(!(t instanceof $)){t=$(t)}if(t.data("type")==="paragraph"){t.css("font-size",window.Esignatures.Previewer.Zoom.level/100*s.PARAGRAPH_FIELD_FONT_SIZE+"px")}else{setTimeout((function(){t.css("font-size",t.height()/2)}),0)}}))},scrollTo(e,t,i){var n=$(".js-bhrPreview-pane");var s=e.$.parent()[0].offsetTop;var a=e.el.offsetTop+s-100;n.animate({scrollTop:a},350,(()=>{if(typeof t==="function"){i=i||this;t.apply(i)}}))},_selectors:{checkbox:"eSignatureField--checkBox",field:".js-esignature-field",value:".js-eSignatureField-value"}};var f=c;t.default=f},689898:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(273641);var s=i(774548);const a={TYPE_EXISTING:"existing",get Creator(){return window.Esignatures.Setup.Field.Creator},get Document(){return window.Esignatures.Previewer.Document},get Field(){return window.Esignatures.Setup.Field},get FieldPrototype(){return window.Esignatures.Setup.Prototypes.Field},get GroupManager(){return window.Esignatures.Setup.GroupManager},get Resizer(){return window.Esignatures.Setup.Field.Resizer},get SignerManager(){return window.Esignatures.Setup.SignerManager},get Flyout(){return window.Esignatures.Setup.Flyout},init(){this.$=(0,s.setupWrappers)(this._selectors)},destroy:function(){this._activeField=null;this._fields={}},setActiveField(e){if(!this.clearActiveField()){return false}return this.forceActiveField(e)},forceActiveField(e){if((0,n.isString)(e)){e=this.get(e)}this._activeField=e;e.$.addClass("isFocused");if(e.Group){(0,n.each)(e.Group.fields,(e=>e.$.addClass("isFocused")));window.Esignatures.publish("setup:group:focus",e.Group)}window.Esignatures.publish("setup:field:focus",e);return true},clearActiveField(){if(!this.Flyout.userHasBeenSelected()){return false}if(this._activeField){this._activeField.$.removeClass("isFocused").blur();if(this._activeField.Group){(0,n.each)(this._activeField.Group.fields,(e=>e.$.removeClass("isFocused").blur()));window.Esignatures.publish("setup:group:blur",this._activeField.Group)}this._activeField=null}return true},getActiveField(){return this._activeField},isActiveField(e){return this._activeField&&$.contains(this._activeField,e)},addField(e,t,i,n,s,a){var r=this._addFieldData(e,t,i,n,null,null,null,s,a);this.setActiveField(r);return r},duplicateField(e,t){var i=this._addFieldData(e.type,t,0,e.percentages,e.required,e.Signer,e.Group,e.fieldId,e.subfieldId);this.setActiveField(i);return i},getFieldsOnPage(e){e=e||{num:1};return(0,n.filter)(this._fields,(t=>t.Page.num===e.num))},getSignerFieldIds(e){const t=Object.values(this._fields)||[];const i=[];t.forEach((t=>{var n;if((t===null||t===void 0?void 0:(n=t.Signer)===null||n===void 0?void 0:n.type)===e){i.push(t.id)}}));return i},_addFieldData(e,t,i,s,a,r,o,l,d){if(e===this.TYPE_EXISTING){a="no"}var u=(0,n.uniqueId)("field_");var c=new this.FieldPrototype({$:t,el:t.get(0),id:u,Page:i,percentages:s,required:typeof a!=="undefined"&&a!==null?a:true,Signer:typeof r!=="undefined"&&r!==null?r:this.SignerManager.getEmployee(),Group:o,type:e,fieldId:l,subfieldId:d});this._fields[u]=c;t.attr("data-id",u);return c},deleteField(e){var t=this._fields[e];delete this._fields[e];const i=this.GroupManager.deleteFieldFromGroup(t);if(!t.Group){if(i){this.forceActiveField(i)}else{this._activeField=null}}return t},updateField(e,t){return(0,n.assign)(this._fields[e],t)},updateFieldPercentages(e,t){return(0,n.assign)(this._fields[e].percentages,t)},updateSigner(e={}){const{primaryOption:t,specificPersonId:i,signerNumber:n,name:s}=e;const{Esignatures:a}=window;const r=a.Setup.SignerManager._signers;const o=r[n];let l;const d=t==="specific person"?i:t;const u={...Object.values(a.Setup.SignerManager._signers).find((e=>e.type==d))};if(u.type===o.type){return}if(u.type){const e=this.getSignerFieldIds(o.type);l=e.length;u.fields+=l;this.getSignerFieldIds(u.type).forEach((e=>{a.Setup.FieldManager.updateField(e,{Signer:u});a.Setup.Flyout.updateFieldColor(a.Setup.FieldManager.get(e))}));e.forEach((e=>{a.Setup.FieldManager.updateField(e,{Signer:u});a.Setup.Flyout.updateFieldColor(a.Setup.FieldManager.get(e))}));let t=u.order>o.order?o.order:u.order;const i=u.order<o.order?o.order:u.order;a.Setup.SignerManager._signers[i].fields=0;if(u.type==="employee"){a.Setup.SignerManager._signers[o.order].fields=0;t=u.order}else{a.Setup.SignerManager._signers[i].fields=0}u.order=t;a.Setup.SignerManager._signers[t]=u;a.Setup.SignerManager._removeUnassignedSigners()}else{o.type=d;o.label=s.trim();l=o.fields;a.Setup.SignerManager._signers[n]=o}a.Setup.SignerManager.SigningOrder.update();a.publish("setup:signerOrder:update");window.Esignatures.publish("setup:field:signer:trackSignerModalChange",l);window.Esignatures.publish("setup:signer:destroy")},get(e){return this._fields[e]},getAll(){return this._fields},getCount(){return Object.keys(this._fields).length},load(){this.$.preloadedField.each(((e,t)=>{var i=$(t);var n=i.data("type");var s=this.Document.getPage(i.data("page"));var a=this.Creator.getSizeLimits(n,s);var r=$.extend({top:t.style.top,left:t.style.left,width:t.style.width,height:t.style.height},a);i.css(a);var o=this._addFieldData(n,i,s,r,i.data("required"),null,null,i.data("field-id"),i.data("subfield-id"));o.Signer=this.SignerManager.getByType(i.data("signer"));this.GroupManager.associateFieldWithGroup(o,o.$.data("group"));this.Flyout._updateFieldRequiredDom(o);this.SignerManager.incrementFieldCount(o);this.Flyout.updateFieldColor(o);this.Field.fitContent(i)}))},setOriginalFields(){this._originalFields=this.stringifyFields()},getOriginalFields(){return this._originalFields},stringifyFields(){return JSON.stringify(this._fields,(function(e,t){if(e==="$"||e==="el"){return undefined}if(e==="Group"){if(t===null){return null}return(0,n.omit)(t,"fields")}return t}))},_fields:{},_activeField:null,_selectors:{preloadedField:".js-esignature-field:not(.js-esignature-template)",zoom:"input.js-bhrPreview-zoom:first"}};var r=a;t.default=r},877787:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(273641);var s=i(774548);const a={SPECIFIC_PERSON:"specific person",Field:null,get Document(){return window.Esignatures.Previewer.Document},get FieldManager(){return window.Esignatures.Setup.FieldManager},get GroupManager(){return window.Esignatures.Setup.GroupManager},get SignerManager(){return window.Esignatures.Setup.SignerManager},init(){this.$=(0,s.setupWrappers)(this._selectors);this._attachHandlers();$("ba-select.js-BhrPreview__Flyout-signer").attr("not-clearable",true)},userHasBeenSelected(e){const t=e?e:this.$.specificPerson.val();if(this.$.signer.val()===this.SPECIFIC_PERSON&&t===""){window.Esignatures.Previewer.Zoom._fitToWidth();window.Esignatures.Setup.Field.scrollTo(this.Field,this._position,this);this.$.specificPersonChzn.attr("condition","error");setMessage($.__("Whoops... Before moving on you need to select which specific person you would like."),"error");return false}this.clearSpecificPersonMessage();return true},clearSpecificPersonMessage(){closeMessage();this.$.specificPersonChzn.removeAttr("condition")},getWidth(){return 260+15},_selectors:{arrowPrefix:"BhrPreview__Flyout--Arrow",divider:".js-flyout-divider:first",document:".js-bhrPreview-document:first",flyout:".js-BhrPreview__Flyout:first",pane:".js-bhrPreview-pane:first",required:".js-bhrToggle__input",requiredSection:".js-flyout-required-section",fieldRequired:".js-setup-required",signer:".js-BhrPreview__Flyout-signer:first",signerChzn:".js-BhrPreview__Flyout-chzn",specificPerson:".js-BhrPreview__Flyout-specificPerson:first",specificPersonChzn:".js-BhrPreview__Flyout-specificPerson",checkboxCount:".js-checkboxCount",addCheckbox:".js-addCheckbox",groupType:".js-groupType"},_attachHandlers(){window.Esignatures.subscribe("document:mousedown",this._hide,this);window.Esignatures.subscribe("document:zoom",this._position,this);window.Esignatures.subscribe("setup:field:focus",this._load,this);window.Esignatures.subscribe("setup:field:focus",this._position,this);window.Esignatures.subscribe("setup:field:drag:stop",this._position,this);window.Esignatures.subscribe("setup:field:resize:stop",this._position,this);window.Esignatures.subscribe("setup:field:create",this._setFieldGroupCount,this);window.Esignatures.subscribe("setup:field:destroy",this._hideIfNoActiveField,this);window.Esignatures.subscribe("setup:field:destroy",this._resetDropdownsIfNoActiveField,this);window.Esignatures.subscribe("setup:field:drag:start",this._hide,this);window.Esignatures.subscribe("setup:field:resize:start",this._hide,this);window.Esignatures.subscribe("setup:signer:create",this.updateDropdowns,this);window.Esignatures.subscribe("setup:signer:destroy",this.updateDropdowns,this);this._changeRequired();this._changeSigner();this._changeSpecificPerson();this._clickAddCheckbox();this._changeGroupType()},_changeRequired(){this.$.required.on("change",(e=>{const t=e.currentTarget.checked;if(this.Field.Group){if(t){this.GroupManager.setGroupRequired(this.Field.Group);this.$.groupType.val(this.Field.Group.type);this.$.groupType.velocity("slideDown",{duration:250}).velocity({opacity:1},{duration:200})}else{this.GroupManager.setGroupOptional(this.Field.Group);this.$.groupType.velocity({opacity:0},{duration:200}).velocity("slideUp",{duration:250})}(0,n.each)(this.Field.Group.fields,(e=>this._updateFieldRequiredDom(e)))}else{this.Field.required=t;this._updateFieldRequiredDom(this.Field)}window.Esignatures.publish("setup:field:required:change",this.Field)}))},_updateFieldRequiredDom(e){const t=e.$.find(this._selectors.fieldRequired);if(t.length!==0){if(e.required||this.GroupManager.groupRequired(e.Group)){t.show()}else{t.hide()}}},_changeSigner(){this.$.signer.on("ba:selectChange",(e=>{const t=this.Field.Signer;const i=e.originalEvent.detail;let s=i.value;if(s===this.SPECIFIC_PERSON){this.$.specificPersonChzn.velocity("slideDown",{duration:250}).velocity({opacity:1},{duration:200});const e=parseInt(s);if(!isNaN(e)){s=e}else{return}}else{this.$.specificPersonChzn.velocity({opacity:0},{duration:200}).velocity("slideUp",{duration:250})}if(this.Field.Group){this.SignerManager.parseGroupSigner(this.Field.Group,s);(0,n.each)(this.Field.Group.fields,(e=>this.updateFieldColor(e)))}else{this.SignerManager.parseSigner(this.Field,s);this.updateFieldColor(this.Field)}window.Esignatures.publish("setup:field:signer:change",this.Field);window.Esignatures.publish("setup:field:signer:trackFlyoutChange",{currentSigner:t,updatedSigner:this.Field.Signer})}));this.$.specificPersonChzn.hide()},_changeSpecificPerson(){this.$.specificPerson.on("ba:selectChange",(e=>{const t=this.Field.Signer;const i=parseInt(e.originalEvent.detail.value);if(!isNaN(i)){if(this.Field.Group){this.SignerManager.parseGroupSigner(this.Field.Group,i);(0,n.each)(this.Field.Group.fields,(e=>this.updateFieldColor(e)))}else{this.SignerManager.parseSigner(this.Field,i);this.updateFieldColor(this.Field)}this.userHasBeenSelected(e.originalEvent.detail.value);window.Esignatures.publish("setup:field:specificPerson:change",this.Field);window.Esignatures.publish("setup:field:signer:trackFlyoutChange",{currentSigner:t,updatedSigner:this.Field.Signer})}}))},_clickAddCheckbox(){this.$.addCheckbox.on("click",(()=>{window.Esignatures.publish("setup:field:addCheckbox:click",this.FieldManager.getActiveField().Group)}))},_changeGroupType(){this.$.groupType.on("ba:selectChange",(e=>{this.GroupManager.setGroupType(this.Field.Group,e.originalEvent.detail.value);window.Esignatures.publish("setup:groupType:change")}))},_position(){const e=window.Esignatures.Setup.FieldManager.getActiveField();if(e===null||this.FieldManager.TYPE_EXISTING===e.type){this._hide();return}let t=e.$;if(e.Group){t=$(".js-bounding-box")}const i=t.offset();const n=this.$.document.offset();const s=-12;const a=15;const r=i.top-n.top;const o=r+s;const l=i.left-n.left+t.outerWidth()+a;const d=r-this.$.flyout.outerHeight();const u=o-this.$.flyout.outerHeight()-s*5;const c=l-this.$.flyout.outerWidth()-t.outerWidth()-a*2;const f=17;this._replaceArrowClass("TopLeft");this.$.flyout.css({top:o,left:l});if(this._isContainedInPane()){return}this.$.flyout.css({top:r,left:l});if(this._isContainedInPane()){return}this._replaceArrowClass("BottomLeft");this.$.flyout.css({top:u,left:l});if(this._isContainedInPane()){return}this.$.flyout.css({top:d,left:l});if(this._isContainedInPane()){return}this._replaceArrowClass("TopRight");this.$.flyout.css({top:o,left:c});if(this._isContainedInPane()){return}this.$.flyout.css({top:r,left:c});if(this._isContainedInPane()){return}this._replaceArrowClass("BottomRight");this.$.flyout.css({top:u,left:c});if(this._isContainedInPane()){return}this._replaceArrowClass("RightTop");this.$.flyout.css({top:r+e.$.height()+f,left:-1*c/4});if(this._isContainedInPane()){return}this._replaceArrowClass("RightBottom");this.$.flyout.css({top:d-f,left:-1*c/4});if(this._isContainedInPane()){return}this.$.flyout.css({top:d,left:c})},_setFieldGroupCount(e){if(!e.Group){return}this.$.checkboxCount.text($.__("%1 checkboxes in this group",(0,n.size)(e.Group.fields)))},_load(e){if(e.type==="checkbox"){if(e.Group){this._setFieldGroupCount(e);this.$.checkboxCount.show()}else{this.$.checkboxCount.hide()}this.$.addCheckbox.show()}else{this.$.checkboxCount.hide();this.$.addCheckbox.hide();this.$.groupType.hide()}this._resetDropdowns();this.Field=e;if(!(0,n.isString)(e.Signer.type)){$(`${this._selectors.signer} > ba-option[value="${this.SPECIFIC_PERSON}"]`).attr("selected",true);$(`${this._selectors.specificPerson} > ba-option[value="${e.Signer.type}"]`).attr("selected",true);this.$.specificPersonChzn.show().css("opacity",1)}else{$(`${this._selectors.signer} > ba-option[value="${e.Signer.type}"]`).attr("selected",true);this.$.specificPersonChzn.hide()}this.$.divider.show();this.$.requiredSection.show();this.$.required.attr("checked",e.required||this.GroupManager.groupRequired(e.Group));if(this.GroupManager.groupRequired(e.Group)){this.$.groupType.val(e.Group.type);this.$.groupType.show().css("opacity",1)}else{this.$.groupType.hide()}},_hide(){this.$.flyout.css({left:"-9999px"})},_hideIfNoActiveField(){if(!this.FieldManager.getActiveField()){this._hide()}},_resetDropdownsIfNoActiveField(){if(!this.FieldManager.getActiveField()){this._resetDropdowns()}},_isContainedInPane(){const e=this.$.pane;const t=this.$.flyout;if(e.length&&t.length){return s.Rect.contains(e.get(0).getBoundingClientRect(),t.get(0).getBoundingClientRect())}return false},_replaceArrowClass(e){const t=new RegExp(`${this._selectors.arrowPrefix}.*`);this.$.flyout.removeClass((function(e,i){return i.match(t||[]).join(" ")}));this.$.flyout.addClass(this._selectors.arrowPrefix+e)},updateDropdowns(){const e=this.SignerManager.getTypes();if(e.length===this.SignerManager._maxSigners){$(`${this._selectors.signer} > ba-option`).attr("hidden",true);$(`${this._selectors.specificPerson} > ba-option`).attr("hidden",true);$(`${this._selectors.specificPerson} > .js-specific-person-default-value`).removeAttr("hidden");e.forEach((e=>{if(parseInt(e)>0){$(`${this._selectors.signer} > ba-option[value='${this.SPECIFIC_PERSON}']`).removeAttr("hidden");$(`${this._selectors.specificPerson} > ba-option[value='${e}']`).removeAttr("hidden")}else{$(`${this._selectors.signer} > ba-option[value='${e}']`).removeAttr("hidden")}}))}},_resetDropdowns(){$(`${this._selectors.signer} > ba-option[selected]`).removeAttr("selected");$(`${this._selectors.specificPerson} > ba-option[selected]`).removeAttr("selected");if(this.$.specificPersonChzn.length===0){this.$.specificPersonChzn=$(this._selectors.specificPersonChzn)}if(this.$.signerChzn.length===0){this.$.signerChzn=$(this._selectors.signerChzn)}const e=this.SignerManager.getTypes();if(e.length<this.SignerManager._maxSigners){$(`${this._selectors.signer} > ba-option`).removeAttr("hidden");$(`${this._selectors.specificPerson} > ba-option`).removeAttr("hidden")}this.$.specificPersonChzn.hide()},_styles:{fieldColorPrefix:"eSignatureField--alt-"},updateFieldColor(e){for(let t=1;t<=this.SignerManager.getMaxNumberSigners();++t){e.$.removeClass(this._styles.fieldColorPrefix+t)}e.$.addClass(this._styles.fieldColorPrefix+e.Signer.color)}};var r=a;t.default=r},168414:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=i(273641);var a=i(774548);var r=n(i(689898));var o=n(i(877787));const l=12;const d=20;const u="only_one_checked";const c="at_least_one_checked";const f="optional";const h=[u,c];const p={_groups:{},init(){this.$=(0,a.setupWrappers)(this._selectors);window.Esignatures.subscribe("setup:field:addCheckbox:click",this._addNewFieldToGroup,this);window.Esignatures.subscribe("setup:group:focus",this._drawBoundingBox,this);window.Esignatures.subscribe("setup:group:blur",this._hideBoundingBox,this);window.Esignatures.subscribe("setup:field:drag:start",this._hideBoundingBox,this);window.Esignatures.subscribe("setup:field:drag:stop",this._drawBoundingBoxIfActiveGroup,this);window.Esignatures.subscribe("setup:field:resize:start",this._hideBoundingBox,this);window.Esignatures.subscribe("setup:field:resize:stop",this._drawBoundingBoxIfActiveGroup,this);window.Esignatures.subscribe("document:zoom",this._drawBoundingBoxIfActiveGroup,this)},destroy(){this._groups={}},load(){if(typeof window.globalLoadedGroups!=="undefined"&&(0,s.size)(window.globalLoadedGroups)>0){this._groups=(0,s.mapValues)(window.globalLoadedGroups,(e=>{e.fields={};return e}))}},associateFieldWithGroup(e,t){const i=this._groups[t]||null;if(i){i.fields[e.id]=e;e.Group=i}return i},_createNewGroup(){const e=(0,s.uniqueId)("group_");const t=this._groups[e]={id:e,fields:{},type:"optional"};return t},_addNewFieldToGroup(e){if(!o.default.userHasBeenSelected()){return}if(!e){e=this._createNewGroup();const t=r.default.getActiveField();this.associateFieldWithGroup(t,e.id);if(t.required){this.setGroupRequired(e);t.required=false}}const t=(0,s.findLast)(e.fields);const i=t.$.clone();i.appendTo(t.Page.el);const n=r.default.duplicateField(t,i);this.associateFieldWithGroup(n,e.id);n.Page=t.Page;n.percentages={...n.percentages,top:parseFloat(t.percentages.height)+parseFloat(t.percentages.top)+1+"%"};n.$.css({top:n.percentages.top,zIndex:1e3});const l=n.el.getBoundingClientRect();let d=n.Page.el.getBoundingClientRect();if(!a.Rect.contains(d,l)){const e=document.querySelector(".js-bhrPreview-pane");e.scrollTop=n.Page.el.offsetHeight+n.Page.el.offsetTop+e.offsetTop-e.offsetHeight;const t=e.getBoundingClientRect();d=n.Page.el.getBoundingClientRect();n.percentages.top=(d.top*-1+t.top+t.height/2-l.height/2)/d.height*100+"%";n.percentages.left=(d.left*-1+t.left+t.width/2-l.width/2)/d.width*100+"%";n.$.css({top:n.percentages.top,left:n.percentages.left})}this._drawBoundingBox(e);window.Esignatures.publish("setup:field:create",n)},deleteFieldFromGroup(e){if(!e.Group){return}const t=e.id;const i=e.Group.id;e.Group=null;delete this._groups[i].fields[t];const n=(0,s.findLast)(this._groups[i].fields);if((0,s.size)(this._groups[i].fields)===1){n.required=this.groupRequired(n.Group);n.Group=null;this._setFieldLabel(n,"");delete this._groups[i];this._hideBoundingBox()}return n},_drawBoundingBoxIfActiveGroup(e){const t=r.default.getActiveField();if(t&&t.Group){this._drawBoundingBox(t.Group)}},boundingBoxTooWide(e){const t=(0,s.get)((0,s.findLast)(e.fields,(e=>e.Page)),"Page.el.offsetWidth",Number.POSITIVE_INFINITY);const i=(0,s.map)(e.fields,(e=>e.el.getBoundingClientRect()));const n=i.reduce(((e,t)=>{e.left=Math.min(e.left,t.left);e.right=Math.max(e.right,t.right);return e}),{left:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY});return n.right-n.left+d>t-o.default.getWidth()},_drawBoundingBox(e){const t=(0,s.get)((0,s.findLast)(e.fields),"Page.el.offsetWidth",Number.POSITIVE_INFINITY);const i=document.querySelector(".js-bhrPreview-document").getBoundingClientRect();const n=(0,s.map)(e.fields,(e=>e.el.getBoundingClientRect()));const a=n.reduce(((e,t)=>{e.left=Math.min(e.left,t.left);e.top=Math.min(e.top,t.top);e.right=Math.max(e.right,t.right);e.bottom=Math.max(e.bottom,t.bottom);return e}),{left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY});this.$.box.css({top:a.top-i.top-l,left:a.left-i.left-l,height:a.bottom-a.top+d,width:Math.min(a.right-a.left+d,t-o.default.getWidth()),opacity:1});this._updateLabels(e)},_hideBoundingBox(){this.$.box.css({opacity:0})},_updateLabels(e){let t=1;(0,s.each)(e.fields,(e=>{this._setFieldLabel(e,t++)}))},_setFieldLabel(e,t){e.$.find(this._selectors.numberLabel).text(t)},groupRequired(e){if(!e){return false}return h.includes(e.type)},setGroupType(e,t){e.type=t},setGroupRequired(e){this.setGroupType(e,u)},setGroupOptional(e){this.setGroupType(e,f)},_selectors:{box:".js-bounding-box",numberLabel:".js-number-label"}};var g=p;t.default=g},163023:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);var s=i(253629);const a={DISTANCE:20,get Creator(){return window.Esignatures.Setup.Field.Creator},get FieldManager(){return window.Esignatures.Setup.FieldManager},get SigningOrder(){return window.Esignatures.Setup.Menu.SigningOrder},get SignerManager(){return window.Esignatures.Setup.SignerManager},init(){this.$=(0,n.setupWrappers)(this._selectors);this._attachHandlers()},destroy(){this._destroyHandlers()},_type:null,_name:null,_fieldId:null,_subfieldId:null,_mouse:{clientX:0,clientY:0},_selectors:{actions:".js-wrapper-actions",field:".js-esignature-field-creator",saveTemplate:".js-save-template:first",sidebar:".js-setup-wrapper:first",textbox:".js-esignature-textbox:first",toggleSidebar:".js-toggle-sidebar",window},_attachHandlers(){this._destroyHandlers();this._determineClickOrDrag();this.isAttachedtoOfferLetter=this._isAttachedToOfferLetter();this.$.toggleSidebar.on("click",(e=>{this._toggleSidebar()}));window.Esignatures.subscribe("setup:field:create",this._updateSaveState,this);window.Esignatures.subscribe("setup:field:destroy",this._updateSaveState,this);window.Esignatures.subscribe("setup:field:drag:stop",this._updateSaveState,this);window.Esignatures.subscribe("setup:field:resize:stop",this._updateSaveState,this);window.Esignatures.subscribe("setup:field:destroy",this._updateSaveState,this);window.Esignatures.subscribe("setup:field:required:change",this._updateSaveState,this);window.Esignatures.subscribe("setup:signer:create",this._updateSaveState,this);window.Esignatures.subscribe("setup:signer:destroy",this._updateSaveState,this);window.Esignatures.subscribe("setup:signerOrder:update",this._updateSaveState,this);window.Esignatures.subscribe("setup:signer:change",this._updateSaveState,this);window.Esignatures.subscribe("setup:groupType:change",this._updateSaveState,this);window.Esignatures.subscribe("setup:fileSection:change",this._updateSaveState,this)},_destroyHandlers(){this.$.window.off("mousemove.esignatures:setup:menu:buttons");this.$.window.off("mouseup.esignatures:setup:menu:buttons")},_determineClickOrDrag(){this.$.field.on("mousedown",(e=>{if(e.which===1){this._type=e.currentTarget.getAttribute("data-type");this._name=e.currentTarget.getAttribute("data-name");this._fieldId=e.currentTarget.getAttribute("data-field-id");this._subfieldId=e.currentTarget.getAttribute("data-subfield-id");this._mouse={clientX:e.clientX,clientY:e.clientY};return false}}));this.$.window.on("mousemove.esignatures:setup:menu:buttons",(e=>{if(this._type){if(Math.abs(this._mouse.clientX-e.clientX)+Math.abs(this._mouse.clientY-e.clientY)>=this.DISTANCE){this.Creator.dragToCreate({type:this._type,name:this._name,fieldId:this._fieldId,subfieldId:this._subfieldId},{x:e.clientX,y:e.clientY});this._type=null}return false}}));this.$.window.on("mouseup.esignatures:setup:menu:buttons",(e=>{if(this._type&&e.which===1){this.Creator.clickToCreate({type:this._type,name:this._name,fieldId:this._fieldId,subfieldId:this._subfieldId});this._type=null;this._name=null;this._fieldId=null;this._subfieldId=null;return false}}))},_onBeforeSubmit(){if(this.isAttachedtoOfferLetter&&!(0,s.checkSigningOrder)(this.SignerManager.getTypes())){window.Esignatures.Setup.signingWarningModal()}else{window.Esignatures.Setup.saveTemplate()}},_isAttachedToOfferLetter(){if(this.$.saveTemplate.attr("data-isAttachedToOfferLetter")){return true}return false},_toggleSidebar(){var e=-314;if(Math.round(this.$.sidebar.position().left)<0){e=0}this.$.sidebar.toggleClass("eSignatureSidebar--setup-wrapper--slideRight");this.$.sidebar.velocity({translateX:e+"px"});this.$.actions.velocity({translateX:e+"px"})},_updateSaveState(){if(this._isValidTemplate()){window.BambooHR.Modal.setState({primaryAction:()=>{if(this.SignerManager.isValid()){this._onBeforeSubmit()}else if(this.SignerManager.getEmployee().fields>0){setMessage($.__("Whoops... Before moving on you need to select which specific person you would like."),"error")}else{setMessage($.__("Whoops... You need to add at least one field for the primary employee to complete."),"error")}}},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}},_isValidTemplate(){return this.FieldManager.getCount()>0}};var r=a;t.default=r},287502:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(856075));var a=n(i(573674));var r=i(830734);var o=i(273641);var l=n(i(221138));const d={_selectedFileSection:null,fileSectionChange(e){window.Esignatures.selectedFileSectionId=e;window.Esignatures.publish("setup:fileSection:change")},init(){let e=[];if(typeof window.Esignatures.globalLoadedEmployeeFileSections!=="undefined"&&(0,o.size)(window.Esignatures.globalLoadedEmployeeFileSections)>1){e=window.Esignatures.globalLoadedEmployeeFileSections.map((e=>({text:e.name,value:e.id})))}if(window.Esignatures.globalLoadedFileSectionId){this._selectedFileSection=String(window.Esignatures.globalLoadedFileSectionId)}const t={fileSections:e,onChange:this.fileSectionChange,fileSection:this._selectedFileSection};(0,r.render)((0,s.default)("div",{},void 0,a.default.createElement(l.default,t)),document.getElementById("js-eSignatureSidebar__saved-signatures"))}};var u=d;t.default=u},253629:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.checkSigningOrder=d;t.default=void 0;var s=n(i(856075));var a=n(i(573674));var r=i(830734);var o=i(377262);const l={get SignerManager(){return window.Esignatures.Setup.SignerManager},init(){this._attachHandlers()},_attachHandlers(){window.Esignatures.subscribe("setup:signer:create",this.update,this);window.Esignatures.subscribe("setup:signer:destroy",this.update,this);window.Esignatures.subscribe("setup:init:complete",this._populateComponent,this)},_populateComponent(){var e=this.SignerManager.getAll();(0,r.render)((0,s.default)(o.SigningOrder,{modal:(0,s.default)(o.SignerQuickChangeModal,{}),signers:e}),document.getElementById("js-signing-order"))},update(){this._populateComponent()}};function d(e){let t=true;$.each(e,((e,i)=>{if(e===0&&i!=="employee"){t=false}else if(e>0&&isNaN(i)){t=false}}));return t}var u=l;t.default=u},221138:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=w;var s=n(i(856075));var a=h(i(573674));var r=i(651745);var o=i(288015);var l=n(i(417842));var d=i(46241);var u=i(567441);var c=i(479706);function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(f=function(e){return e?i:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=f(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}const p=(0,c.isEnabled)("esignatureTemplateSubfolder");const g=(0,r.makeStyles)((({palette:e,typography:t})=>(0,r.createStyles)({header:{fontSize:t.fabricFontSize("large"),fontWeight:t.fontWeightSemibold,fabLineHeight:t.fabricLineHeight("medium"),padding:"10px 0"},wrapper:{marginTop:"15px"},folderName:{color:e.primary.main,marginLeft:"8px"},folderWrapper:{alignItems:"center",display:"flex",marginTop:"12px"},folderIcon:{fill:e.primary.main,marginTop:"3px"},changeButton:{marginLeft:"8px"}})));const m=3;const v=$.__("Signed Documents");function w({fileSections:e=[],fileSection:t,onChange:i}){const n={[Number(t)]:{name:v,id:t}};const c=[{text:v,value:t,items:[]}];const[f,h]=(0,a.useState)(t);const[w,b]=(0,a.useState)(false);const[y,S]=(0,a.useState)(true);const[E,C]=(0,a.useState)(n);const[x,T]=(0,a.useState)(c);(0,a.useEffect)((()=>{if(p&&e!==null&&e!==void 0&&e.length){l.default.get("/esignatures/employeeFolderStructure").then((({data:e})=>{const{result:t}=e;if(t&&Object.keys(t).length){const e=window.SESSION_USER.isAdmin;const i=(0,u.applyDepthAndPermissionsToFolders)(t,e);C(i);T((0,u.buildFolderOptions)(i,e,true))}S(false)}))}else{S(false)}}),[]);const k=e=>{h(e);i(e)};const O=()=>{if(Object.keys(E).length>1){return E[f].name}else if(e.length){var t;return((t=e.find((e=>e.value===f)))===null||t===void 0?void 0:t.text)||v}return v};const F=g();return(0,s.default)("div",{},void 0,(0,s.default)("div",{className:F.header,id:"esignature-saved-signatures"},void 0," ",$.__("Save in Employee Folder")," "),(0,s.default)("p",{},void 0," ",$.__("Choose the employee document folder where this should be saved once signed.")," "),p&&a.default.createElement(a.default.Fragment,null,(0,s.default)("div",{className:F.folderWrapper},void 0,(0,s.default)("span",{className:F.folderIcon},void 0,(0,s.default)(o.FolderClosed16x14,{})),(0,s.default)(r.Typography,{component:"span",className:F.folderName,variant:"small"},void 0,O()),(0,s.default)("span",{className:F.changeButton},void 0,(0,s.default)(r.TextButton,{onClick:()=>{b(true)},size:"small",processing:y},void 0,$.__("Change")))),(0,s.default)(d.SelectFolderModal,{folderOptions:x,folders:E,handleCloseModal:()=>b(false),initialSelection:f,isOpen:w,onConfirm:e=>k(e),maxFolderDepth:m,canEditPage:true,isEsig:true})),!p&&(0,s.default)("div",{className:F.wrapper,id:"js-eSignatureSidebar__location-select-wrapper"},void 0,(0,s.default)(r.Select,{id:"js-eSignatureSidebar__fileSectionSelector",isClearable:false,items:e,onChange:([e])=>{h(e);if(typeof i==="function"){i(e)}},placeholder:v,selectedValues:[f],width:7})))}},944852:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(163023));var a=n(i(253629));var r=n(i(287502));var o=i(479706);const l={get Buttons(){return s.default},get SigningOrder(){return a.default},get SavedSignatures(){return r.default},init(){this.Buttons.init();this.SigningOrder.init();this.SavedSignatures.init()},destroy(){this.Buttons.destroy()}};var d=l;t.default=d},533706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;const i=function(e){this.id=e.id;this.$=e.$;this.el=e.el;this.Page=e.Page;this.percentages=e.percentages;this.required=e.required;this.Signer=e.Signer;this.Group=e.Group;this.type=e.type;this.fieldId=e.fieldId;this.subfieldId=e.subfieldId};var n=i;t.default=n},829522:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(533706));const a={get Field(){return s.default}};var r=a;t.default=r},459082:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;const n={_postUrl:"/ajax/refresh_session.php",_lastActionOccurred:null,_interval:null,init(){this._attachHandlers()},destroy(){this._destroyHandlers()},_attachHandlers(){window.Esignatures.subscribe("document:scroll",this._trackActiveness,this);window.Esignatures.subscribe("document:mousedown",this._trackActiveness,this);window.Esignatures.subscribe("document:zoom",this._trackActiveness,this);window.Esignatures.subscribe("setup:field:focus",this._trackActiveness,this);window.Esignatures.subscribe("setup:field:drag:stop",this._trackActiveness,this);window.Esignatures.subscribe("setup:field:resize:stop",this._trackActiveness,this);window.Esignatures.subscribe("setup:field:destroy",this._trackActiveness,this);window.Esignatures.subscribe("setup:field:create",this._trackActiveness,this);window.Esignatures.subscribe("setup:field:required:change",this._trackActiveness,this);window.Esignatures.subscribe("setup:field:signer:change",this._trackActiveness,this);window.Esignatures.subscribe("setup:field:specificPerson:change",this._trackActiveness,this);window.Esignatures.subscribe("setup:signer:create",this._trackActiveness,this);window.Esignatures.subscribe("setup:signer:destroy",this._trackActiveness,this);window.Esignatures.subscribe("setup:signerOrder:update",this._trackActiveness,this);this._interval=setInterval((()=>{var e=new Date;if(e-this._lastActionOccurred<5*60*1e3){this._refreshSession()}}),10*60*1e3)},_destroyHandlers(){clearInterval(this._interval);this._interval=null},_trackActiveness(){this._lastActionOccurred=new Date},_refreshSession(){$.post(this._postUrl)}};var s=n;t.default=s},572150:(e,t,i)=>{"use strict";var jQuery=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(273641);const s=function($,e){var t=false;var i="";var s=[];var a={};var r=[];var o=[];var l=null;function d(){$(".js-employee-fields .js-esignature-field-creator").each((function(t,i){s.push({$:$(i),text:e.htmldecode(i.innerHTML)});var n=s[t].$.parent().parent().attr("data-table-id")||s[t].$.parent().prev().attr("data-table-id");if(n){if(n in a){a[n].fields.push(t)}else{a[n]={$:$('[data-table-id="'+n+'"]'),fields:[t]}}}}))}function u(){if(!t){$(".js-show-all, .collapsed .js-eSignatureTabList__sectionTitle").click();t=true}}function c(t){var n=t.text.substr(t.text.toLowerCase().indexOf(i.toLowerCase()),i.length);t.$.html(t.text.replace(new RegExp(i,"i"),"<strong>"+e.htmlentities(n)+"</strong>"))}function f(e){s.forEach((function(t,i){if(r[i]&&!e[i]){t.$.hide()}else if(!r[i]&&e[i]){t.$.show();c(t)}else if(r[i]&&e[i]){c(t)}}))}function h(e){(0,n.each)(a,(function(t,i){if(o[i]&&!e[i]){t.$.hide()}else if(!o[i]&&e[i]){t.$.show()}}))}function p(){var e=[];s.forEach((function(t,n){e[n]=t.text.toLowerCase().indexOf(i.toLowerCase())!==-1}));f(e);var t=[];a.forEach((function(i,n){t[n]=i.fields.some((function(t){return e[t]}))}));h(t);r=e;o=t}function g(){d();a=Object.keys(a).map((function(e){return a[e]}));r=new Array(s.length).map(Boolean.prototype.valueOf,true);o=new Array(a.length).map(Boolean.prototype.valueOf,true);l=$(".js-eSignatureTabList__sectionTitle");$(".js-search").on("keyup",(function(){i=this.value;u();p();l[i.length>0?"hide":"show"]()}))}function m(){$(".js-search").val("").trigger("keyup").off("keyup");l=null;t=false;i="";s=[];a={};r=[];o=[]}return{enable:g,disable:m}}(jQuery,BambooHR.Utils);var a=s;t.default=a},813428:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(273641);const s={_maxSigners:5,_maxSignersArray:[],get Flyout(){return window.Esignatures.Setup.Flyout},get SigningOrder(){return window.Esignatures.Setup.Menu.SigningOrder},init(){this._attachHandlers();this._createMaxSignersArray()},destroy(){this._maxSignersArray=[];this._signers={}},updateOrder(e){const t={};(0,n.each)(this._signers,((i,s)=>{const a=(0,n.indexOf)(e,s)+1;i.order=a;t[a]=i}));this._signers=t},isValid(){return this._employeeIsSigner()&&this.getEmployee().fields>0&&this.Flyout.userHasBeenSelected()&&window.Esignatures.selectedFileSectionId!==window.Esignatures.globalLoadedFileSectionId},appendNewSigner(e){const t=(0,n.size)(this._signers)+1;this._signers[t]={color:0,fields:0,label:this._getLabel(e),order:t,type:e};return this._signers[t]},parseSigner(e,t){e.Signer.fields--;let i=false;let n=this.getByType(t);if(!n){n=this.appendNewSigner(t);i=true}e.Signer=n;this.incrementFieldCount(e);this._removeUnassignedSigners();if(i){n.color=this._getNextAvailableColor();window.Esignatures.publish("setup:signer:create",n)}else{window.Esignatures.publish("setup:signer:change",n)}},parseGroupSigner(e,t){const i=(0,n.find)(e.fields);const s=(0,n.size)(e.fields);i.Signer.fields-=s;let a=false;let r=this.getByType(t);if(!r){r=this.appendNewSigner(t);a=true}(0,n.each)(e.fields,(e=>e.Signer=r));r.fields+=s;this._removeUnassignedSigners();if(a){r.color=this._getNextAvailableColor();window.Esignatures.publish("setup:signer:create",r)}else{window.Esignatures.publish("setup:signer:change",r)}},load(){if(typeof window.globalLoadedSigners!=="undefined"&&(0,n.size)(window.globalLoadedSigners)>1){this._signers=window.globalLoadedSigners;this.SigningOrder.update();return}this._signers={1:{color:1,fields:0,label:"Employee",order:1,type:"employee"}}},getEmployee(){return(0,n.find)(this._signers,{type:"employee"})},getTypes(){return(0,n.map)(this._signers,"type")},getByType(e){return(0,n.find)(this._signers,{type:e})},getAll(){return this._signers},getMaxNumberSigners(){return this._maxSigners},get(e,t){if(!(0,n.has)(this._signers,e)){return null}if(typeof t!==undefined){return this._signers[e][t]}return this._signers[e]},incrementFieldCount(e){e.Signer.fields++},_attachHandlers(){window.Esignatures.subscribe("setup:field:create",this.incrementFieldCount,this);window.Esignatures.subscribe("setup:field:destroy",this._decrementFieldSignerCount,this)},_employeeIsSigner(){return this._hasSignerType("employee")},_hasSignerType(e){return(0,n.some)(this._signers,{type:e})},_removeUnassignedSigners(){let e=false;const t=(0,n.reject)(this._signers,(function(e){return e.type!=="employee"&&e.fields===0}));if(t.length!==(0,n.size)(this._signers)){e=true}this._signers={};t.forEach(((e,t)=>{e.order=t+1;this._signers[t+1]=e}));if(e){window.Esignatures.publish("setup:signer:destroy")}},_decrementFieldSignerCount(e){if(e.Signer.fields>0){e.Signer.fields--}this._removeUnassignedSigners()},_getNextAvailableColor(){return(0,n.min)((0,n.difference)(this._maxSignersArray,(0,n.map)(this._signers,"color")))},_getLabel(e){if(parseInt(e)>0){return $(`.js-BhrPreview__Flyout-specificPerson > ba-option[value="${e}"]`).text()}return $(`.js-BhrPreview__Flyout-signer > ba-option[value="${e}"]`).text()},_createMaxSignersArray(){for(let e=1;e<=this._maxSigners;++e){this._maxSignersArray.push(e)}}};var a=s;t.default=a},634128:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(856075));var a=n(i(573674));var r=n(i(417842));var o=i(774548);var l=i(651745);var d=n(i(917083));var u=n(i(689898));var c=n(i(877787));var f=n(i(168414));var h=n(i(944852));var p=n(i(829522));var g=n(i(459082));var m=n(i(572150));var v=n(i(813428));var w=i(224309);const b={esignatureTemplateId:0,esignatureTemplateIcon:"fab-file-esig-20x24",completedSvgInterval:null,initialized:false,get Field(){return d.default},get FieldManager(){return u.default},get Flyout(){return c.default},get GroupManager(){return f.default},get Menu(){return h.default},get Prototypes(){return p.default},get Refresher(){return g.default},get Searcher(){return m.default},get SignerManager(){return v.default},init(){this.$=(0,o.setupWrappers)(this._selectors);this.registerEventListeners();this.SignerManager.init();this.GroupManager.init();this.Menu.init();this.Field.init();this.Flyout.init();this.FieldManager.init();this.Refresher.init();this.Searcher.enable();this.Tracking=new w.Tracking({trackTemplateEdit:true});this._load();this.initialized=true;window.Esignatures.publish("setup:init:complete")},destroy(){if(this.initialized){this.Menu.destroy();this.Field.destroy();this.FieldManager.destroy();this.Refresher.destroy();this.Searcher.disable();this.SignerManager.destroy();this.GroupManager.destroy();this.Tracking.destroy();window.globalLoadedSigners=null;window.globalLoadedGroups=null;window.globalLoadedEmployeeFileSections=null;window.Esignatures.destroy()}clearInterval(this.completedSvgInterval)},saveTemplate(){window.BambooHR.Modal.setState({isProcessing:true,sheetProps:{isProcessing:true}},true);const e=this.FieldManager.stringifyFields();$.post(`/ajax/${appPrefix}esignature/update_template.php`,{ajax:true,esignatureTemplateId:this.esignatureTemplateId,sectionId:window.Esignatures.selectedFileSectionId,fields:e},(e=>{if(e.success){const t=$(`[data-file_id="${e.fileId}"] ${this._selectors.image}`);t.attr("name",this.esignatureTemplateIcon);if(Files!=="undefined"&&Files.GearIcon!=="undefined"){Files.GearIcon.updateSignatureItem(e.fileId,e.workflowId,e.fileName,e.numberOfSigners,this.esignatureTemplateId)}window.resetFiles();window.loadSectionFiles($(".sectionLink.selected .js-FileFolder").data("section_id"),$("select[name=sort-files]").val());setMessage(e.message,"success");this._overrideCloseValidation=true;window.Esignatures.publish("setup:template:saved");this.destroy();previewFile(e.fileDataId,e.fileId,e.fileName,null,null,null,null,null,true)}else{setMessage(e.error,"error")}}),"json").fail(errorFallBack)},_selectors:{document:".js-bhrPreview-document",flex:"#documentViewer",image:".js-file-image-icon",workingMagicLoader:".js-working-magic",tabFields:".js-eSignatureTabFields",tabSection:".js-eSignatureTabList__sectionTitle",showAllLink:".show-all-link"},disableSidebarButtons(){const e=document.getElementById("documentOptions");let t;if(e){t=e.querySelectorAll("button");for(let e=0;e<t.length;++e){t[e].setAttribute("disabled","disabled")}}},openModal(e,t,i,n,a,d,u=false){const c=()=>{const e=window.Esignatures.Setup.validateClose((function(){window.Esignatures.publish("setup:template:canceled");window.Esignatures.Setup._overrideCloseValidation=true;window.Esignatures.Setup.destroy();window.BambooHR.Modal.setState({})}),n);if(e){window.Esignatures.Setup.destroy();window.BambooHR.Modal.setState({})}return e};$(document).on("click","#js-download-file",(e=>{window.location.href=`/files/download.php?id=${t}&v=${a}`}));window.BambooHR.Modal.setState({isProcessing:true},true);b.disableSidebarButtons();r.default.get(`/ajax/${appPrefix}esignature/load_setup.php?id=${e}&file_id=${t}&duplicate=${u}`).then((f=>{const{success:h=true,error:p=""}=f.data;if(!h){throw p}const g=e=>{e.data=e.data.trim();const t=$(e.data).filter('[type="application/json"]');const i=t&&t.length?JSON.parse(t.text()):{};window.globalLoadedSigners=i&&i.globalLoadedSigners?i.globalLoadedSigners:{};window.globalLoadedGroups=i&&i.globalLoadedGroups?i.globalLoadedGroups:{};window.Esignatures.globalLoadedFileSectionId=i&&i.globalLoadedFileSectionId?i.globalLoadedFileSectionId:{};window.Esignatures.globalLoadedEmployeeFileSections=i&&i.globalLoadedEmployeeFileSections?i.globalLoadedEmployeeFileSections:{};return i};const m=g(f);if(m&&m.fileId&&$(f.data).find(".js-working-magic").length){const e=e=>{const t=g(e);window.BambooHR.Modal.setState({dangerousContent:`<div class="eSignatureModal__wrapper">${e.data}</div>`,primaryAction:()=>{window.Esignatures.Setup.destroy();setTimeout((()=>{previewFile(a,t.fileId,n,null,null,null,null,null,true)}))}},true);$(this._selectors.workingMagicLoader).remove();(0,o.executeFunction)(i);window.Esignatures.publish("setup:duplicate")};let s=0;b.completedSvgInterval=setInterval((function(){if(s<10){s++;b.checkForCompletedSvgs(m.fileId,u).then((function(i){const{esignatureTemplateId:n}=i;if(u){r.default.get(`/ajax/${appPrefix}esignature/load_setup.php?id=${n}&file_id=${t}`).then((t=>{e(t)}))}}))}else{clearInterval(b.completedSvgInterval)}}),5e3)}window.BambooHR.Modal.setState({alternativeAction:()=>this.cancelSetup(a,t,n),biId:"esignature",contentHasPadding:false,dangerousContent:`<div class="eSignatureModal__wrapper">${f.data}</div>`,header:(0,s.default)("span",{className:"eSignatureModal__header"},void 0,(0,s.default)("span",{className:"eSignatureModal__headerIcon"},void 0,(0,s.default)(l.Icon,{name:d||"fab-file-esig-20x24"})),(0,s.default)("h2",{},void 0,(0,s.default)("span",{className:"eSignatureModal__headerText"},void 0,n))),isHeadless:true,isOpen:true,onClose:c,primaryActionText:$.__("Save Template"),primaryAction:null,type:"fullScreen"},{autoClose:false});window.setTimeout((function(){window.BambooHR.Components.SearchInput.init()}));if(!u){(0,o.executeFunction)(i)}window.Esignatures.Setup.esignatureTemplateId=e;window.Esignatures.Setup._overrideCloseValidation=false})).catch((e=>{console.error(e);setMessage($.__("Uh-oh. Something went wrong, please try again!"),"error");window.BambooHR.Modal.setState({isProcessing:false},true);const t=document.getElementById("documentOptions");let i;if(t){i=t.querySelectorAll("button");if(i){for(let e=0;e<i.length;++e){i[e].removeAttribute("disabled")}}}}))},convertFile(e,t,i,n){if(this.Tracking){this.Tracking.disableTrackers({untrackTemplateEdit:true})}$.post(`/ajax/${appPrefix}esignature/create_template.php`,{ajax:true,file_data_id:t},(s=>{if(s.success){this.openModal(0,e,(()=>{}),i,t,n)}else{errorFallBack()}}),"json").fail(errorFallBack)},checkForCompletedSvgs(e,t){const i=()=>this._loadSetupDocument(e,t);return new Promise((t=>{$.get(`/ajax/${appPrefix}esignature/check_for_completed_svgs.php?file_id=${e}`,(e=>{if(e.success){clearInterval(b.completedSvgInterval);t(i())}}),"json")}))},_loadSetupDocument(e,t){return $.get(`/ajax/${appPrefix}esignature/get_completed_svgs.php?file_id=${e}`,(e=>{if(e.success){if(!t){$(this._selectors.document).append(e.html);$(this._selectors.workingMagicLoader).remove()}this.esignatureTemplateId=e.esignatureTemplateId;if(document.getElementById("js-eSignatureSidebar__saved-signatures")){window.Esignatures.init(window.Esignatures.TYPE_SETUP)}}}),"json")},validateClose(e,t=$.__("No File Given")){if(this.FieldManager.getOriginalFields()!==this.FieldManager.stringifyFields()&&!this._overrideCloseValidation){window.BambooHR.Modal.setState({sheetProps:{alternativeActionText:$.__("Keep Working"),dangerousContent:`<span class="eSignatureModal__content">${$.__("By cancelling this setup, you will lose any unsaved changes you have made to %1$s.",t)}</span>`,headline:$.__("Are you sure you want to cancel?"),icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,onClose:()=>{window.Esignatures.Setup._overrideCloseValidation=false;window.BambooHR.Modal.setState({sheetProps:null},true)},primaryAction:e?e:()=>{window.Esignatures.Setup.destroy();window.BambooHR.Modal.setState({})},primaryActionText:$.__("Yes, Cancel Setup"),title:$.__("Just Checking...")}},true);return false}return true},signingWarningModal(){window.BambooHR.Modal.setState({sheetProps:{alternativeActionText:$.__("Don't save yet"),content:$.__("Signature templates that are a part of an offer template need to have the employee as the first signer and can only have specific people as additional signers."),headline:$.__("Saving your changes will remove this document from one or more offer letter templates"),isOpen:true,onClose:()=>{window.BambooHR.Modal.setState({sheetProps:null},true)},primaryAction:()=>this.saveTemplate(),primaryActionText:$.__("Save Anyway"),title:$.__("Just so you know...")}},true)},cancelSetup(e,t,i){window.Esignatures.publish("setup:template:canceled");if(this.validateClose((function(){window.Esignatures.Setup._overrideCloseValidation=true;window.Esignatures.Setup.destroy();setTimeout((()=>{previewFile(e,t,i,null,null,null,null,null,true)}))}),i)){window.Esignatures.Setup.destroy();setTimeout((()=>{previewFile(e,t,i,null,null,null,null,null,true)}))}},displayFields(){this.$.tabFields.show();this.$.showAllLink.hide()},_overrideCloseValidation:false,_load(){this.SignerManager.load();this.GroupManager.load();this.FieldManager.load();this.FieldManager.setOriginalFields();this.Flyout.updateDropdowns()},registerEventListeners(){this.$.tabSection.on("click",(e=>{$(e.currentTarget).parent().toggleClass("collapsed")}));this.$.showAllLink.on("click",(e=>{this.displayFields()}))}};var y=b;t.default=y},187393:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=i(774548);var a=n(i(599596));var r=n(i(741640));const o={init(){this.$=(0,s.setupWrappers)(this._selectors);this._prepareFields();this._size();window.Esignatures.subscribe("document:zoom",this._size,this)},_size(){this.$.fields.each(((e,t)=>{let i=$(t);let n=i.data("type");if(n==="paragraph"){i.css({transform:`scale(${r.default.level/100})`,transformOrigin:"top left"});return}var s=i.data("clone");var a=i.height();var o=i.width();var l=parseFloat(a/2||i.css("font-size"));s.text(i.text());var d=o/(s.width()||1);var u=parseInt(i.css("font-size"));var c=Math.floor(Math.min(u*d,l));var f=a+"px";if(s.width()<=0){c=Math.floor(l)}if(a===0){setTimeout((()=>{this._size()}),100);return false}i.css({fontSize:c,lineHeight:f});s.css({fontSize:c,lineHeight:f})}))},_prepareFields(){this._setInitialSize();this._generateClones()},_setInitialSize(){this.$.fields.each(((e,t)=>{let i=$(t);let n=i.data("type");var s=i.height();if(s===0){setTimeout((()=>{this._size()}),100);return false}var o=s/2;if(n==="paragraph"){i.css({height:i.height()/(r.default.level/100)+"px",width:i.width()/(r.default.level/100)+"px"});a.default.applyDefaultStyles(i);a.default.fitText(i)}else{i.css({fontSize:o,lineHeight:s})}}))},_generateClones(){this.$.fields.each(((e,t)=>{var i=$(t);var n;if(i.data("type")==="paragraph"){return}n=$("<div></div>",{css:{fontSize:i.css("font-size"),fontFamily:i.css("font-family"),fontStyle:i.css("font-style"),fontWeight:i.css("font-weight"),fontVariant:i.css("font-variant"),letterSpacing:i.css("letter-spacing"),position:"fixed",left:"-9999px"}}).insertAfter(i);i.data("clone",n)}))},_selectors:{fields:".js-esignature-field-complete"}};var l=o;t.default=l},35912:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);var s=i(479706);const a={get FieldManager(){return window.Esignatures.Signing.FieldManager},init(){this.$=(0,n.setupWrappers)(this._selectors)},isValid(e){return!e.required||e.$.find(this._selectors.fieldInput).is(":checked")},getValue(e){return e.$.find(this._selectors.fieldInput).is(":checked")},handleActivate(e){},handleBlur(e){},handleClick(e){var t=$(e).find(this._selectors.fieldInput).get(0);t.checked=!t.checked;this.FieldManager.updateField()},handleTab(){},_selectors:{field:".js-esignature-field-checkbox",fieldInput:".js-esignature-field-input-checkbox"}};var r=a;t.default=r},645363:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=i(774548);var a=n(i(496406));const r={get FieldManager(){return window.Esignatures.Signing.FieldManager},init(){this.$=(0,s.setupWrappers)(this._selectors);this._enable()},isValid(e){return e.value.trim()!==""},getValue(e){return e.$.find(this._selectors.fieldInput).val()},handleActivate(e){},handleBlur(e){},handleClick(e){var t=$(e).find(this._selectors.fieldInput).get(0);t.blur();t.focus()},handleTab(e){$(e.el).find(this._selectors.fieldInput).select()},_selectors:{field:".js-esignature-field-date",fieldInput:".js-esignature-field-input-date"},_options:{yearRange:"-100:+100",highlightWeek:true,duration:0,showAnim:false,changeFirstDay:false,changeMonth:true,changeYear:true,showOtherMonths:true,constrainInput:true,onClose(e,t){window.Esignatures.Signing.FontSizer.size(t.input[0]);window.Esignatures.Signing.FieldManager.updateField()}},_enable(){if(this.$.fieldInput.length>0){this._options.dateFormat=a.default.defaultFormat;if(typeof GLOBAL_DATEPICKER_MASK!=="undefined"){this._options.dateFormat=GLOBAL_DATEPICKER_MASK}this.$.fieldInput.bhrdatepicker(this._options).attr("autocomplete","off");this.$.fieldInput.bhrdatepicker(this._options).keypress((function(e){e.preventDefault()}))}}};var o=r;t.default=o},1676:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=i(774548);var a=i(479706);var r=n(i(20026));var o=n(i(439103));const l={get Canvas(){return window.Esignatures.Signing.Helpers.Canvas},get DrawType(){return window.Esignatures.Signing.Helpers.DrawType},get Field(){return window.Esignatures.Signing.Field},get FieldManager(){return window.Esignatures.Signing.FieldManager},get isSheet(){return this._isSheet},get Signing(){return window.Esignatures.Signing},set isSheet(e){this._isSheet=e},init(){this.$=(0,s.setupWrappers)(this._selectors)},isValid(e){return e.value.trim()!==""},getValue(e){return e.$.find(this._selectors.fieldInput).val()},handleActivate(e){this.Field.togglePlaceholder(e)},handleBlur(e){this.Field.togglePlaceholder(e)},handleClick(){const e=this;const t=e.Signing.savedInitialsPng;const i=e.FieldManager.getActiveField();if(t){e.Field.insertImage(t,i);e.FieldManager.validateField(i)}else{e._isSheet=true;window.BambooHR.Modal.setState({sheetProps:{contentHasPadding:false,dangerousContent:window.microTemplate(o.default,{drawText:$.__("Draw your initials..."),extraClass:"InitialsPad",height:158,typeText:$.__("Type in your initials"),width:432}),isMobileFriendly:true,isMobileFriendlySheetFullScreen:true,isOpen:true,onClose:()=>{e.Signing.setContext(e.Signing.contexts.FORM);e.Canvas.removeEventListeners();e.isSheet=false;window.BambooHR.Modal.setState({sheetProps:null},true)},primaryAction:null,primaryActionText:$.__("Apply Initials"),title:$.__("Add Initials")}},true);e.DrawType.init();e.Signing.setContext(e.Signing.contexts.DRAW_TYPE)}},handleTab(e){},_selectors:{field:".js-esignature-field-initials",fieldInput:".js-esignature-field-input-initials"}};var d=l;t.default=d},515415:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=i(774548);var a=n(i(599596));const r={getZoomLevel(){return window.Esignatures.Previewer.Zoom.level},getPastedText(e){const t=e.originalEvent.clipboardData||window.clipboardData;return t.getData("text").replace(/[\r\n]+/g,"")}};const o={get FieldManager(){return window.Esignatures.Signing.FieldManager},init(){let e;this.$=(0,s.setupWrappers)(this._selectors);e=this.$.fieldInput;a.default.applyDefaultStyles(e);e.on("input",this._handleInput.bind(this)).on("keyup",this._handleKeyup.bind(this)).on("keypress",this._handleKeypress.bind(this)).on("paste",this._handlePaste.bind(this));this._zoomFont(r.getZoomLevel());window.Esignatures.subscribe("document:zoom",this._zoomFont,this)},isValid(e){return e.value.trim()!==""},getValue(e){return e.$.find(this._selectors.fieldInput).val()},handleActivate(e){},handleBlur(e){},handleClick(e){var t=$(e).find(this._selectors.fieldInput).get(0);if(t!==document.activeElement){t.focus()}},handleTab(e){e.$.find(this._selectors.fieldInput).select()},_handlePaste(e){let t=$(e.currentTarget);let i=t.val().substring(0,t[0].selectionStart);let n=t.val().substring(t[0].selectionEnd);let s=r.getPastedText(e);let a=i.length+s.length;e.preventDefault();t.data("previousValue",t.val());t.data("previousRange",{start:t[0].selectionStart,end:t[0].selectionEnd});t.val(i+s+n);t[0].setSelectionRange(a,a);this._fitText(t)},_handleInput(e){this._fitText($(e.currentTarget))},_handleKeypress(e){let t=$(e.currentTarget);if(e.which===13){e.preventDefault()}t.data("previousValue",t.val());t.data("previousRange",{start:t[0].selectionStart,end:t[0].selectionEnd})},_handleKeyup(e){if(e.which===13){e.stopPropagation()}},_fitText(e){a.default.fitText(e);if(!a.default.textFits(e)){a.default.truncateNewText(e,e.data("previousValue"),e.data("previousRange"))}},_zoomFont(e){let t=e/100;this.$.field.css({transform:`scale(${t})`,transformOrigin:"top left"})},_selectors:{field:".js-esignature-field-paragraph",fieldInput:".js-esignature-field-input-paragraph"}};var l=o;t.default=l},724354:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(439103));var a=i(774548);var r=i(479706);var o=n(i(20026));const l={get Canvas(){return window.Esignatures.Signing.Helpers.Canvas},get DrawType(){return window.Esignatures.Signing.Helpers.DrawType},get Field(){return window.Esignatures.Signing.Field},get FieldManager(){return window.Esignatures.Signing.FieldManager},get Signing(){return window.Esignatures.Signing},get callback(){return this._callback},get isSheet(){return this._isSheet},set callback(e){if(typeof e==="function"&&e!==null){this._callback=e}this._callback=null},set isSheet(e){if(e===null||e===undefined){e=true}this._isSheet=e},init(){this.$=(0,a.setupWrappers)(this._selectors)},isValid(e){return e.value.trim()!==""},getValue(e){return e.$.find(this._selectors.fieldInput).val()},handleActivate(e){this.Field.togglePlaceholder(e)},handleBlur(e){this.Field.togglePlaceholder(e)},handleClick(e=null,t=true){const i=this;const n=i.Signing.savedSignaturePng;const a=i.FieldManager.getActiveField();if(n){i.Field.insertImage(n,a);i.FieldManager.validateField(a)}else{i._callback=e;i._isSheet=t;const n={contentHasPadding:false,dangerousContent:window.microTemplate(s.default,{drawText:$.__("Draw your signature with your mouse..."),extraClass:"SignaturePad",height:202,typeText:$.__("Type in your name..."),width:552}),isMobileFriendly:true,isMobileFriendlySheetFullScreen:true,isOpen:true,onClose:()=>{if(!i._isSheet){window.BambooHR.Modal.setState({isOpen:false});return}i.Signing.setContext(i.Signing.contexts.FORM);i.Canvas.removeEventListeners();window.BambooHR.Modal.setState({sheetProps:null},true)},primaryAction:null,primaryActionText:$.__("Apply Signature"),primaryActionKey:"Enter",title:$.__("Add Signature"),type:t?"largeSheet":"medium"};if(t){window.BambooHR.Modal.setState({sheetProps:n},true)}else{window.BambooHR.Modal.setState(n,true)}i.DrawType.init();i.Signing.setContext(i.Signing.contexts.DRAW_TYPE)}},handleTab(e){},_selectors:{field:".js-esignature-field-signature",fieldInput:".js-esignature-field-input-signature"}};var d=l;t.default=d},737332:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);const s={get FieldManager(){return window.Esignatures.Signing.FieldManager},init(){this.$=(0,n.setupWrappers)(this._selectors)},isValid(e){return e.value.trim()!==""},getValue(e){return e.$.find(this._selectors.fieldInput).val()},handleActivate(e){},handleBlur(e){},handleClick(e){var t=$(e).find(this._selectors.fieldInput).get(0);if(t!==document.activeElement){t.focus()}},handleTab(e){e.$.find(this._selectors.fieldInput).select()},_selectors:{field:".js-esignature-field-text",fieldInput:".js-esignature-field-input-text"}};var a=s;t.default=a},398607:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(35912));var a=n(i(645363));var r=n(i(1676));var o=n(i(515415));var l=n(i(724354));var d=n(i(737332));const u={get Checkbox(){return s.default},get Date(){return a.default},get Initials(){return r.default},get Paragraph(){return o.default},get Signature(){return l.default},get Text(){return d.default},init(){this.Checkbox.init();this.Date.init();this.Initials.init();this.Signature.init();this.Text.init();this.Paragraph.init()},_selectors:{fieldImage:".js-eSignature-canvas-image",fieldInput:".js-esignature-field-input"},insertImage(e,t){var i=t.$.find(this._selectors.fieldInput),n=i.parent(),s=document.createElement("IMG");s.src=e;i.css("opacity","0");i.val(e);t.value=e;s.onload=()=>{var t=s.naturalWidth/s.naturalHeight,i=n.outerHeight(),a=Math.ceil(i*t);if(n.find(this._selectors.fieldImage).length===0){n.append('<div class="eSignatureField--canvasImage js-eSignature-canvas-image" style="background-image:url('+e+')"></div>')}else{n.find(this._selectors.fieldImage).attr("style","background-image:url("+e+")")}s=undefined}},togglePlaceholder(e){var t=e.$.find(this._selectors.fieldInput),i=t.attr("data-alternate-placeholder");if(i!=undefined){var n=t.attr("placeholder");t.attr("placeholder",i).attr("data-alternate-placeholder",n)}else{console.warn('togglePlaceholder: Please make sure the element in question contains a "data-alternate-placeholder" attribute.')}}};var c=u;t.default=c},686336:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);var s=i(479706);var a=i(273641);const r={_fields:{},_activeField:null,_requiredCount:0,_remainingCount:0,_remainingRequiredCount:0,_selectors:{field:".js-esignature-field",fieldInput:".js-esignature-field-input",fieldRequired:".js-required-indicator",pane:".js-bhrPreview-pane"},_styles:{completed:"isCompleted",focused:"isFocused",invalid:"invalid"},_states:{default:"default",completed:"completed",focused:"focused"},_svg:{asterisk:'<ba-icon name="fab-asterisk-13x14" class="eSignatureField__requiredAsterisk"></ba-icon>',checkmark:'<ba-icon name="fab-check-14x14" class="eSignatureField__requiredCheck"></ba-icon>',checkboxAsterisk:'<ba-icon name="fab-asterisk-13x14" class="eSignatureField__requiredCheckboxAsterisk"></ba-icon>',checkboxCheckmark:'<ba-icon name="fab-check-14x14" class="eSignatureField__requiredCheckboxCheck"></ba-icon>'},get FieldPrototype(){return window.Esignatures.Signing.Prototypes.Field},get GroupManager(){return window.Esignatures.Signing.GroupManager},init(){this.$=(0,n.setupWrappers)(this._selectors);this._load();this._setInitialRemainingCount();this._setInitialRequiredCount();this._attachHandlers()},destroy(){this._fields={};this._activeField=null;this._requiredCount=0;this._remainingCount=0;this._remainingRequiredCount=0},setActiveField(e){var t,i;if((0,a.isString)(e)){e=this.get(e)}if(this._activeField&&((t=e)===null||t===void 0?void 0:t.id)===((i=this._activeField)===null||i===void 0?void 0:i.id)){return}this.clearActiveField();this._activeField=e;this._activeField.state=this._states.focused;e.$.addClass(this._styles.focused).removeClass(this._styles.completed);this._getFieldFromType(e.type).handleActivate(e);window.Esignatures.publish("signing:field:focus",e)},clearActiveField(){if(this._activeField){this._getFieldFromType(this._activeField.type).handleBlur(this._activeField);this._activeField.$.removeClass(this._styles.completed+" "+this._styles.focused);if(this._activeField.valid){this._activeField.$.addClass(this._styles.completed)}window.Esignatures.publish("signing:field:blur",this._activeField);this._activeField=null}},getActiveField(){return this._activeField},isActiveField(e){return this._activeField&&$.contains(this._activeField,e)},get(e){return(0,a.find)(this._fields,(function(t){return(t===null||t===void 0?void 0:t.id)===Number(e)}))},getAll(){return this._fields},getNextField(e){var t,i=Number((0,a.findKey)(this._fields,{id:e===null||e===void 0?void 0:e.id}));if(Number((0,a.findLastKey)(this._fields))===i){t=0}else{t=i+1}return this._fields[t]},getPrevField(e){var t,i=Number((0,a.findKey)(this._fields,{id:e===null||e===void 0?void 0:e.id}));if(i===0){t=(0,a.findLastKey)(this._fields)}else{t=i-1}return this._fields[t]},getNextInvalidField(e){var t=null,i=null,n=Number((0,a.findKey)(this._fields,{id:e===null||e===void 0?void 0:e.id}));(0,a.forIn)(this._fields,((e,s)=>{if(!t&&this._fields[s].valid===false&&s<n){t=s}if(this._fields[s].valid===false&&s>n){i=s;return false}}));var s=i||t;return s?this._fields[s]:null},set(e,t,i){if(typeof e!=="object"){e=this.get(e)}e[t]=i},getEmptyFieldsCount(){return this._remainingCount},getFirstField(){return this._fields[0]},getRequiredCount(){return this._requiredCount},getRemainingCount(){return this._remainingRequiredCount},updateField(e){e=e||this.getActiveField();if(e){var t=window.Esignatures.Signing.Field[(0,n.ucfirst)(e.type)].getValue(e);window.Esignatures.Signing.Field.Date.$.fieldInput.datepicker("hide");if(this.GroupManager.groupRequired(e.Group)){this.GroupManager.setFieldValue(e,t);this.GroupManager.validateGroup(e.Group);return}this.set(e,"value",t);this.validateField(e)}},addField(e,t,i,n,s){var a=new this.FieldPrototype({id:t,$:e,el:e.get(0),required:n,type:i,value:"",state:"default",valid:false});if(s===undefined){s=t}this._fields[s]=a;this.GroupManager.associateFieldWithGroup(a,a.$.data("group"));if(!a.required&&!this.GroupManager.groupRequired(a.Group)){a.$.find(this._selectors.fieldRequired).remove()}else if(a.Group){this.GroupManager.renderIndicatorsForGroup(a.Group)}return a},_load(){if(this.$.field.length>0){this.$.field.each(((e,t)=>{var i=$(t);this.addField(i,i.data("id"),i.data("type"),i.data("required"),e)}))}},updateRemainingCounts(){let e=this._numberOfFields;let t=this._requiredCount;$.each(this._fields,((i,n)=>{if(n.valid){--e;if(n.required){--t}}}));if(e<0){e=0}this._remainingCount=e;this.updateRequiredCount(t)},updateRequiredCount(e){this._remainingRequiredCount=e;this._remainingRequiredCount-=this.GroupManager.completedRequiredGroupCount();if(this._remainingRequiredCount<0){this._remainingRequiredCount=0}window.Esignatures.publish("signing:field:required:count",this._remainingRequiredCount,this._requiredCount)},_setInitialRemainingCount(){this._numberOfFields=Object.keys(this._fields).length;this._remainingCount=this._numberOfFields},_setInitialRequiredCount(){$.each(this._fields,((e,t)=>{if(t.required){++this._requiredCount}}));this._requiredCount+=this.GroupManager.totalRequiredGroupCount();this._remainingRequiredCount=this._requiredCount;window.Esignatures.publish("signing:field:required:count:initial",this._requiredCount)},handleTab(e){var t=$(this._selectors.pane),i=e.$.parent()[0].offsetTop,n=e.el.offsetTop+i-100;this.$.fieldInput.blur();this._getFieldFromType(e.type).handleTab(e);t.animate({scrollTop:n},350,(()=>{if(e.type==="date"){this._getFieldFromType(e.type).handleClick(e.el)}}))},_attachHandlers(){this.$.fieldInput.on("keyup paste cut",(e=>{var t=e.currentTarget;setTimeout((()=>{this.updateField(this.get($(t).closest(this._selectors.field).data("id")))}),0)}));this.$.field.on("click",(e=>{var t=e.currentTarget;this.setActiveField(t.getAttribute("data-id"));this._getFieldFromType(this._activeField.type).handleClick(t);e.stopPropagation()}));window.Esignatures.subscribe("signing:tab",this.handleTab,this)},_getFieldFromType(e){return window.Esignatures.Signing.Field[(0,n.ucfirst)(e)]},validateFields(){$.each(this._fields,((e,t)=>{if(!t.valid&&t.required){t.$.addClass(this._styles.invalid)}}))},validateField(e){this.set(e,"valid",window.Esignatures.Signing.Field[(0,n.ucfirst)(e.type)].isValid(e));if(e.valid){e.state=this._states.completed;this.renderCompletedIndicator(e)}else{e.state=this._states.default;this.renderRequiredIndicator(e)}this.updateRemainingCounts();window.Esignatures.publish("signing:field:validate",e)},renderRequiredIndicator(e){if(e.type==="checkbox"){e.$.find(this._selectors.fieldRequired).html(this._svg.checkboxAsterisk)}else{e.$.find(this._selectors.fieldRequired).html(this._svg.asterisk)}},renderCompletedIndicator(e){e.$.removeClass("invalid");if(e.type==="checkbox"){e.$.find(this._selectors.fieldRequired).html(this._svg.checkboxCheckmark)}else{e.$.find(this._selectors.fieldRequired).html(this._svg.checkmark)}},removeRequiredIndicator(e){e.$.find(this._selectors.fieldRequired).find("ba-icon").remove()},setCheckboxField(e,t){if(e.type!=="checkbox"){return}e.$.find(this._selectors.fieldInput).get(0).checked=t;this.set(e,"value",t)},performFullValidation(){$.each(this._fields,((e,t)=>{this.validateField(t)}))}};var o=r;t.default=o},800618:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);var s=i(479706);i(297647);const a={_activeField:null,_isReady:false,get FieldManager(){return window.Esignatures.Signing.FieldManager},get flagHeight(){return this.$.flag.outerHeight()},get Document(){return window.Esignatures.Previewer.Document},init(){this.$=(0,n.setupWrappers)(this._selectors);this._attachHandlers();if(!this.FieldManager.getFirstField()){this.hide()}},destroy(){this._activeField=null;this._isReady=false;this._destroyHandlers()},_selectors:{flag:".js-esignature-flag",link:"eSignatureFlag--link"},_onChange(){if(this._activeField){this.set(this._activeField)}},fieldIsValid(e){if(e.Group){return e.Group.valid}return e.valid||!e.required},set(e,t){var i=e.el.getBoundingClientRect(),n=this.$.flag[0].getBoundingClientRect(),s=this.Document.$.pane[0].getBoundingClientRect(),a=this.$.flag,r;if(t){a.addClass("animate")}else{a.removeClass("animate")}if(i.height<40){r=(i.height-24)/2}else{r=8}if(i.top>s.top&&i.top<s.bottom-n.height-r){a.css("top",i.top+r);if(this.fieldIsValid(e)&&this.FieldManager.getEmptyFieldsCount()>0){this.alterState("link");if(i.height<40){a.css("margin-top",`${-4}px`)}else{a.css("margin-top",`${-5}px`)}}else{this.alterState();a.css("margin-top",0)}}else{if(i.top<s.top){a.css("top",s.top);if(i.bottom<s.top+n.height){this.alterState("above")}}if(i.bottom>s.bottom-n.height-r){a.css("top",s.bottom-n.height);if(i.top>s.bottom-r){this.alterState("below")}}}},alterState(e){var t,i=this.$.flag;if(e!==undefined){t="eSignatureFlag--"+e}else{t=""}if(!i.hasClass(t)){i.alterClass("eSignatureFlag--*",t)}},_updateActiveField(e){this._activeField=e;if(this._isReady){this.set(this._activeField,true)}},startFlag(e){this._isReady=true;setTimeout((()=>{this.set(e)}),500)},hide(){if(this.$&&this.$.flag){this.$.flag.hide()}else{$(this._selectors.flag).hide()}},_attachHandlers(){this._destroyHandlers();this.$.flag.on("click",(e=>{var t;if($(e.currentTarget).hasClass(this._selectors.link)){t=this.FieldManager.getNextInvalidField(this._activeField);this.FieldManager.setActiveField(t)}else{t=this._activeField}if(t){this.FieldManager.handleTab(t)}}));$(window).on("resize.esignatures:signing:flag",(()=>{this._onChange()}));window.Esignatures.subscribe("signing:start",this.startFlag,this);window.Esignatures.subscribe("signing:field:focus",this._updateActiveField,this);window.Esignatures.subscribe("document:zoom",this._onChange,this);window.Esignatures.subscribe("document:scroll",this._onChange,this);window.Esignatures.subscribe("signing:field:validate",this._onChange,this);window.Esignatures.subscribe("signing:group:validate",this._onChange,this)},_destroyHandlers(){$(window).off("resize.esignatures:signing:flag")}};var r=a;t.default=r},638479:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);const s={init(){this.$=(0,n.setupWrappers)(this._selectors);this._prepareInputs();this._listenForResizeEvents();window.Esignatures.subscribe("document:zoom",this._zoomFonts,this)},size(e){var t=$(e);var i=t.data("clone");var s=parseFloat(t.data("maxSize")||t.css("font-size"),10);var a=t.width();if(!i){return}i.html((0,n.htmlentities)(t.val()));var r=a/(i.width()||1);var o=parseInt(t.css("font-size"),10);var l=Math.floor(Math.max(Math.min(o*r,s),t.data("minSize")));if(i.width()<=0){l=Math.floor(s)}t.css({fontSize:l});i.css({fontSize:l})},_selectors:{field:".js-esignature-field input[type=text]"},_listenForResizeEvents(){var e=this;this.$.field.on("keyup keydown",(function(){e.size(this)}))},_prepareInputs(){if(this._setInitialState()){this._generateClones()}},_generateClones(){this.$.field.each(((e,t)=>{var i=$(t);var n=$("<div></div>",{css:{fontSize:i.css("font-size"),fontFamily:i.css("font-family"),fontStyle:i.css("font-style"),fontWeight:i.css("font-weight"),fontVariant:i.css("font-variant"),letterSpacing:i.css("letter-spacing"),position:"fixed",left:"-9999px"}}).insertAfter(i);i.data("clone",n)}))},_setInitialState(){var e=4*window.Esignatures.Previewer.Zoom.$.slider.val()/100;var t=true;this.$.field.each(((i,n)=>{var s=$(n);var a=s.height()/2;if(a===0){t=false;window.setTimeout((()=>{this._prepareInputs()}),100);return false}s.css({fontSize:a});s.attr("data-lpignore","true");s.data("maxSize",a);s.data("minSize",e)}));return t},_zoomFonts(e){var t=this;var i=4*e/100;this.$.field.each(((e,n)=>{var s=$(n);var a=s.height()/2;s.data("maxSize",a);s.data("minSize",i);if(s.data("clone")&&s.data("clone").width()>0){t.size(n)}else{s.css({fontSize:a})}}))}};var a=s;t.default=a},534115:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);var s=i(479706);const a={get FieldManager(){return window.Esignatures.Signing.FieldManager},init(){this.$=(0,n.setupWrappers)(this._selectors);this._attachHandlers()},destroy(){this._destroyHandlers()},_selectors:{saveButton:".js-signing-save-button"},_attachHandlers(){this.$.saveButton.on("click.esignatures:signing:footer",(e=>{this._save(e)}));window.Esignatures.subscribe("signing:field:required:count",this._updateButtonStatus,this);window.Esignatures.subscribe("signing:field:required:count:initial",this._updateButtonStatus,this)},_save(e){const t=$(e.currentTarget);const{templateName:i,pendingSigners:s,totalSigners:a}=window.Esignatures.Signing.pageData;window.Esignatures.Signing.FieldManager.performFullValidation();window.Esignatures.Signing.GroupManager.performFullValidation();window.Esignatures.Signing.Field.Initials.isSheet=false;if(s==1){(0,n.eventTrack)("e-Signatures","Executed",i+" ("+a+")",null)}window.Esignatures.Signing.save(window.Esignatures.Signing.pageData.workflowId,window.Esignatures.Signing.pageData.workflowInstanceId,Object.assign({},window.Esignatures.Signing.pageData))},_destroyHandlers(){this.$.saveButton.off("click.esignatures:signing:footer")},_updateButtonStatus(e){if(e===0){window.BambooHR.Modal.setState({biId:"esignature-signing",primaryAction:this._save},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}}};var r=a;t.default=r},55535:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=i(273641);var a=n(i(686336));const r="only_one_checked";const o="at_least_one_checked";const l="optional";const d=[r,o];const u={_groups:{},init(){if((0,s.size)(window.groups)>0){this._groups=(0,s.mapValues)(window.groups,(e=>{e.fields={};e.valid=!this.groupRequired(e);return e}))}},associateFieldWithGroup(e,t){const i=this._groups[t]||null;if(i){i.fields[e.id]=e;e.Group=i}return i},groupRequired(e){if(!e){return false}return d.includes(e.type)},setFieldValue(e,t){if(e.Group.type===r){(0,s.each)(e.Group.fields,(t=>{if(e===t){return}a.default.setCheckboxField(t,false)}))}a.default.set(e,"value",t)},performFullValidation(){(0,s.each)(this._groups,(e=>{this.validateGroup(e)}))},validateGroup(e){if(e.type===r){this._validateOnlyOneCheckedGroup(e)}else if(e.type===o){this._validateAtLeastOneCheckedGroup(e)}this.renderIndicatorsForGroup(e);a.default.updateRemainingCounts();window.Esignatures.publish("signing:group:validate",e)},_validateOnlyOneCheckedGroup(e){e.valid=(0,s.filter)(e.fields,"value").length===1},_validateAtLeastOneCheckedGroup(e){e.valid=(0,s.some)(e.fields,"value")},renderIndicatorsForGroup(e){(0,s.each)(e.fields,(t=>{if(!e.valid){a.default.renderRequiredIndicator(t)}else if(t.value){a.default.renderCompletedIndicator(t)}else{a.default.removeRequiredIndicator(t)}a.default.set(t,"valid",e.valid)}))},totalRequiredGroupCount(){return(0,s.filter)(this._groups,this.groupRequired).length},completedRequiredGroupCount(){return(0,s.filter)(this._groups,(e=>e.valid&&this.groupRequired(e))).length},destroy(){this._groups={}}};var c=u;t.default=c},371132:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(222781));var a=i(479706);var r=i(273641);var o=i(774548);var l=n(i(417842));const d=(0,a.isEnabled)("reuse_signatures_toggle");const u={get DrawType(){return window.Esignatures.Signing.Helpers.DrawType},get Field(){return window.Esignatures.Signing.Field},get FieldManager(){return window.Esignatures.Signing.FieldManager},get Signing(){return window.Esignatures.Signing},init(){this.signatureText=null;this.$=(0,o.setupWrappers)(this._selectors);if(this.$.canvas.length>0){this.$.context=this.$.canvas[0].getContext("2d");this._setupContext(this.$.context);this.$.pad=new s.default(this.$.canvas[0])}if(this.$.dummyCanvas.length>0){this.$.dummy=this.$.dummyCanvas[0].getContext("2d");this._setupContext(this.$.dummy)}this._setupEventListeners()},config:{baseline:"top",font:"hvm",textSize:90,textColor:"#444"},_selectors:{canvas:".js-eSignature-canvas",dummyCanvas:".js-eSignature-dummy",formSubmit:".js-simplemodal-button-primary"},clearCanvas(){this.$.context.clearRect(0,0,this.$.canvas[0].width,this.$.canvas[0].height);this.$.dummy.clearRect(0,0,this.$.canvas[0].width,this.$.canvas[0].height)},_cropImageFromCanvas(e,t){var i=document.createElement("canvas"),n=i.getContext("2d",{preserveDrawingBuffer:true});var s=t.width,a=t.height,r=e.getImageData(0,0,t.width,t.height);let o=this.__trimTop(a,s,r);let l=this.__trimBottom(a,s,o,r);let d=this.__trimLeft(s,o,l,r);let u=this.__trimRight(s,o,l,d,r);s=u-d;a=l-o;if(typeof o=="undefined"||typeof l=="undefined"||typeof d=="undefined"||typeof u=="undefined"||s<=0||a<=0){i.width=t.width;i.height=t.height}else{var c=e.getImageData(d,o,s,a);i.width=s;i.height=a;n.putImageData(c,0,0)}let f=i.toDataURL();let h=document.createElement("canvas");let p=h.getContext("2d");h.width=i.width;h.height=i.height;i=undefined;let g=$.Deferred();let m=new Image;m.src=f;m.onload=function(){p.drawImage(m,0,0);let e=p.getImageData(0,0,h.width,h.height);for(let t=0;t<e.data.length;t++){if(e.data[t]>0){g.resolve(f);h=undefined;return}}h=undefined;$.post("/logging_handler/log",{name:"ESIGNATURES",message:"Browser generated an invalid signature or initial.",verb:"error",context:{browserDetails:window.navigator.userAgent}});setMessage("Please try upgrading or using a different browser to sign this document.","error");g.resolve("")};return g},__trimTop(e,t,i){for(let n=0;n<e;n++){for(let e=0;e<t;e++){let s=(n*t+e)*4;if(i.data[s+3]>0){return n}}}},__trimBottom(e,t,i,n){for(let s=e;s>i;s--){for(let e=0;e<t;e++){let i=(s*t+e)*4;if(n.data[i+3]>0){return s}}}},__trimLeft(e,t,i,n){for(let s=0;s<e;s++){for(let a=t;a<i;a++){let t=(a*e+s)*4;if(n.data[t+3]>0){return s}}}},__trimRight(e,t,i,n,s){for(let a=e;a>n;a--){for(let n=t;n<i;n++){let t=(n*e+a)*4;if(s.data[t+3]>0){return a}}}},getCanvasImage(e=this.$.context,t=this.$.canvas[0]){return this._cropImageFromCanvas(e,t)},getDummyScale(e){var t=this.$.canvas[0].width-100,i=this.getDummyWidth(e),n=(t/i).toFixed(1);return n},getDummyWidth(e){return this.$.dummy.measureText(e).width.toFixed(1)},removeEventListeners(){$(window).off("mouseup.Canvas mousedown.Canvas touchend.Canvas touchstart.Canvas")},_setFormSubmitEnabled(e=false){const t=this;const i=t.Field.Signature;const n=t.Field.Initials;const s=i.callback;const a=i.isSheet||n.isSheet;if(e){const e={primaryAction:()=>{if(typeof s==="function"&&s!==null&&!a){t.removeEventListeners();s()}else{$.when(t.getCanvasImage()).then((function(e){if(d){const i=t.FieldManager.getActiveField().type;const n=window.SESSION_USER.id;l.default.post(`/users/${n}/signatures`,{type:i,dataType:t.signatureText?"text":"image",data:t.signatureText?t.signatureText:e}).then((()=>{if(i==="signature"){t.Signing.savedSignaturePng=e}else if(i==="initials"){t.Signing.savedInitialsPng=e}}))}t.Field.insertImage(e,t.FieldManager.getActiveField());t.FieldManager.updateField();t.Signing.setContext(t.Signing.contexts.FORM);t.removeEventListeners();n.isSheet=false;window.BambooHR.Modal.setState({sheetProps:null},true)}))}}};if(a){window.BambooHR.Modal.setState({sheetProps:e},true)}else{window.BambooHR.Modal.setState(e,true)}}else{const e={primaryAction:null};if(a){window.BambooHR.Modal.setState({sheetProps:e},true)}else{window.BambooHR.Modal.setState(e,true)}}},_setupContext(e,t){if((0,r.isEmpty)(t)){t=this.config}e.font=t.textSize+"px "+t.font;e.fillStyle=t.textColor;e.textBaseline=t.baseline},_setupEventListeners(){this.removeEventListeners();$(window).on("mouseup.Canvas touchend.Canvas",(()=>{this.validateCanvas()}));$(window).on("mousedown.Canvas touchstart.Canvas",(e=>{if(e.target.classList.contains("js-eSignature-canvas")&&e.which===1){this.DrawType.hideTip();this.signatureText=null}}))},_updateText(e=this.$.context,t,i,n,s,a=true){if(a){this.clearCanvas(e)}e.font=i+"px "+this.config.font;e.fillText(t,n,s)},updateContext(e,t=this.$.context){let i=this.getDummyScale(e);let n=90;if(i<1){n=90*i}this.signatureText=e;this._updateText(t,e,n,50,50);this.validateCanvas()},validateCanvas(){if((0,r.isEmpty)(this.$.canvas)){this._setFormSubmitEnabled(false);return}var e=document.createElement("canvas");e.width=this.$.canvas[0].width;e.height=this.$.canvas[0].height;this._setFormSubmitEnabled(this.$.canvas[0].toDataURL()!=e.toDataURL());e=undefined}};var c=u;t.default=c},457526:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);const s={get Canvas(){return window.Esignatures.Signing.Helpers.Canvas},get Signing(){return window.Esignatures.Signing},get Typing(){return window.Esignatures.Signing.Helpers.Typing},init(){this.$=(0,n.setupWrappers)(this._selectors);this.Canvas.init();this.Typing.init(this.Canvas);this._setupListeners()},_default:{option1:"draw",option2:"type"},_selectors:{clear:".js-esignature-clear",option1Tip:".js-esignature-draw",option2Tip:".js-esignature-type",tips:".js-esignature-tip",toggle:"input:radio[name=eSignatureToggle]"},_setContext(e){var t=this.Typing.$.input;this.Canvas.clearCanvas();t.text("");switch(e){case this._default.option2:this._toggleTip(this.$.option2Tip);setTimeout((()=>{t.show().focus();this.Canvas.$.canvas.hide();this.showTip()}),200);break;case this._default.option1:default:this._toggleTip(this.$.option1Tip);t.hide();this.Canvas.$.canvas.show();this.showTip()}this.Canvas.validateCanvas()},_toggleContext(){if(this.Signing.getContext()!==this.Signing.contexts.DRAW_TYPE){return}this.$.toggle.filter(":not(:checked)").prop("checked",true).change()},_setupListeners(){if(this.$.toggle.length>0){this.$.toggle.change((e=>{this._setContext(this.$.toggle.filter(":checked").val())}));window.Esignatures.subscribe("document:tab",this._toggleContext,this);window.Esignatures.subscribe("document:shift+tab",this._toggleContext,this)}if(this.$.clear.length>0){this.$.clear.click((e=>{this.Typing.$.input.text("").focus();this.Canvas.clearCanvas();this.showTip();this.Canvas.validateCanvas()}))}},_toggleTip(e){this.$.tips.velocity({opacity:0},{complete(t){e.velocity({opacity:1},{duration:300})},duration:100})},hideTip(){this.$.tips.hide()},showTip(){this.$.tips.show()}};var a=s;t.default=a},599596:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(273641);var s=i(846436);const a=.1;const r=10;const o=15;function l(e,t={}){if(f(e)){u(e,t.maxFontSize)}else{d(e,t.minFontSize)}}function d(e,t=r){let i=h(e);let n=Math.floor((1-a)*i);if(n<=t){return}e.css("font-size",`${n}px`);if(f(e)===false){d(e,t)}}function u(e,t=o){let i=h(e);let n=Math.ceil((1+a)*i);if(t!==-1&&n>t){return}e.css("font-size",`${n}px`);if(f(e)){u(e,t)}else{e.css("font-size",`${i}px`)}}function c(e,t,i){let n=t.substring(0,i.start);let s=t.substring(i.end);let a;let r=e.val();r=r.slice(n.length);r=s.length?r.slice(0,-s.length):r;while(!f(e)){r=r.slice(0,-1);if(r.length>3){r=r.slice(0,-3)+"..."}a=n.length+r.length;e.val(n+r+s);e[0].setSelectionRange(a,a)}}function f(e){const t=e[0].scrollHeight;return(0,n.inRange)(e[0].clientHeight,t-2,t+2)}function h(e){return parseInt(e.css("font-size"),10)}function p(e){e.css({fontSize:s.PARAGRAPH_FIELD_FONT_SIZE+"px",lineHeight:s.PARAGRAPH_FIELD_LINE_HEIGHT/s.PARAGRAPH_FIELD_FONT_SIZE+"em",overflow:"hidden",overflowWrap:"break-word",paddingBottom:s.PARAGRAPH_FIELD_PADDING_BOTTOM+"px",paddingTop:s.PARAGRAPH_FIELD_PADDING_TOP+"px",paddingRight:s.PARAGRAPH_FIELD_PADDING_RIGHT+"px",paddingLeft:s.PARAGRAPH_FIELD_PADDING_LEFT+"px",whiteSpace:"normal"});if(e.is("textarea")){e.css({boxSizing:"border-box",resize:"none",width:"100%"})}}var g={applyDefaultStyles:p,fitText:l,textFits:f,truncateNewText:c};t.default=g},197965:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(774548);var s=i(479706);const a={Canvas:null,get DrawType(){return window.Esignatures.Signing.Helpers.DrawType},init(e){this.Canvas=e;this.$=(0,n.setupWrappers)(this._selectors);this.$.textSize=this.Canvas.config.textSize;this._setupEventListeners();this.$.input.attr("contenteditable",true)},_selectors:{input:".js-eSignature-type"},_updateSignatureType(e){var t=this.Canvas.getDummyScale(e);if(t<1){var i=this.$.textSize*t,n=this.$.textSize+(this.$.textSize-i)/3,s=(n/i).toFixed(2);this.$.input.css({"font-size":i,"line-height":s})}else{this.$.input.css({"font-size":this.$.textSize,"line-height":"1"})}},_setupEventListeners(){this.$.input.on("keydown",(e=>{var t=$(e.target).text(),i=this.Canvas.getDummyScale(t)*this.$.textSize;if(e.keyCode===13){e.preventDefault()}if(i<48&&e.keyCode!==8){e.preventDefault();return false}}));this.$.input.on("keyup",(e=>{var t=$(e.target).text();if(t){this._updateSignatureType(t)}this.Canvas.updateContext(t);if(t.length>0){this.DrawType.hideTip()}else{this.DrawType.showTip()}}))}};var r=a;t.default=r},420512:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(371132));var a=n(i(457526));var r=n(i(599596));var o=n(i(197965));const l={get Canvas(){return s.default},get DrawType(){return a.default},get Paragraph(){return r.default},get Typing(){return o.default}};var d=l;t.default=d},729062:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;const i=function(e){this.id=e.id;this.$=e.$;this.el=e.el;this.required=e.required;this.type=e.type;this.value=e.value;this.state=e.state;this.valid=e.valid;this.Group=e.Group||null};var n=i;t.default=n},271727:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(729062));const a={get Field(){return s.default}};var r=a;t.default=r},12144:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=i(774548);var a=i(479706);var r=n(i(184712));const o={get FieldManager(){return window.Esignatures.Signing.FieldManager},init(){this.$=(0,s.setupWrappers)(this._selectors);this._attachHandlers();r.default.createStandard(".js-esig-signing-download",{closeX:false,content:"Download",position:"bottom"})},_selectors:{itemPlural:"#js-esig-item-plural",itemSingle:"#js-esig-item-single",progress:".js-esignature-progress",progressBar:".js-esignature-progress-bar",progressLabelComplete:".js-progress-label-complete",progressLabelDefault:".js-progress-label-default",requiredCount:".js-required-count"},_attachHandlers(){window.Esignatures.subscribe("signing:field:required:count",this._updateRequiredProgress,this);window.Esignatures.subscribe("signing:field:required:count:initial",this._setRequiredProgress,this)},_updateRequiredProgress(e,t){this.$.requiredCount.text(e);if(e===1){this.$.itemPlural.hide();this.$.itemSingle.show()}if(e>1){this.$.itemPlural.show();this.$.itemSingle.hide()}if(e===0){this.$.progressLabelComplete.show();this.$.progressLabelDefault.hide()}else{this.$.progressLabelComplete.hide();this.$.progressLabelDefault.show()}var i=parseFloat((t-e)/t*100);if(i<3){i=3}this.$.progressBar.width(i+"%")},_setRequiredProgress(e){this.$.requiredCount.text(e);if(e>1){this.$.itemSingle.hide();this.$.itemPlural.show();return}if(e===0){this.$.progress.hide();return}this.$.itemPlural.hide();this.$.itemSingle.show()}};var l=o;t.default=l},682365:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(i(856075));var a=n(i(573674));var r=n(i(417842));var o=i(774548);var l=i(651745);var d=i(273641);var u=n(i(496406));var c=i(753134);var f=i(479706);var h=n(i(398607));var p=n(i(420512));var g=n(i(271727));var m=n(i(187393));var v=n(i(686336));var w=n(i(55535));var b=n(i(800618));var y=n(i(638479));var S=n(i(534115));var E=n(i(12144));var C=i(224309);const x=(0,f.isEnabled)("reuse_signatures_toggle");const T={get Field(){return h.default},get Helpers(){return p.default},get Prototypes(){return g.default},get CompletedSizer(){return m.default},get FieldManager(){return v.default},get GroupManager(){return w.default},get Flag(){return b.default},get FontSizer(){return y.default},get Footer(){return S.default},get Toolbar(){return E.default},contexts:{FORM:"FORM",DRAW_TYPE:"DRAW_TYPE"},currentContext:null,templateId:null,_overrideCloseValidation:false,savedFields:[],buttonElement:null,init(e){this.Toolbar.init();this.Footer.init();this.Field.init();this.GroupManager.init();this.FieldManager.init();this.Flag.init();this.CompletedSizer.init();this.FontSizer.init();this.Tracking=new C.Tracking({trackSigning:true});this.templateId=e;this.setContext(this.contexts.FORM);this.startSigning()},destroy(){this.GroupManager.destroy();this.FieldManager.destroy();this.Footer.destroy();this.Flag.destroy();this.Tracking.destroy();window.Esignatures.destroy();window.Esignatures.Signing.pageData=null},setContext(e){if(this.contexts.hasOwnProperty(e)){this.currentContext=e}},getContext(){return this.currentContext},_selectors:{fieldInput:".js-esignature-field-input",saveButton:".js-signing-save-button",viewSignedDocumentInput:".js-view-signed-document-input",viewSignedDocumentButton:".js-view-signed-document-button",field:".js-esignature-field"},enableButton(){if(this.buttonElement){this.buttonElement.classList.remove("fab-Button--isProcessing");this.buttonElement.disabled=false}},openModal(e,t,i,n,a,d=null){const u=this;u.preventUserUnload();this.buttonElement=d;if(this.buttonElement&&!this.buttonElement.disabled){this.buttonElement.classList.add("fab-Button--isProcessing");this.buttonElement.disabled=true}window.BambooHR.Modal.setState({isOpen:true,isLoading:true});const f=()=>{this.enableButton();const e=window.Esignatures.Signing.validateClose();if(e){$(document).off("keyup.esignatures:signing");window.Esignatures.Signing.destroy();u._overrideCloseValidation=false;window.BambooHR.Modal.setState({isOpen:false})}u._overrideCloseValidation=true};$(document).on("click","#js-download-file",(t=>{window.location.href=`/esignatures/files/download.php?id=${e}`}));let h={call:null,text:""};let p=`/esignatures/template/${e}/workflow_instance/${i}/load_signing`;if(appPrefix==="offer_letter/"){p=`/applicant_tracking/offer/esignature/template/${e}/workflow_instance/${i}/load_signing`}else if(appPrefix==="self_onboarding/"){p=`/self_onboarding/packet/esignature/template/${e}/workflow_instance/${i}/load_signing`}if(appPrefix!=="offer_letter/"){h={call:()=>{this.finishLater(i,Object.assign({},window.Esignatures.Signing.pageData))},text:$.__("Save & Finish Later")}}r.default.get(p).then((e=>{if(e.data.success===false){window.setMessage($.__("There was an error processing your request"),"error");return}e.data=e.data.trim();window.groups=JSON.parse($(e.data).filter("#js-groups").text()||"{}").groups;const d=JSON.parse($(e.data).filter("#js-saved-fields").text()||"{}").savedFields;const p=Object.values(d);const g=[];this.savedFields=g.concat.apply([],p);if(x){this._loadSavedSignatures(JSON.parse($(e.data).filter("#js-saved-signatures").text()||"{}").savedSignatures)}window.BambooHR.Modal.setState({actionNote:(0,s.default)(c.Message,{link:(0,c.ExternalLink)("https://www.bamboohr.com/terms-of-service/"),text:$.__("I agree to electronically signing the document according to section 16 of the [Terms of Service].")}),alternativeAction:null,secondaryAction:h.call,secondaryActionText:h.text,contentHasPadding:false,dangerousContent:'<div id="js-esigContent"></div>',header:(0,s.default)("span",{className:"eSignatureModal__header"},void 0,(0,s.default)("span",{className:"eSignatureModal__headerIcon"},void 0,(0,s.default)(l.Icon,{name:"fab-file-esig-20x24"})),(0,s.default)("h2",{},void 0,(0,s.default)("span",{className:"eSignatureModal__headerText"},void 0,a))),isHeadless:true,isOpen:true,isLoading:true,isProcessing:true,onClose:f,primaryAction:null,primaryActionText:$.__("Confirm Signature"),type:"fullScreen"},{autoClose:false});$("#js-esigContent").replaceWith(BambooHR.Utils.sanitizeHtml(e.data));window.BambooHR.Modal.setState({isLoading:false},true);setTimeout((()=>{let e=`/esignatures/workflow/${t}/workflow_instance/${i}/load_footer`;if(appPrefix==="offer_letter/"){e=`/applicant_tracking/offer/esignature/workflow/${t}/workflow_instance/${i}/load_footer`}else if(appPrefix==="self_onboarding/"){e=`/self_onboarding/packet/esignature/workflow/${t}/workflow_instance/${i}/load_footer`}r.default.get(e).then((e=>{window.BambooHR.Modal.setState({isProcessing:false},true);const t=$(e.data);const i=t.find("button").data();window.Esignatures.Signing.pageData=i}));(0,o.executeFunction)(n);u._overrideCloseValidation=false;$(document).on("keyup.esignatures:signing",(function(e){if(e.which===13){e.stopPropagation();if(window.BambooHR.Modal.isOpen()){$(u._selectors.saveButton).click()}}}))}))})).catch((e=>{window.BambooHR.Modal.setState({isOpen:false});if(e.response){e=e.response.data.error}window.setMessage(e.message,"error")}))},async _loadSavedSignatures(e){var t,i,n,s;this.savedInitialsPng=null;this.savedSignaturePng=null;await this._createPngFromSavedSignature("dt",200,200);if((e===null||e===void 0?void 0:(t=e.signature)===null||t===void 0?void 0:t.dataType)==="image"){this.savedSignaturePng=e.signature.data}else if((e===null||e===void 0?void 0:(i=e.signature)===null||i===void 0?void 0:i.dataType)==="text"){this.savedSignaturePng=await this._createPngFromSavedSignature(e.signature.data,1104,404)}if((e===null||e===void 0?void 0:(n=e.initials)===null||n===void 0?void 0:n.dataType)==="image"){this.savedInitialsPng=e.initials.data}else if((e===null||e===void 0?void 0:(s=e.initials)===null||s===void 0?void 0:s.dataType)==="text"){this.savedInitialsPng=await this._createPngFromSavedSignature(e.initials.data,864,316)}},async _createPngFromSavedSignature(e,t,i){const n=this.Helpers.Canvas;const s={baseline:"top",font:"hvm",textSize:90,textColor:"#000"};const a=document.createElement("canvas");const r=a.getContext("2d");a.width=t;a.height=i;const o=document.createElement("canvas");const l=o.getContext("2d");o.width=t;o.height=i;n._setupContext(l,s);const d=l.measureText(e).width.toFixed(1);const u=a.width-100;const c=d;const f=(u/c).toFixed(1);let h=90;if(f<1){h=90*f}n._setupContext(r,s);n._updateText(r,e,h,50,50,false);return await n.getCanvasImage(r,a)},openPreviewModeModal(e,t,i){window.BambooHR.Modal.setState({isOpen:true,isLoading:true});let n=`/esignatures/template/${e}/workflow_instance/${t}/load_signing_preview`;if(appPrefix==="offer_letter/"){n=`/applicant_tracking/offer/esignature/template/${e}/workflow_instance/${t}/load_signing_preview`}else if(appPrefix==="self_onboarding/"){n=`/self_onboarding/packet/esignature/template/${e}/workflow_instance/${t}/load_signing_preview`}r.default.get(n).then((e=>{if(e.data.success===false){if(e.data.permission===false){window.BambooHR.Modal.setState({isOpen:false},true,(()=>{window.showFileNoAccess(i)}));return}window.setMessage($.__("There was an error processing your request"),"error");window.BambooHR.Modal.setState({isOpen:false});return}window.BambooHR.Modal.setState({alternativeActionText:"",contentHasPadding:false,dangerousContent:e.data,headline:i,isLoading:false,isHeadless:true,isOpen:true,onClose:()=>{window.BambooHR.Modal.setState({isOpen:false})},primaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:$.__("I’m Done Looking"),type:"fullScreen"});window.Esignatures.installMediator();window.Esignatures.Previewer.init(window.Esignatures.TYPE_SIGNING);window.Esignatures.Signing.Toolbar.init();window.Esignatures.Signing.Flag.hide()})).catch((e=>{window.BambooHR.Modal.setState({isOpen:false});if(e.response){e=e.response.data.error}window.setMessage(e.message,"error")}))},save(e,t,i={}){let n=JSON.stringify(this.FieldManager.getAll(),(function(e,t){if(e==="$"||e==="el"||e==="Group"||e==="state"||e==="valid"){return undefined}if(t.type==="date"&&t.value!==""){t.value=(0,u.default)(t.value,u.default.defaultFormat).format("YYYY-MM-DD")}return t}));let s=$(this._selectors.saveButton);let a=(0,d.merge)(i,{ajax:true,fields:n,route:"confirmSignature",workflowId:e,workflowInstanceId:t});window.BambooHR.Modal.setState({isProcessing:true},true);let l=`/esignatures/workflow_instance/${t}/confirm_signature`;if(appPrefix==="offer_letter/"){l=`/applicant_tracking/offer/esignature/workflow_instance/${t}/confirm_signature`}else if(appPrefix==="self_onboarding/"){l=`/self_onboarding/packet/esignature/workflow_instance/${t}/confirm_signature`}r.default.post(l,a).then((e=>{e=e.data;if(e.success){let i={employeeId:e.employeeId,employeeSignedFinalDocumentInTask:e.employeeSignedFinalDocumentInTask,employeeTasklistItemId:e.employeeTasklistItemId,onboardingPageId:e.onboardingPageId,response:e,workflowInstanceId:t};window.Esignatures.publish("signing:save",i);BambooHR.publish("esignatures:signing:save",i);(0,o.eventTrack)("e-Signatures","Sign",window.Esignatures.Signing.pageData.templateName,null);window.Esignatures.Signing.allowUserUnload();setMessage(e.message,"success");this._overrideCloseValidation=true;window.Esignatures.Signing.destroy();window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true);const t=e.error.message;setMessage(t,"error")}})).catch((e=>{window.BambooHR.Modal.setState({isProcessing:false},true);if(e.response){e=e.response.data.error}window.setMessage(e.message,"error")}))},finishLater(e,t={}){var i=this;let n=JSON.stringify(this.FieldManager.getAll(),(function(e,t){if(e==="$"||e==="el"||e==="Group"||e==="state"||e==="valid"){return undefined}if(t.type==="date"&&t.value!==""){t.value=(0,u.default)(t.value,u.default.defaultFormat).format("YYYY-MM-DD")}return t}));let s=(0,d.merge)(t,{ajax:true,fields:n,route:"finishSignatureLater",workflowInstanceId:e});window.BambooHR.Modal.setState({isProcessing:true},true);let a=`/esignatures/workflow_instance/${e}/finish_later`;if(appPrefix==="self_onboarding/"){a=`/self_onboarding/packet/esignature/workflow_instance/${e}/finish_later`}r.default.post(a,s).then((t=>{let n=t.data;if(n.success){this.enableButton();var s={employeeId:n.employeeId,onboardingPageId:n.onboardingPageId,response:n,workflowInstanceId:e};window.Esignatures.publish("signing:finishLater",s);BambooHR.publish("esignatures:signing:finishLater",s);(0,o.eventTrack)("e-Signatures","Finish Later",window.Esignatures.Signing.pageData.templateName,null);window.Esignatures.Signing.allowUserUnload();window.Esignatures.Signing.destroy();setMessage(n.message,"success");i._overrideCloseValidation=true;window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true);setMessage(n.error.message,"error")}})).catch((e=>{window.BambooHR.Modal.setState({isProcessing:false},true);if(e.response){e=e.response.data.error}window.setMessage(e.message,"error")}))},_tabNext(){const e=this.FieldManager;if(this.getContext()!==this.contexts.FORM||e.getActiveField()===null){return}let t=e.getNextField(e.getActiveField());e.setActiveField(t);window.Esignatures.publish("signing:tab",t)},_tabPrev(){if(this.getContext()!==this.contexts.FORM){return}var e=this.FieldManager.getPrevField(this.FieldManager.getActiveField());this.FieldManager.setActiveField(e);window.Esignatures.publish("signing:tab",e)},validateClose(){var e=this;if(!this._overrideCloseValidation){window.BambooHR.Modal.setState({sheetProps:{onClose:()=>{e._overrideCloseValidation=false;window.BambooHR.Modal.setState({sheetProps:null},true)},alternativeAction:()=>{e._overrideCloseValidation=false;window.BambooHR.Modal.setState({sheetProps:null},true)},alternativeActionText:$.__("Keep Working"),dangerousContent:`<span class="eSignatureModal__content">${$.__("By exiting this form before it is completed, you will lose any progress that you have made.")}</span>`,headline:$.__("Are you sure you want to cancel?"),icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isMobileFriendly:true,isOpen:true,primaryAction:()=>{window.Esignatures.publish("signing:close");BambooHR.publish("esignatures:signing:close");window.Esignatures.Signing.allowUserUnload();window.Esignatures.Signing.destroy();e._overrideCloseValidation=true;window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:$.__("Yes, Exit Form"),title:$.__("Just Checking...")}},true);return false}return true},startSigning(){var e=this.FieldManager.getFirstField();if(!e){return}let t=false;$(this._selectors.field).each((function(e,i){var n=$(i);if(n.data("type")=="signature"||n.data("type")=="initials"){t=true;return false}}));if(t){this._checkCanvasAvailability()}this.FieldManager.setActiveField(e);if(this.savedFields){this.savedFields.forEach((e=>{let t=this.FieldManager.get(e.id);if(e.templateFieldValueId&&e.templateFieldValueId!==""){t.templateFieldValueId=e.templateFieldValueId}if(e.value&&e.value!==""){switch(t.type){case"paragraph":break;case"date":e.value=(0,u.default)(e.value,"YYYY-MM-DD").format(u.default.defaultFormat);t.$.find("input")[0].value=e.value;break;case"checkbox":if(e.value!==1||e.value!==true){t.$.find("input")[0].value=e.value}break;default:t.$.find("input")[0].value=e.value;break}this.FieldManager.setActiveField(t);if(t.type==="checkbox"){if(e.value!==1||e.value!==true){this.FieldManager._getFieldFromType(this.FieldManager.getActiveField().type).handleClick(t.el)}}this.FieldManager.updateField();if(t.type==="signature"||t.type==="initials"){t.$.find("input")[0].value=""}}}))}window.Esignatures.publish("signing:start",e);window.Esignatures.subscribe("document:tab",this._tabNext,this);window.Esignatures.subscribe("document:shift+tab",this._tabPrev,this)},checkForCompletedDocument(e,t){$.get("/ajax/"+appPrefix+"esignature/signing/index.php/checkCompletedDocument?workflowInstanceId="+e,(e=>{if(e.success){clearInterval(t);this._updateViewSignedDocumentButton(e.fileId,e.fileDataId,e.name,e.mode)}}),"json")},_updateViewSignedDocumentButton(e,t,i,n){var s=$(this._selectors.viewSignedDocumentInput);s.data("file_id",e);s.data("filename",i);s.data("filemode",n);var a=$(this._selectors.viewSignedDocumentButton);a.on("click",(function(){previewEmployeeFile(t,e,i,"input")}));a.removeClass("disabled processing")},_checkCanvasAvailability(){let e=document.createElement("canvas");let t=e.getContext("2d");e.width=3;e.height=2;let i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAYAAACddGYaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAbSURBVBhXYwCCACB+D8T3mYCEAxALMDAwKAAAJsQCkTqExLQAAAAASUVORK5CYII=";let n=new Image;n.src=i;n.onload=function(){t.drawImage(n,0,0);let i=t.getImageData(0,0,e.width,e.height);let s=document.createElement("canvas");let a=s.getContext("2d");s.width=e.width;s.height=e.height;let r=new Image;r.src=e.toDataURL();r.onload=function(){a.drawImage(r,0,0);let e=a.getImageData(0,0,s.width,s.height);for(let t=0;t<e.data.length;t++){if(e.data[t]>0){return}}setMessage("Please try upgrading or using a different browser to sign this document.","error");$.post("/logging_handler/log",{name:"ESIGNATURES",message:"Browser generated an invalid signature or initial.",verb:"error",context:{browserDetails:window.navigator.userAgent}})}}},preventUserUnload(){window.addEventListener("beforeunload",this.windowBeforeUnload)},allowUserUnload(){window.removeEventListener("beforeunload",this.windowBeforeUnload)},windowBeforeUnload(e){e.preventDefault();e.returnValue=""}};var k=T;t.default=k},543840:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Tracking=void 0;var n=i(390723);var s=i(304058);class a{static get className(){return"Tracking"}get TrackSetupEdits(){return this.TemplateEditTracker}get TrackSignings(){return this.SigningTracker}constructor(e={}){this.defaultTracker=new s.BaseTracker;this.TemplateEditTracker=this.defaultTracker;this.SigningTracker=this.defaultTracker;this.initializeTrackers(e)}initializeTrackers(e){const{trackTemplateEdit:t,trackSigning:i}=e;if(t){this.TemplateEditTracker=new n.TrackSetupEdits}if(i){this.SigningTracker=new n.TrackSignings}}destroy(){this.sendData();this.TemplateEditTracker.destroy();this.SigningTracker.destroy()}disableTrackers(e){const{untrackTemplateEdit:t,untrackSigning:i}=e;if(t){this.TemplateEditTracker=this.defaultTracker}if(i){this.SigningTracker=this.defaultTracker}}sendData(){this.TemplateEditTracker.sendData();this.SigningTracker.sendData()}}t.Tracking=a},224309:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Tracking",{enumerable:true,get:function(){return n.Tracking}});var n=i(543840)},304058:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.BaseTracker=void 0;var s=n(i(417842));var a=i(774548);class r{static get className(){return"BaseTracker"}constructor(e={}){this._Ajax=s.default;this._eventTrack=a.eventTrack;const{ajax:t,eventTracker:i}=e;this._Ajax=t?t:this._Ajax;this._eventTrack=i?i:this._eventTrack}destroy(){}sendResultsToGoogle(){}sendDataToPendo(){}sendData(){}}t.BaseTracker=r},596688:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TrackSetupEdits=void 0;var n=i(304058);class s extends n.BaseTracker{static get className(){return"TrackSetupEdits"}constructor(e={}){super();this._editStartTime=0;this._editEndTime=0;this._canceledEdit=false;this._numberOfFieldsChangedFromModal=0;this._signersUpdatedFromFlyout=0;this._totalNumberOfChanges=0;this._totalChangesFromEmployeeSigner=0;if(e.isTestObject!==true){this._attachHandlers()}this.createStartTime()}_attachHandlers(){window.Esignatures.subscribe("setup:field:create",this.incrementChangeCount,this);window.Esignatures.subscribe("setup:field:destroy",this.incrementChangeCount,this);window.Esignatures.subscribe("setup:field:signer:trackFlyoutChange",this.changedFromFlyOut,this);window.Esignatures.subscribe("setup:field:signer:trackSignerModalChange",this.changedFromModal,this);window.Esignatures.subscribe("setup:template:canceled",this.cancelEdit,this)}cancelEdit(){this._canceledEdit=true}changedFromModal(e){this._totalNumberOfChanges+=e;this._numberOfFieldsChangedFromModal+=e}changedFromFlyOut(e){const{currentSigner:t,updatedSigner:i}=e;const{type:n}=t;const{type:s}=i;if(n!==s){this.incrementChangeCount();if(t.type==="employee"){this.incrementChangeFromEmployeeSigner()}else{this.incrementFlyoutChange()}}}createStartTime(){this._editStartTime=Date.now()}createEndTime(){this._editEndTime=Date.now()}destroy(){this.resetToDefault()}getEditTime(){const e=this.getTotalTime();const t=e/1e3;const i=t/60;const n=i/60;const s=(n-Math.floor(n))*60;const a=(s-Math.floor(s))*60;const r=n<10?`0${Math.floor(n)}`:`${Math.floor(n)}`;const o=s<10?`0${Math.floor(s)}`:`${Math.floor(s)}`;const l=a<10?`0${Math.floor(a)}`:`${Math.floor(a)}`;return`${r}:${o}:${l}`}getEditTimeInMinutes(){const e=this.getTotalTime();const t=e/1e3;return t/60}getTrackingData(){return{timeSpentEditing:this.getEditTime(),canceledEdit:this._canceledEdit,numberOfFieldsChangedFromModal:this._numberOfFieldsChangedFromModal,signersChangedOldWay:this._signersUpdatedFromFlyout,totalNumberOfEdits:this._totalNumberOfChanges,totalFromEmployeeChanges:this._totalChangesFromEmployeeSigner}}getTotalTime(){const e=this._editEndTime-this._editStartTime;return e>0?e:0}incrementChangeCount(){this._totalNumberOfChanges+=1}incrementChangeFromEmployeeSigner(){this._totalChangesFromEmployeeSigner+=1}incrementFlyoutChange(){this._signersUpdatedFromFlyout+=1}resetToDefault(){this._editStartTime=0;this._editEndTime=0;this._canceledEdit=false;this._numberOfFieldsChangedFromModal=0;this._signersUpdatedFromFlyout=0;this._totalNumberOfChanges=0;this._totalChangesFromEmployeeSigner=0}sendResultsToGoogle(){this.createEndTime();if(this._canceledEdit===false){if(window.ENV==="dev"){console.log({Updated_Signers_Old_Way:this._signersUpdatedFromFlyout,Updated_Signers_From_Modal:this._numberOfFieldsChangedFromModal,Time_Taken_Editing_Minutes:Math.round(this.getEditTimeInMinutes()),Total_Number_Edits:this._totalNumberOfChanges,Total_Changed_From_Default_Signer:this._totalChangesFromEmployeeSigner})}this._eventTrack("eSigTemplate","Updated_Signers_Old_Way",null,this._signersUpdatedFromFlyout);this._eventTrack("eSigTemplate","Updated_Signers_From_Modal",null,this._numberOfFieldsChangedFromModal);this._eventTrack("eSigTemplate","Time_Taken_Editing_Minutes",null,Math.round(this.getEditTimeInMinutes()));this._eventTrack("eSigTemplate","Total_Number_Edits",null,this._totalNumberOfChanges);this._eventTrack("eSigTemplate","Total_Changed_From_Default_Signer",null,this._totalChangesFromEmployeeSigner)}else{if(window.ENV==="dev"){console.log({Canceled_Editing:true,Time_Taken_Before_Canceled_Editing:Math.round(this.getEditTimeInMinutes())})}this._eventTrack("eSigTemplate","Canceled_Editing",null,1);this._eventTrack("eSigTemplate","Time_Taken_Before_Canceled_Editing",null,Math.round(this.getEditTimeInMinutes()))}}sendDataToPendo(){this.createEndTime();this._Ajax.post("/esignatures/template/track_edit",{trackingData:this.getTrackingData()})}sendData(){this.sendDataToPendo();this.sendResultsToGoogle()}}t.TrackSetupEdits=s},347757:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"TrackSetupEdits",{enumerable:true,get:function(){return n.TrackSetupEdits}});var n=i(596688)},421339:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TrackSignings=void 0;var n=i(304058);class s extends n.BaseTracker{static get className(){return"TrackSignings"}constructor(e={}){super();this._signingStartTime=0;this._signingEndTime=0;this._formStartTime=0;this._formStarted=false;this._savedSigning=false;if(e.isTestObject!==true){this._attachHandlers()}}_attachHandlers(){window.Esignatures.subscribe("signing:save",this.saveSigning,this);window.Esignatures.subscribe("signing:field:validate",this.startedForm,this);window.Esignatures.subscribe("signing:start",this.startedSigning,this)}saveSigning(){this._savedSigning=true}createStartTime(){this._signingStartTime=Date.now()}createEndTime(){this._signingEndTime=Date.now()}createFormStartTime(){this._formStartTime=Date.now()}destroy(){this.resetToDefault()}formatTime(e){let t="00:00:00";if(e){const i=e/1e3;const n=i/60;const s=n/60;const a=(s-Math.floor(s))*60;const r=(a-Math.floor(a))*60;const o=s<10?`0${Math.floor(s)}`:`${Math.floor(s)}`;const l=a<10?`0${Math.floor(a)}`:`${Math.floor(a)}`;const d=r<10?`0${Math.floor(r)}`:`${Math.floor(r)}`;t=`${o}:${l}:${d}`}return t}getSigningTime(){return this.formatTime(this.getTotalTimeFromStartingPoint(this._signingStartTime))}getFormTime(){return this.formatTime(this.getTotalTimeFromStartingPoint(this._formStartTime))}getSigningTimeInMinutes(){const e=this.getTotalTimeFromStartingPoint(this._signingStartTime);const t=e/1e3;return t/60}getSigningTimeWithFormInMinutes(){let e=0;if(this._formStarted){const t=this.getTotalTimeFromStartingPoint(this._formStartTime);const i=t/1e3;e=i/60}return e}getTrackingData(){return{timeSpentSigning:this.getSigningTime(),timeSpentSigningWithForm:this.getFormTime(),savedSigning:this._savedSigning}}getTotalTimeFromStartingPoint(e){const t=this._signingEndTime-e;return t>0?t:0}resetToDefault(){this._signingStartTime=0;this._signingEndTime=0;this._formStartTime=0;this._formStarted=false}sendSigningOpenToGoogle(){if(window.ENV==="dev"){console.log({Signing_Opened:true})}this._eventTrack("eSig","Signing Opened",null,1)}sendSigningStartedToGoogle(){if(window.ENV==="dev"){console.log({Signing_Started:true})}this._eventTrack("eSig","Signing Started",null,1)}sendResultsToGoogle(){this.createEndTime();if(this._savedSigning){if(window.ENV==="dev"){console.log({Signing_Completed:true,Time_Taken_Signing:this.getSigningTime(),Time_Taken_Signing_With_Form:this.getFormTime()})}this._eventTrack("eSig","Signing Completed",null,1);this._eventTrack("eSig","Time_Taken_Signing",null,this.getSigningTime());this._eventTrack("eSig","Time_Taken_Signing_With_Form",null,this.getFormTime())}}sendData(){this.sendResultsToGoogle()}startedSigning(){this.createStartTime();this.sendSigningOpenToGoogle()}startedForm(){if(!this._formStarted){this.createFormStartTime();this._formStarted=true;this.sendSigningStartedToGoogle()}}}t.TrackSignings=s},324801:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"TrackSignings",{enumerable:true,get:function(){return n.TrackSignings}});var n=i(421339)},390723:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"TrackSetupEdits",{enumerable:true,get:function(){return n.TrackSetupEdits}});Object.defineProperty(t,"TrackSignings",{enumerable:true,get:function(){return s.TrackSignings}});var n=i(347757);var s=i(324801)},904170:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.ReportIcons=t.STATUSES=t.DATE_TYPES=void 0;var s=n(i(856075));var a=n(i(573674));var r=i(288015);var o;t.DATE_TYPES=o;(function(e){e["REQUESTED"]="requested";e["SIGNED"]="signed"})(o||(t.DATE_TYPES=o={}));var l;t.STATUSES=l;(function(e){e["COMPLETED"]="Completed";e["COMPLETED_NOT_SIGNED"]="CompletedNotSigned";e["IN_PROGRESS"]="InProgress";e["SENT"]="Sent";e["SIGNED"]="Signed";e["WAITING"]="Waiting";e["VIEWED"]="Viewed";e["NOT_SIGNED"]="NotSigned";e["NOT_SENT"]="NotSent"})(l||(t.STATUSES=l={}));const d={Completed:(0,s.default)(r.CheckCircle16x16,{}),CompletedNotSigned:(0,s.default)(r.CircleX16x16,{}),InProgress:(0,s.default)(r.Clock20x20,{}),Sent:(0,s.default)(r.PaperAirplane14x14,{}),Signed:(0,s.default)(r.Check11x11,{}),Waiting:(0,s.default)(r.Hourglass12x14,{}),Viewed:(0,s.default)(r.Eye16x12,{}),NotSigned:(0,s.default)(r.X14x14,{}),NotSent:(0,s.default)(r.PaperAirplane14x14,{})};t.ReportIcons=d},676467:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.ActionCell=o;var s=n(i(856075));var a=n(i(573674));var r=i(651745);function o(e){const{cancel:t=(()=>1),isSupportUser:i=false,row:n,remind:a=(()=>1),rebuild:o=(()=>1),showSpecialRebuild:l,uncancel:d=(()=>1),warnInactive:u=(()=>1)}=e;const{isCancelled:c=false,cantSendReminder:f=false,cantSendReminderTooltipText:h="",current_signer_enabled:p=false,current_signer_name:g="",status:m=""}=n;let v=null;if(c){v=null}else if(m!="CompletedNotSigned"&&m!="Completed"){let e=(0,s.default)("div",{className:"fab-Table__cellAction"},void 0,(0,s.default)(r.Tooltip,{content:h},void 0,(0,s.default)(r.FloatingIconButton,{icon:"fab-bell-ringing-15x18",isDisabled:true,secondary:true,size:"teenie",type:"button"})));if(!f){e=(0,s.default)("div",{className:"fab-Table__cellAction"},void 0,(0,s.default)(r.Tooltip,{content:$.__("Send Reminder")},void 0,(0,s.default)(r.FloatingIconButton,{clickAction:()=>{if(p){a()}else{u()}},icon:"fab-bell-ringing-15x18",secondary:true,size:"teenie",type:"button"})))}return(0,s.default)("div",{className:"fab-Table__cellActions"},void 0,!!g&&e,(0,s.default)("div",{className:"fab-Table__cellAction"},void 0,(0,s.default)(r.Tooltip,{content:$.__("Cancel Request")},void 0,(0,s.default)(r.FloatingIconButton,{clickAction:t,icon:"fab-circle-x-16x16",secondary:true,size:"teenie",type:"button"}))))}else if(i){v=(0,s.default)("div",{className:"fab-Table__cellActions"},void 0,(0,s.default)(r.Button,{clickAction:()=>o(false),outline:true,secondary:true,size:"teenie",text:$.__("Rebuild"),type:"button"}),l?(0,s.default)(r.Tooltip,{content:"Please do not run unless you have talked to Tier 2.",title:"This rebuild is for a specific scenario."},void 0,(0,s.default)(r.Button,{clickAction:()=>o(true),outline:true,secondary:true,size:"teenie",text:$.__("Alternate Rebuild"),type:"button"})):null)}return v}},120166:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.CancelModal=f;var s=n(i(856075));var a=u(i(573674));var r=i(651745);var o=i(288015);var l=i(261462);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(d=function(e){return e?i:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=d(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}const c=(0,r.makeStyles)((({palette:e})=>({icon:{fill:e.warning.main}})));function f(e){const{data:t,isOpen:i,setData:n,setIsOpen:d}=e;const{callback:u,ids:f,tableData:h,templateId:p,user:g}=t;const[m,v]=(0,a.useState)(false);const w=c();const b=!!g;const y=$.__("Are you sure you want to cancel the signature requests for all %1 pending signers?",f);const S=$.__("Are you sure you want to cancel the signature request for %1?",g);const E=b?S:y;const C=()=>{v(true);(0,l.cancel)(b?f:"",g,h,((e,t)=>{u(e,t);v(false);d(false)}),p)};return(0,s.default)(r.StandardModal,{isOpen:i,onCloseComplete:()=>n({}),onRequestClose:()=>d(false)},void 0,(0,s.default)(r.StandardModal.Body,{renderFooter:(0,s.default)(r.StandardModal.Footer,{actions:[(0,s.default)(r.Button,{isDisabled:m,onClick:C,type:"button"},"button",b?$.__("Yes, Cancel Request"):$.__("Yes, Cancel Requests")),(0,s.default)(r.TextButton,{isDisabled:m,onClick:()=>d(false),type:"button"},"secondary",b?$.__("No, Keep Request"):$.__("No, Keep Requests"))]}),renderHeader:(0,s.default)(r.StandardModal.Header,{hasCloseButton:true,title:$.__("Just Checking...")})},void 0,(0,s.default)(r.StandardModal.Constraint,{},void 0,(0,s.default)(r.StandardModal.HeroHeadline,{icon:(0,s.default)("span",{className:w.icon},void 0,(0,s.default)(o.TriangleExclamation48x48,{})),subtext:$.__("They will no longer be able to sign this document."),text:E}))))}},116782:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.DateCell=d;var s=n(i(856075));var a=n(i(573674));var r=n(i(341757));var o=i(164236);var l=i(904170);function d(e){const{dateType:t,row:i}=e;const{hideBasicView:n,multipleSigners:a}=(0,o.getCellFlags)(i);const{isCancelled:d=false,renderBasicView:u=(0,o.getRenderBasicViewFromStatus)(i.status),requested_date:c="",signed_date:f="",status:h="",signers:p={}}=i;if(d){return(0,s.default)("div",{})}const g=a?"js-record-detail-view":"js-record-basic-view";const m=l.DATE_TYPES.SIGNED;const v=l.DATE_TYPES.REQUESTED;const w=()=>{let e=(0,s.default)("span",{},void 0,"―");if(t===m&&h===l.STATUSES.COMPLETED){e=(0,s.default)("span",{},void 0,(0,r.default)(f).format(r.default.defaultFormat))}else if(t===v&&c){e=(0,s.default)("span",{},void 0,(0,r.default)(c).format(r.default.defaultFormat))}return e};const b=()=>(0,s.default)("ul",{},void 0,Object.values(p).map((e=>{const{position:i,signer:n="",signer_sent:a="",signer_signed:o="",signer_status:l=""}=e;let d=(0,s.default)("span",{},void 0,"―");if(t===m&&l==="Signed"){const e=r.default.utc(o).toDate();d=(0,s.default)("span",{className:n==="employee"?"semibold":""},void 0,(0,r.default)(e).format(r.default.defaultFormat))}else if(t===v&&a){const e=r.default.utc(a).toDate();d=(0,s.default)("span",{},void 0,(0,r.default)(e).format(r.default.defaultFormat))}return(0,s.default)("li",{className:n==="employee"?"semibold":""},i+n+t,d)})));let y;if(a&&n&&!u||!u&&a){y=b()}else{y=w()}return(0,s.default)("div",{className:"eSignature__detailReport-column "+g},void 0,y)}},179168:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ActionCell",{enumerable:true,get:function(){return n.ActionCell}});Object.defineProperty(t,"CancelModal",{enumerable:true,get:function(){return s.CancelModal}});Object.defineProperty(t,"DateCell",{enumerable:true,get:function(){return a.DateCell}});Object.defineProperty(t,"SignerCell",{enumerable:true,get:function(){return r.SignerCell}});Object.defineProperty(t,"StatusCell",{enumerable:true,get:function(){return o.StatusCell}});var n=i(676467);var s=i(120166);var a=i(116782);var r=i(795985);var o=i(307542)},795985:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.SignerCell=u;var s=n(i(856075));var a=n(i(573674));var r=n(i(60042));var o=i(293956);var l=i(164236);var d=i(904170);function u(e){const{row:t,updateBasicView:i=(e=>e)}=e;const{hideBasicView:n,multipleSigners:u,showExecutedDocLink:c,showCompletedNoAccessTooltip:f}=(0,l.getCellFlags)(t);const{cancelledCount:h,company_file:p={},employee_name:g,employee_file:m={},isCancelled:v=false,renderBasicView:w=(0,l.getRenderBasicViewFromStatus)(t.status),signers:b={0:{}}}=t;if(t.renderBasicView!==true&&w!==false){i(w)}const y=(e={},t="",i)=>{const{id:n,name:r,mode:l}=e;const d=f?"":$.__("Document Signed");const u=b[Object.keys(b)[0]];let h=g;if(!h){h=u.signer_name?u.signer_name:u.completed_signer_name}const p=(0,s.default)("span",{title:d},void 0,h);const m=a.default.createElement(a.default.Fragment,null,(0,s.default)("input",{className:"js-esignature","data-file_id":n,"data-filemode":l,"data-filename":r,"data-filetype":t,type:"hidden"}),(0,s.default)("button",{className:"fab-TextButton fab-link fab-TextButton--inline",onClick:()=>{(0,o.previewFile)(i,n,r,t==="employee","input",true)},type:"button"},void 0,p));return c?m:p};const S=()=>(0,s.default)("ul",{},void 0,Object.values(b).map((e=>{const{completed_signer_name:t="",position:i,signer:n="",signer_name:a="",signer_status:o=""}=e;const l=(0,r.default)({"eSignature__detailReport-employee":n==="employee"});const u=o===d.STATUSES.SIGNED?t:a;return(0,s.default)("li",{className:l},i+u,u)})));const E=(0,r.default)({"eSignature__detailReport-column":true,"eSignature__detailReport-signer":true,"eSignature__detailReport-basicView":!n&&w,"js-record-basic-view":u&&!n,"eSignature__detailReport-detailView":n||!w&&u,"js-record-detail-view":u&&n});let C=(0,s.default)("div",{},void 0,$.__("The signature request for %1 has been canceled.",g));if(!v){if(u&&n&&!w||!w&&u){C=S()}else if(m.id){C=y(m,"employee",m.most_recent_employee_file_data_id)}else if(p.id){C=y(p,"company",p.most_recent_file_data_id)}else{C=y()}}if(v&&h){C=$.__("%1 pending signature requests have been canceled.",h)}return(0,s.default)("div",{className:E},void 0,C)}},307542:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.StatusCell=l;var s=n(i(856075));var a=n(i(573674));var r=i(164236);var o=i(904170);function l(e){const{row:t}=e;const{multipleSigners:i,hideBasicView:n}=(0,r.getCellFlags)(t);const{isCancelled:a=false,renderBasicView:l=(0,r.getRenderBasicViewFromStatus)(t.status),signers:d={},status:u="",status_translated:c=""}=t;if(a){return(0,s.default)("div",{})}const f=i?"js-record-detail-view":"js-record-basic-view";const h=()=>(0,s.default)("span",{className:`eSignature__detailReport-status eSignature__detailReport-status--${u}`},void 0,(0,s.default)("span",{className:"signedDocs-Icon"},void 0,o.ReportIcons[u]||""),c);const p=()=>(0,s.default)("ul",{},void 0,Object.values(d).map((e=>{const{position:t,signer:i="",signer_status_translated:n="",signer_status:a=""}=e;return(0,s.default)("li",{className:`eSignature__detailReport-status eSignature__detailReport-status--${a}`},t+i,(0,s.default)("span",{className:"signedDocs-Icon"},void 0,o.ReportIcons[a]),n)})));let g;if(n&&i&&!l||!l&&i){g=p()}else{g=h()}return(0,s.default)("div",{className:`eSignature__detailReport-column ${f}`},void 0,g)}},189682:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"SignatureReportTableWrapper",{enumerable:true,get:function(){return n.SignatureReportTableWrapper}});var n=i(197910)},197910:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.SignatureReportTableWrapper=v;var s=n(i(856075));var a=f(i(573674));var r=i(651745);var o=i(261462);var l=i(790731);var d=i(179168);var u=i(904170);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(c=function(e){return e?i:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=c(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}const{COMPLETED:h,COMPLETED_NOT_SIGNED:p,SIGNED:g}=u.STATUSES;const m={[l.SortBy.NAME]:0,[l.SortBy.STATUS]:1,[l.SortBy.REQUESTED]:2,[l.SortBy.SIGNED]:3,[l.SortBy.REQUESTED_BY]:4};function v(e){const{isSupportUser:t=false,reportId:i,pendingIds:n}=e;const[c,f]=(0,a.useState)(1);const[h,g]=(0,a.useState)(l.SortBy.STATUS);const[v,w]=(0,a.useState)(l.SortOrder.DESC);const[b,y]=(0,a.useState)(null);const{pagination:S,reportByIds:E,showSpecialRebuild:C,tableData:x,isLoading:T}=(0,l.useEsigReportTableData)(i,c,h,v,b);const[k,O]=(0,a.useState)(x);const[F,M]=(0,a.useState)(E);const[P,I]=(0,a.useState)();const[A,D]=(0,a.useState)(n);const[j,L]=(0,a.useState)(false);const[R,N]=(0,a.useState)({});(0,a.useEffect)((()=>{document.addEventListener("Esignature:Report:cancelAll",z);return()=>{document.removeEventListener("Esignature:Report:cancelAll",z)}}));(0,a.useEffect)((()=>{document.addEventListener("Files:sendSignatureRequest:requestSent",H);return()=>{document.removeEventListener("Files:sendSignatureRequest:requestSent",H)}}));(0,a.useEffect)((()=>{I(S);O(x);M(E)}),[x,E,S]);function B(e,t){O(e);if(t){M(t)}}function H(){y(k)}function z(){const e=()=>{y(k)};N({callback:e,ids:A,tableData:k,user:null,templateId:i});L(true)}function G(e){const t={...k};e.forEach((e=>{if(t[e].renderBasicView){t[e].renderBasicView=false}else{t[e].renderBasicView=true}}));O(t)}const W=[{header:$.__("Name"),cell:e=>(0,s.default)(d.SignerCell,{row:e,updateBasicView:t=>{k[e.id].renderBasicView=t}}),sortBy:l.SortBy.NAME},{header:(0,s.default)("span",{"data-bi-id":"reports-eSignature-status-column-th"},void 0,$.__("Status")),cell:e=>(0,s.default)(d.StatusCell,{row:e}),sortBy:l.SortBy.STATUS},{header:$.__("Requested"),cell:e=>(0,s.default)(d.DateCell,{dateType:u.DATE_TYPES.REQUESTED,row:e}),sortBy:l.SortBy.REQUESTED},{header:$.__("Signed"),cell:e=>(0,s.default)(d.DateCell,{dateType:u.DATE_TYPES.SIGNED,row:e}),sortBy:l.SortBy.SIGNED},{header:$.__("Requested by"),cell:e=>(0,s.default)("div",{},void 0,!e.isCancelled&&e.requester_name),sortBy:l.SortBy.REQUESTED_BY},{header:(0,s.default)("span",{className:"eSignatureField__hiddenHeader","data-bi-id":"reports-eSignature-actions-column-th"}),headerAriaLabel:$.__("Cell Actions"),cell:e=>{const{cancelledCount:n,current_signer_name:a,employee_name:r,ids:l,workflow_instance_id:u}=e;return(0,s.default)(d.ActionCell,{cancel:()=>{N({callback:()=>{y(k);D(A-1)},ids:u,tableData:k,user:r||a,templateId:null});L(true)},isSupportUser:t,rebuild:e=>{(0,o.rebuild)(u,e)},remind:()=>{(0,o.remind)(null,u,a,i)},row:e,showSpecialRebuild:C,warnInactive:()=>{(0,o.warnInactive)(null,u,a)}})},showOnHover:e=>{if(e.isCancelled){return false}return e.current_signer_name&&e.status!==p}}];const{itemsPerPage:q,totalResults:U}=P||{};return a.default.createElement(a.default.Fragment,null,T&&(0,s.default)("div",{},void 0,(0,s.default)("br",{}),(0,s.default)(r.Loader,{})),!T&&(0,s.default)(r.ProgressiveLoader,{currentPage:c,onPageChange:({nextPage:e})=>{f(e)},pageSize:q,pagination:true,totalItemsCount:U},void 0,(0,s.default)(r.Table,{caption:$.__("Signature report"),columns:W,onRowSelect:G,onSort:(e,t,i)=>{f(1);g(t);w(i?l.SortOrder.ASC:l.SortOrder.DESC)},preSorted:{columnIndex:m[h],isAsc:v===l.SortOrder.ASC},rowKey:e=>e.id,rows:F.map((e=>({...k[e],id:e})))}),(0,s.default)("br",{})),(0,s.default)(d.CancelModal,{data:R,isOpen:j,setData:N,setIsOpen:L}))}},790731:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.useEsigReportTableData=l;t.SortOrder=t.SortBy=void 0;var s=n(i(417842));var a=i(573674);let r;t.SortBy=r;(function(e){e["NAME"]="name";e["STATUS"]="status";e["REQUESTED"]="requested";e["SIGNED"]="signed";e["REQUESTED_BY"]="requestedBy"})(r||(t.SortBy=r={}));let o;t.SortOrder=o;(function(e){e["ASC"]="asc";e["DESC"]="desc"})(o||(t.SortOrder=o={}));function l(e,t=1,i,n,r){const[o,l]=(0,a.useState)();const[d,u]=(0,a.useState)({});const[c,f]=(0,a.useState)([]);const[h,p]=(0,a.useState)(true);const[g,m]=(0,a.useState)(false);(0,a.useEffect)((()=>{p(true);s.default.get(`/reports/esignatures/${e}?pageNumber=${t}&orderBy=${i}&orderDirection=${n}`).then((e=>{const{templateSignatureReport:t,reportByIds:i,pagination:n,showSpecialRebuild:s}=e.data;m(s);l(n);f(i);u(t);p(false)})).catch((e=>{window.setMessage("Uh Oh, something went wrong getting the report data.","error");throw e}))}),[e,t,i,n,r]);return{isLoading:h,pagination:o,reportByIds:c,showSpecialRebuild:g,tableData:d}}},164236:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getRenderBasicViewFromStatus=l;t.getCellFlags=d;var n=i(904170);const{COMPLETED_NOT_SIGNED:s,COMPLETED:a,IN_PROGRESS:r,SENT:o}=n.STATUSES;function l(e){return e===a||e===s}function d(e){const{can_see_employee:t=false,can_see_file:i=false,status:n="",signers:s=[]}=e;const l=Object.keys(s).length>1;const d=(n===o||n===r)&&l;const u=n===a&&i&&t;return{multipleSigners:l,hideBasicView:d,hideDetailView:!d,showExecutedDocLink:u,showCompletedNoAccessTooltip:n===a&&u}}},377262:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"SigningOrder",{enumerable:true,get:function(){return n.SigningOrder}});Object.defineProperty(t,"SignerQuickChangeModal",{enumerable:true,get:function(){return s.SignerQuickChangeModal}});var n=i(323779);var s=i(706383)},794043:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useFlyoutOptions=a;var n=i(573674);var s=i(441984);function a(){const[e,t]=(0,n.useState)(null);const[i,a]=(0,n.useState)(null);(0,n.useEffect)((()=>{(0,s.getFlyoutOptions)().then((e=>{const{primaryOptions:i=[],secondaryOptions:n=[]}=e;t((()=>i));a((()=>n))})).catch()}),[]);return{specificPeopleOptions:i,signerPrimaryOptions:e}}},706383:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"SignerQuickChangeModal",{enumerable:true,get:function(){return n.SignerQuickChangeModal}});var n=i(52305)},52305:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.SignerQuickChangeModal=c;var s=n(i(856075));var a=u(i(573674));var r=i(651745);var o=i(753134);var l=i(794043);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(d=function(e){return e?i:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=d(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}function c(e){const{fieldCount:t=0,isOpen:i=false,isLoading:n=false,name:d,onClose:u,updateSigner:c=((e,t)=>undefined)}=e;const{signerPrimaryOptions:f,specificPeopleOptions:h}=(0,l.useFlyoutOptions)();const[p,g]=(0,a.useState)(i);const[m,v]=(0,a.useState)("");const[w,b]=(0,a.useState)("");(0,a.useEffect)((()=>{g(i)}),[i]);const y="specific person";return(0,s.default)(r.SheetModal,{isLoading:n,isOpen:p,onCloseComplete:()=>{v("");b("");u()},onRequestClose:()=>{g(false)}},void 0,(0,s.default)(r.SheetModal.Body,{renderFooter:(0,s.default)(r.SheetModal.Constraint,{spacingOverrides:{bottom:r.CardContentSpacing.SMALL}},void 0,(0,s.default)(r.SheetModal.Footer,{actions:[(0,s.default)(r.Button,{disabled:m===""||m===y&&w==="",onClick:()=>{c(m,w);g(false)}},"button-1",$.__("Update")),(0,s.default)(r.TextButton,{onClick:()=>{g(false)}},"button-2",$.__("Cancel"))]})),renderHeader:(0,s.default)(r.SheetModal.Header,{title:$.__("Change Signer")})},void 0,(0,s.default)(r.SheetModal.Constraint,{spacingOverrides:{bottom:r.CardContentSpacing.LARGE,top:r.CardContentSpacing.LARGE}},void 0,(0,s.default)(r.SheetModal.HeroHeadline,{icon:"fab-arrows-flip-54x54",text:(0,s.default)(o.Message,{params:[d,t],text:$._n("This will change the signer on {2} field that is currently set to be filled out by {1}.","This will change the signer on {2} fields that are currently set to be filled out by {1}.",t)})},void 0,(0,s.default)("br",{})),(0,s.default)(r.SheetModal.FocalContent,{},void 0,(0,s.default)("div",{className:"fab-FormRow",style:{justifyContent:"center",marginBottom:0}},void 0,(0,s.default)("div",{className:"fab-FormColumn"},void 0,(0,s.default)("label",{className:"fab-Label",htmlFor:"quickChangeSelect"},void 0,(0,s.default)(o.Message,{params:[d],text:$._("Replace {1} with...")})),(0,s.default)("div",{className:"fab-FormRow fab-FormRow--tight"},void 0,(0,s.default)("div",{className:"fab-FormField"},void 0,(0,s.default)(r.Select,{isClearable:false,items:f,onSelect:v,selectedValues:[m],width:7}))),m===y&&(0,s.default)("div",{className:"fab-FormRow fab-FormRow--tight"},void 0,(0,s.default)("div",{className:"fab-FormField"},void 0,(0,s.default)(r.Select,{isClearable:false,items:h,onSelect:b,selectedValues:[w],width:7})))))))))}},323779:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"SigningOrder",{enumerable:true,get:function(){return n.SigningOrder}});var n=i(951650)},951650:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.SigningOrder=g;var s=n(i(856075));var a=f(i(573674));var r=i(273641);var o=i(651745);var l=i(231147);var d=i(441984);var u=i(763506);function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(c=function(e){return e?i:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=c(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}var h;(function(e){e["EMPLOYEE"]="employee";e["EMPLOYEE_MANAGER"]="reports to";e["MANAGER_MANAGER"]="managers manager";e["SPECIFIC_PERSON"]="specific person"})(h||(h={}));let p=[];function g(e){const{modal:t,signers:i}=e;const n=(0,u.useStyles)();const[c,f]=(0,a.useState)(false);const[g,m]=(0,a.useState)("");const[v,w]=(0,a.useState)(0);const[b,y]=(0,a.useState)(0);const[S,E]=(0,a.useState)(undefined);const[C,x]=(0,a.useState)(undefined);const[T,k,O,F]=(0,l.useDragAndDrop)(Object.values(i),"type");function M(){F.handleDragEnd();const e=T.map((e=>`${e.order}`));const t=window.Esignatures;t.Setup.SignerManager.updateOrder(e);t.publish("setup:signerOrder:update")}function P(e,t){F.handleDragOver(e,t)}function I(e,t){p=[...T];F.handleDragStart(e,t);e.dataTransfer.setDragImage(e.target,e.nativeEvent.offsetX||0,e.nativeEvent.offsetY||0)}(0,a.useEffect)((()=>{(0,d.getFlyoutOptions)().then((e=>{const{primaryOptions:t,secondaryOptions:i}=e;E(t);x(i)}));k((e=>{const t=Object.values(i);if(!(0,r.isEqual)(e,t)){return t}return e}))}),[i,k]);function A(e){return e.map(((e,t)=>{const i=parseInt(e.order);const r={Employee:$.__("Employee"),"employees manager":$.__(`Employee’s Manager`),"managers manager":$.__(`Manager’s Manager`)};return a.default.createElement(a.default.Fragment,null,(0,s.default)("li",{className:`${n.signingOrder__listItem} clearfix js-signer-${i} ${n.signingOrder__listItem}--${e.color}`,draggable:true,id:`signer${i}`,onDragOver:t=>{P(t,e.type)},onDragStart:t=>{I(t,e.type)},onDrop:M},i,(0,s.default)("div",{className:`${n.signingOrder__sort} eSignatureDraggable`},void 0,(0,s.default)("div",{className:n.signingOrder__circleInner}),(0,s.default)("div",{className:`${n.signingOrder__signer} truncate js-signer-name`},void 0,r[e.type]||e.label),e.type!=="employee"&&(0,s.default)("div",{className:n.signingOrder__action},void 0,(0,s.default)(o.Tooltip,{content:$.__("Change Signer")},void 0,(0,s.default)(o.IconButton,{color:"secondary",floatingIcon:true,icon:"fab-pencil-14x14",noBoundingBox:true,onClick:()=>{window.Esignatures.publish("document:mousedown");f((()=>{m(r[e.type]||e.label);w(i);y(e.fields);return true}))},size:"teenie",type:"button"}))))))}))}return a.default.createElement(a.default.Fragment,null,(0,s.default)("div",{className:`${n.signingOrder} js-signing-order`,onDragLeave:()=>{k([...p])}},void 0,(0,s.default)("div",{className:n.signingOrder__label,"data-bi-id":"esignature-signing-order"},void 0,$.__("Signing Order")),(0,a.cloneElement)(t,{fieldCount:b,isLoading:S===undefined,isOpen:c,name:g,onClose:()=>{f(false)},signerPrimaryOptions:S,specificPeopleOptions:C,updateSigner:(e,t)=>{let i;if(e===h.SPECIFIC_PERSON){const e=C.find((e=>e.value===t));const n=e.text.split(",");if(n.length>1){i=`${n[1]} ${n[0]}`}else{i=n[0]}}else{const t=S.find((t=>t.value===e));i=t.text}window.Esignatures.Setup.FieldManager.updateSigner({primaryOption:e,specificPersonId:parseInt(t),signerNumber:v,name:i})}}),(0,s.default)("ol",{className:`${n.signingOrder__list} clearfix js-signing-order-list`},void 0,A(T))))}},763506:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useStyles=void 0;var n=i(651745);var s=i(174361);const a=(0,n.makeStyles)((({palette:e,typography:t})=>(0,n.createStyles)({signingOrder:{marginTop:"20px"},signingOrder__list:{counterReset:"num",margin:"5px 0 0",minHeight:"90px"},signingOrder__listPlaceholder:{height:"24px",marginTop:"5px",width:"100%"},signingOrder__listItem:{marginTop:"1px","&:not(.ui-sortable-placeholder):before":{content:"counter(num)",counterIncrement:"num",float:"left",position:"relative",color:e.grey[800],fontSize:t.fabricFontSize("medium"),fontWeight:t.fontWeightBold,lineHeight:t.fabricLineHeight("medium"),top:"5px",marginRight:"4px"},"&--2 $signingOrder__circleInner":{backgroundColor:s.eSigColors.yellow},"&--3 $signingOrder__circleInner":{backgroundColor:s.eSigColors.blue},"&--4 $signingOrder__circleInner":{backgroundColor:s.eSigColors.purple},"&--5 $signingOrder__circleInner":{backgroundColor:s.eSigColors.salmon}},signingOrder__circle:{borderRadius:"50%",border:`1px solid ${e.grey[300]}`,display:"inline-block",height:"16px",marginRight:"7px",width:"16px"},signingOrder__circleInner:{backgroundColor:s.eSigColors.green,boxShadow:"none",height:"16px",margin:"0 8px 0 0",width:"16px",borderRadius:"50%"},signingOrder__signer:{color:e.grey[1e3],fontSize:t.fabricFontSize("medium"),fontWeight:t.fontWeightMedium,lineHeight:t.fabricLineHeight("teenie"),display:"inline-block",width:"calc(100% - 28px)"},signingOrder__sort:{borderRadius:"2px",boxSizing:"border-box",cursor:"pointer",float:"left",position:"relative",width:"calc(100% - 14px)",alignItems:"center",display:"flex",marginLeft:"0",padding:"6px 2px 7px 12px","&:hover, &:active":{backgroundColor:e.grey[100]},"&:hover $signingOrder__action":{visibility:"visible"}},signingOrder__label:{paddingBottom:"3px",borderColor:e.grey[300],fontSize:t.fabricFontSize("large"),fontWeight:t.fontWeightSemibold,lineHeight:t.fabricLineHeight("medium")},signingOrder__action:{position:"absolute",right:"10px",top:"8px",visibility:"hidden"}})));t.useStyles=a},174361:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.eSigColors=void 0;const i={blue:"#6BA4E6",blueDark:"#4973A3",blueRgba:"rgba(107, 164, 230, .4)",blueSigning:"rgba(165,199,238, .6)",green:"#97BE55",greenDark:"#809841",greenRgba:"rgba(151, 190, 50, .4)",purple:"#D7AEDE",purpleDark:"#9C70A6",purpleRgba:"rgba(215, 174, 222, .4)",ribbonYellow:"#FFE30A",salmon:"#F3977A",salmonDark:"#B46750",salmonRgba:"rgba(243, 151, 122, .4)",yellow:"#E3E30D",yellowDark:"#A7A710",yellowRgba:"rgba(227, 227, 13, .4)",yellowSigning:"#F9F974"};t.eSigColors=i},173484:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=i(273641);var a=i(774548);i(668332);var r=n(i(402185));var o=n(i(464898));var l=n(i(634128));var d=n(i(682365));var u=n(i(22800));const c={TYPE_SETUP:"setup",TYPE_SIGNING:"signing",get Previewer(){return r.default},get Report(){return o.default},get Setup(){return l.default},get Signing(){return d.default},init(e,t){if((0,s.isUndefined)(e)){console.log("No type was passed.");return}this.installMediator();this.Previewer.init(e);if(this.TYPE_SETUP===e){this.Setup.init()}else{this.Signing.init(t)}},initSetup(){this.init(this.TYPE_SETUP)},initSigning(e){this.init(this.TYPE_SIGNING,e)},installMediator(){a.Mediator.installTo(this)},destroy(){this.Previewer.destroy()}};var f=c;t.default=f},462804:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.search=g;var s=n(i(856075));var a=n(i(280934));var r=n(i(440811));i(775322);var o=c(i(573674));var l=i(604928);var d=i(651745);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(u=function(e){return e?i:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=u(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}class f extends o.default.Component{constructor(...e){super(...e);this.state={hits:[]}}static get className(){return"HelpCenter"}emptyResult(){return(0,s.default)("li",{className:"HelpCenterListItem HelpCenterListItem--clean HelpCenterListItem--empty"},void 0,(0,s.default)(d.Icon,{name:"fab-triangle-exclamation-54x54"}),$.__("Sorry, no results were found."))}searchHit(e,t){let i="";let n=e.name;if(e.type==="zendesk"){i=e.url;return(0,s.default)("li",{className:"ManageNavItemDropdown__item"},t,(0,s.default)("a",{className:"ManageNavItemDropdown__itemLink ManageNavItemDropdown__itemLink--zendesk",href:i,target:"_blank",rel:"noopener noreferrer"},void 0,(0,s.default)("span",{className:"ManageNavItemDropdown__itemIcon"},"1",(0,s.default)(d.Icon,{name:"fab-file-12x14"})),(0,s.default)("span",{className:"ManageNavItemDropdown__itemText"},"2",(0,s.default)("div",{},void 0,n),(0,s.default)("div",{className:"ManageNavItemDropdown__itemText-detail",dangerouslySetInnerHTML:{__html:e._snippetResult.body.value}}))))}i=`/home/?pendo=${e.objectID}`;return(0,s.default)("li",{className:"ManageNavItemDropdown__item"},t,(0,s.default)("a",{className:"ManageNavItemDropdown__itemLink",href:i},void 0,(0,s.default)("span",{className:"ManageNavItemDropdown__itemIcon"},"1",(0,s.default)(d.Icon,{name:"fab-play-circle-14x14"})),(0,s.default)("span",{className:"ManageNavItemDropdown__itemText truncate"},"2",n)))}render(){if(this.state.hits&&this.state.hits.length===0){return this.emptyResult()}else{return this.state.hits.map(((e,t)=>this.searchHit(e,t)))}}}let h=e=>{};const p=document.querySelector("#help-center");if(p){let e={wheelPropagation:false,suppressScrollX:true,scrollYMarginOffset:5,minScrollbarLength:20};r.default.initialize(p,e);const t=(0,a.default)("LOK4TOOGPX","3e4a64f1e440458ae8a07a3027f805ce");const i=t.initIndex("Help Center");let n;h=e=>i.search(e,{hitsPerPage:10}).then((({hits:e}={})=>{if(!n){n=(0,l.render)((0,s.default)(f,{}),p)}n.setState({hits:e},(()=>{r.default.update(p)}))}));let o=document.getElementById("search-input");if(o){o.addEventListener("input",(e=>{h(e.target.value)}))}}function g(e){h(e)}},209365:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.dispatchLaunchStateTaxModalEvent=T;t.default=void 0;var s=n(i(341757));var a=n(i(934950));var r=n(i(344355));var o=i(479706);var l=n(i(417842));var d=i(313187);var u=i(108201);let c=null;$((function(){if(typeof window.registerModalLink==="function"){window.registerModalLink("a.history-modal",$.__("Title"),$.__("Save"),g,{open_callback:m,privacy_link:true},p)}h();setTimeout(f)}));function f(){const e=$("tbody tr:not(.template):not(.empty) td[data-secure-field-type]");if(!e){return}e.each(((e,t)=>{const{dataset:{rowId:i,secureFieldType:n,sensitiveDataVisible:s=false}}=t;$(t).addClass("fab-Table__cellWithButton");const a=$(t).find(".js-historyCellWrapper").text();if(!a||a.length===0){return}$(t).click((function(e){e.stopPropagation();if($(t).attr("data-sensitive-data-visible")==="true"){$(t).attr("data-sensitive-data-visible",false);$(t).find(".js-historyCellWrapper").text(a);$(t).find(".js-showHideButton").text($.__("Show"))}else{l.default.get(`/employees/get_secure_table_field/${n}`,{id:window.Employee.id,row:i}).then((e=>{if(e.data&&!e.error){$(t).attr("data-sensitive-data-visible",true);$(t).find(".js-historyCellWrapper").text(e.data);$(t).find(".js-showHideButton").text($.__("Hide"))}})).catch((()=>{window.setMessage($.__("There was a problem getting the sensitive data"),"error")}))}}));$(t).attr("data-sensitive-data-visible",s);$(t).append(`<button class="fab-TextButton fab-TextButton--small fab-link showHideButton js-showHideButton" tabIndex="0" type="button">\n\t\t${s?$.__("Hide"):$.__("Show")}\n\t\t</button>`)}))}function h(){let e=$(".js-overtimeRateTableField");if(e.length===0){return}let t=false;$("td.js-overtimeRateTableField .js-historyCellWrapper").each((function(e,i){if(i.innerHTML.trim()!==""){t=true;return false}}));e.toggleClass("hidden",!t)}function p(e){$(e).find(".error").removeClass("error");return true}function g(e){var t=e.type==="contacts"&&["OK","MIXED_OK","REQUEST_OK"].indexOf(e.result)>-1;t=t||e.result==="RELOAD_OK";if(t){window.location.reload();return}if(e.result==="OK"||e.result==="MIXED_OK"){var i=$(".history-table.type-"+e.type.toLowerCase());var n=i.closest("table");var s=i.find(".id-"+e.data.id);var a=e.data;if(e.type==="dependents"&&e.result==="OK"){document.location.reload()}if(!s.length){s=v(n,e.data,e.perms);s.find("a#ctx_new").attr("id","ctx"+e.data.id)}$.each(e.data,(function(e,t){s.find(".field-"+e+" .js-historyCellWrapper").html(t);s.attr("data-effective-date",a.ymd)}));if(typeof a.sortOrder!=="undefined"){$.each(e.data,(function(e,t){s.find(".field-"+e+" .js-historyCellWrapper").html(t);s.attr("data-order",a.sortOrder)}))}if(typeof e.data2!=="undefined"){s=i.find(".id-"+e.data2.id);$.each(e.data2,(function(e,t){s.find(".field-"+e+" p").html(t)}))}if((0,o.isEnabled)("jade")){window.BambooHR.Modal.setState({isOpen:false})}else{window.SimpleModal.closeModal()}document.dispatchEvent(new CustomEvent("historyModalSaveSuccess",{bubbles:true,detail:{data:e.data}}));if(e.data.stateFilingChange){T()}S();E();if(e.type==="status"){if(typeof window.updateHireDates==="function"){window.updateHireDates()}}y(n);if(e.type!=="dependents"){if(e.result==="OK"){setMessage($.__("Your changes have been saved"),"success","#forMessages",(function(){}))}else{setMessage($.__("Your changes have been saved, some of them will need to be approved."),"success","#forMessages",(function(){}))}}}else if(e.result==="REQUEST_OK"){setMessage($.__("A change request has been submitted for the changes entered."),"success","#forMessages",(function(){}));if((0,o.isEnabled)("jade")){window.BambooHR.Modal.setState({isOpen:false})}else{window.SimpleModal.closeModal()}}else if(e.result==="DUPLICATE_OK"){setMessage($.__("No new data was entered."),"info","#forMessages",(function(){}));if((0,o.isEnabled)("jade")){window.BambooHR.Modal.setState({isOpen:false})}else{window.SimpleModal.closeModal()}}else{if(e.data.useErrorMessage!==true&&typeof e.data.fields!="undefined"&&e.data.fields.length>0){setMessage($.__("Whoops... There were some errors with your form. Please fix the highlighted fields."),"error")}else{setMessage(e.data.error,"error")}if(e.data.fields){(0,u.highlightErrorFields)(e.data.fields,window.modalIdSelector,(0,o.isEnabled)("jade"))}}if((0,o.isEnabled)("nonExemptWarningModals")&&e.type.toLowerCase()==="compensation"){if(!(e.data.exempt==="Non-exempt"&&c==="Exempt")){return}l.default.get(`/time_tracking/employee/${window.Employee.id}/overtime_modal_data`).then((e=>{if(e.data.isTimeTrackingEnabled){if(e.data.showNoLocationModal){(0,d.openMissingLocationInformation)("no-location",window.Employee.preferredName,false)}else if(e.data.showNoStateModal){(0,d.openMissingLocationInformation)("no-state",window.Employee.preferredName,false)}else if(e.data.showNoStateRemoteModal){(0,d.openMissingLocationInformation)("no-state-remote",window.Employee.preferredName,false)}else if(e.data.showNonOvertimeCountryModal){(0,d.openMissingLocationInformation)("non-overtime-country",window.Employee.preferredName,false)}}}))}}function m(e){$(".history-modal").removeAttr("modalClicked");$(".check-dropdown").multiselect({noneSelectedText:$.__("-- Select --"),header:false,height:"auto"});window.registerRateChange();let t=window.SimpleModal.getTopModalSelector();if((0,o.isEnabled)("jade")){t=$(".ReactModal__Content")}const i=t.find("form");i.append('<input type="hidden" name="CSRFToken" value="'+CSRF_TOKEN+'">');if(i.has(".CompensationForm")){c=i.find(".js-overtimeStatus").val()}}function v(e,t,i){var n=e.find(".template");var a=n.clone();var r=a.find("a.history-modal").attr("url");var o=typeof t.sortOrder!=="undefined"?"data-order":"data-effective-date";var l=typeof t.sortOrder!=="undefined"?t.sortOrder:(0,s.default)(t.ymd,"YYYY-MM-DD");a.addClass("id-"+t.id).attr(o,l).removeAttr("style").removeClass("template");e.find("tr.BhrTable__row.empty").hide();if(!i.edit){a.find(".inline-bicon-edit").parent().remove()}if(!i.delete){a.find(".inline-bicon-delete").parent().remove()}a.insertAfter(n);a.find("a.history-modal").attr("url",C(t.id,r));return a}function w(e){var t="data-effective-date";var i=e.find("tbody tr:not(.template):not(.empty)").toArray();var n=i.filter((function(e){var i=e.getAttribute(t);return i&&i.length})).map((function(e){return{element:e,date:(0,s.default)(e.getAttribute(t),"YYYY-MM-DD")}})).sort((function(e,t){return(0,s.default)(t.date).diff(e.date)}));var a=i.filter((function(e){var i=e.getAttribute(t);return!i||!i.length})).map((function(e){return{element:e,date:s.default.invalid()}})).sort((function(e,t){var i=$(e.element).find("td:nth-child(2)").text();var n=$(t.element).find("td:nth-child(2)").text();return i-n}));let r=i.filter((e=>{let t=e.getAttribute("data-order");return t&&t.length})).map((e=>({element:e,order:(0,s.default)(e.getAttribute("data-order"),"YYYY-MM-DD")}))).sort(((e,t)=>(0,s.default)(e.order).diff(t.order)));return r?r:n.concat(a)}function b(e){var t="BhrTable__cell--most-recent baseBgColor-before";e.find(".field-ymd").removeClass(t);var i=w(e);var n=(0,s.default)();var a=i.reduce((function(e,t){return!e||n.isSameOrAfter(t.date)&&n.isBefore(e.date)?t:e}),null);if(a&&n.isAfter(a.date)){$(a.element).find(".field-ymd").addClass(t)}}function y(e){var t=e.find(".template");var i=w(e);i.forEach((function(e){t.after(e.element);t=$(e.element);if(typeof e.date!=="undefined"){t.toggleClass("BhrTable__row--future",(0,s.default)().isBefore(e.date))}}));b(e);h()}function S(){if(typeof window.updateInfoColumn==="function"){window.updateInfoColumn()}}function E(){$("#employeeGearMenu").load("/ajax/employees/update_gear_menu.php?employeeId="+window.currentlyEditingEmployeeId+" #employeeGearMenu > *",(function(){a.default.init()}))}function C(e,t){const i=isNaN(window.currentlyEditingEmployeeId)||!window.currentlyEditingEmployeeId?-1:window.currentlyEditingEmployeeId;e=isNaN(e)||!e?-1:e;return`/ajax/dialog/history_popup/${t}/${i}/${e}`}function x(e,t){var i=e.closest("tr");var n=i.attr("class").split("id-");var s=n[1].split(" ");var a=s[0];if(!a.length||a===null||a===undefined||a==="null"||a==="undefined"){window.setMessage($.__(`Oops! We can't process your request right now, please refresh the page and try again.`),"error");return false}i.addClass("selected");var r=this.href;var l={title:$.__("Delete Row"),msg:$.__("Are you sure you want to delete this row?"),accept:$.__("Yes"),error:$.__("Error"),errormsg:$.__("Sorry.  This row can not be deleted because there is a change request for it that is waiting for approval."),erroraccept:$.__("Ok")};if((0,o.isEnabled)("jade")){window.BambooHR.Modal.setState({content:l.msg,isOpen:true,primaryAction:function(){if(window.GLOBAL_IS_ASSUMED_USER){window.disabledForPermsTest()}else{var e="/ajax/dialog/history_popup/"+t+"/"+window.currentlyEditingEmployeeId+"/"+a;$.post(e,{CSRFToken:CSRF_TOKEN,_method:"DELETE"}).then(d,u)}},onClose:function(){i.removeClass("selected")},primaryActionText:l.accept,title:l.title})}else{modalDialogAlert(l.title,l.msg,l.accept,(function(){var e="/ajax/dialog/history_popup/"+t+"/"+window.currentlyEditingEmployeeId+"/"+a;$.post(e,{CSRFToken:CSRF_TOKEN,_method:"DELETE"}).then(d,u)}),undefined,{close_callback:function(){i.removeClass("selected")}})}k(t);function d(e){window.BambooHR.Modal.setState({isOpen:false});let t="";let n="";if(typeof e==="string"){t=e;n=e}else if(e!==null&&e!==void 0&&e.result&&e!==null&&e!==void 0&&e.data){const{result:i,reload:s,errorMsg:a,data:{stateFilingChange:r}}=e;n=a;if(i==="OK"&&s){t="RELOAD_OK"}else{t=i}if(r){T()}}if(t==="OK"){var s=i.closest("table");var a=i.closest("tbody");i.remove();S();E();b(s);h();if(!a.find("tr:not(.template):not(.empty)").length){a.find("tr.BhrTable__row.empty").show()}}else if(t==="PENDING_CHANGE"){window.setMessage(l.errormsg,"error")}else if(t==="RELOAD_OK"){window.location.reload()}else{window.setMessage(n,"error")}}function u(){window.setMessage($.__("Whoops... we couldn't remove this item for you"))}}function T(){document.dispatchEvent(new CustomEvent("launchStateTaxModal",{bubbles:true,detail:{employeeId:window.Employee.id,employeeName:window.Employee.preferredName,stateTaxPermLevel:window.stateTaxPermLevel}}))}function k(e){switch(e){case"status":r.default.modal("deleteEmploymentStatus");break;case"compensation":r.default.modal("deleteCompensation");break;case"job":r.default.modal("deleteJobInformation");break;case"bonus":r.default.modal("deleteBonus");break;case"commission":r.default.modal("deleteCommission");break;case"benefit_class":r.default.modal("deleteBenefitClass");break;case"earnings":r.default.modal("deleteEarnings");break;case"visa":r.default.modal("deleteVisa");break}}var O={deleteRow:x,updateEmployeeInformation:S,updateEmployeeGearMenu:E,openMissingLocationInformation:d.openMissingLocationInformation};t.default=O},173280:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);var s=n(i(751916));var a=i(479706);var r,o;const l=(0,a.isEnabled)("jade");const d={"/inbox/time_off_requests/?assigned=me":"fab-briefcase-clock-16x12","/inbox/information_updates/?assigned=me":"fab-info-circle-15x15","/inbox/signatures/?assigned=me":"fab-pen-nib-14x14","/inbox/onboarding/?assigned=me":"fab-clipboard-checklist-12x16","/inbox/peer_feedback/?assigned=me":"fab-people-14x12"};const u=l?{row:`\n\t\t<li class="ManageNavItemDropdown__item ManageNavItemDropdown__item--added js-manage-nav-added-item">\n\t\t\t<a class="ManageNavItemDropdown__itemLink" href="!*= href *!">\n\t\t\t\t<span class="ManageNavItemDropdown__itemText truncate">!*= label *!</span> <span class="ManageNavItemDropdown__itemCount">(!*= count *!)</span>\n\t\t\t</a>\n\t\t</li>\n\t`}:{row:`\n\t\t<li class="down-list__subSection">\n\t\t\t<a href="!*= href *!">\n\t\t\t\t<span class="down-list__subSection-name truncate">!*= label *!</span> <span class="count">(!*= count *!)</span>\n\t\t\t</a>\n\t\t</li>\n\t`};let c=new WeakMap,f=new WeakMap;let h=(r=(0,s.default)(".InboxDropdown"),r(o=class e{static get className(){return"InboxDropdown"}static get className(){return"InboxDropdown"}static get className(){return"InboxDropdown"}static get className(){return"InboxDropdown"}get counts(){return c.get(this)||0}set counts(e){this.$counts.text(e);this.$elem.toggleClass("InboxDropdown--has-count",e>0);c.set(this,e)}get subsections(){return f.get(this)||[]}set subsections(e){if(l){this.$downList.find(".js-manage-nav-added-item").remove()}else{this.$downList.find("li.down-list__subSection").remove()}if(Array.isArray(e)){e.forEach((e=>{if(l){this.$downList.prepend(microTemplate(u.row,{...e,ICONS:d}))}else{this.$sectionDivider.before(microTemplate(u.row,e))}}))}f.set(this,e)}constructor(){this.$counts=this.$elem.find(".InboxDropdown__counts");this.$downList=l?this.$elem.find(".js-manage-nav-dynamic"):this.$elem.find("ul.down-list");this.$sectionDivider=this.$elem.find("li.section-end");this.update()}update(){$.getJSON("/ajax/inbox/inbox_counts_json.php").done((e=>{if(!e){return}if(!e.success){setMessage(e.errorMessage);console.error(e.error);return}this.counts=e.counts;this.subsections=e.subsections}))}})||o)},89076:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(273641);var s=i(774548);const a="js-chosen-breakout-container";const r=new WeakMap;const o=new WeakMap;const l=new WeakMap;function d(){return $(this).closest("."+a).length>0}function u(e){if((0,s.isJqueryElement)(e)){e=e[0]}return o.get(e)||l.get(e)}function c(){if(!d.call(this)||u(this)){return}const e=new h(this)}function f(e){const t=u(this);if(!(t instanceof h)){return}(t[e]||n.noop).call(t)}class h{static get className(){return"ChosenBreakout"}static init(){$("select.chzn-done").each(c);$(document).off(".ChosenBreakout").on("liszt:ready.ChosenBreakout","select",c);window.BambooHR.subscribe("chosen:open:after",(e=>{f.call(e,"onOpen")}));window.BambooHR.subscribe("chosen:close:after",(e=>{f.call(e,"onClose")}))}get $select(){return $(o.get(this))}get $container(){return $(r.get(this))}get $drop(){return $(l.get(this))}get containerPosition(){let{top:e,right:t,bottom:i,left:n,width:s,height:a}=this.$container[0].getBoundingClientRect();e+=window.scrollY||window.pageYOffset;n+=window.scrollX||window.pageXOffset;return{top:e,right:t,bottom:i,left:n,width:s,height:a}}get nosearch(){return this.$container.is('[class*="-nosearch"]')}constructor(e){const t=$(e);const i=t.next(".chzn-container");const n=i.find(".chzn-drop");o.set(this,t[0]);o.set(t[0],this);r.set(this,i[0]);r.set(i[0],this);l.set(this,n[0]);l.set(n[0],this);this.$drop.css("position","absolute")}onOpen(){const{top:e,left:t,width:i,height:n}=this.containerPosition;this.$drop.css({top:e+n,left:t,width:i}).toggleClass("chzn-drop-nosearch",this.nosearch).appendTo(document.body)}onClose(){this.$drop.appendTo(this.$container)}}t.default=h},992656:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n={init:function(){this.enableListeners();BambooHR.subscribe("chosen:open:after",this.onOpen,this);BambooHR.subscribe("chosen:close:after",this.onClose,this)},_currentChosen:null,_currentHidden:null,_isStatic:false,_selectors:{chosenContainer:".chzn-container",chosenLink:".chzn-single",chosenScroll:".chzn-results, .active-result",chosenSearch:".chzn-search input",uiDialog:".ui-dialog",simpleModalBody:".SimpleModal__body",bhrPreview:".BhrPreview",simpleModal:".SimpleModal"},_classes:{chosenShow:"chzn-single-with-drop",chosenContainerUp:"chzn-with-dropup",chosenDropUp:"chzn-dropup"},shouldBreakOut:function(e){if(e.closest(this._selectors.simpleModal).hasClass("js-no-chosen-breakout")){return false}return(e.closest(this._selectors.uiDialog).length||e.closest(this._selectors.simpleModalBody).length||e.closest(".js-chosen-breakout").length)&&e.closest(this._selectors.bhrPreview).length<1},onOpen:function(e){if(this.shouldBreakOut(e)){this._currentChosen=this.Chosen(e);if(e.closest(".js-simplemodal-container, .ui-dialog").length){this.setDropDownPosition(this._currentChosen);this.toggleModalScrolling(false)}else{this.toggleModalScrolling(false);this.setDropDownPosition(this._currentChosen)}}},onClose:function(e){if(this.shouldBreakOut(e)){if(e===undefined||this._currentChosen===null){this.enableScrolling();return}if(e.is(this._currentChosen.dropDown)){this.enableScrolling()}}},Chosen:function(e){var t={dropDown:e,container:e.parent(this._selectors.chosenContainer)};return t},setDropDownPosition:function(e){if(this._currentChosen){e.dropDown.css({position:"fixed"});var t=e.container[0].getBoundingClientRect();var i=e.dropDown[0].scrollHeight;var n=e.container.closest(".js-chosen-container");var s=window.innerHeight;var a;if(n.length>0){s=n[0].getBoundingClientRect().bottom}if(i>269){i=269}if(t.bottom+i>s){a=t.top-i-1+"px";e.container.addClass(this._classes.chosenContainerUp);e.dropDown.addClass(this._classes.chosenDropUp)}else{a=t.bottom-1+"px";e.container.removeClass(this._classes.chosenContainerUp);e.dropDown.removeClass(this._classes.chosenDropUp)}e.dropDown.css({top:a,left:t.left+"px",bottom:"auto"})}},hideDropDown:function(e){if(this._currentChosen){e.dropDown.siblings(this._selectors.chosenLink).removeClass(this._classes.chosenShow);e.dropDown.css({left:"-9000px"});this.onClose(this._currentChosen.dropDown)}},toggleModalScrolling:function(e){if(this._currentChosen&&this._currentChosen.dropDown.closest("div.js-simplemodal-container").hasClass("no-chosen-breakout")){return}var t=[];if(this._currentChosen!==null){var i=this._currentChosen.container[0];while(i){if(i.style){if(i.scrollHeight>i.clientHeight+4&&i.tagName!=="HTML"&&i.tagName!=="BODY"){t.unshift(i)}}i=i.parentNode}this._currentHidden=t}if(this._currentHidden!==null&&this._currentHidden.length){let t=e?"scroll":"hidden";for(var n=0;n<this._currentHidden.length;n++){this._currentHidden[n].style.overflowY=t}if(!e){this._currentHidden=null}}},enableScrolling:function(){this.toggleModalScrolling(true);this._currentChosen=null},enableListeners:function(){var e=this;$(window).resize((function(){e.hideDropDown(e._currentChosen)}));$(this._selectors.chosenSearch).on("keyup",(function(){e.setDropDownPosition(e._currentChosen)}))}};t.default=n},30397:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(273641);var s=function(){let e={text:$.__("Saving"),fadeInTime:500};let t={};t.open=function(i){if(t._isOpen()){return}var s=(0,n.extend)(e,i);$("body").append(t._defaultHtml);$(".js-Overlay__text").html(s.text);$(".js-Overlay").fadeIn(s.fadeInTime)};t._isOpen=function(){return $(".js-Overlay").length>0};t.close=function(){if(t._isOpen()){$(".js-Overlay").remove()}};t._defaultHtml="<div class='js-Overlay Overlay' style='display: none;'>"+"<div class='dotLoader Overlay__content'>"+"<div class='bounce1 white'></div>"+"<div class='bounce2 white'></div>"+"<div class='bounce3 white'></div>"+"</div>"+"<div class='js-Overlay__text Overlay__text'></div>"+"</div>";return{open:t.open,close:t.close}}();t.default=s},707050:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(121198);var s=window.BambooHR.FeatureToggle.isEnabled("jade");var a=function(){var e=[];var t={arrowHeight:16,hideClass:"popover-hide"};var i={};i.each=function(e,t){var i=[];for(var n=0;n<e.length;n++){i.push(t.call(e,e[n],n))}return i};i.hasClass=function(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))};i.addClass=function(e,t){if(!i.hasClass(e,t)){e.className=(e.className+" "+t).trim()}};i.removeClass=function(e,t){if(i.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").trim()}};function a(t){var n=false;i.each(e,(function(e){if(e.element===t){n=e.instance;return false}}));return n}function r(t,i){e.push({element:t,instance:i})}function o(t){e=e.filter((function(e){return e.element!==t}))}function l(e,t){var i=e.getBoundingClientRect();return{content:t.content,title:t.title,classes:t.classes,titleCssOverride:t.titleCssOverride||false,placement:t.placement||"top",onload:t.onload||false,click:t.click!==false,persistent:t.persistent||false,contentCssOverride:t.contentCssOverride||false,height:i.height,width:i.width}}function d(e,t){var i=l(e,t);var n=new v(e,i);r(e,n);return n}function u(){var e=document.createElement("div");e.className="bhrPopover__box";var t=document.createElement("button");t.className="bhrPopover__close";t.setAttribute("type","button");t.setAttribute("data-dismiss","modal");t.setAttribute("aria-label","Close");var i;if(s){i=document.createElement("ba-icon");i.setAttribute("name","fab-x-12x12")}else{i=document.createElement("span");i.setAttribute("aria-label","Close");i.textContent="×"}t.appendChild(i);e.appendChild(t);return e}function c(){var e=document.querySelectorAll("[data-pop-content]");var t=[];i.each(e,(function(e){var i=e.parentNode.tagName.toLowerCase();if(!a(e)&&i!="code"&&i!="pre"){t.push(e)}}));return t}function f(e){var t=e.getAttribute("data-pop-content-css-override");try{t=JSON.parse(t.replace(/'/g,'"'))}catch(e){t=undefined}return{content:e.getAttribute("data-pop-content"),title:e.getAttribute("data-pop-title"),placement:e.getAttribute("data-pop-placement"),classes:e.getAttribute("data-pop-classes"),onload:e.getAttribute("data-pop-onload")?e.getAttribute("data-pop-onload")==="true":undefined,click:e.getAttribute("data-pop-click")?e.getAttribute("data-pop-click")==="true":undefined,persistent:e.getAttribute("data-pop-persistent")?e.getAttribute("data-pop-persistent")==="true":undefined,contentCssOverride:t}}var h=function(){this.popoverEl.setAttribute("placement",this.options.placement);if(this.options.classes){var e=this.options.classes.split(",");var t=this.popoverEl;$.each(e,(function(e,n){i.addClass(t,n)}))}if(this.options.title){var a;if(s){a=document.createElement("h4");a.className="bhrPopover__title"}else{a=document.createElement("div");a.className="bhrPopover__title baseColor"}a.textContent=this.options.title;if(this.options.titleCssOverride){for(let e in this.options.titleCssOverride){if(this.options.titleCssOverride.hasOwnProperty(e)){a.style[e]=this.options.titleCssOverride[e]}}}this.popoverEl.appendChild(a)}var r=document.createElement("div");r.className="bhrPopover__content";r.innerHTML=this.options.content;if(this.options.contentCssOverride){for(let e in this.options.contentCssOverride){if(this.options.contentCssOverride.hasOwnProperty(e)){r.style[e]=this.options.contentCssOverride[e]}}}this.popoverEl.appendChild(r);this.popoverEl.style.zIndex=(0,n.getMaxZIndex)()+10;document.body.appendChild(this.popoverEl)};var p=function(){var e=BambooHR.Utils.getRelativePosition(this.triggerEl);switch(this.options.placement){case"right":this.popoverEl.style.top=e.top-this.popoverEl.offsetHeight/2+e.height/2+"px";this.popoverEl.style.left=e.left+(e.width+t.arrowHeight)+"px";break;case"bottom":this.popoverEl.style.top=e.top+(t.arrowHeight+e.height)+"px";this.popoverEl.style.left=e.left-(this.popoverEl.offsetWidth-e.width)/2+"px";break;case"left":this.popoverEl.style.top=e.top-this.popoverEl.offsetHeight/2+e.height/2+"px";this.popoverEl.style.left=e.left-(this.popoverEl.offsetWidth+t.arrowHeight)+"px";break;case"topleft":this.popoverEl.style.top=e.top-this.popoverEl.offsetHeight/3+e.height/2+"px";this.popoverEl.style.left=e.left-(this.popoverEl.offsetWidth+t.arrowHeight)+"px";break;case"bottomleft":this.popoverEl.style.top=e.top+(t.arrowHeight+e.height)+"px";this.popoverEl.style.left=e.left-(this.popoverEl.offsetWidth-e.width)+20+"px";break;case"top":default:this.popoverEl.style.top=e.top-(t.arrowHeight+this.popoverEl.offsetHeight)+"px";this.popoverEl.style.left=e.left-(this.popoverEl.offsetWidth-e.width)/2+"px"}};var g=function(){var e=this;this.triggerEl.addEventListener("click",(function(n){n.stopPropagation();m.call(e);if(i.hasClass(e.popoverEl,t.hideClass)){e.show()}}));this.popoverEl.addEventListener("click",(function(t){t.stopPropagation();m.call(e)}));var n=this.popoverEl.querySelector("button");n.addEventListener("click",(function(t){t.stopPropagation();e.hide()}))};var m=function(){var e=this;v.eachPopover((function(n){if(!n.options.persistent&&!i.hasClass(n.popoverEl,t.hideClass)&&e.triggerEl!==n.triggerEl){n.hide()}}))};function v(e,t){this.triggerEl=e;this.options=t;this.popoverEl=u();this.suppressed=!t.click;this.showing=true;this.onShowFns=[];this.onHideFns=[];h.call(this);g.call(this);p.call(this);if(!this.options.onload){this.hide()}}v.prototype.position=function(){p.call(this);return this};v.prototype.show=function(){p.call(this);if(!this.suppressed&&!this.showing){i.removeClass(this.popoverEl,t.hideClass);this.showing=true;var e=this;i.each(this.onShowFns,(function(t){t(e)}))}return this};v.prototype.hide=function(){if(this.showing){i.addClass(this.popoverEl,t.hideClass);this.showing=false;var e=this;i.each(this.onHideFns,(function(t){t(e)}))}return this};v.prototype.suppress=function(){this.hide();this.suppressed=true;return this};v.prototype.release=function(){this.suppressed=false;return this};v.prototype.onShow=function(e){if(typeof e==="function"){this.onShowFns.push(e)}return this};v.prototype.offShow=function(e){var t=this.onShowFns.indexOf(e);if(t>-1){this.onShowFns.splice(t,1)}return this};v.prototype.onHide=function(e){if(typeof e==="function"){this.onHideFns.push(e)}return this};v.prototype.offHide=function(e){var t=this.onHideFns.indexOf(e);if(t>-1){this.onHideFns.splice(t,1)}return this};v.prototype.destroy=function(){var e=this;if(this.popoverEl){this.popoverEl.parentNode.removeChild(this.popoverEl)}[].slice.call(this.triggerEl.attributes).forEach((function(t){if(/^data-pop-/.test(t.name)){e.triggerEl.removeAttribute(t.name)}}));o(this.triggerEl)};v.create=function(e,t){var i=e.nodeType&&e.nodeType==1?e:document.querySelector(e);if(!i){console.warn("Whoa! There's no element on the page with a selector of: "+e);return false}if(a(i)){console.warn('There is already a popover for element "'+e+'". The popover instance has been returned to you.');return v.selectPopovers(e)}return d(i,t)};v.init=function(){var e=c();i.each(e,(function(e){var t=f(e);d(e,t)}));v.eachPopover((function(e){e.position()}));v.purge()};v.selectPopovers=function(e){var t=[];i.each(document.querySelectorAll(e),(function(e){var i=a(e);if(i){t.push(i)}}));return t};v.eachPopover=function(t){i.each(e,(function(e){t(e.instance)}))};v.purge=function(){e=e.filter((function(e){var t=document.body.contains(e.element.parentNode);if(!t){var i=e.instance.popoverEl;i.parentNode.removeChild(i)}return t}))};window.addEventListener("load",(function(){window.setTimeout((function(){v.eachPopover((function(e){e.position()}))}),200)}));window.addEventListener("focus",(function(){window.setTimeout((function(){v.eachPopover((function(e){e.position()}))}),200)}));var w;window.addEventListener("resize",(function(){clearTimeout(w);w=setTimeout((function(){v.eachPopover((function(e){e.position()}))}),10)}));document.body.addEventListener("click",(function(){v.eachPopover((function(e){if(!e.options.persistent&&!i.hasClass(e.popoverEl,t.hideClass)){e.hide()}}))}));return{create:v.create,init:v.init,selectPopovers:v.selectPopovers,eachPopover:v.eachPopover,purge:v.purge}}();t.default=a},92449:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(479706);const s=(0,n.isEnabled)("jade");var a={name:"Search Input Module",default:{input:s?".js-bhr-search-input":".bhrSearchInput input",close:s?".js-bhr-search-input-clear":".bhrSearchInput__clearSearch"},init:function(){this._registerEventListeners()},_registerEventListeners:function(){const{close:e,input:t}=this.default;$(e).on("click",(function(){$(this).siblings(t).val("").trigger("keyup")}));$(t).on("keyup",(function(){let t=$(this).val().toLowerCase().trim();let i=$(this).siblings(e);if(t===""){i.css({opacity:"0",visibility:"hidden"})}else{i.css({opacity:"1",visibility:"visible"})}}))}};t.default=a},686290:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(121198);var s=i(479706);const a=(0,s.isEnabled)("jade");var r=function(){var e=[];var t;var i={arrowHeight:5,triggerSelector:".bhrTooltip",showDelay:300};if(a){i.arrowHeight=7}var s={};s.each=function(e,t){var i=[];for(var n=0;n<e.length;n++){i.push(t.call(e,e[n],n))}return i};s.backwards=function(e,t){var i=[];for(var n=e.length-1;n>=0;n--){i.push(t.call(e,e[n],n))}return i};s.hasClass=function(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))};s.addClass=function(e,t){if(!s.hasClass(e,t)){e.className=(e.className+" "+t).trim()}};s.removeClass=function(e,t){if(s.hasClass(e,t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ").trim()}};s.isDOM=function(e){return e&&e.nodeType===1};function r(t){var i=false;s.each(e,(function(e){if(e.element===t){i=e.instance;return false}}));return i}function o(t,i){e.push({element:t,instance:i})}function l(t){e=e.filter((function(e){return e.element!==t}))}function d(e,t){var s=e.getBoundingClientRect();return{height:s.height,width:s.width,placement:t.placement||"top",align:t.align||"center",lead:t.lead,delay:t.delay?t.delay:i.showDelay,textAlign:t.textAlign||"center",content:t.content,className:t.className||"",zIndex:t.zIndex||(0,n.getMaxZIndex)(),markup:t.markup}}function u(){var e=document.querySelectorAll("[data-tip-content]");var t=[];s.each(e,(function(e){var i=e.parentNode.tagName.toLowerCase();if(!r(e)&&i!="code"&&i!="pre"){t.push(e)}}));return t}function c(e){return{placement:e.getAttribute("data-tip-placement"),align:e.getAttribute("data-tip-align"),lead:e.getAttribute("data-tip-lead"),delay:e.getAttribute("data-tip-delay"),textAlign:e.getAttribute("data-tip-text-align"),content:e.getAttribute("data-tip-content"),className:e.getAttribute("data-tip-class"),zIndex:e.getAttribute("data-tip-z-index")}}function f(e,t){try{t.content=JSON.parse(t.content)}catch(e){}var i=d(e,t);var n=new y(e,i);o(e,n);return n}var h=function(){p.call(this);s.addClass(this.tooltipEl,this.options.textAlign);s.addClass(this.tooltipEl,this.options.className);this.tooltipEl.setAttribute("placement",this.options.placement);document.body.appendChild(this.tooltipEl)};var p=function(){if(this.options.content instanceof Array){var e=document.createElement("ul");s.each(this.options.content,(function(t){var i=document.createElement("li");i.textContent=t;e.appendChild(i);if(a){e.appendChild(document.createElement("br"))}}));this.tooltipEl.appendChild(e)}else{this.tooltipEl.textContent=this.options.content}if(this.options.lead){var t=document.createElement("p");t.className="lead";t.textContent=this.options.lead;if(a){this.tooltipEl.insertBefore(document.createElement("br"),this.tooltipEl.firstChild)}this.tooltipEl.insertBefore(t,this.tooltipEl.firstChild)}if(this.options.markup){this.tooltipEl.innerHTML=this.options.markup}};var g=function(){this.tooltipEl.style.zIndex=this.options.zIndex;var e=BambooHR.Utils.getRelativePosition(this.triggerEl);switch(this.options.placement){case"right":this.tooltipEl.style.top=e.top+e.height/2-this.tooltipEl.offsetHeight/2+"px";this.tooltipEl.style.left=e.left+e.width+i.arrowHeight+"px";break;case"topright":this.tooltipEl.style.top=e.top+"px";this.tooltipEl.style.left=e.left+e.width+i.arrowHeight+"px";break;case"bottom":this.tooltipEl.style.top=e.top+e.height+i.arrowHeight+"px";this.tooltipEl.style.left=e.left+e.width/2-this.tooltipEl.offsetWidth/2+"px";break;case"left":this.tooltipEl.style.top=e.top+e.height/2-this.tooltipEl.offsetHeight/2+"px";this.tooltipEl.style.left=e.left-(this.tooltipEl.offsetWidth+i.arrowHeight)+"px";break;case"topleft":this.tooltipEl.style.top=e.top+"px";this.tooltipEl.style.left=e.left-(this.tooltipEl.offsetWidth+i.arrowHeight)+"px";break;case"top":default:this.tooltipEl.style.top=e.top-this.tooltipEl.offsetHeight-i.arrowHeight+"px";this.tooltipEl.style.left=e.left+e.width/2-this.tooltipEl.offsetWidth/2+"px"}switch(this.options.align){case"left":this.tooltipEl.style.left=e.left+"px";break;case"right":this.tooltipEl.style.left="auto";this.tooltipEl.style.right=e.right+"px";break}};var m=function(){this.triggerEl.removeEventListener("mouseenter",w);this.triggerEl.removeEventListener("mouseleave",b)};var v=function(){this.triggerEl.addEventListener("mouseenter",w.bind(this));this.triggerEl.addEventListener("mouseleave",b.bind(this))};function w(e){var i=this;e.stopPropagation();t=setTimeout((function(){i.show()}),i.options.delay)}function b(e){var i=this;e.stopPropagation();i.hide();clearTimeout(t)}function y(e,t){this.triggerEl=e;this.options=t;this.isSuppressed=false;this.tooltipEl=false;v.call(this)}y.prototype.setMarkup=function(e){this.options.markup=e;if(this.tooltipEl){this.tooltipEl.innerHTML=e}return this};y.prototype.show=function(){if(!this.isSuppressed){if(!this.tooltipEl){this.tooltipEl=document.createElement("div");this.tooltipEl.className="js-bhrTooltip bhrTooltip-tip";h.call(this)}g.call(this);s.addClass(this.tooltipEl,"show")}return this};y.prototype.hide=function(){if(this.tooltipEl){s.removeClass(this.tooltipEl,"show")}return this};y.prototype.suppress=function(){this.hide();this.isSuppressed=true;return this};y.prototype.release=function(){this.isSuppressed=false;return this};y.prototype.destroy=function(){m.call(this);if(this.tooltipEl){this.tooltipEl.parentNode.removeChild(this.tooltipEl)}l(this.triggerEl)};y.create=function(e,t){var i=e.nodeType&&e.nodeType==1?e:document.querySelector(e);if(!i){console.warn("Whoa! There's no element on the page with a selector of: "+e);return false}if(r(i)){console.warn('There is already a tooltip for element "'+e+'". The tooltip instance has been returned to you.');return y.selectTooltips(e)}y.purge();return f(i,t)};y.init=function(){var e=u();if(e.length>0){var t=(0,n.getMaxZIndex)();s.each(e,(function(e){var i=c(e);i.zIndex=++t;f(e,i)}))}y.purge()};y.selectTooltips=function(e){var t=[];var i=[];if(s.isDOM(e)){i=[e]}else if(e instanceof NodeList||Array.isArray(e)){i=e}else if(e!==""&&(typeof e==="string"||e instanceof String)){i=document.querySelectorAll(e)}s.each(i,(function(e){var i=r(e);if(i){t.push(i)}}));return t};y.eachTooltip=function(t){s.each(e,(function(e){t(e.instance)}))};y.purge=function(){s.backwards(e,(function(t,i){if(!document.body.contains(t.element.parentNode)){var n=t.instance.tooltipEl;if(n){n.parentNode.removeChild(n)}e.splice(i,1)}}))};return{create:y.create,init:y.init,selectTooltips:y.selectTooltips,eachTooltip:y.eachTooltip,purge:y.purge}}();t.default=r},501777:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);var s=n(i(707050));var a=n(i(92449));var r=n(i(686290));var o=n(i(89076));var l=n(i(992656));var d=n(i(30397));window.BambooHR.Components={Popover:s.default,SearchInput:a.default,Tooltip:r.default,ChosenBreakout:o.default,ChosenBreakoutModal:l.default,Overlay:d.default,init:function(){this.Popover.init();this.SearchInput.init();this.Tooltip.init();o.default.init();l.default.init()}};$(window).load((function(){BambooHR.Components.init()}));$(document).on("pjax:end simplemodal:open:after",(function(){BambooHR.Components.init()}));$(document).ajaxSuccess((function(){BambooHR.Components.init()}))},807923:(e,t,i)=>{"use strict";var $=i(992005);i(925482);$(document).ready((function(){$(".dot-ellipsis").dotdotdot({wrap:"letter"})}));$(document).ajaxSuccess((function(){window.setTimeout((function(){$(".dot-ellipsis").dotdotdot({wrap:"letter"})}))}))},658489:(e,t,i)=>{"use strict";var n=i(565862);var s=i(479706);var a=n(i(822215));class r{static get className(){return"StickyNav"}constructor(){this.body=document.getElementsByTagName("body")[0];this.nav=document.getElementsByTagName("nav")[0];let e=this.nav&&this.nav.id==="navMain";if((0,s.isEnabled)("jade")){this.nav=document.querySelector(".js-SiteHeader");e=true}if(this.nav&&e){this.height=this.nav.offsetHeight;this.top=this.nav.offsetTop;this.parent=this.nav.parentNode;this.limited=false;if(this.body.classList.contains("fixedPageHeaderLimited")){this.limited=true}this.class="";this.spacer=document.createElement("div");this.spacer.classList.add("navSpacer");this.spacer.style.display="none";this.spacer.style.height=`${this.height}px`;this.parent.insertBefore(this.spacer,this.nav.nextSibling);window.addEventListener("scroll",this.onScrollStickyNav.bind(this));document.addEventListener("updateNavPosition",this.updateNavPosition.bind(this));this.onScrollStickyNav()}}onScrollStickyNav(){if(window.pageYOffset>this.top){this.stick()}else{this.unstick()}}stick(){this.nav.style.position="fixed";this.nav.style.top="0";this.nav.style.zIndex="1010";this.spacer.style.display="block";if(!this.limited&&!this.class){this.class="fixedPageHeader";this.body.classList.add(this.class);this.addEvent(true)}}unstick(){this.nav.style.position="relative";this.nav.style.top="";this.nav.style.zIndex="";this.spacer.style.display="none";if(this.class=="fixedPageHeader"){this.body.classList.remove(this.class);this.class="";this.addEvent(false)}}addEvent(e){const t=document.createEvent("CustomEvent");t.initCustomEvent("navChanged",true,true,{isSticky:e});this.body.dispatchEvent(t)}updateNavPosition(){this.unstick();this.top=this.nav.offsetTop;this.onScrollStickyNav()}}if((0,s.isEnabled)("wrappedStickyNav")){const e=document.querySelector(".js-SiteHeader");if(e){new a.default(e,{onAfterStick:()=>{e.style.zIndex="1010";document.body.classList.add("fixedPageHeader")},onAfterUnstick:()=>{e.style.zIndex="";document.body.classList.remove("fixedPageHeader")}})}}else{new r}},818114:(e,t,i)=>{"use strict";var jQuery=i(992005);var $=i(992005);jQuery.fn.insertableList=function(e,t){return this.each((function(){if($(this).hasClass("js-insertableList-complete")){return}$(this).addClass("js-insertableList-complete");if(t==undefined){t=$.__("--- add a new category ---");if($(this).hasClass("th-grab")){var i=$(this);while(i.length>0&&!i.is("tr")&&!i.is("div.fieldBox")){i=i.parent()}if(i.length>0){t=i.find("th").length>0?i.find("th").text():i.find("label").text();t=$.__("--- add a new option ---")}}}var n=this;if(this.options){if(this.hasAttribute("wrap-insertable-option")){n=document.createElement("optgroup");this.appendChild(n)}n.appendChild(new Option(t,"new"));$(this).trigger("liszt:updated")}$(this).data("oldIndex",this.selectedIndex);var a=e;if($(this).data("fieldid")){a+="?fieldId="+$(this).data("fieldid")}$(this).data("post",a);$(this).change(s)}))};function n(e){if(e.keyCode==13){e.preventDefault();r();return false}}function s(){if($(this).val()=="new"){$(this).hide();$(this).next(".chzn-container").hide();$(".hideable-buttons").hide();a();$(this).after('<div id="newSectionForm" style="display:none">'+'        <span class="btnGroup">'+'\t\t <input type="text" name="newName" value="" class="text ac_input js-validate-inlineEdit" maxlength="100" />'+'        <button type="button" class="button btn btnAction btnInlineSave">'+$.__("Save")+"</button>"+"\t\t </span>"+'        <span class="orCancel">'+'        <a href="javascript:void(0)">'+$.__("Cancel")+"</a></span>"+'\t\t<div style="display:none; clear:both; text-align:left" class="customMessageCount"></div>'+"</div>");$('#newSectionForm input[type="text"]').limitCount(255,{displaySelector:$("#newSectionForm div")});$("#newSectionForm button").on("click",r).on("mousedown",(function(){$(this).closest("#newSectionForm").attr("saving-inline","true")}));$("#newSectionForm a").click((function(){$("#newSectionForm").prev("select").valid();a()}));$("#newSectionForm").fadeIn("slow",(function(){$('#newSectionForm input[type="text"]').focus()})).data("for",$(this));if($.browser.mozilla){$('#newSectionForm input[type="text"]').keypress(n)}else{$('#newSectionForm input[type="text"]').keydown(n)}}else{$(this).data("oldIndex",this.selectedIndex)}}function a(){var e=$("#newSectionForm").data("for");if(e){$(".hideable-buttons").fadeIn("slow");e.each((function(){this.selectedIndex=$(this).data("oldIndex");$(this).change();$(this).trigger("liszt:updated");$(this).next().fadeIn("slow")}));$("#newSectionForm").removeData("for").remove();e.next(".chzn-container").fadeIn("slow")}}function r(){var e=$("#newSectionForm");var t=$(e).data("for");var i=t.attr("data-field-id")?t.attr("data-field-id"):t.attr("name");var n=$('input[name="newName"]',e);var s=n.val();if(!n.valid()){if(t.data("message-error")){setMessage(t.data("message-error"),"error")}else{setMessage($.__("You must enter a new option to the list."),"error")}e.attr("saving-inline","false");return}var r={ajax:1,action:"new-section",name:s,field:i};$.post(t.data("post"),r,null,"json").done((function(e){if(e.ret=="SUCCESS"){var i=t.get(0);var n=new Option(i.options[i.options.length-1].text,i.options[i.options.length-1].value);i.add(n,null);i.options[i.options.length-2].text=s;i.options[i.options.length-2].value=e.id;$(t).data("oldIndex",i.options.length-2);if(t.hasClass("js-insertableList-linked")){$("select.js-insertableList-linked").each((function(){if(this!=i){var t=new Option(this.options[this.options.length-1].text,this.options[this.options.length-1].value);this.add(t,null);this.options[this.options.length-2].text=s;this.options[this.options.length-2].value=e.id;$(this).trigger("liszt:updated")}}))}}setMessage(e.message,e.ret.toLowerCase());if(e.ret!="ERROR"){a();t.valid();if(t.attr("multiple")&&t.attr("multiple")=="multiple"){t.show()}}})).fail((function(){setMessage($.__("Error processing your request."),"error");a()})).always((function(){e.attr("saving-inline","false")}))}},283005:(e,t,i)=>{"use strict";var $=i(992005);var jQuery=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.deleteFile=k;t.deleteCompanyCommentFile=O;t.deleteTempFile=P;t.getFileId=D;t.scanEmployeeFiles=R;var n=i(774548);var s=i(479706);const a=(0,s.isEnabled)("jade");var r=250;var o=0;var l=false;const d=window.GLOBAL_VALID_EXTENSIONS?Array.from(window.GLOBAL_VALID_EXTENSIONS):["pdf","doc","docx","xls","xlsx","csv","jpg","jpeg","tif","tiff","gif","png","bmp","txt","rtf","zip"];const u=d.map((e=>"."+e));$(document).ready((function(){$(".files ul:not(.contextmenu)").bind("contextmenu",(function(e){return false}));$("h3.file-title:not(.contextmenu)").bind("contextmenu",(function(e){return false}));$(".files ul.context").hover((function(e){$(this).addClass("hover")}),(function(e){if($(this)[0]!=l[0]){$(this).removeClass("hover")}})).bind("contextmenu",e);$(".files a.newcontext").bind("click",e);function e(e){$("#context-menu").css({position:"absolute",top:e.pageY-2+"px",left:e.pageX-2+"px"}).html(w(D($(this).closest(".files ul.context").attr("id")),$(this).closest(".files ul.context").children("li").attr("id"))).show().click(h);l=$(this);return false}$("h3.file-title.context").bind("contextmenu",(function(e){var t="";if($(this).hasClass("emp")){t=v(A($(this).attr("id")))}else{t=window.getCategoryContextMenu(A($(this).attr("id")))}if(!t){return false}$("#context-menu").css({position:"absolute",top:e.pageY-2+"px",left:e.pageX-2+"px"}).html(t).show().click(h);l=$(this);return false})).hover((function(e){$(this).addClass("hover");$(this).find("span.edit-cat").unbind("click",t)}),(function(e){if($(this)[0]!=l[0]){$(this).removeClass("hover")}}));$("h3.file-title").bind("click",t);function t(e){var t=$(e.target);if(t.hasClass("prevent_bubble")){return false}$(this).toggleClass("closed");var i="#files_"+A($(this).attr("id"));$(i).toggleClass("closed");var n=$(i).hasClass("closed")?"false":"true";var s=$("h3.file-title").length;if(s>1){var a=$("h3.file-title.closed").length;if(a==0){$("a#expand-files").hide();$("a#collapse-files").show()}}var r=false;if($(this).hasClass("emp_session")){r="employees/files/employee_file_section_status.php"}else{r="company_file_section_status.php"}if(r){$.ajax({url:"/ajax/"+r+"?id="+A($(this).attr("id"))+"&open="+n,type:"get",dataType:"html",async:false,success:function(e){}})}}$("a#select-all").click((function(){$(".files input:checkbox").each((function(){this.checked=true}));p();return false}));$("a#unselect-all").click((function(){$(".files input:checkbox").each((function(){this.checked=false}));p();return false}));$("a#expand-files").click((function(){$("h3.file-title").removeClass("closed");$("div.file-list").removeClass("closed");$("a#expand-files").hide();$("a#collapse-files").show();var e=false;if($(this).hasClass("emp_session")){e="employees/files/employee_file_section_status.php"}else{e="company_file_section_status.php"}if(e){var t=$(this).data("section-ids");$.ajax({url:"/ajax/"+e+"?ids="+t+"&open=true",type:"get",dataType:"html",async:false,success:function(e){}})}return false}));$("a#collapse-files").click((function(){$("h3.file-title").addClass("closed");$("div.file-list").addClass("closed");$("a#collapse-files").hide();$("a#expand-files").show();var e=false;if($(this).hasClass("emp_session")){e="employees/files/employee_file_section_status.php"}else{e="company_file_section_status.php"}if(e){var t=$(this).data("section-ids");$.ajax({url:"/ajax/"+e+"?ids="+t+"&open=false",type:"get",dataType:"html",async:false,success:function(e){}})}return false}));$(".files input:checkbox").change((function(){p()}));$("#context-menu").bind("mouseover",f).bind("mouseout",c)})).click(h);function c(){o=window.setTimeout(h,r)}function f(){if(o!=0){window.clearTimeout(o);o=0}}function h(){if(l!=false){$("#context-menu").hide();$(l).removeClass("hover");l=false}}function p(){var e=$(".files input:checkbox:checked").length;if($(".files input:checkbox").length==e){$("a#select-all").hide();$("a#unselect-all").show()}else{$("a#select-all").show();$("a#unselect-all").hide()}if(e>0){$("a#download-selected").fadeIn();if(j()){$("a#move-selected").fadeIn();$("a#delete-selected").fadeIn()}else{$("a#move-selected").hide();$("a#delete-selected").hide()}}else{$("a#download-selected").hide();$("a#move-selected").hide();$("a#delete-selected").hide()}g()}function g(){$(".files input:checkbox").each((function(){if(this.checked){$(this).parents("ul").addClass("selected")}else{$(this).parents("ul").removeClass("selected")}}))}function m(e){var t=null;$.ajax({url:"/ajax/employee_files.php?id="+e,type:"get",dataType:"html",async:false,success:function(e){t=e}});return t}function v(e){if(typeof files_comment_categories!="undefined"&&$.inArray(e,window.files_comment_categories)>=0){return""}var t='<li><a href="#" onclick="return renameCategory('+e+')">Rename</a></li>';var i=true;let n=m(e);if(n==0){i=false}if(!i&&(typeof files_keep_categories=="undefined"||$.inArray(e,window.files_keep_categories)==-1)){t+='<li><a href="#" onclick="return deleteCategory('+e+')">'+$.__("Delete")+"</a></li>"}return t}function w(e,t){var i='<li><a href="download.php?id='+e+'">'+$.__("Open")+"</a></li>";i+='<li><a href="#" onclick="return renameFile('+e+')">'+$.__("Rename")+"</a></li>";i+='<li><a href="replace.php?id='+window.files_replace_params+e+'">'+$.__("Replace")+"</a></li>";i+='<li><a href="#" onclick="return moveFile('+e+')">'+$.__("Move")+"</a></li>";if(t){i+='<li><a href="#" onclick="return unshareFile('+e+',true)">'+$.__("Share")+"</a></li>"}else{i+='<li><a href="#" onclick="return unshareFile('+e+',false)">'+$.__("Unshare")+"</a></li>"}i+='<li><a href="#" onclick="return deleteFile('+e+')">'+$.__("Delete")+"</a></li>";return i}function b(){window.setMessage("deprecated add category in file management.js","error");return ajaxModalDialog($.__("Add a new category"),window.files_ajax_url+"add_category.php",$.__("Save"),(function(){if($.trim($("#add_category input").val())==""){var e=$.__("Please enter a category name.");if($("#add_category p.please").html()!=e){$("#add_category").append("<p class='please'>"+e+"</p>")}}else{modalFormSubmit($("#add_category")[0],(function(e){if(e.ret=="SAVED"){document.location.reload()}}))}}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function y(e){window.setMessage("deprecated add category in file management.js","error");return ajaxModalDialog($.__("Rename Selected Category"),window.files_ajax_url+"rename_category.php?id="+e,$.__("Save"),(function(){if($.trim($("#rename_category input").val())==""){var e=$.__("Please enter a category name.");if($("#rename_category p.please").html()!=e){$("#rename_category").append("<p class='please'>"+e+"</p>")}}else{modalFormSubmit($("#rename_category")[0],(function(e){if(e.ret=="SAVED"){document.location.reload()}}))}}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function S(e){return ajaxModalDialog($.__("Delete Selected Category"),window.files_ajax_url+"delete_category.php?id="+e,$.__("Yes"),(function(){modalFormSubmit($("#delete_category")[0],(function(e){if(e.ret=="DELETED"){document.location.reload()}}))}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function E(e){return x([e])}function C(){var e=0;var t=[];$(".files input:checkbox:checked").each((function(){t[e]=D($(this).parents("ul").attr("id"));e++}));return x(t)}function x(e){if(e.length>0){var t="";for(var i=0;i<e.length;i++){t+="&file_ids[]="+e[i]}var n=$.__n("Move Selected Document","Move Selected Documents",e.length);return ajaxModalDialog(n,window.files_ajax_url+"move_files.php?tmp=1&"+t,$.__("Move"),(function(){modalFormSubmit($("#move_files")[0],(function(e){if(e.ret=="MOVED"){document.location.reload()}}))}),undefined,{modal:true,cancel_message:$.__("Cancel")})}return false}function T(e,t){var i=$.__("Unshare Selected Document");if(t){i=$.__("Share Selected Document")}return ajaxModalDialog(i,window.files_ajax_url+"unshare_file.php?share="+t+"&id="+e,$.__("Yes"),(function(){modalFormSubmit($("#unshare_file")[0],(function(e){if(e.ret=="SAVED"){document.location.reload()}}))}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function k(e){return M([e])}function O(e){return M([e],true)}function F(){var e=0;var t=[];$(".files input:checkbox:checked").each((function(){t[e]=D($(this).parents("ul").attr("id"));e++}));return M(t)}function M(e,t){return new Promise(((n,s)=>{t=t||false;if(e.length>0){let a="";for(let t=0;t<e.length;t++){a+="&file_ids[]="+e[t]}const r=$.__n("Delete Selected Document","Delete Selected Documents",e.length);let o=window.files_ajax_url+"delete_files.php?tmp=1"+a;if(t){o+="&company=1"}$.ajax({url:o,method:"GET"}).done((e=>{i(e,r);return n()})).fail((()=>{setMessage($.__("It looks like this file has already been deleted."),"success");return s()}))}}));function i(e,t){if(a){window.BambooHR.Modal.setState({dangerousContent:`<div class="Comment__deleteFileModalWrapper">${e}</div>`,icon:"fab-trash-can-43x48",iconColor:"danger",isOpen:true,primaryAction:()=>{const e=$("form#delete_files");const t=e.attr("action");const i=e.serializeArray();window.BambooHR.Modal.setState({isProcessing:true},true);$.ajax({url:t,data:i,dataType:"json"}).done((e=>{window.BambooHR.Modal.setState({isOpen:false});if(e.ret=="DELETED"){document.location.reload()}})).fail((()=>{window.BambooHR.Modal.setState({isProcessing:false},true)}))},primaryActionText:$.__("Yes"),title:t});return}SimpleModal.openModal({html:e,classes:"jquery-padding",header:{title:{text:t}},footer:{buttons:{primary:{text:$.__("Yes"),action:e=>{const t=e.find("form#delete_files");const i=t.attr("action");const n=t.serializeArray();$.ajax({url:i,data:n,dataType:"json"}).done((e=>{if(e.ret=="DELETED"){document.location.reload()}}))}},cancel:{show:true}}}})}}function P(e){if(typeof e!="object"){e=[e]}if(e.length>0){var t="";for(var i=0;i<e.length;i++){t+="&file_ids[]="+e[i]}return $.ajax({type:"post",url:window.files_ajax_url+"delete_files.php?temporary=1"+t+"&delete=1&showMessage=no",datatype:"json"}).done((function(e){if(e.ret=="DELETED"){return true}return false}))}}function I(){var e=0;var t="";var i=new Date;$(".files input:checkbox:checked").each((function(){t+="&file_ids[]="+D($(this).parents("ul").attr("id"));e++}));window.location=window.files_base_url+"download.php?stop=stop"+t+"&t="+i.getTime();return false}function A(e){return Number(e.substr(9))}function D(e){return Number(e.substr(5))}function j(){let e=$("ul.file-list:not(.context) input:checked");return e.length==0}var L=document.getElementById("sortby");if(L){L.onchange=function(){window.location=window.files_index_url+"&sort="+this.options[this.selectedIndex].value}}function R(e){if(!e){e=2e3}var t=[];$(".update-status").each((function(e){var i=$(this).attr("id").split("_");t.push(i[1])}));if(t.length){N(t.join(","),e)}}function N(e,t){if(!e){return}$.ajax({url:"/ajax/employee_file_status.php",type:"get",data:{ids:e},dataType:"json",async:false,success:function(e){for(var i in e){var n=$("#file_"+i);if(e[i]=="uploaded"){n.removeClass("update-status");$(".file_virus_"+i).hide();$(".file_inactive_"+i).hide();$(".file_active_"+i).show();$(".file_scanning_"+i).hide()}else if(e[i]=="virus"){n.removeClass("update-status");$(".file_scanning_"+i).hide();$(".file_active_"+i).hide();$(".file_virus_"+i).show();$(".file_inactive_"+i).show()}}if(t<12e4){t*=1.5;window.setTimeout((function(){R(t)}),t)}}})}function B(e){if(!e){e=2e3}var t=[];$(".update-status").each((function(e){var i=$(this).attr("id").split("_");t.push(i[1])}));if(t.length){H(t.join(","),e)}}function H(e,t){if(!e){return}$.ajax({url:"/ajax/file_status.php",data:{ids:e},dataType:"json",async:false,success:function(e){for(var i in e){var n=$("#file_"+i);if(e[i]=="uploaded"){n.removeClass("update-status");$(".file_scanning_"+i).hide();$(".file_virus_"+i).hide();$(".file_inactive_"+i).hide();$(".file_active_"+i).show()}else if(e[i]=="virus"){n.removeClass("update-status");$(".file_scanning_"+i).hide();$(".file_active_"+i).hide();$(".file_virus_"+i).show();$(".file_inactive_"+i).show()}}if(t<12e4){t*=1.5;window.setTimeout((function(){B(t)}),t)}}})}function z(){this.options={};this.uploaders=[];this.handleDragOver=function(e){e.stopPropagation();e.preventDefault()};this.setDragOffValues=function(e){e=$(e.uploaderId);$(".dragOver",e).find(".links-msg").hide();$(".dragOver",e).removeClass("dragOver")};this.remove=function(e,t={}){e.remove();if(t.onRemove){t.onRemove.call(t)}};this.fallbackSuccess=function(e,t){if(e.status=="OK"){var i=t.createFileWrapper(e.name,false);i.data("fileInfo",e);i.data("newFile",true);i.attr("id","file-"+e.fid);i.addClass("uploadDone");t.wrapper.find(".files").append(i);t.wrapper.find(".file-x").bind("click",{fp:i},(function(e){e.stopPropagation();e.preventDefault();if(t.removeFile(e.data.fp)){$.fileUploader.remove(e.data.fp)}}));if(t.onFallbackSuccess){t.onFallbackSuccess(e,i)}if(t.success){t.success(e,i)}if(t.required){if(i.closest(".fieldDiv").find("input[name=uploadValidatorHiddenInput]").valid()){i.closest(".fieldDiv").find(".fieldInfo.error").remove()}}}else{setMessage(e.message,"error")}$.fileUploader.uploaders[e.uploaderId]=false};this.createFileWrapper=function(e,t){let i=`\n\t\t<div class="file-wrapper newFile">\n\t\t\t<div class="file-name">\n\t\t\t\t<ba-icon class="FileType__icon"></ba-icon>\n\t\t\t\t<span class="truncate">${xmlEntities(e)}</span>\n\t\t\t\t<div class="file-x bicon-x"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t`;let n=`\n\t\t<div class="files-progress-wrapper">\n\t\t\t<div class="ProgressBar">\n\t\t\t\t<div class="ProgressBar__bar baseColorBg"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t`;if((0,s.isEnabled)("jade")){n=`\n\t\t\t\t<div class="files-progress-wrapper">\n\t\t\t\t\t<div class="ProgressBar ProgressBar--small">\n\t\t\t\t\t\t<div class="ProgressBar__bar"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;i=`\n\t\t\t\t<div class="file-wrapper newFile">\n\t\t\t\t\t<div class="file-name">\n\t\t\t\t\t\t<ba-icon class="FileType__icon file-nameIcon"></ba-icon>\n\t\t\t\t\t\t<span class="truncate file-nameText">${xmlEntities(e)}</span>\n\t\t\t\t\t\t<ba-icon class="file-x file-nameRemoveButton" name="fab-circle-x-14x14" role="button"></ba-icon>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`}var a=$(i);if(t){a.append(n)}return a};this.getProgressPercent=function(e){return e};this.handleFileUpload=function(e,t,i){var s=i.wrapper;i.setDragOffValues(s);var a=s.find(".files");t.preventDefault();t.stopPropagation();var r;if(typeof e.files==="undefined"){r=t.dataTransfer.files}else{r=e.files}if(!Array.isArray($.fileUploader.uploaders[i.uploaderId])){$.fileUploader.uploaders[i.uploaderId]=[]}for(var o=0;o<r.length;o++){var l=new FormData;var d=r[o];var u=d.name.split(".");var c=u[u.length-1].indexOf(".")===0?u[u.length-1]:"."+u[u.length-1];if(i.validExtensions&&i.validExtensions.indexOf(c.toLowerCase())===-1){setMessage($.__("The only allowed file extensions are: %s",i.validExtensions.join(", ")),"error");return false}if(i.maxSize&&d.size>i.maxSize){setMessage("Files must be smaller than "+i.maxSize/1024/1024+"MB.","error");return false}l.append("upload",d);l.append("uploaderId",i.uploaderId);if(i.postOptions){G(i.postOptions,l)}var f=i.createFileWrapper(d.name,true);let e=f.find(".FileType__icon");if(e.length>0){let t=(0,n.getIconNameFromFileName)(d.name,"16x20");if(t){e.attr("name",t)}}f.addClass("uploadInProgress");f.appendTo(a);a.hide().show(0);a.addClass("active");var h="/ajax/files/attachTemporary.php";if(i.uploadToTempUrl){h=i.uploadToTempUrl}var p=W(i,h,l,f,s);$.fileUploader.uploaders[i.uploaderId].push(p);f.find(".file-x").on("click",{xhr:p,fp:f},(e=>{e.stopPropagation();e.preventDefault();e.data.xhr.abort();var t=e.data.fp.find(".ProgressBar__bar");if(t.length>=1){i.removeFile(e.data.fp);t.animate({width:"0%"},250,(()=>{$.fileUploader.remove(e.data.fp,i)}))}else if(i.removeFile(e.data.fp)){$.fileUploader.remove(e.data.fp,i)}}))}};this.setDragOverValues=function(e){e.addClass("dragOver").find(".links-msg").text($.__("Drop to upload")).show()};this.addEventListeners=function(e,t){e[0].addEventListener("dragover",t.handleDragOver,false);t.handleDragOverStub=function(e){e.preventDefault();e.stopPropagation();t.setDragOverValues($(this))};e[0].addEventListener("dragenter",t.handleDragOverStub,false);t.doNothingStub=function(e){e.preventDefault();e.stopPropagation()};e[0].addEventListener("dragleave",t.doNothingStub,false);t.handleFileUploadStub=function(e){t.handleFileUpload(this,e,t)};e[0].addEventListener("drop",t.handleFileUploadStub,false)};this.removeEventListeners=function(e,t){e[0].removeEventListener("dragover",t.handleDragOver);e[0].removeEventListener("dragenter",t.handleDragOverStub);e[0].removeEventListener("dragleave",t.doNothingStub);e[0].removeEventListener("drop",t.handleFileUploadStub)};this.defaults={handleDragOver:this.handleDragOver,handleFileUpload:this.handleFileUpload,createFileWrapper:this.createFileWrapper,getProgressPercent:this.getProgressPercent,setDragOverValues:this.setDragOverValues,setDragOffValues:this.setDragOffValues,uploadToTempUrl:this.uploadToTempUrl,fallbackSuccess:this.fallbackSuccess,addEventListeners:this.addEventListeners,removeEventListeners:this.removeEventListeners,postOptions:this.postOptions,error:this.error,removeFile:function(){return true},beforeUpload:false,validExtensions:u}}(function($){$.extend({fileUploader:new z});$.fn.fileUploader=function(e){var t=$.extend({},$.fileUploader.defaults,e);return this.each((function(e,i){var n=$(i);t.wrapper=n;if(n.length!=1){return false}n.data("uploaderId",t.uploaderId);i.config=t;if(window.File&&window.FormData&&window.FileReader&&window.FileList){t.addEventListeners(n,t);var s='<input type="file" class="uploadInput" name="upload" style="visibility: hidden; width: 1px; height: 1px; position: absolute" multiple aria-label="File upload"/>'+t.linkHTML+"";n.find(".attach-wrapper").html(s);const e=n.find(".uploadInput");e.change((function(e){t.handleFileUpload(this,e,t)}));if(t.noValidate){e.addClass("ignore")}if(t.validExtensions){e.attr("accept",t.validExtensions)}if(t.acceptSingleFileOnly){e.removeAttr("multiple")}n.find(".attach-link").click((function(e){e.stopPropagation();e.preventDefault();$(this).prev(".uploadInput").click()}));$.fileUploader.options[t.uploaderId]=t}else{setMessage($.__("Your browser does not support this feature, if you see this message, please contact support."),"error");window.Rollbar.error("Browser support issue - File-management.mod.js")}if(t.required){n.find(".attach-wrapper").append('<input type="hidden" class="inline-error" name="uploadValidatorHiddenInput" value=""/>')}}))};if(window.addEventListener){$("body")[0].addEventListener("dragenter",(function(){$.each($.fileUploader.options,(function(e,t){t.setDragOffValues(t)}))}))}})(jQuery);function G(e,t){$.each(e,(function(e,i){t.append(e,i)}))}function W(e,t,i,s,a){let r=s.closest("div.files");o();if(e.beforeUpload&&typeof e.beforeUpload==="function"){e.beforeUpload.call(null,{configuration:e,fileUploadUrl:t,formData:i,fileWrapper:s,uploaderWrapper:a})}return $.ajax({url:t,type:"post",data:i,processData:false,contentType:false,dataType:"json",context:s,success:function(t){this.removeClass("uploadInProgress");if(t.status.toUpperCase()==="OK"){let i=this.find(".FileType__icon");let s=t.name&&(0,n.getIconNameFromFileName)(t.name,"16x20");if(s){i.attr("name",s)}this.addClass("uploadDone");this.find(".ProgressBar__bar").css("width","100%");this.find(".files-progress-wrapper").fadeOut(1500,(function(){$(this).remove();o()}));this.data("fileInfo",t);this.attr("id",`file-${t.fid}`);r.siblings(".save-buttons").find("a.btn").removeClass("disabled");if(e.success){e.success(t,this)}}else{const i=$(this.closest(".fieldDiv"));this.fadeOut(1500,(()=>{$.fileUploader.remove(this,e);o();i.find(".noFile").show();i.find(".attach-wrapper").show()}));$("html, body").animate({scrollTop:0},450,"easeInOutQuad",(function(){if(this.nodeName==="BODY"){return}setMessage(t.message,"error")}))}if(e.required){if(this.closest(".fieldDiv").find("input[name=uploadValidatorHiddenInput]").valid()){this.closest(".fieldDiv").find(".fieldInfo.error").remove()}}},error:function(t){this.removeClass("uploadInProgress");this.addClass("uploadDone");this.find(".ProgressBar__bar").css("width","100%");this.fadeOut(1500,(()=>{$.fileUploader.remove(this,e);o()}));this.data("fileInfo",t);this.attr("id",`file-${t.fid}`);$(this).closest("div.files").siblings(".save-buttons").find("a.btn").removeClass("disabled");if(e.error){e.error(t)}if(t.status==403){setMessage("Unable to upload file due to its contents.","error")}},complete:function(e){a.find(".uploadInput").val("");this.removeClass("uploadInProgress")},xhr:function(){var t=s.find(".ProgressBar__bar");var i=$.ajaxSettings.xhr();if(i.upload){i.upload.addEventListener("progress",(function(i){var n=Math.round(i.loaded/i.total*100);t.css("width",`${n}%`);if(e.getProgressPercent){e.getProgressPercent(n)}}),false)}return i}});function o(){r.toggleClass("uploadingDone",r.find(".files-progress-wrapper").length===0)}}},946969:(e,t,i)=>{"use strict";var $=i(992005);var n=i(273641);var s=i(576555);var a=i(489100);var r=i(479706);const o=(0,r.isEnabled)("jade");let l=0;window.fabricLockModalIsOpen=false;window.checkTimeout=g;window.handleLoginResponse=f;(function e(){if((0,a.canUseLocalStorage)()){(0,s.setHashedToken)((0,s.getToken)(),w());window.localStorage.removeItem("bhr_lock_times");$(window).on("storage",(function(e){const t=e.originalEvent.key;const i=`hashed_token${w()?"_onboarding":""}`;if(t===i){let t=e.originalEvent.newValue;t=Number(t);if((0,n.isNaN)(t)){t=0}const i=(0,s.getToken)();const a=(0,s.getHashCode)(i);if(a!==(0,s.getHashCode)(i)){throw new Error("getHashCode() does not return a consistent value.")}if(t!==a){m(0)}}}))}(0,s.attachTokens)();v();$((function(){if((0,n.isObject)(window.SESSION_USER)&&window.SESSION_USER.id||!(0,n.isUndefined)(window.sessionAdminUserId)){m(15)}$(window).on("focus",(function(){if(!(0,a.canUseLocalStorage)()){return}let e=window.localStorage.getItem("bhr_lock_times");if(e){e=JSON.parse(e)}const t=!e||new Date(e.sessionChecked+e.remaining)<=new Date;if(!p()&&t){g()}}))}))})();function d(e=false,t,i,n=false){if(e==false){if(i){window.BambooHR.LockModal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.LockModal.setState({isOpen:false})}window.fabricLockModalIsOpen=false;window.LockModalIsSheet=false}else{t.isMobileFriendly=w();t.isMobileFriendlySheetFullScreen=w();if(i){window.BambooHR.LockModal.setState({sheetProps:t},true)}else{window.BambooHR.LockModal.setState(t,n)}window.fabricLockModalIsOpen=true}}function u(e,t){const i="lockBlur";if(p()){return}if(o){window.LockModalIsSheet=window.BambooHR.LockModal.isOpen();let i={dangerousContent:e,hasCloseButton:false,header:false,isOpen:true,icon:"fab-sleeping-lock-63x58",isHeadless:true,primaryActionText:$.__("Log In"),primaryActionKey:"Enter",alternativeActionText:$.__("Log Out"),onOpen:()=>{$(".js-passwordInput").focus();c();$(".js-lockScreenForm").on("submit",(e=>e.preventDefault())).on("keydown",(e=>{if(e.key==="Escape"){e.originalEvent.stopPropagation()}}))},primaryAction:()=>{const e=BambooHR.Utils.Form.ajaxSubmit($(".js-lockScreenForm"),{type:"jsonp"});if(!e){return}e.then(f,h)},alternativeAction:()=>{document.location.href=t+"login.php?logout=1"}};d(true,i,window.LockModalIsSheet);return}SimpleModal.openModal({callbacks:{close:{after:function(){$("body").removeClass(i)}},open:{after:function(){const e=SimpleModal.getTopModalSelector();e.initializeElements();e.on("submit",(function(e){e.preventDefault()}));e.find("#p1").focus();$("body").addClass(i)}}},closeOnEscape:false,classes:"LockModal js-lockModal",footer:{show:$(e).find("input:password:first").length>0,buttons:{primary:{text:$.__("Log in"),action:function(){const e=SimpleModal.getTopModalSelector();const t=BambooHR.Utils.Form.ajaxSubmit(e.find("form"),{type:"jsonp"});if(!t){return}t.then(f,h)},performActionOnKeyCode:13},cancel:{text:$.__("Log out"),action:function(){document.location.href=t+"login.php?logout=1";return false}}}},header:{show:false},html:e,nostack:true})}function c(){const e=document.querySelector(".js-lockScreenForm");if(e&&e.dataset.hasSso){d(true,{type:"custom"},window.LockModalIsSheet,true);document.addEventListener("click",(e=>{const t=e.target.closest(".js-ssoButton");if(t&&t.dataset.authUrl){window.open(t.dataset.authUrl)}}))}}function f(e){if(e.result=="OK"){if(o){d(false,{},window.LockModalIsSheet)}else{window.SimpleModal.closeModal()}closeMessage();(0,s.setToken)(e.CSRFToken,w());m(e.result.expiresIn);if(typeof window.unlockCallback==="function"){window.unlockCallback()}document.dispatchEvent(new CustomEvent("AppSession:loggedIn"))}else{h()}}function h(){let e=null;let t=null;if(o){t=$(".js-passwordInput")}else{e=window.SimpleModal.getTopModalSelector();t=e.find("input:password")}if($("input#openidIdentity,input#samlLogin,input#openidConnectIss").length){window.setMessage("There is no bamboohr user for the account you chose.","error",{className:"ignoreBlur"})}else{window.setMessage("Sorry, that password doesn't look right. Try it again?","error",{className:"ignoreBlur"})}if(!o){e.initializeElements()}t.val("").focus();if(t.length===0){$(".js-lock__sso").focus()}if(typeof window.addBrandedClass=="function"){window.addBrandedClass()}if(!o){e.find("form").removeAttr("submitting")}}function p(){if(o){return window.fabricLockModalIsOpen}if(window.SimpleModal){const e=SimpleModal.getTopModalSelector();return e&&e.is(".js-lockModal")}return false}function g(){let e,t,i;if((0,n.isObject)(window.SESSION_USER)&&window.SESSION_USER.id){e=window.SESSION_USER.id;t="/";i=window.SESSION_USER.username}else if(typeof window.sessionAdminUserId!="undefined"){e=window.sessionAdminUserId;t="/greenhouse/";i=""}else{return false}let a=t+"ajax/dialog/lock.php";if(w()){a=t+"ajax/dialog/onboarding_lock.php"}if($("input#samlLogin").length>0){a+="?samlLogin="+$("input#samlLogin").val()+"&check&callback=?"}else if($("input#openidConnectIss").length>0){a+="?openidConnectIss="+$("input#openidConnectIss").val()+"&openidConnectSub="+$("input#openidConnectSub").val()+"&callback=?"}else{a+="?callback=?"}$.ajax({url:a,data:{userId:e,username:i,jadeEnabled:o},success:l,error:r,dataType:"jsonp",crossDomain:true});function r(){m(1)}function l(e){const i=e.split("|",3);if(i[0]=="INACTIVE"){u(i[1],t);document.dispatchEvent(new CustomEvent("AppSession:expired"));return}if(i[0]=="ACTIVE"){if(i.length>=3){(0,s.setToken)(i[2],w())}if(p()){if(o){d(false,{},window.LockModalIsSheet)}else{window.SimpleModal.closeModal()}}m(i[1]);return}m(1)}}function m(e){const t=e*60*1e3;if(l){clearTimeout(l)}l=setTimeout(g,t);if((0,a.canUseLocalStorage)()){window.localStorage.setItem("bhr_lock_times",JSON.stringify({sessionChecked:(new Date).getTime(),remaining:t}))}}function v(){const e=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(...t){(0,s.updateInput)(this);e.apply(this,t)};document.addEventListener("submit",(function(e){(0,s.updateInput)(e.target)}))}function w(){let{SESSION_USER:e}=window;if((0,n.isUndefined)(e)||(0,n.isNull)(e)){e={}}const{isOnboardingUser:t=false}=e;if((0,n.isUndefined)(t)||(0,n.isNull)(t)||!(0,n.isBoolean)(t)){return false}return t===true}},511573:(e,t,i)=>{"use strict";i(798370)},954344:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"LoginForm",{enumerable:true,get:function(){return n.LoginForm}});var n=i(835193)},835193:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.LoginForm=d;var s=n(i(856075));var a=n(i(573674));var r=n(i(60042));var o=i(651745);var l=i(761087);function d(e){const{children:t,headerText:i,instructionText:n,isOnboardingUser:a,userId:d,username:u}=e;const c=(0,r.default)(l.bem.className(),"BhrForms","js-lockScreenForm");const f=a;const h=(0,r.default)({"phoneOnly phoneLockModal phoneLockModal--flex":f});return(0,s.default)("form",{className:c,id:l.FORM_ID,onKeyDown:e=>{if(e.key==="Escape"){e.stopPropagation()}},onSubmit:e=>e.preventDefault(),tabIndex:"-1"},void 0,f&&(0,s.default)("div",{className:h},void 0,(0,s.default)(o.Icon,{brand:true,name:l.LOCK_ICON})),(0,s.default)("h3",{className:l.bem.elem("header")},void 0,i),(0,s.default)("p",{className:l.bem.elem("instruction")},void 0,n),t,(0,s.default)("input",{type:"hidden",id:"userid",name:"userid",value:d}),(0,s.default)("input",{type:"hidden",id:"username",name:"username",value:u}))}},34076:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"PasswordLoginForm",{enumerable:true,get:function(){return n.PasswordLoginForm}});var n=i(787900)},787900:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.PasswordLoginForm=u;var s=n(i(368652));var a=n(i(856075));var r=n(i(573674));var o=i(651745);var l=i(954344);var d=i(761087);function u(e){return r.default.createElement(l.LoginForm,(0,s.default)({headerText:d.HEADER,instructionText:d.PASSWORD_INSTRUCTION},e),(0,a.default)("div",{className:`fieldWrap fab-InputWrapper ${d.bem.elem("passwordInput")}`},void 0,(0,a.default)("input",{id:"p1",type:"password",autoComplete:"off",name:"password",className:"text fab-TextInput fab-TextInput--width8 fab-TextInput--withNub fab-TextInput--biggie js-passwordInput",placeholder:d.PASSWORD_PLACEHOLDER}),(0,a.default)("span",{className:"fab-TextInputNub"},void 0,(0,a.default)("span",{className:`fab-TextInputNub__icon ${d.bem.elem("keyIcon")}`},void 0,(0,a.default)(o.Icon,{name:d.PASSWORD_INPUT_ICON})))))}},142152:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"SamlLoginForm",{enumerable:true,get:function(){return n.SamlLoginForm}});var n=i(505003)},505003:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.SamlLoginForm=c;var s=n(i(368652));var a=n(i(856075));var r=n(i(573674));var o=i(651745);var l=i(415855);var d=i(954344);var u=i(761087);function c(e){const{formType:t,ssoButtonClickAction:i}=e;let n=null;let c="";switch(t){case l.GOOGLE_TYPE:n=u.GOOGLE_BUTTON_ICON;c=u.GOOGLE_BUTTON_TEXT;break;case l.OKTA_TYPE:c=u.OKTA_BUTTON_TEXT;break;case l.ONE_LOGIN_TYPE:n=u.ONE_LOGIN_BUTTON_ICON;c=u.ONELOGIN_BUTTON_TEXT;break;default:c=u.DEFAULT_BUTTON_TEXT;break}return r.default.createElement(d.LoginForm,(0,s.default)({headerText:u.HEADER,instructionText:u.SAML_INSTRUCTION},e),(0,a.default)("button",{className:`fab-Button fab-Button--biggie js-ssoButton ${u.bem.elem("ssoButton")}`,onClick:i,type:"button"},void 0,n&&(0,a.default)("span",{className:"fab-Button__icon fab-Button__icon--left"},void 0,(0,a.default)(o.Icon,{name:n})),c))}},761087:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.PASSWORD_INPUT_ICON=t.ONE_LOGIN_BUTTON_ICON=t.LOCK_ICON=t.GOOGLE_BUTTON_ICON=t.ONELOGIN_BUTTON_TEXT=t.OKTA_BUTTON_TEXT=t.GOOGLE_BUTTON_TEXT=t.DEFAULT_BUTTON_TEXT=t.PASSWORD_PLACEHOLDER=t.SAML_INSTRUCTION=t.PASSWORD_INSTRUCTION=t.HEADER=t.FORM_ID=t.bem=void 0;var n=i(121198);const s=new n.BEM("LockScreen");t.bem=s;const a="login-modal-form";t.FORM_ID=a;const r=$.__("Just to be safe, we logged you out.");t.HEADER=r;const o=$.__("Enter your password to pick up where you left off.");t.PASSWORD_INSTRUCTION=o;const l=$.__("Log back in to pick up where you left off.");t.SAML_INSTRUCTION=l;const d=$.__("Password");t.PASSWORD_PLACEHOLDER=d;const u=$.__("Log in");t.DEFAULT_BUTTON_TEXT=u;const c=$.__("Log in with Google");t.GOOGLE_BUTTON_TEXT=c;const f=$.__("Log in with Okta");t.OKTA_BUTTON_TEXT=f;const h=$.__("Log in with OneLogin");t.ONELOGIN_BUTTON_TEXT=h;const p="fab-google-login-20x20";t.GOOGLE_BUTTON_ICON=p;const g="fab-sleeping-lock-63x58";t.LOCK_ICON=g;const m="fab-onelogin-20x20";t.ONE_LOGIN_BUTTON_ICON=m;const v="fab-key-18x18";t.PASSWORD_INPUT_ICON=v},469719:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.closeLockModal=t.openLockModal=void 0;var s=n(i(368652));var a=n(i(573674));var r=i(415855);var o=i(34076);var l=i(142152);var d=i(761087);const u=e=>{const{onOpen:t,primaryAction:i,urlPrefix:n,...u}=e;const c=e.isOnboardingUser;const f=e.formType!==r.PASSWORD_TYPE;const h=f?l.SamlLoginForm:o.PasswordLoginForm;const p={alternativeAction:()=>{document.location.href=`${n}login.php?logout=1`},alternativeActionText:$.__("Log Out"),content:a.default.createElement(h,(0,s.default)({ssoButtonClickAction:f?i:null},u)),hasCloseButton:false,header:false,icon:d.LOCK_ICON,isHeadless:true,isMobileFriendly:c,isMobileFriendlySheetFullScreen:c,isOpen:true,primaryAction:i,primaryActionKey:"Enter",primaryActionText:$.__("Log In"),onOpen:()=>{if(!f){$(".js-passwordInput").focus()}else{$(`#${d.FORM_ID}`).parent().next().hide()}},type:"small"};window.BambooHR.LockModal.setState(p)};t.openLockModal=u;const c=()=>{window.BambooHR.LockModal.setState({isOpen:false})};t.closeLockModal=c},415855:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SAML_TYPE=t.PASSWORD_TYPE=t.ONE_LOGIN_TYPE=t.OKTA_TYPE=t.GOOGLE_TYPE=t.ENDPOINT=void 0;const i="/auth";t.ENDPOINT=i;const n="google";t.GOOGLE_TYPE=n;const s="okta";t.OKTA_TYPE=s;const a="one_login";t.ONE_LOGIN_TYPE=a;const r="password";t.PASSWORD_TYPE=r;const o="saml";t.SAML_TYPE=o},94055:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.isOnboardingUser=y;var s=i(273641);var a=n(i(417842));var r=i(489100);var o=i(421656);var l=i(576555);var d=i(469719);var u=i(415855);var c=i(993698);let f=0;window.checkTimeout=v;window.handleLoginResponse=g;(function e(){if((0,r.canUseLocalStorage)()){(0,l.setHashedToken)((0,l.getToken)(),y());window.localStorage.removeItem("bhr_lock_times");$(window).on("storage",(function(e){const t=e.originalEvent.key;const i=`hashed_token${y()?"_onboarding":""}`;if(t===i){let t=e.originalEvent.newValue;t=Number(t);if((0,s.isNaN)(t)){t=0}const i=(0,l.getToken)();const n=(0,l.getHashCode)(i);if(n!==(0,l.getHashCode)(i)){throw new Error("getHashCode() does not return a consistent value.")}if(t!==n){w(0)}}}))}(0,l.attachTokens)();b();$((function(){if((0,s.isObject)(window.SESSION_USER)&&window.SESSION_USER.id||!(0,s.isUndefined)(window.sessionAdminUserId)){w(15)}$(window).on("focus",(function(){if(!(0,r.canUseLocalStorage)()){return}let e=window.localStorage.getItem("bhr_lock_times");if(e){e=JSON.parse(e)}const t=!e||new Date(e.sessionChecked+e.remaining)<=new Date;if(!S()&&t){v()}}))}))})();function h(e,t,i){if(S()){return}(0,c.getLoginType)().catch((e=>{window.Rollbar.error("Failed to retrieve login type",e)})).then((n=>{let s=n.data.type;if(s!==u.PASSWORD_TYPE&&!$("input#openidIdentity, input#samlLogin, input#openidConnectIss").length){s=u.PASSWORD_TYPE}const a=(0,c.getLoginService)(s);const r=[u.PASSWORD_TYPE,u.GOOGLE_TYPE];const o=()=>{a({onSuccess:e=>{if(e.result!=="OK"){throw new Error("Failed to authenticate login")}if(r.includes(s)){p(e,{userId:t,username:i})}else{g(e)}},onError:m})};(0,d.openLockModal)({formType:s,urlPrefix:e,primaryAction:o,userId:t,username:i,isOnboardingUser:y()})}))}function p(e,t){let i=false;(0,o.doGetUserMfaData)().then((e=>{i=true;const{status:n}=e.data;if(n==="login"){const e=(0,o.getStoredRememberToken)();return(0,o.isRememberTokenValid)(t.userId,e)}else if(n==="setup"||n==="beforeRequired"){return false}return true})).then((t=>{if(!t){throw new Error("invalid remember token")}g(e)})).catch((()=>{if(i){(0,o.removeStoredRememberToken)();window.location.reload()}else{g(e)}}))}function g(e,t){if(t){window.location.reload()}else if(e.result=="OK"){(0,d.closeLockModal)();closeMessage();if(e.CSRFToken){(0,l.setToken)(e.CSRFToken,y());w(e.result.expiresIn)}else{v()}if(typeof window.unlockCallback==="function"){window.unlockCallback()}document.dispatchEvent(new CustomEvent("AppSession:loggedIn"))}else{m()}}function m(e){const t=e?(0,s.get)(e,"response.data"):null;let i="";if($("input#openidIdentity, input#samlLogin, input#openidConnectIss").length){i=$.__("There is no BambooHR user for the account you chose.");window.setMessage("There is no BambooHR user for the account you chose.","error",{className:"ignoreBlur"})}else if(t&&t.error){i=t.error}else{i=$.__("Sorry, that password doesn't look right. Try it again?")}window.setMessage(i,"error",{className:"ignoreBlur"});const n=$(".js-passwordInput");n.val("").focus();if(n.length===0){$(".js-lock__sso").focus()}if(typeof window.addBrandedClass=="function"){window.addBrandedClass()}}function v(){let e,t,i;if((0,s.isObject)(window.SESSION_USER)&&window.SESSION_USER.id){e=window.SESSION_USER.id;t="/";i=window.SESSION_USER.username||""}else if(typeof window.sessionAdminUserId!="undefined"){e=window.sessionAdminUserId;t="/greenhouse/";i=""}else{return false}a.default.get("/auth/check_session",{isOnboarding:y()}).then(n).catch(r);function n(e){const{CSRFToken:t,SessionMinutesLeft:i}=e.data;(0,l.setToken)(t,y());if(S()){(0,d.closeLockModal)()}w(i)}function r(n){const a=(0,s.get)(n,"response");if(a&&a.status===401){h(t,e,i);document.dispatchEvent(new CustomEvent("AppSession:expired"))}else{w(1)}}}function w(e){const t=e*60*1e3;if(f){clearTimeout(f)}f=setTimeout(v,t);if((0,r.canUseLocalStorage)()){window.localStorage.setItem("bhr_lock_times",JSON.stringify({sessionChecked:(new Date).getTime(),remaining:t}))}}function b(){const e=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(...t){(0,l.updateInput)(this);e.apply(this,t)};document.addEventListener("submit",(function(e){(0,l.updateInput)(e.target)}))}function y(){let{SESSION_USER:e}=window;if((0,s.isUndefined)(e)||(0,s.isNull)(e)){e={}}const{isOnboardingUser:t=false}=e;if((0,s.isUndefined)(t)||(0,s.isNull)(t)||!(0,s.isBoolean)(t)){return false}return t===true}function S(){try{return window.BambooHR.LockModal.isOpen()}catch(e){return false}}},993698:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.getLoginType=l;t.getLoginService=d;t.doGoogleLogin=u;t.doPasswordLogin=c;t.doSamlLogin=f;var s=i(774548);var a=n(i(417842));var r=i(415855);var o=i(94055);function l(){return a.default.get(`${r.ENDPOINT}/get_login_type`)}function d(e){switch(e){case r.GOOGLE_TYPE:return u;case r.PASSWORD_TYPE:return c;case r.OKTA_TYPE:case r.ONE_LOGIN_TYPE:case r.SAML_TYPE:return f;default:return null}}function u(e){const{onSuccess:t,onError:i}=e;const n=$("input#openidConnectIss").val();const s=$("input#openidConnectSub").val();const a={openIdConnectIss:n,openIdConnectSub:s};$.ajax({url:`${r.ENDPOINT}/google_login_active`,data:a,dataType:"jsonp",success:e=>{if(e.result==="GOOGLE_INACTIVE"){window.open(`${r.ENDPOINT}/google_login_inactive?openIdConnectIss=${n}&openIdConnectSub=${s}`)}else{t(e)}},error:i,crossDomain:true})}function c(e){const{onSuccess:t,onError:i}=e;const n=document.querySelector(".js-lockScreenForm");const l=(0,s.getFormData)(n);l.isOnboarding=(0,o.isOnboardingUser)();a.default.post(`${r.ENDPOINT}/password_login`,l).then((e=>t(e.data))).catch(i)}function f(){window.open(`${r.ENDPOINT}/saml_login`)}},743382:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.Banner=f;var s=n(i(368652));var a=n(i(856075));var r=u(i(573674));var o=i(651745);var l=i(288015);function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(d=function(e){return e?i:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=d(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}const c=(0,o.makeStyles)((({mixins:e,palette:t,spacing:i,typography:n})=>({root:{backgroundColor:t.grey[1e3],boxSizing:"border-box",color:t.common.white,minHeight:114,overflow:"hidden",padding:i(3.75,3.375,3.75,4)},content:{alignItems:"center",display:"flex"},icon:{marginRight:i(2)},titleSection:{display:"flex",flexDirection:"column",alignItems:"start"},copyWrapper:{alignItems:"flex-end",display:"inline-flex"},title:{...n.h2,margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},subtitle:{color:t.grey[300],fontSize:n.fabricFontSize("medium")},note:{color:t.grey[300],fontSize:n.fabricFontSize("large"),lineHeight:n.fabricLineHeight("large"),marginLeft:i(1),whiteSpace:"nowrap"},buttonGroup:{display:"inline-flex",paddingRight:i(3),borderRight:`1px solid ${e.alpha(t.common.white,.5)}`},closeButtonWrapper:{fill:t.common.white,paddingLeft:`19px`},closeButton:{padding:5},contained:{"&$altStyling":{color:t.grey[1e3]}},altStyling:{}})));function f({icon:e,title:t,subtitle:i,note:n,onClose:d,primaryButtonBiId:u,PrimaryButtonProps:f,secondaryButtonBiId:h,SecondaryButtonProps:p}){const g=c();(0,r.useEffect)((()=>{document.dispatchEvent(new Event("updateNavPosition"))}),[]);const m={classes:{altStyling:g.altStyling,contained:g.contained},dark:true,size:"biggie"};return(0,a.default)(o.Banner,{classes:{root:g.root,content:g.content,icon:g.icon},icon:e},void 0,(0,a.default)(o.Flex,{alignItems:"center",width:"100%",justifyContent:"space-between"},void 0,(0,a.default)("div",{className:g.titleSection},void 0,(0,a.default)("div",{className:g.copyWrapper},void 0,(0,a.default)("span",{className:g.title},void 0,t),n&&(0,a.default)("span",{className:g.note},void 0,n)),(0,a.default)("div",{className:g.subtitle},void 0,i)),(0,a.default)("div",{className:g.buttonGroup},void 0,f&&r.default.createElement(o.Button,(0,s.default)({"data-bi-id":u,variant:"outlined"},m,f)),p&&r.default.createElement(o.Button,(0,s.default)({"data-bi-id":h},m,p)))),(0,a.default)("div",{className:g.closeButtonWrapper},void 0,(0,a.default)(o.IconButton,{className:g.closeButton,dark:true,floatingIcon:true,icon:(0,a.default)(l.X14x14,{}),noBoundingBox:true,onClick:d,type:"button"})))}},510391:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Banner",{enumerable:true,get:function(){return n.Banner}});var n=i(743382)},431940:(e,t,i)=>{"use strict";var n=i(565862);var s=n(i(573674));var a=n(i(110405));var r=i(489100);var o=n(i(417842));var l=i(830734);var d=i(183131);var u=i(564312);var c=i(881057);var f=i(734290);const h=["/app/setup*","/reports*"];const p=["/reports/payroll-deductions*","/reports/pay-info-tab-direct-deposit*"];const g=()=>{var e;const t=document.getElementById("js-setup-summary-banner");const i=(0,a.default)(h).exec(window.location.pathname);const n=(e=(0,a.default)(p).exec(window.location.pathname))===null||e===void 0?void 0:e.length;const g=n||!i;const m=e=>{if(e.type===u.SetupType.QUICKSTART){return`/setup/${u.SetupType.QUICKSTART}/steps`}if(e.type===u.SetupType.PAYROLL){return`/registration/payroll/steps?recordId=${e.recordId}&clientId=${e.clientId}`}};if(t&&(0,r.canUseLocalStorage)()&&g){const e=window.localStorage.getItem(c.LOCAL_STORAGE_KEY_NAME);if(e){const i=JSON.parse(e);const n=m(i);o.default.get(n).then((({data:e})=>{if(!e.markedComplete){(0,l.render)(s.default.createElement(d.SetupSummaryBanner,i),t)}else{return false}})).catch((()=>{(0,f.removeBannerLocalStorage)()}))}}};g()},963688:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"PayrollBanner",{enumerable:true,get:function(){return n.PayrollBanner}});var n=i(75946)},75946:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.PayrollBanner=l;var s=n(i(856075));var a=n(i(573674));var r=i(288015);var o=i(510391);function l({biId:e,onClose:t,progress:i,progressNote:n,primaryUrl:a,title:l,subtitle:d}){let u="";if(i&&n){u=`${i.current}/${i.total} ${n}`}return(0,s.default)(o.Banner,{icon:(0,s.default)(r.MoneyCircle40x40,{}),note:u,onClose:t,title:l,secondaryButtonBiId:e?`${e}-payrollBanner-backToPayroll`:null,subtitle:d,SecondaryButtonProps:{children:$.__("Back To Payroll Registration"),href:"/app/payroll/registration"}})}},303994:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"QuickstartBanner",{enumerable:true,get:function(){return n.QuickstartBanner}});var n=i(367425)},367425:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.QuickstartBanner=l;var s=n(i(856075));var a=n(i(573674));var r=i(288015);var o=i(510391);function l({biId:e,onClose:t,progress:i,progressNote:n,primaryUrl:a,title:l}){let d;if(i&&n){d=`${i.current}/${i.total} ${n}`}return(0,s.default)(o.Banner,{icon:(0,s.default)(r.RacecarFlag48x53,{}),onClose:t,note:d,title:l,primaryButtonBiId:e?`${e}-quickstartSummaryBanner-viewLearningCourse`:null,PrimaryButtonProps:{children:$.__("View Learning Course"),href:a,target:"_blank"},secondaryButtonBiId:e?`${e}-quickstartSummaryBanner-backToQuickstart`:null,SecondaryButtonProps:{children:$.__("Back To QuickStart"),href:"/app/setup/quickstart"}})}},183131:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.SetupSummaryBanner=p;var s=h(i(573674));var a=i(273641);var r=n(i(417842));var o=i(303994);var l=i(963688);var d=i(564312);var u=i(881057);var c=i(734290);function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(f=function(e){return e?i:t})(e)}function h(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=f(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}function p({stepKey:e,dataPath:t,type:i,...n}){const[f,h]=(0,s.useState)(null);const p=(e,t)=>{if(e===d.SetupType.PAYROLL){return`/registration/payroll/steps/${t}?clientId=${n.clientId}`}return`/setup/${e}/steps/${t}`};(0,s.useEffect)((()=>{const n=n=>{var s;if(!n||(n===null||n===void 0?void 0:(s=n.detail)===null||s===void 0?void 0:s.stepKey)===e){const n=p(i,e);r.default.get(n).then((e=>{const i=(0,a.get)(e.data,t)||e.data;h(i)})).catch((()=>{(0,c.removeBannerLocalStorage)()}))}};if(e){n();document.addEventListener(u.UPDATE_BANNER_DATA_EVENT,n)}return()=>{document.removeEventListener(u.UPDATE_BANNER_DATA_EVENT,n)}}),[]);(0,s.useEffect)((()=>{if(!f){document.dispatchEvent(new Event("updateNavPosition"))}}),[f]);const g=()=>{(0,c.removeBannerLocalStorage)();h(null)};let m;switch(i){case d.SetupType.QUICKSTART:m=o.QuickstartBanner;break;case d.SetupType.PAYROLL:m=l.PayrollBanner;break;default:break}if(!m||!f){return null}const v={...n,...f,onClose:g};return s.default.createElement(m,v)}},564312:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SetupType=void 0;let i;t.SetupType=i;(function(e){e["QUICKSTART"]="quickStart";e["PAYROLL"]="payroll"})(i||(t.SetupType=i={}))},344355:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;const i={terminateEmployee:{url:"/modals/terminate-employee",title:"Terminate Employee"},rehireEmployee:{url:"/modals/rehire-employee",title:"Rehire Employee"},addEmploymentStatus:{url:"/modals/employment-status/add",title:"Employment Status - Add"},editEmploymentStatus:{url:"/modals/employment-status/edit",title:"Employment Status - Edit"},deleteEmploymentStatus:{url:"/modals/employment-status/delete",title:"Employment Status - Delete"},addCompensation:{url:"/modals/compensation/add",title:"Compensation - Add"},editCompensation:{url:"/modals/compensation/edit",title:"Compensation - Edit"},deleteCompensation:{url:"/modals/compensation/delete",title:"Compensation - Delete"},addJobInformation:{url:"/modals/job-information/add",title:"Job Information - Add"},editJobInformation:{url:"/modals/job-information/edit",title:"Job Information - Edit"},deleteJobInformation:{url:"/modals/job-information/delete",title:"Job Information - Delete"},addBonus:{url:"/modals/bonus/add",title:"Bonus - Add"},editBonus:{url:"/modals/bonus/edit",title:"Bonus - Edit"},deleteBonus:{url:"/modals/bonus/delete",title:"Bonus - Delete"},addCommission:{url:"/modals/commission/add",title:"Commission - Add"},editCommission:{url:"/modals/commission/edit",title:"Commission - Edit"},deleteCommission:{url:"/modals/commission/delete",title:"Commission - Delete"},addDependent:{url:"/modals/dependent/add",title:"Dependent - Add"},editDependent:{url:"/modals/dependent/edit",title:"Dependent - Edit"},deleteDependent:{url:"/modals/dependent/delete",title:"Dependent - Delete"},addBenefitClass:{url:"/modals/benefit-class/add",title:"Benefit Class - Add"},editBenefitClass:{url:"/modals/benefit-class/edit",title:"Benefit Class - Edit"},deleteBenefitClass:{url:"/modals/benefit-class/delete",title:"Benefit Class - Delete"},addEarnings:{url:"/modals/earnings/add",title:"Earnings - Add"},editEarnings:{url:"/modals/earnings/edit",title:"Earnings - Edit"},deleteEarnings:{url:"/modals/earnings/delete",title:"Earnings - Delete"},addVisa:{url:"/modals/visa/add",title:"Visa - Add"},editVisa:{url:"/modals/visa/edit",title:"Visa - Edit"},deleteVisa:{url:"/modals/visa/delete",title:"Visa - Delete"},addCard:{url:"/modals/credit-card/add",title:"Credit Card - Add"},editCard:{url:"/modals/credit-card/edit",title:"Credit Card - Edit"},deleteCard:{url:"/modals/credit-card/delete",title:"Credit Card - Delete"},addPassport:{url:"/modals/passport/add",title:"Passport - Add"},editPassport:{url:"/modals/passport/edit",title:"Passport - Edit"},deletePassport:{url:"/modals/passport/delete",title:"Passport - Delete"},addDriverLicense:{url:"/modals/driver-license/add",title:"Driver License - Add"},editDriverLicense:{url:"/modals/driver-license/edit",title:"Driver License - Edit"},deleteDriverLicense:{url:"/modals/driver-license/delete",title:"Driver License - Delete"},addAsset:{url:"/modals/asset/add",title:"Assets - Add"},editAsset:{url:"/modals/asset/edit",title:"Assets - Edit"},deleteAsset:{url:"/modals/asset/delete",title:"Assets - Delete"},addStockOption:{url:"/modals/stock-option/add",title:"Stock Options - Add"},editStockOption:{url:"/modals/stock-option/edit",title:"Stock Options - Edit"},deleteStockOption:{url:"/modals/stock-option/delete",title:"Stock Options - Delete"},addCertification:{url:"/modals/certification/add",title:"Certification - Add"},editCertification:{url:"/modals/certification/edit",title:"Certification - Edit"},deleteCertification:{url:"/modals/certification/delete",title:"Certification - Delete"}};function n(e){let t=window.dataLayer;if(!t){console.error("The virtual page viewer does not have access to the Google Tag Manager dataLayer variable.");return false}t.push({event:"Virtual Pageview",virtualPageURL:`/virtual${e.url}`.replace(/\/{2,}/,"/"),virtualPageTitle:e.title})}function s(e){let t=i[e];if(!t){console.error(`No virtual modal page view with a type of ${e} was found.`);return false}n(t)}let a={modal:s};var r=a;t.default=r},537916:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.getFolders=v;t.createFolder=w;t.editFolder=b;t.deleteFolder=y;t.moveFolder=S;t.getFiles=E;t.attachFile=C;t.uploadFiles=x;t.renameFile=T;t.moveFiles=k;t.shareEmployeeFiles=O;t.restore=F;t.searchEmployeeFiles=M;t.downloadAllFiles=P;var s=n(i(417842));var a=i(293956);const r="/employees/files/";const o=`${r}retrieveEmployeeFolders`;const l=`${r}retrieveEmployeeFiles`;const d=`${r}updateEmployeeFolderPosition`;const u=`${r}createEmployeeFolder`;const c=`/ajax${r}rename_file.php`;const f=`${r}searchEmployeeFiles`;const h=`/employees/ajax/folder/rename`;const p=`${r}employeeFileShare`;const g=`${r}downloadEmployeeFiles`;const m="DOCUMENT_TAB";async function v(e,t){const i=await s.default.get(o,{id:e,includeDeleted:t});if(i.data.error){window.setMessage(i.data.error.message||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(i.data.error.message)}return i.data}async function w(e,t,i,n){try{await s.default.post(u,{employeeId:e,name:t,description:i,parentId:n},{headers:{"Content-Type":"application/json"}})}catch(e){window.setMessage(e.response.data.error.message||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(e.response.data.error.message)}}async function b(e,t,i,n=window.Employee.id){const a=await s.default.post(`${h}/${n}`,{id:e,name:t,description:i});if(!a.data.success){window.setMessage(a.data.error||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(a.data.error)}return a.data}async function y(e,t){const i=await s.default.post(`/employees/ajax/folder/delete/${e}`,{id:t,employeeId:e});if(!i.data.success){window.setMessage(i.data.error||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(i.data.error)}return i.data}async function S(e,t,i=window.Employee.id){if(e===m){e=null}try{const n=await s.default.post(d,{sectionId:e,parentId:t,employeeId:i});return n.data}catch(e){window.setMessage(e.response.data.error.message||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(e.response.data.error.message)}}async function E(e,t,i,n){const a=await s.default.get(`${l}?sort=${i}`,{employeeId:e,sectionId:t,includeDeleted:n});if(a.data.error){window.setMessage(a.data.error.message||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(a.data.error.message)}return a.data}function C(e){const t=new FormData;t.append("upload",e);return s.default.post(`/ajax/files/attachTemporary.php`,t)}function x(e,t,i,n=false,a=false,r=window.Employee.id){const o=new FormData;e.forEach((e=>{o.append("attachId[]",e)}));if(t.length){t.forEach((e=>{o.append(`alternateName[${e.id}]`,e.alternateName)}))}o.append("action","upload");o.append("employeeId",r);o.append("employeeFileSection",i);o.append("share",n.toString());o.append("isEmployeeDocumentUpload",a.toString());return s.default.post(`/ajax/employees/files/edit_file.php`,o)}async function T(e,t){const i=new FormData;i.append("id",e);i.append("name",t);const n=await s.default.post(c,i);if(n.data.error){window.setMessage(n.data.error||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(n.data.error)}return n.data}async function k(e,t,i=window.Employee.id){const n=await s.default.post(`/employees/ajax/folder/moveFiles/${i}`,{id:t,fileIds:e});if(!n.data.success){window.setMessage(n.data.error||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(n.data.error)}return n.data}async function O(e,t,i,n=window.Employee.id){try{const a=await s.default.post(`${p}/${n}`,{fileIds:e,fileSectionId:t,requesting:i});return a.data}catch(e){window.setMessage(e.response.data.message||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(e.response.data.message)}}function F(e,t,i=window.Employee.id){const n=`${r}restore/${i}`;if(t){return s.default.post(n,{folderIds:e,employeeId:i})}return s.default.post(n,{fileIds:e,employeeId:i})}async function M(e,t=window.Employee.id){const i=await s.default.get(`${f}?searchTerm=${e}&employeeId=${t}`);if(!i.data.success){window.setMessage(i.data.message||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(i.data.message)}return i.data}async function P(e=null,t="files",i=window.Employee.id){try{const n=await s.default.request({method:"GET",url:`${g}?sectionId=${e}&employeeId=${i}`,responseType:"arraybuffer"});const r={fileData:n.data,fileName:`${t}.zip`,mimeType:n.headers["content-type"]};(0,a.downloadFile)(r);return"ok"}catch(e){window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error")}}},182222:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(651745);var s=(0,n.makeStyles)((({palette:e,typography:t})=>(0,n.createStyles)({row:{display:"flex",alignItems:"center"},collapse:{borderBottom:`1px solid ${e.gray[300]}`},collapseHeader:{paddingTop:"9px",paddingBottom:"9px",color:e.gray[900],"&:hover, &:focus-visible":{color:e.primary.main,backgroundColor:e.gray[100],cursor:"pointer"}},collapseTitle:{paddingLeft:"8px"},selectedIcon:{"& svg":{fill:`${e.primary.main} !important`}},subCollapse:{paddingLeft:"15px","& > div":{paddingTop:"3px",paddingBottom:"3px","& > span":{paddingBottom:"1px"}}},preventRotate:{transform:"rotate(0deg) !important"},collapseIcon:{"& svg":{fill:e.gray[900]}},endIcon:{paddingTop:"1px",paddingRight:"16px","& svg":{fill:`${e.primary.main} !important`}},selectedText:{color:e.primary.main,fontWeight:t.fontWeightSemibold},headerDisabled:{"& svg":{fill:`${e.gray[500]} !important`},"&:hover":{"& svg":{fill:e.gray[500]},cursor:"default",backgroundColor:"initial",color:"initial"}},headerTextDisabled:{color:e.gray[500]},addedPadding:{paddingLeft:"14px"},documentTab:{justifyContent:"space-between","& svg":{marginRight:"10px",marginLeft:"14px",height:"14px",width:"12px",fill:e.gray[900]},"&:hover":{"& svg":{fill:e.primary.main}}},documentTabSelected:{color:e.primary.main,"& svg":{fill:e.primary.main}},documentTabDisabled:{cursor:"default",pointerEvents:"none","& span":{color:e.gray[500],"& svg":{fill:e.gray[500]}}}})));t.default=s},642228:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.FolderSelector=void 0;var s=n(i(856075));var a=f(i(573674));var r=i(651745);var o=i(288015);var l=i(854092);var d=n(i(60042));var u=n(i(182222));function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(c=function(e){return e?i:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=c(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}const h="DOCUMENT_TAB";const p=e=>{const t=(0,u.default)();const{initialSelection:i,onChange:n,isFolder:c,movingFolder:f,folderOptions:p,maxFolderDepth:g,canEditPage:m}=e;const[v,w]=(0,a.useState)(i);(0,a.useEffect)((()=>{n(v)}),[v]);const b=v===h;const y=e=>{if(!c){return false}if(f.id===e.value){return true}if(e.depth===g){return true}if(+f.childrenDepth+ +e.depth>=g){return true}return false};const S=e=>{const i=!!e.items.length;const n=e.depth===0;const a=v===e.value;return(0,s.default)(l.Collapse.Panel,{classes:{root:(0,d.default)({[t.collapse]:n,[t.subCollapse]:!n}),header:t.collapseHeader,headerText:(0,d.default)(t.collapseTitle,{[t.selectedText]:a}),icon:(0,d.default)(t.collapseIcon,{[t.preventRotate]:!i,[t.selectedIcon]:a}),headerDisabled:t.headerDisabled,headerTextDisabled:t.headerTextDisabled},disabled:y(e),endElement:a?(0,s.default)("span",{className:t.endIcon},void 0,(0,s.default)(r.Icon,{brand:true,name:"fab-check-circle-12x12"})):null,icon:i?"":(0,s.default)(o.Nub4x10,{}),onOpen:e=>w(e),panelKey:e.value,title:e.text},e.value,(0,s.default)(l.Collapse,{},void 0,e.items.map(S)))};return(0,s.default)("div",{},void 0,c&&(0,s.default)("div",{className:(0,d.default)(t.collapseHeader,t.row,t.collapse,t.documentTab,{[t.documentTabSelected]:b,[t.documentTabDisabled]:!m}),onClick:m?()=>w(h):()=>null,onKeyDown:()=>null,role:"button",tabIndex:0},void 0,(0,s.default)("span",{},void 0,(0,s.default)(o.Document19x22,{}),$.__("Documents Tab")),b&&(0,s.default)("span",{className:t.endIcon},void 0,(0,s.default)(r.Icon,{brand:true,name:"fab-check-circle-12x12"}))),(0,s.default)("div",{className:(0,d.default)({[t.addedPadding]:c})},void 0,(0,s.default)(l.Collapse,{accordian:true},void 0,p.map(S))))};t.FolderSelector=p},643620:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"FolderSelector",{enumerable:true,get:function(){return n.FolderSelector}});var n=i(642228)},240617:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(651745);var s=(0,n.makeStyles)((({palette:e,typography:t})=>(0,n.createStyles)({row:{display:"flex",alignItems:"center"},column:{display:"flex",flexDirection:"column",alignItems:"center"},modalBody:{padding:"22px 0"},separator:{padding:"15px 0"},smallSeparator:{paddingBottom:"15px"},warningText:{color:e.gray[700],paddingLeft:"7px",lineHeight:"17px"},iconHeightOverride:{height:"19px"},iconPadding:{paddingRight:"8px",paddingTop:"20px"},brandIcon:{fill:e.primary.main},name:{fontWeight:t.fontWeightSemibold},description:{color:e.gray[700],fontSize:"14px"},grayIcon:{fill:e.gray[800]},folderResize:{height:"36px",width:"45px"},moveIcon:{height:"24px",width:"20px",marginRight:"10px",marginBottom:"5px"},moveSubIcon:{marginRight:"5px",fill:e.gray[800]},buttonLabel:{color:e.gray[800]},boldText:{fontWeight:t.fontWeightSemibold,fontSize:"16px",lineHeight:t.fabricLineHeight("large")},grayText:{color:e.gray[700],paddingLeft:"5px"},brandText:{color:e.primary.main,fill:e.primary.main},collapse:{borderBottom:`1px solid ${e.gray[300]}`},collapseHeader:{padding:"9px 0","&:hover":{color:e.primary.main,backgroundColor:e.gray[100],cursor:"pointer"}},collapseHeadIcon:{alignSelf:"flex-start",paddingTop:"2px"},collapseTitle:{paddingLeft:"8px"},subCollapse:{paddingLeft:"15px"},collapseIcon:{paddingTop:"1px"},preventRotate:{transform:"rotate(0deg) !important"},endIcon:{paddingTop:"1px",paddingRight:"16px"},selectedText:{color:e.primary.main,fontWeight:t.fontWeightSemibold},dragging:{border:`3px dashed ${e.info.main}`},centered:{display:"flex",flexDirection:"column",alignItems:"center"},employeePhoto:{height:"42px",width:"42px",borderRadius:"50%"},modalTitleText:{paddingLeft:"13px","& p:first-child":{fontWeight:t.fontWeightSemibold},"& p:last-child":{color:e.gray[700]}},uploadText:{fontWeight:t.fontWeightSemibold,fontSize:t.fabricFontSize("biggie"),lineHeight:t.fabricLineHeight("large"),paddingLeft:"11px"},lineSpacing:{lineHeight:t.fabricLineHeight("medium"),margin:"5px 0 11px 0"},selectFolder:{"&>p":{color:e.gray[800]}},selectedFolder:{"& svg":{fill:e.primary.main},"& p":{color:e.primary.main,margin:"0 8px",fontWeight:t.fontWeightSemibold,maxWidth:"400px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},fileUploadContainer:{"& div > div > *:not(:first-child)":{display:"none"}},buttonMargin:{marginBottom:"12px"},renamerLabel:{marginLeft:"-24px"}})));t.default=s},823420:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FolderTypes=t.FileActions=t.FolderActions=t.FileSelectionModes=t.FileModals=t.ActionTypes=t.ViewTypes=void 0;let i;t.ViewTypes=i;(function(e){e["GRID"]="grid";e["LIST"]="list";e["MODAL"]="modal"})(i||(t.ViewTypes=i={}));let n;t.ActionTypes=n;(function(e){e["UpdateFolders"]="UPDATE_FOLDERS";e["ShowLoader"]="SHOW_LOADER";e["HideLoader"]="HIDE_LOADER";e["ShowGridView"]="SHOW_GRID_VIEW";e["ShowListView"]="SHOW_LIST_VIEW";e["CurrentViewingFolder"]="CURRENT_VIEWED_FOLDER";e["IsRecentlyDeletedChecked"]="IS_RECENTLY_DELETED_CHECKED";e["UpdateFiles"]="UPDATE_FILES";e["SelectFile"]="SELECT_FILE";e["DeselectFile"]="DESELECT_FILE";e["OpenModal"]="OPEN_MODAL";e["CloseModal"]="CLOSE_MODAL";e["SelectAllFiles"]="SELECT_ALL_FILES";e["DeselectAllFiles"]="DESELECT_ALL_FILES";e["IsSelectingDeleted"]="IS_SELECTING_DELETED";e["ChangeSortOrder"]="CHANGE_SORT_ORDER"})(n||(t.ActionTypes=n={}));let s;t.FileModals=s;(function(e){e["CreateFolder"]="CREATE_FOLDER";e["RenameFile"]="RENAME_FILE";e["MoveFiles"]="MOVE_FILES";e["UploadFiles"]="UPLOAD_FILES";e["Restore"]="RESTORE";e["EditFolder"]="EDIT_FOLDER";e["ShareFiles"]="SHARE_FILES"})(s||(t.FileModals=s={}));let a;t.FileSelectionModes=a;(function(e){e["Select"]="SELECT";e["Deselect"]="DESELECT";e["Both"]="BOTH"})(a||(t.FileSelectionModes=a={}));let r;t.FolderActions=r;(function(e){e["edit"]="edit";e["move"]="move";e["delete"]="delete";e["selectAll"]="selectAll";e["deselectAll"]="deselectAll"})(r||(t.FolderActions=r={}));let o;t.FileActions=o;(function(e){e["shareNormal"]="shareNormal";e["unshareNormal"]="unshareNormal";e["emailAttachment"]="emailAttachment";e["emailSecureLink"]="emailSecureLink";e["moveToFolder"]="moveToFolder";e["rename"]="rename";e["delete"]="delete";e["deleteMultiple"]="deleteMultiple"})(o||(t.FileActions=o={}));let l;t.FolderTypes=l;(function(e){e["Custom"]="CUSTOM";e["Default"]="DEFAULT";e["EmployeeUploads"]="EMPLOYEE_UPLOADS";e["None"]="NONE"})(l||(t.FolderTypes=l={}))},789191:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.avatarFallback=void 0;const i=e=>{if(typeof e.src==="string"&&e.src.length&&e.src.includes("rackcdn.com/photos/")){e.src="https://resources.bamboohr.com/images/photo_person_150x150.png"}};t.avatarFallback=i},422128:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.CompanyData=f;var s=n(i(856075));var a=c(i(573674));var r=i(24744);var o=i(887674);var l=i(189930);var d=i(41547);function u(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(u=function(e){return e?i:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=u(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}function f(e){const{defaultModal:t,onDefaultModalClose:i}=e;const{currentDpa:n}=(0,r.useCurrentDpa)();const{currentModal:u,closeModal:c}=(0,d.useCurrentModal)(t,n);const f=()=>{if(u===t){i()}c()};return(0,s.default)(a.Fragment,{},void 0,(0,s.default)(o.ClearDemoDataModal,{agreement:n,isOpen:u===l.Modals.CLEAR_DEMO_DATA_MODAL,onClose:f}),(0,s.default)(r.RequestedDpaModal,{agreement:n,isOpen:u===l.Modals.REQUESTED_DPA_MODAL,onClose:f}),(0,s.default)(r.ConditionalDpaModal,{agreement:n,isOpen:u===l.Modals.CONDITIONAL_DPA_MODAL,onClose:f}),(0,s.default)(r.UpdatedDPAModal,{agreement:n,isOpen:u===l.Modals.UPDATED_DPA_MODAL,onClose:f}))}},907344:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.ClearDemoDataModal=l;var s=n(i(368652));var a=n(i(573674));var r=i(851040);var o=i(34592);function l(e){const{isOpen:t,onClose:i}=e;const n=(0,o.useTotalSteps)(t);const l=(0,o.useStepper)(n,{onComplete:()=>window.location.reload()});const d=(0,o.useClearDemoDataStep)(1,l);const u=(0,o.useDpaStep)(2,l);const c=[d,u];if(n===0){return null}return a.default.createElement(r.Modal,(0,s.default)({isOpen:t,onClose:i},c[l.currentStep-1]))}},268702:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CrossFadeTransition=r;var n=a(i(573674));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(s=function(e){return e?i:t})(e)}function a(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=s(t);if(i&&i.has(e)){return i.get(e)}var n={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e){if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;if(o&&(o.get||o.set)){Object.defineProperty(n,r,o)}else{n[r]=e[r]}}}n.default=e;if(i){i.set(e,n)}return n}function r(e){const{stages:t={},active:i}=e;const s=(0,n.useRef)();const a=(0,n.useRef)({});const r=(0,n.useRef)();const o=(0,n.useCallback)((e=>{const t=s.current;if(e.propertyName==="opacity"&&e.target.style.opacity===0){e.target.style.display="block"}t.style.height="";t.removeEventListener("transitionend",o)}),[]);(0,n.useEffect)((()=>{const e=r.current;const t=a.current[i];const n=s.current;n.addEventListener("transitionend",o);if(e){e.style.position="absolute";e.style.top=0;e.style.right=0;e.style.bottom=0;e.style.left=0;t.style.position="";t.style.top="";t.style.right="";t.style.bottom="";t.style.left="";n.style.height=`${e.offsetHeight}px`}r.current=t;n.style.height=`${t.offsetHeight}px`;return()=>n.removeEventListener("transitionend",o)}),[i]);return n.default.createElement("div",{ref:s,style:{overflow:"hidden",position:"relative",transition:"height 1s ease-in-out"}},Object.keys(t).map((e=>{const s=t[e];return n.default.createElement("div",{key:e,ref:t=>a.current[e]=t,style:{opacity:e===i?1:0,transition:"opacity 300ms ease-in-out",display:"flex",flexDirection:"column"}},s)})))}},613115:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.Step1=d;var s=n(i(856075));var a=n(i(573674));var r=i(753134);var o=i(465004);var l=i(268702);function d(e){const{isProcessing:t=false}=e;const i=(0,s.default)("div",{},void 0,(0,s.default)("h3",{},void 0,$.__(`We’re wiping the slate clean.`)),(0,s.default)(r.Message,{text:$.__("Removing demo data will take a few seconds.\nPlease bear with us.")}));const n=(0,s.default)("div",{},void 0,(0,s.default)("h3",{},void 0,$.__("Ready for a fresh start?")),(0,s.default)(r.Message,{text:$.__("This will remove all of the demo data in this account along with anything that you may have added. Are you sure that you want to remove this information?")}));return(0,s.default)("div",{style:{textAlign:"center"}},void 0,(0,s.default)(o.Headline,{hasSeparator:false,icon:"fab-broom-51x55"}),(0,s.default)(l.CrossFadeTransition,{active:t?"waiting":"warning",stages:{warning:n,waiting:i}}))}},604331:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.Step2=d;var s=n(i(856075));var a=l(i(573674));var r=i(24744);function o(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(o=function(e){return e?i:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=o(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}function d(e){const{data:t={},onChange:i}=e;const{isAccepted:n,hasEmployees:o}=t;return(0,s.default)(a.Fragment,{},void 0,(0,s.default)(r.ConditionalHeadline,{}),(0,s.default)(r.ConditionalAgreement,{hasEmployees:o,isAccepted:n,onHasEmployeesChange:e=>{i({hasEmployees:e,isAccepted:n})},onIsAcceptedChange:e=>{i({hasEmployees:o,isAccepted:e})}}))}},34592:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.useStepper=m;t.useClearDemoDataStep=v;t.useDpaStep=w;t.useBeforeUnload=b;t.useLoader=y;t.useTotalSteps=S;var s=n(i(856075));var a=g(i(573674));var r=i(178045);var o=i(24744);var l=i(168666);var d=i(613115);var u=i(604331);var c=i(177578);var f=i(189930);var h=i(489061);function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(p=function(e){return e?i:t})(e)}function g(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=p(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}function m(e,{onComplete:t=(()=>{})}){const[i,n]=(0,a.useState)(1);const[s,r]=(0,a.useState)();return{data:s,currentStep:i,next:a=>{if(i===e){t(s)}else{n(i+1)}r(a)},totalSteps:e}}function v(e,{next:t,currentStep:i,totalSteps:n}){const[u,c]=(0,a.useState)(false);const[f,p]=(0,a.useState)(false);const[g,m]=(0,a.useState)(null);b(u&&!f);(0,a.useEffect)((()=>{if(f){t({latestAgreement:g})}}),[f,g]);if(e!==i){return{}}return{content:(0,s.default)(d.Step1,{isProcessing:u||f}),isProcessing:u||f,primaryAction:()=>{c(true);setTimeout((async()=>{try{await(0,h.clearDemoData)()}catch(e){c(false);(0,r.showSlidedown)($.__(`Uh oh. Looks like your demo data didn’t clear. Please try again, or call us at 866-387-9595 for help.`),"error");return}try{const e=await(0,o.getLatestDataProcessingAgreement)();if(!e){throw new Error("No data processing agreement is available")}m(e);c(false);p(true)}catch(e){(0,r.showSlidedown)("Uh oh! It looks like the next step didn’t load as expected. Please reload this page.","error")}}),3e3)},primaryActionText:$.__("Clear Data"),title:(0,s.default)("div",{},void 0,$.__("Clear Demo Data"),n>1?(0,s.default)(l.StepIndicator,{currentStep:i,hasSeparator:!u,totalStepCount:n}):null)}}function w(e,{data:t={},next:i,currentStep:n,totalSteps:d}){const{latestAgreement:c={}}=t;const[h,p]=(0,a.useState)({isAccepted:false,hasEmployees:false});const[g,m]=(0,a.useState)(false);const v=h.isAccepted||!h.hasEmployees;const w={setSessionMessage:true};if(e!==n||!t||!c){return{}}return{alternativeAction:null,content:(0,s.default)(u.Step2,{data:h,isProcessing:g,onChange:e=>p(e)}),contentHasMaxHeight:false,hasCloseButton:false,isProcessing:g,primaryAction:v?async()=>{m(true);try{if(h.isAccepted){await(0,o.acceptDataProcessingAgreement)(c.id,w)}else{await(0,o.declineDataProcessingAgreement)(c.id,w)}i()}catch(e){m(false);(0,r.showSlidedown)($.__("Oops. Something went wrong. Please try again."),"error")}}:null,primaryActionText:$.__("Done"),secondaryAction:async()=>{m(true);try{await(0,o.completeDataProcessingAgreementLater)(c.id,w);i()}catch(e){m(false);(0,r.showSlidedown)($.__("Oops. Something went wrong. Please try again."),"error")}},secondaryActionText:f.COMPLETE_LATER_ACTION_TEXT,title:(0,s.default)("div",{},void 0,$.__("GDPR Compliance"),d>1?(0,s.default)(l.StepIndicator,{currentStep:n,hasSeparator:false,totalStepCount:d}):null)}}function b(e){const t=(0,a.useCallback)((e=>{e.preventDefault();e.returnValue=$.__("Are you sure you want to leave now?")}),[]);(0,a.useEffect)((()=>{if(e){window.addEventListener("beforeunload",t)}else{window.removeEventListener("beforeunload",t)}}),[t,e])}function y(e,t){const[i,n]=(0,a.useState)();const[s,r]=(0,a.useState)(false);(0,a.useEffect)((()=>{const i=async()=>{r("loading");try{n(await e());r("completed")}catch(e){r("failed")}};if(t){i()}}),[t]);return{value:i,status:s}}function S(e){const{value:t,status:i}=y((async()=>{try{return await(0,o.getLatestDataProcessingAgreement)()}catch(e){console.error("Failed to get latest Data Processing Agreement while clearing demo data!");throw e}}),e);return(0,c.getTotalSteps)(e,t,i)}},887674:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ClearDemoDataModal",{enumerable:true,get:function(){return n.ClearDemoDataModal}});var n=i(907344)},177578:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isDpaCompleted=s;t.getTotalSteps=a;var n=i(189930);function s(e){return e&&(e.status===n.DpaStatus.SIGNED||e.status===n.DpaStatus.DECLINED)}function a(e,t,i){let n=0;if(e){if(i==="failed"||i==="completed"&&s(t)){n=1}else if(i!=="loading"){n=2}}return n}},666721:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.Headline=l;var s=n(i(856075));var a=n(i(573674));var r=n(i(60042));var o=i(651745);i(614306);function l(e){const{hasSeparator:t=true,icon:i,children:n}=e;return(0,s.default)("div",{className:(0,r.default)("CompanyDataModalHeadline",{"CompanyDataModalHeadline--hasSeparator":t})},void 0,(0,s.default)(o.Icon,{brand:true,name:i}),n?(0,s.default)("h3",{},void 0,n):null)}},465004:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Headline",{enumerable:true,get:function(){return n.Headline}});var n=i(666721)},189930:(e,t,i)=>{"use strict";var $=i(992005);Object.defineProperty(t,"__esModule",{value:true});t.Modals=t.DpaStatus=t.COMPLETE_LATER_ACTION_TEXT=void 0;const n=$.__("Complete Later");t.COMPLETE_LATER_ACTION_TEXT=n;const s=Object.seal({COMPLETE_LATER:"complete_later",DECLINED:"declined",NEEDS_PROMPT:"needs_prompt",NEEDS_TO_SIGN:"needs_to_sign",SIGNED:"signed",UPDATE_PENDING:"update_pending"});t.DpaStatus=s;const a=Object.seal({CONDITIONAL_DPA_MODAL:"optionalDpaModal",CLEAR_DEMO_DATA_MODAL:"clearDemoDataModal",REQUESTED_DPA_MODAL:"requestedDpaModal",UPDATED_DPA_MODAL:"updatedDpaModal"});t.Modals=a},41547:(e,t,i)=>{"use strict";var moment=i(496406);Object.defineProperty(t,"__esModule",{value:true});t.useCurrentModal=o;var n=i(573674);var s=i(850463);var a=i(189930);var r=i(24744);function o(e,t){const[i,o]=(0,n.useState)();(0,n.useEffect)((()=>{if(t){const e=moment(t.statusUpdatedDate);const i=moment().isBefore(e.add(1,"weeks"));if(t.status===a.DpaStatus.NEEDS_TO_SIGN){o(a.Modals.REQUESTED_DPA_MODAL)}else if(t.status===a.DpaStatus.NEEDS_PROMPT||t.status===a.DpaStatus.COMPLETE_LATER&&!i){o(a.Modals.CONDITIONAL_DPA_MODAL)}else if(t.status===a.DpaStatus.UPDATE_PENDING){const e=localStorage.getItem(r.DPA_UPDATE_POSTPONED_ON);if(!e){o(a.Modals.UPDATED_DPA_MODAL)}else if(s.DateTime.fromISO(e).diffNow("days").days<-7){o(a.Modals.UPDATED_DPA_MODAL)}}}}),[t]);(0,n.useEffect)((()=>{if(e&&!i){o(e)}}),[e]);return{closeModal:()=>o(null),currentModal:i}}},674150:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.renderCompanyData=d;Object.defineProperty(t,"Modals",{enumerable:true,get:function(){return o.Modals}});var s=n(i(573674));var a=i(830734);var r=i(422128);var o=i(189930);const l=document.createElement("div");document.body.appendChild(l);function d(e){(0,a.render)(s.default.createElement(r.CompanyData,e),l)}},489061:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.clearDemoData=a;var s=n(i(417842));function a(){return s.default.post("/clear-demo-data")}},433768:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.IdentityVerificationModalContent=r;var s=n(i(856075));var a=n(i(573674));function r(e){const{verificationCode:t}=e;return(0,s.default)("div",{style:{textAlign:"center"}},void 0,(0,s.default)("h4",{},void 0,"Thank you for contacting BambooHR support!"),(0,s.default)("div",{},void 0,"Please give this code to your support agent so we can continue to help you."),(0,s.default)("h1",{},void 0,t),(0,s.default)("div",{},void 0,"If you did not request this code, go ahead and dismiss this message."))}},63029:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.IdentityVerificationModal=l;var s=n(i(856075));var a=n(i(573674));var r=i(651745);var o=i(433768);function l(e){const{isOpen:t,onClose:i,verificationCode:n}=e;const a=(0,s.default)(r.StandardModal.Header,{hasCloseButton:true,title:"Customer Identity Verification"});const l=(0,s.default)(r.StandardModal.Footer,{actions:[(0,s.default)(r.Button,{clickAction:i,type:"button"},"primary",$._("Dismiss"))]});return(0,s.default)(r.StandardModal,{isOpen:t,onRequestClose:i,title:"Customer Identity Verification"},void 0,(0,s.default)(r.StandardModal.Body,{renderFooter:l,renderHeader:a},void 0,(0,s.default)(r.StandardModal.Constraint,{spacingOverrides:{bottom:r.StandardModal.Constraint.Spacing.BIGGIE,top:r.StandardModal.Constraint.Spacing.MEDIUM}},void 0,(0,s.default)(o.IdentityVerificationModalContent,{verificationCode:n}))))}},394532:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"IdentityVerificationModal",{enumerable:true,get:function(){return n.IdentityVerificationModal}});var n=i(63029)},768838:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.IdentityVerification=u;var s=n(i(856075));var a=d(i(573674));var r=i(394532);var o=n(i(41085));function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(l=function(e){return e?i:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=l(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}function u(){const[e,t]=(0,a.useState)(null);const i=(0,a.useRef)();const n=()=>{t(null)};o.default.subscribe({subject:"identityVerification",events:{verify:e=>{t(e)},close:()=>n()}}).then((e=>{i.current=e}));return(0,s.default)(r.IdentityVerificationModal,{isOpen:e,onClose:n,verificationCode:e})}},252558:(e,t,i)=>{"use strict";var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.renderIdentityVerification=l;var s=n(i(573674));var a=i(830734);var r=i(768838);const o=document.createElement("div");document.body.appendChild(o);function l(e){if(window.SESSION_USER){(0,a.render)(s.default.createElement(r.IdentityVerification,e),o)}}},667695:(e,t,i)=>{"use strict";var jQuery=i(992005);var $=i(992005);var moment=i(496406);var n=i(992005);var s=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.showHelpWidget=C;t.clearDemoData=T;t.addLinks=k;t.xmlEntities=O;t.js=F;t.activeIndicator=M;t.qsWithPhoto=P;t.highlightRow=I;t.textCursorFocus=A;t.clearText=D;t.markRead=L;t.acceptTerms=R;t.dismissTerms=N;t.errorFallBack=B;t.getFloatFromStringJS=H;t.formatNumberJS=z;t.number_format=G;t.isMobile=W;t.trackAction=q;t.registerRateChange=U;t.toggleSwitch=V;t.clone=Y;t.empty=K;Object.defineProperty(t,"disabledForPermsTest",{enumerable:true,get:function(){return m.disabledForPermsTest}});t.HSHQ_DATEPICKER_OPTIONS=t.formChanged=t.appPrefix=void 0;var a=s(i(569005));var r=i(121198);var o=i(479706);var l=s(i(417842));var d=i(845382);i(49621);var u=s(i(803391));var c=i(789191);var f=i(891674);i(36826);var h=i(462804);var p=i(674150);var g=i(252558);var m=i(780381);window.BambooHR=window.BambooHR||{};window.bhrChosenOptions=window.bhrChosenOptions||{allow_single_deselect:true,disable_search_threshold:8};if(typeof console==="undefined"||typeof console.log==="undefined"){console={};console.log=function(){}}const v=window.appPrefix||"";t.appPrefix=v;const w=false;t.formChanged=w;const b={buttonClasses:(0,o.isEnabled)("jade")?"fab-TextInput__button":"btn btnIcon",buttonImage:(0,o.isEnabled)("jade")?"":"/images/color-branded-icons/calendar-input-icon.svg",buttonText:(0,o.isEnabled)("jade")?`<span class="fab-TextInput__buttonIcon">\n\t\t<ba-icon name="fab-calendar-15x16">\n\t</span>`:"",triggerClasses:(0,o.isEnabled)("jade")?"fab-TextInput__button":"ui-datepicker-trigger btn btnIcon"};let y={yearRange:"-100:+20",highlightWeek:true,duration:0,showAnim:false,changeFirstDay:false,changeMonth:true,changeYear:true,showOn:"button",buttonImage:b.buttonImage,buttonImageOnly:false,buttonText:b.buttonText,showOtherMonths:true,onClose:function(e,t){setTimeout((function(){t.input.next("button").addClass(b.buttonClasses).find("img").addClass("branded-icon").end().end();t.input.trigger("blur.mask")}),1);if(jQuery.placeholder){jQuery.placeholder.check(t.input)}var i=e.toLowerCase().indexOf("yy")<0;if($(this).hasClass("js-toDate")&&i){$(".js-fromDate[data-calendar-id="+$(this).attr("data-calendar-id")+"]").datepicker("option","maxDate",e)}else if($(this).hasClass("js-fromDate")&&i){$(".js-toDate[data-calendar-id="+$(this).attr("data-calendar-id")+"]").datepicker("option","minDate",e)}}};t.HSHQ_DATEPICKER_OPTIONS=y;if(typeof window.GLOBAL_DATEPICKER_MASK!="undefined"){y.dateFormat=window.GLOBAL_DATEPICKER_MASK}$.datepicker.setDefaults($.datepicker.regional[$("html").attr("lang")]);$.datepicker.setDefaults({dayNames:moment.weekdays(),dayNamesShort:moment.weekdaysShort(),dayNamesMin:moment.weekdaysMin(),monthNames:moment.months(),monthNamesShort:moment.monthsShort("-MMM-")});$.datepicker.parseDate=function e(t,i){var n=moment(i,moment.convert.jQuery(t));return n.isValid()?n.toDate():null};$.datepicker.formatDate=function e(t,i){var n=moment(i);return n.isValid()?n.format(moment.convert.jQuery(t)):null};(0,f.initializeManageNav)();$(document).ready((function(){if(!window.BASE_DROP_DOWN_MENU){window.BASE_DROP_DOWN_MENU=true;$(document).on("click",".dropdown-menu",(function(e){var t=$(this);var i=$(e.target);var n=i.closest("li.js-no-close");var s='> [class*="inline-bicon-"]';e.stopPropagation();if(t.hasClass("disabled")||i.is("a")&&i.next().is("ul")){return}$("body > .down-list.js-popout").remove();$(".dropdown-menu .btn.active, .dropdown-menu "+s+", .js-downListToggle").not(t.find(".btn.active, "+s)).removeClass("active");if(!n.length){t.find(".btn, "+s).toggleClass("active")}var a=$(".down-list",this);if(a.hasClass("js-popout")&&!a.is(":visible")){a.css("opacity",0).show();var r=a[0].getBoundingClientRect();var o=window.scrollX;var l=window.scrollY;if(typeof o=="undefined"){o=window.pageXOffset;l=window.pageYOffset}a.hide().css("opacity","");a=a.clone(true).css({left:Math.round(r.left+o),top:Math.round(r.top+l)}).appendTo(document.body)}if(!n.length){a.toggle()}if(a.is(".right-edge")){a.css({position:"absolute",left:"-"+(a.outerWidth(true)-t.outerWidth(true))+"px"})}}))}$(document).on("click",(function(e){if(!e.target.id||e.target.id!=="search-input"){$(".down-list,#employeeTabMenu").hide()}$('.dropdown-menu .btn.active, .dropdown-menu > [class*="inline-bicon-"], .js-downListToggle').removeClass("active");$("body > .down-list.js-popout").remove()}));$(".top-nav-dd").on("click",".js-downListToggle",(function(e){var t=$(this);t.parent("#manage-nav").find(".down-list").hide();var i=t.next(".down-list").removeClass("edge").toggle(0);var n=$(window).outerWidth()-i[0].getBoundingClientRect().right;if(n-20<0){i.addClass("edge")}else{i.removeClass("edge")}$(this).toggleClass("active");return false}));var e;$(".top-nav-dd").on("mouseenter",(function(t){if($(this).children(".down-list").is(":visible")){clearTimeout(e)}}));$(".top-nav-dd").on("mouseleave",(function(){$(this).children(".js-downListToggle").removeClass("active");if($(this).children(".down-list").is(":visible")){var t=$(this);e=setTimeout((function(){$(t).children(".down-list").hide()}),250)}}));$("a[rel='external']").click((function(){let e=window.open($(this).attr("href"),"_blank","noopener,noreferrer");if(e){e.opener=null}return false}));var t=new Image;t.src="/images/loader3.gif";if($("#quicksearchquery.globalsearch").length){if(typeof window.bhrLiveSearchVars=="undefined"){window.bhrLiveSearchVars={}}var i=$("#quicksearchquery.globalsearch");var n=$("#quicksearchform");var s=true;i.bhrLiveSearch(window.bhrLiveSearchVars);i.on("bhrLiveSearch:emptyResults",(function(){s=false}));i.on("bhrLiveSearch:nonEmptyResults",(function(){s=true}));n.submit((function(){return s}))}var a={delay:0,cacheLength:1,selectFirst:true,matchSubset:false,max:20,formatItem:M};$("body").on("click",".disabledForPermsTest",(function(e){return(0,m.disabledForPermsTest)(e)}));$(".hovered").hover((function(){$(this).addClass("hovers")}),(function(){$(this).removeClass("hovers")}));$(document).bind("keypress.bhrSearchShortcut",(function(e){if(!BambooHR.Utils.hasFocusedElement(document)&&!document.querySelectorAll(".js-simplemodal-container").length){switch(e.which){case 115:$("#quicksearchquery, #quicksearchcustomers").focus();e.preventDefault();return false}}}));$("#helpLinks #supportLink11").click((function(e){e.preventDefault();ajaxModalDialog($.__("Submit a Support Request"),$(this).attr("href"),$.__("Submit"),(function(){window.modalSubmit((function(){S()}),(function(){return true}))}),undefined,{modal:true,cancel_message:$.__("Cancel"),open_callback:function(){}})}));try{window.AbstractChosen.default_multiple_text=$.__("Select Some Options");window.AbstractChosen.default_single_text=$.__("-- Select --");window.AbstractChosen.default_no_result_text=$.__("No results match")}catch(e){if(window.Rollbar&&window.Rollbar.debug){window.Rollbar.debug("Unable to add new attributes to AbstractChosen")}else{console.error("Unable to add new attributes to AbstractChosen")}}window.requestAnimationFrame((function(){E(true)}))}));function S(){document.location.reload(true);closeModalDialog()}function E(e){var t=$("footer:not(.SiteFooter)");if(t.hasClass("fixedFooter")&&!t.hasClass("empFixedFooter")&&!t.hasClass("stickySmallFooter")){$("body").css("height","auto");var i=t.find("#inside-footer").height()||0;if(e){i=t.outerHeight()}if(document.body.offsetHeight+i<window.innerHeight){if(!t.hasClass("staticFooter")){t.addClass("staticFooter");$("#inside-content .BhrForms").addClass("staticFooter").removeClass("stickyFooter");$(".fixedFooter--spacer").hide()}}else if(!t.hasClass("stickyFooter")){t.removeClass("staticFooter");$("#inside-content .BhrForms").removeClass("staticFooter").addClass("stickyFooter");$(".fixedFooter--spacer").show()}$("footer").css("display","block")}window.requestAnimationFrame((function(){E()}))}function C(e=false){window.BambooHR.Modal.setState({isLoading:true,isOpen:true,title:$.__("Submit a Support Request"),primaryActionText:$.__("Submit"),primaryAction(){window.BambooHR.Modal.setState({isProcessing:true},true);const e=document.querySelector(`#fabricModalContent form#help-form`);const t=e.getAttribute("action");const i=new FormData(e);i.append("url",window.location.toString());const n=l.default.prepareData(i,l.default.prepareDataTypes.URL_SEARCH_PARAMS).toString();l.default.post(t,n).then((()=>{window.BambooHR.Modal.setState({});window.setMessage($.__(`Message Sent`),"success")}))}});l.default.get("/ajax/dialog/feedback.php",{admin:!!e||null}).then((({data:e})=>{window.BambooHR.Modal.setState({dangerousContent:e,isLoading:false},true)}))}function x(){$("#TB_imageOff, #TB_closeWindowButton").unbind("click");$("#TB_window,#TB_load,#TB_overlay,#TB_HideSelect").trigger("unload").unbind().remove();document.onkeydown="";document.onkeyup=""}(0,g.renderIdentityVerification)();(0,p.renderCompanyData)();function T(){(0,p.renderCompanyData)({defaultModal:p.Modals.CLEAR_DEMO_DATA_MODAL,onDefaultModalClose:()=>(0,p.renderCompanyData)({defaultModal:undefined})})}function k(e,t){for(var i=0;i<t.length;++i){$("<li><a></a></li>").find("a").attr("href",t[i].url).text(t[i].name).end().appendTo("#context-menu")}}function O(e){var t="";e=""+e;for(var i=0;i<e.length;++i){var n=e.substr(i,1);switch(n){case'"':t+="&quot;";break;case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case"'":t+="&#x27;";break;default:t+=n;break}}return t}function F(e){var t="";for(var i=0;i<e.length;++i){var n=e.substr(i,1);switch(n){case"\n":t+="\\n";break;case"\r":t+="\\r";break;case"<":case">":case"&":case"'":case'"':t+="\\x"+n.charCodeAt(0).toString(16);break;default:t+=n;break}}return t}function M(e,t,i,n){const s=(0,d.convertHTMLEntitiesInString)(BambooHR.Utils.htmlentities(e[0]));var a=`<span class="qs_status icon ${e[2]}"></span><span class="qs_status ${e[2]}">${s}</span>`;return a}function P(e){const t=(0,d.convertHTMLEntitiesInString)(BambooHR.Utils.htmlentities(e[0]));function i(e){var i=`<span class="qsEmpty">${t}:</span><br/>`;i+=`<span class="qsEmpty">"${e[2]}"</span>`;return i}if(e[1]=="empty"){return i(e)}var n="";if(typeof e[3]!="undefined"){if(e[1]==="user_group"||e[1]==="group"||e[1]==="location"){n=`<img class="Avatar baseColorBg qsPhoto qsPhotoGroup" src="/images/color-branded-icons/share/group.png"/>`;n+=`<img class="Avatar baseColorBg qsPhoto qsPhotoGroup qsPhotoGroup-hover" src="/images/color-branded-icons/share/group-hover.png"/>`;if((0,o.isEnabled)("jade")){n=`<span class="qsPhoto qsPhotoGroup"><ba-icon brand="true" name="fab-people-circle-35x35"></ba-icon></span>\n\t\t\t\t\t<span class="Avatar__iconHover qsPhoto qsPhotoGroup qsPhotoGroup-hover"><ba-icon brand="false" name="fab-people-circle-35x35"></ba-icon></span>`}}else{n=`<img class="Avatar qsPhoto" src="${e[3]}"/>`}}var s=n+`<span class="js-qsPrimaryText" title="${BambooHR.Utils.htmlentities(t)}">${BambooHR.Utils.htmlentities(t)}</span>`;if(typeof e[4]!="undefined"){s+=`<span class="jt" >${e[4]}</span>`}return s}function I(e,t){var i="",n;var s=e.split(" ");var a=t.split(/ +/);for(var r=0;r<s.length;++r){n=false;for(var o=0;o<a.length;++o){var l=s[r].toLowerCase().indexOf(a[o]);if(l===0){i+="<strong>"+s[r].substr(0,a[o].length)+"</strong>"+s[r].substr(a[o].length);n=true;break}else if(l==1&&s[r].substr(0,1)=="("){i+="(<strong>"+s[r].substr(1,a[o].length)+"</strong>"+s[r].substr(a[o].length+1);n=true;break}}if(!n){i+=s[r]}i+=" "}return i}function A(e){e.find("input:text:visible:enabled:first").focus()}function D(e){if(e.defaultValue==e.value){e.value=""}}(function(){var e=null;$(":input").live("focus",(function(){e=this})).live("blur",(function(){e=null}));$.focused=function(){return e}})();(function(){String.prototype.replaceAll=function(e,t){var i=this;return i.replace(new RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),t)}})();(function(){$.fn.positionBy=function(e,t){e=$(e);var i=e.position();var n=0;var s=0;if(i.top+this.outerHeight(true)>e.offsetParent().height()&&i.top-this.outerHeight(true)>0){t=t.replace("bottom","top")}switch(t){case"topLeft":n=i.top-this.outerHeight(true)+parseInt(e.css("margin-top"));s=i.left+parseInt(e.css("margin-left"));break;case"topRight":n=i.top-this.outerHeight(true)+parseInt(e.css("margin-top"));s=i.left+(this.outerWidth(true)-e.outerWidth(false))*-1+parseInt(e.css("margin-left"));break;case"bottomRight":n=i.top+e.outerHeight(true)-parseInt(e.css("margin-bottom"));s=i.left+(this.outerWidth(true)-e.outerWidth(false))*-1+parseInt(e.css("margin-left"));break;case"rightCenter":n=i.top-this.outerHeight(true)/2+parseInt(e.css("margin-top"))+e.outerHeight(true)/2;s=i.left+e.outerWidth(true)+parseInt(e.css("margin-left"));break;case"topCenter":n=i.top-this.outerHeight(true)+parseInt(e.css("margin-top"));s=i.left+parseInt(e.css("margin-left"))-this.outerWidth(true)/2;break;case"bottomLeft":default:n=i.top+e.outerHeight(true)-parseInt(e.css("margin-bottom"));s=i.left+parseInt(e.css("margin-left"));break}this.css("top",n+"px").css("left",s+"px");this.appendTo(e.offsetParent());return this}})();(function(){$.datepicker.setDefaults({shortYearCutoff:y.yearRange.split(":")[1]});$.datepicker._triggerClass=b.triggerClasses;$.fn.bhrdatepicker=function(e){var t=Array.prototype.slice.call(arguments);if(t.length===2&&typeof t[0]==="string"){e=t[1]}this.each((function(i,n){var s=$(n);$.extend($.datepicker,{_checkOffset:function(e,t,i){var n=e.dpDiv.outerWidth();var s=e.dpDiv.outerHeight(true);var a=e.input?e.input.outerWidth():0;var r=e.input?e.input.outerHeight():0;var o=$("body > footer").height();if($("body > footer").hasClass("staticFooter")){o-=$("body > footer").offset().top}var l=document.documentElement.clientWidth+(i?0:$(document).scrollLeft());var d=document.documentElement.clientHeight-o+(i?0:$(document).scrollTop());t.left-=this._get(e,"isRTL")?n-a:0;t.left-=i&&t.left==e.input.offset().left?$(document).scrollLeft():0;t.top-=i&&t.top==e.input.offset().top+r?$(document).scrollTop():0;t.left-=Math.min(t.left,t.left+n>l&&l>n?Math.abs(t.left+n-l):0);t.top-=Math.min(t.top,t.top+s>d&&d>s?Math.abs(s+r):0);return t}});s.datepicker(...t);function a(e){var t=$.extend({},window.bhrChosenOptions,{disable_search_threshold:130});e.dpDiv.find("select").chosen(t);e.dpDiv.css("z-index",(0,r.getMaxZIndex)()+10)}s.datepicker("option","beforeShow",(function(t,i){i.dpDiv.addClass("baseBorderColor");setTimeout((function(){a(i)}),1);if(e.beforeShow instanceof Function){e.beforeShow(t,i)}}));s.datepicker("option","onChangeMonthYear",(function(t,i,n){setTimeout((function(){a(n)}),1);if(e.onChangeMonthYear instanceof Function){e.onChangeMonthYear(t,i,n)}}));setInterval((function(){s.next("button").attr("tabindex",-1).find("img").addClass("branded-icon")}),100)}));return this}})();$.valHooks.textarea={get:function(e){return e.value.replace(/\r?\n/g,"\r\n")}};function j(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)}(function($){$.fn.limitCount=function(e=$(this).attr("maxlength"),t){var i={displaySelector:null,countBytes:false};var n=$.extend(true,{},i,t);$(this).each((function(){var e=$(this);n.loadedLength=j(e.val());e.data("limitCount-settings",n);var t=$(n.displaySelector);if(t.length===0){t=$('<div class="limitCount js-limitCount" style="margin-top:0;"></div>').insertAfter(e)}e.keydown((function(){setTimeout((function(){s(e,t)}),0)})).keyup((function(){setTimeout((function(){s(e,t)}),0)})).focus((function(){s(e,t);t.css({opacity:"1","margin-top":"1px"})})).blur((function(){t.css("opacity","0")}))}));function s(t,i){var n=t.data("limitCount-settings");var s=0;if(n.countBytes){s=j(t.val())}else{s=t.val().length}a(s,e,i,t,n)}function a(e,t,i,n,s){var a=parseInt(t-e);if(a<0){var o=n.val();var l=null;if(s.countBytes){l=r(o,e,Math.max(t,s.loadedLength));a=t-j(l)}else{l=o.slice(0,t);a=t-l.length}n.val(l)}i.removeClass("limitCount--warning limitCount--error");i.html(a);if(a>100){i.hide()}else{i.show();if(a<=20&&a>0){i.addClass("limitCount--warning").removeClass("limitCount--error")}else if(a<=0){i.addClass("limitCount--error").removeClass("limitCount--warning")}}}function r(e,t,i){var n=t-i;var s=1;while(j(e.slice(e.length-s,e.length))<n){s++}return e.slice(0,e.length-s)}}})(jQuery);$("textarea[maxlength]").each((function(){var e={};if($(this).is("[ba-count-chars]")){e.countBytes=false}$(this).limitCount($(this).attr("maxlength"),e)}));(function(){$.fn.fadeHighlight=function(e){var t=$.extend({highlightColor:"#fdffd5",backgroundColor:"transparent",duration:900,delay:1e3},e);return this.each((function(){var e=$(this);var i=e.css("background-color");$(this).addClass("hightlightFading").css("background-color",t.highlightColor).delay(t.delay).animate({backgroundColor:i},{duration:t.duration,complete:function(){$(e).removeClass("hightlightFading")}})}))}})();(function(){$.extend({insetLabel:new function(){function e(){var e=$(this);setTimeout((function(){var t=e.attr("title");var i=e.val();if(e.is("div[contenteditable=true]")){i=e.text()}if(!i||i==t){e.prev("span").css("visibility","");if(t){var n=$("<label></label>").text(t).css("visibility","hidden").appendTo("body");e.prev("span").css("margin-left",n.width()+3+"px");n.remove()}}else{e.prev("span").css("visibility","hidden")}}),0)}function t(){var e=$(this).attr("title");if(!$(this).val()||$(this).val()==e){$(this).val(e);$(this).prev("span").css("visibility","")}}this.construct=function(){this.filter("input, textarea, div[contenteditable=true]").on("keydown",e);this.filter("input, textarea, div[contenteditable=true]").on("paste",e);this.filter("select").on("change",e);this.filter("input, textarea, div[contenteditable=true]").on("focusin",(function(){$(this).prev("span").css("color","#a0a0a0")}));this.filter("input, textarea, div[contenteditable=true]").on("focusout",(function(){$(this).prev("span").css("color","#a0a0a0")}));this.filter("input, textarea, div[contenteditable=true]").each((function(){e.call(this)}))}}});$.fn.extend({insetLabel:$.insetLabel.construct})})();$((function(){$("input.btn.addProcessing").on("click",(function(){$(this).addClass("disabled processing").wrap("<span class='inputBtnProcessing'></span>").parent(".inputBtnProcessing").prepend("<img src='/images/buttons/button-processing.gif'/>")}))}));$((function(){$(".btnGroup input.text.dynamicDisable").siblings(".btn").addClass("disabled");$(".btnGroup input.text.dynamicDisable").on("keydown",(function(){$(this).siblings(".btn").removeClass("disabled")})).on("blur",(function(){if($(this).val()===""){$(this).siblings(".btn").addClass("disabled")}}));$(document).initializeElements()}));$((function(){$(document).on({mouseenter:function(e){e.preventDefault();var t=$(this);var i=$('<div class="fancyTT"/>').html(t.attr("title")).insertAfter(this).show();i.css({"margin-left":(i.outerWidth(true)/2-t.outerWidth(true)/2)*-1});t.data("ot",this.title);t.attr("title","")},mouseleave:function(){var e=$(this);$(".fancyTT").remove();e.attr("title",e.data("ot"))}},".fancyTTHover")}));window.autosize=u.default;n.fn.autosize=function(){return(0,u.default)(this)};function L(e){$.post("/ajax/announcement.php",{action:"read",id:e});$(".ba-banner--alert").slideUp("normal")}function R(){$.post("/ajax/terms/accept");$(".ba-banner--alert").slideUp("normal")}function N(){$.post("/ajax/terms/dismiss");$(".ba-banner--alert").slideUp("normal")}(function(){$.fn.scrollTables=function(){var e=$(this);return e.each((function(){e.addClass("bhrScrollTable");var n=i();t(n);e.children("thead").addClass("fixedHeader")}));function t(e){var t=$(".bhrScrollTable tbody").html();var i=$(".bhrScrollTable thead th").length;var n=$(".bhrScrollTable thead th:first-child").outerWidth()-3;var s='<tr><td colspan="'+i+'" class="scrollContent"><div class="scrollBody"><table>'+t+"</table></div></td></tr>";$(".bhrScrollTable tbody").html(s);$(".bhrScrollTable .scrollBody tr:first-of-type td:not(:last-child)").each((function(t){$(this).css("width",e[t]-parseInt($(this).css("padding-left"))-parseInt($(this).css("padding-right"))+"px")}))}function i(){var e=[];$(".bhrScrollTable tbody tr:first-of-type td").each((function(t){var i=$(this).outerWidth();if(t===0){i-=3}e.push(i)}));return e}}})();(function(){$.fn.insertAt=function(e,t){var i=this.children().size();if(e<0){e=Math.max(0,i+1+e)}this.append(t);if(e<i){this.children().eq(e).before(this.children().last())}return this}})();function B(){setMessage($.__("An error occurred"),"error")}function H(e){if(window.GLOBAL_THOUSANDS_SEPARATOR!==undefined&&window.GLOBAL_THOUSANDS_SEPARATOR!==""){e=(0,a.default)(e).call(e,window.GLOBAL_THOUSANDS_SEPARATOR,"")}e=e.replace(window.GLOBAL_DECIMAL_CHAR,".");e=e.replace(/[^0-9.-]/g,"");if(!$.isNumeric(e.substring(-1))){e=e.substring(0,-1)}return parseFloat(e)}function z(e,t){return G(parseFloat(e),t,window.GLOBAL_DECIMAL_CHAR,window.GLOBAL_THOUSANDS_SEPARATOR)}function G(e,t,i,n){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");const s=isFinite(+e)?+e:0;const a=isFinite(+t)?Math.abs(t):0;const r=typeof n==="undefined"?",":n;const o=typeof i==="undefined"?".":i;let l="";l=(a?d(s,a):""+Math.round(s)).split(".");if(l[0].length>3){l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)}if((l[1]||"").length<a){l[1]=l[1]||"";l[1]+=new Array(a-l[1].length+1).join("0")}return l.join(o);function d(e,t){const i=Math.pow(10,t);return""+(Math.round(e*i)/i).toFixed(t)}}function W(){return window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i)}if(!W()){$.registerElementInitializer("textarea.autosize",(function(){this.autosize()}))}$.registerElementInitializer("label.input :input",(function(){this.insetLabel()}));$.registerElementInitializer("[placeholder]",(function(){if(jQuery.placeholder){jQuery.placeholder.shim({autoFormClass:"BhrForms"})}}));$.registerElementInitializer("select:visible:not(.chzn-ignore)",(function(e){try{this.chosen(window.bhrChosenOptions);$('.chzn-container input[type="text"]',e).addClass("chzn_selected")}catch(e){if(window.Rollbar&&window.Rollbar.info){window.Rollbar.info("Chosen being used when not available.")}}}));$.registerElementInitializer("[name=countryId]",(function(){this.trigger("liszt:updated");this.trigger("change")}));$.registerElementInitializer(".calendar-field",(function(){if(typeof $.mask!=="undefined"){$.mask.definitions.d=$.mask.definitions["9"];$.mask.definitions.m=$.mask.definitions["9"];$.mask.definitions.y=$.mask.definitions["9"];$.mask.definitions.Y=$.mask.definitions["9"];$.mask.definitions.M="[A-Za-zäéû]";$.mask.placeholders.d="d";$.mask.placeholders.m="m";$.mask.placeholders.y="y";$.mask.placeholders.Y="Y";$.mask.placeholders.M="M"}}));$.registerElementInitializer('.calendar-field:not([name*=":idx:"])',(function(){var e=window.GLOBAL_DATE_MASK||"mm/dd/yyyy";var t=this;if(t.length>0){t.each((function(){var t=$(this);var i=Y(window.HSHQ_DATEPICKER_OPTIONS);var n=t.attr("defaultDate");if(t.hasClass("js-validate-todayAndFuture")){i.minDate=0}t.bhrdatepicker(i).attr("autocomplete","off");if(typeof t.inputmask==="function"){t.inputmask(e).trigger("masked");if(!t.is("[placeholder]")){t.attr("placeholder",t.inputmask("getemptymask"));jQuery.placeholder.shim({selector:t})}}if(n!==""){t.datepicker("option","defaultDate",n)}}))}}));$.registerElementInitializer(".ssn-field",(function(){var e=this;if(e.length>0){e.inputmask("999-99-9999",{greedy:false,clearIncomplete:true,placeholder:"___-__-____"}).attr("autocomplete","off")}}));$.registerElementInitializer(".sin-field",(function(){var e=this;if(e.length>0){e.inputmask("999-999-999",{greedy:false,clearIncomplete:true,placeholder:"___-___-___"}).attr("autocomplete","off")}}));$.registerElementInitializer(".js-validate-field.js-validate-nin",(function(){var e=this;if(e.length>0){e.inputmask("** ** ** ** *",{greedy:false,clearIncomplete:true,placeholder:"__ __ __ __ _"}).attr("autocomplete","off")}}));$.registerElementInitializer(".js-validate-field.js-validate-national-id",(function(){var e=this;if(e.length>0){e.inputmask("******[*]{0,10}",{greedy:false,clearIncomplete:true,placeholder:"______"}).attr("autocomplete","off")}}));$.registerElementInitializer(".js-validate-field.js-validate-passport-number",(function(){var e=this;if(e.length>0){e.inputmask("[*]{0,20}",{greedy:false,clearIncomplete:true}).attr("autocomplete","disable-auto-complete")}}));$.registerElementInitializer('.insertable-list:not([name*=":idx:"])',(function(){if($("insertable-list").insertableList!==undefined){var e="/ajax/list_insert.php";this.insertableList(e,$.__("-- Add New --"));this.trigger("liszt:updated")}}));$.registerElementInitializer(".cc-expiration-field",(function(){if(this.length>0){this.mask("99/99")}}));$.registerElementInitializer('.chzn-container input[type="text"]',(function(){this.addClass("chzn_selected")}));$(document).on("input","select.chzn-done",(function(){$(this).trigger("liszt:updated")}));$("body").on("click","[tracking-action], [data-trackingaction]",(function(){var e=$(this).attr("tracking-action")||$(this).attr("data-trackingaction");var t=function(e){var t=e.prop("tagName");if(e.hasClass("btn")){return"button"}switch(t){case"A":return"link";case"BUTTON":case"INPUT":return"button"}return t.toLowerCase()};const i=t($(this));const{trackingProps:n,category:s}=this.dataset;const a=n?JSON.parse(n):{};const r={type:i,...a,category:s};q(e,r)}));function q(e,t={},i="click"){BambooHR.Utils.eventTrack(t.category||t.type,i,e,null)}function U(){var e=0,t=0,i,n;$(".js-rate, .js-ratePercent").on("blur",(function(){var s=typeof window.GLOBAL_THOUSANDS_SEPARATOR=="undefined"?",":window.GLOBAL_THOUSANDS_SEPARATOR;var a=typeof window.GLOBAL_DECIMAL_CHAR=="undefined"?".":window.GLOBAL_DECIMAL_CHAR;var r=new RegExp("\\"+s,"g");var o=$(".js-originalRate");var l=null;if(o.length){l=parseFloat(o.val().replace(/[^-?0-9\.\,]+/g,"").replace(r,"").replace(",","."))}if($(".js-rate").val()==e&&$(".js-ratePercent").val()==t){return}if(!l){$(".js-ratePercent").attr("disabled","disabled");return}if($(this).hasClass("currency-field")){i=parseFloat($(this).val().replace(/[^0-9\.\,]+/g,"").replace(r,"").replace(",","."));n=((i-l)/l*100).toFixed(2).toString();var d=parseFloat(n);d=isNaN(d)?"":d;$(".js-ratePercent").val(d);$(".js-ratePercent").siblings("label").hide()}else{n=$(this).val().replace(/[^0-9\.-]+/g,"");i=n*l/100+l;i.toString().replace(".",a);$(".js-rate").val(i).formatCurrency({thousands:s,decimal:a,symbol:$(".js-rate").data("cursymbol"),oldSymbol:$(".js-rate").data("oldcursymbol")})}e=$(".js-rate").val();t=$(".js-ratePercent").val()}))}function V(e){e=$(e);if(e.hasClass("time-off-inactive")){e.addClass("time-off-active").removeClass("time-off-inactive");e.attr("title",$.__("Click to turn off"));e.siblings("input").val("on");e.closest(".item__aLaCarte").find('input[name*="aLaCarteSwitch"]').val("on")}else{e.addClass("time-off-inactive").removeClass("time-off-active");e.attr("title",$.__("Click to turn on"));e.siblings("input").val("off");e.closest(".item__aLaCarte").find('input[name*="aLaCarteSwitch"]').val("off")}}function Y(e){if(e===null||typeof e!="object"){return e}var t=e.constructor();for(var i in e){if(e.hasOwnProperty(i)){t[i]=e[i]}}return t}function K(e){return typeof e==="undefined"||e===null||e===false||e===""||e===0||e===0||e==="0"}$("img").error((function(){(0,c.avatarFallback)(this)}))},891674:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.initializeManageNav=void 0;var n=i(462804);i(955415);const s="ManageNavItemDropdown--open";const a="js-manage-nav-button";const r="SiteManageNav__item--open";const o="js-manage-nav-ignore";const l="js-manage-nav-focus";const d={search:()=>{document.querySelector(".js-SearchBox-input").value="";(0,n.search)("")}};const u=()=>{const e=Array.from(document.querySelectorAll(`.${a}`));e.forEach((e=>e.addEventListener("click",(()=>{c(e)}))));document.addEventListener("click",f)};t.initializeManageNav=u;const c=e=>{const t=e.nextElementSibling;f();if(t){if(t.classList.contains(s)){t.classList.remove(s);e.classList.remove(r)}else{t.classList.add(s);e.classList.add(r);h(t);p(e)}}};const f=()=>{const e=document.querySelector(`.${s}`);if(e){const t=e.previousElementSibling;const i=Array.from(document.querySelectorAll(`.${o}`));let n=false;if(i.length){i.forEach((e=>{if(e.contains(event.target)){n=true}}))}if(t&&!t.contains(event.target)&&!n){e.classList.remove(s);t.classList.remove(r)}}};const h=e=>{const t=e.querySelector(`.${l}`);if(t){t.focus()}};const p=e=>{const t=e.dataset.onOpenAction;const i=e.dataset.onOpenActionParam;if(d[t]){d[t](i)}}},36826:(e,t,i)=>{"use strict";var $=i(992005);var n=i(479706);const s=".SiteFooter";const a="SiteFooter--open";const r=".SiteFooter__action";const o="SiteFooter__action--link";const l="fab-Button--processing";let d=null;let u;function c(){return new Promise((e=>{const t=document.querySelector(s);if(t){e(t)}}))}function f(e,t,i){if(t&&i.classList.contains("SiteFooter--open")){const i=t.getBoundingClientRect();const n=window.innerHeight-u;const s=i.bottom<n?i.bottom+"px":null;if(d!==s){e.style.top=s;d=s}}else{d=null}window.requestAnimationFrame((()=>f(...arguments)))}function h(e,t){Array.from(e.children).forEach((e=>{if(e.classList.contains("SiteFooter__container--actions")){e.classList.toggle("hidden",!t)}else{e.classList.toggle("hidden",t)}}))}if((0,n.isEnabled)("jade")){document.addEventListener("SiteFooterActions:enable",(()=>{c().then((e=>{Array.from(e.querySelectorAll(`${r}:not(.${o})`)).forEach((e=>e.removeAttribute("disabled")))}))}));document.addEventListener("SiteFooterActions:disable",(()=>{c().then((e=>{Array.from(e.querySelectorAll(`${r}:not(.${o})`)).forEach((e=>e.setAttribute("disabled",true)))}))}));document.addEventListener("SiteFooterActions:toggleDisabled",(()=>{c().then((e=>{const t=!!e.querySelector(`${r}[disabled]`);if(t){document.dispatchEvent(new CustomEvent("SiteFooterActions:enable"))}else{document.dispatchEvent(new CustomEvent("SiteFooterActions:disable"))}}))}));document.addEventListener("SiteFooterActions:startProcessing",(()=>{c().then((e=>{Array.from(e.querySelectorAll(r)).forEach((e=>{e.setAttribute("disabled",true);if(!e.classList.contains(o)){e.classList.add(l)}}))}))}));document.addEventListener("SiteFooterActions:endProcessing",(()=>{c().then((e=>{Array.from(e.querySelectorAll(r)).forEach((e=>{e.removeAttribute("disabled");e.classList.remove(l)}))}))}));document.addEventListener("SiteFooterActions:toggleProcessing",(()=>{c().then((e=>{const t=!!e.querySelector(`${r}[disabled], ${r}.${l}`);if(t){document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"))}else{document.dispatchEvent(new CustomEvent("SiteFooterActions:startProcessing"))}}))}));document.addEventListener("SiteFooter:toggle",(()=>{c().then((e=>{if(e.classList.contains(a)){document.dispatchEvent(new CustomEvent("SiteFooter:close"))}else{document.dispatchEvent(new CustomEvent("SiteFooter:open"))}}))}));document.addEventListener("SiteFooter:open",(()=>{c().then((e=>{h(e,true);setTimeout((()=>e.classList.add(a)))}))}));document.addEventListener("SiteFooter:close",(()=>{c().then((e=>{e.classList.remove(a);setTimeout((()=>h(e,false)),300)}))}));document.addEventListener("DOMContentLoaded",(()=>{c().then((e=>{const t=e.querySelector(".SiteFooter__container--actions");if(t){u=t.getBoundingClientRect().height;const i=document.getElementById("content");if(e.classList.contains("SiteFooter--open")){h(e,true)}f(t,i,e)}}))}));document.addEventListener("click",(({target:e})=>{const t='[data-action^="SiteFooterAction:"]';e=e.closest(t);if(e&&!e.disabled){const[t,...r]=e.dataset.action.split(":");switch(r[0]){case"submit":var i=r[1]||e.closest("footer").dataset.formId;var n=document.getElementById(i);if(n){document.dispatchEvent(new CustomEvent("SiteFooterActions:startProcessing"));const e=$(n);if(e.data("validator")){e.on("invalid-form",(()=>{document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"))}));e.submit()}else{n.submit()}}break;case"cancel":var[s,...a]=r;a=a.length>0?a.join(":"):false;if(a){window.location=new URL(a,window.location.origin).href}else{document.dispatchEvent(new CustomEvent("SiteFooter:close"))}break}}}))}},861840:(e,t,i)=>{"use strict";var $=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.showCookieModal=m;t.showModal=w;var s=n(i(856075));var a=n(i(573674));var r=n(i(459025));var o=n(i(417842));var l=i(85656);var d=i(479706);var u=n(i(20026));var c=i(753134);i(109285);const f=window.SESSION_USER;const h="acceptCookies";const p="siteWideCookieAccepted";const g=(0,d.isEnabled)("jade");function m(){const e=r.default.get(h)===p;const t=(0,l.getParameterByName)("hash")&&(0,l.getParameterByName)("u");if(!t&&f&&f.acceptedCookies===false&&e===false){w()}}function v(){const e=document.querySelector(".js-cookie-acceptance");if(e){try{e.addEventListener("click",b,true)}catch(e){window.Rollbar.debug("Unable to add listener to node",e)}}}function w(){if(g){window.BambooHR.Modal.setState({content:(0,s.default)("div",{className:"CookieModal"},void 0,(0,s.default)("ba-icon",{brand:"true",class:"CookieModal__icon",name:"fab-cookie-54x54"}),(0,s.default)("h2",{className:"CookieModal__title"},void 0,(0,s.default)(c.Message,{text:"Surprise! We use cookies."})),(0,s.default)("span",{className:"CookieModal__message"},void 0,(0,s.default)(c.Message,{text:"We use cookies to make your experience more delicious. By continuing to use BambooHR, you agree to our use of cookies in accordance with our [privacy policy](1).",link1:(0,c.ExternalLink)("https://www.bamboohr.com/privacy-policy/")})),(0,s.default)("button",{className:"fab-Button fab-button--large CookieModal__acceptance js-cookie-acceptance",type:"button"},void 0,$.__("Okay, got it"))),hasCloseButton:false,isHeadless:true,isOpen:true,onOpen:()=>v(),type:"custom"})}else{const e={callbacks:{open:{after:()=>v()}},classes:"SimpleModal--white",footer:{show:false},header:{show:false},html:`\n\t\t\t\t<div class="CookieModal BhrModal">\n\t\t\t\t\t<ba-icon class="baseFillColor" name="cookie-73x75"></ba-icon>\n\t\t\t\t\t<span class="CookieModal__message">\n\t\t\t\t\t\t${$.__("We use cookies to make your experience more delicious. By continuing to use BambooHR, you agree to our use of cookies in accordance with our %1privacy policy%2",'<a href="https://www.bamboohr.com/privacy.php" rel="noopener noreferrer" target="_blank">',"</a>")}.\n\t\t\t\t\t</span>\n\t\t\t\t\t<button class="btn btnLarge btnAction CookieModal__acceptance js-cookie-acceptance" type="button">\n\t\t\t\t\t\t${$.__("Okay, got it")}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t`};u.default.openModal(e)}}const b=()=>{let e="/settings/users/accept_cookies";if(f&&f.isOnboardingUser===true){e="/self_onboarding/packet/accept_cookies"}o.default.post(e).catch((e=>{r.default.set(h,p,{domain:".bamboohr.com",expires:365*5,path:"/",secure:true});window.Rollbar.error("Error when attempting to communicate cookie acceptance. Set cookie via the FE.",e)}));if(g){window.BambooHR.Modal.setState({isOpen:false})}else{u.default.closeModal()}}},80188:(e,t,i)=>{"use strict";var $=i(992005);var jQuery=i(992005);var n=i(565862);Object.defineProperty(t,"__esModule",{value:true});t.showMaskedValue=p;t.handleFormChange=w;t.markFormChanged=y;t.enableFormChangeTracking=S;t.registerModalLink=E;t.showNewCurrencyPicker=T;t.importAddress=O;t.addTasklist=F;t.renameTasklist=M;t.deleteTasklist=P;t.bhrFormCancel=I;Object.defineProperty(t,"validateEmail",{enumerable:true,get:function(){return d.validateEmail}});var s=n(i(856075));var a=n(i(573674));var r=i(273641);var o=n(i(417842));var l=i(121198);var d=i(774548);var u=i(108201);var c=i(845382);var f=i(479706);var h=n(i(45181));i(760747);function p(e){$("."+e).css("display","none");$("."+e+"_value").css("display","inline-block")}const g=(0,f.isEnabled)("jade");function m(e){e+="";while(e.indexOf(window.GLOBAL_THOUSANDS_SEPARATOR)!=-1){e=e.replace(window.GLOBAL_THOUSANDS_SEPARATOR,"")}let t=e.split(window.GLOBAL_DECIMAL_CHAR);let i=t[0];let n=t.length>1?window.GLOBAL_DECIMAL_CHAR+t[1]:"";var s=/(\d+)(\d{3})/;while(s.test(i)){i=i.replace(s,"$1"+window.GLOBAL_THOUSANDS_SEPARATOR+"$2")}return i+n}(function($){jQuery.fn.toggleSwitch=function(){$(this).each((function(e,t){$(`\n\t\t\t\t<input\n\t\t\t\t\ttype="hidden"\n\t\t\t\t\tname="${xmlEntities(t.name)}"\n\t\t\t\t\tvalue="${xmlEntities(t.value)}"\n\t\t\t\t\t${t.checked?"":'disabled="disabled"'}\n\t\t\t\t/>\n\t\t\t\t<span class="toggleSwitch ${t.checked?"":"off"}"></span>\n\t\t\t`).insertAfter(t);$(t).remove();$(`input[name="${t.name}"]`).next("span").click((function(){if($(this).prev("input").is(":disabled")){$(this).removeClass("off").prev("input").removeAttr("disabled")}else{$(this).addClass("off").prev("input").attr("disabled","disabled")}}))}))};jQuery.fn.serializeIncludeDisabled=function(){let e=this.find(":input:disabled").removeAttr("disabled");let t=this.serialize();e.attr("disabled","disabled");return t}})(jQuery);(function($){$.fn.formatCurrency=function(e){e=jQuery.extend({decimal:".",global:true,name:"formatCurrency",oldSymbol:"",position:0,symbol:"$",thousands:",",useHtml:false},e);function t(t){var i=new RegExp("[^-0-9.,]+","gi");var n="";if(e.thousands!==""){n=new RegExp("\\"+e.thousands,"gi")}t=t.replace(e.symbol,"").replace(i,"").replace(n,"");if(e.decimal===t[0]){t="0"+t}return Number(t.replace(",",".").replace(/^(-?)([^0-9-]+)/,"$1"))}return this.each((function(){var i=$(this)[e.useHtml?"html":"val"]();if(i!==""){i=t(i);if(isNaN(i)){i="0"}var n=i==(i=Math.abs(i));i=Math.floor(i*100+.50000000001);var s=i%100;i=Math.floor(i/100).toString();if(s<10){s="0"+s}for(var a=0;a<Math.floor((i.length-(1+a))/3);a++){i=i.substring(0,i.length-(4*a+3))+e.thousands+i.substring(i.length-(4*a+3))}let r=e.position?(n?"":"-")+i+e.decimal+s+e.symbol:(n?"":"-")+e.symbol+i+e.decimal+s;$(this)[e.useHtml?"html":"val"](r)}}))}})(jQuery);function v(e,t,i){var n=$("#"+e).val();var s=n.length;if(s>t){$("#"+i).html($.__("You cannot write more then %1 characters!",t));$("#"+e).val(n.substr(0,t));return false}$("#"+i).html($.__("This field can accept %1 more characters.",t-s));return true}function w(e,t,i){if(e&&typeof e==="string"&&e!==""&&e!==`javascript:void(0)`&&!~e.indexOf("#")&&window.formChanged){if(t&&t.preventDefault){t.preventDefault()}const i=typeof window.customFormChangedAction==="function"?window.customFormChangedAction:null;b($(`#${window.trackedFormId}`),e,i);return false}if(i){i()}}$((function(){if(!(0,r.isUndefined)($('.calendar-field:not([name*=":idx:"])').bhrdatepicker)){try{$('.calendar-field:not([name*=":idx:"])').bhrdatepicker(window.HSHQ_DATEPICKER_OPTIONS).attr("autocomplete","off")}catch(e){Rollbar.error("Error setting bhrdatepicker with window.HSHQ_DATEPICKER_OPTIONS",{error:e,options:window.HSHQ_DATEPICKER_OPTIONS})}$('.calendar-field:not([name*=":idx:"])').each((function(){if($(this).attr("defaultDate")!==""){$(this).datepicker("option","defaultDate",$(this).attr("defaultDate"))}}))}$(document).click((function(e){var t=$(e.target);if(t.closest("#ui-datepicker-div").prop("tagName")!=="DIV"&&!t.closest(".ui-datepicker").hasClass("ui-datepicker")&&!t.closest(".ui-icon").hasClass("ui-icon")&&!t.closest(".ui-datepicker-next").hasClass("ui-datepicker-next")&&!t.closest(".ui-datepicker-prev").hasClass("ui-datepicker-prev")&&!t.closest(".hasDatepicker").hasClass("hasDatepicker")){$(".hasDatepicker").datepicker("hide")}}));$(document).on("blur",`.currency-field:not('.dynamic-field-react')`,(function(){var e=$(this).data("thousands-separator")||window.GLOBAL_THOUSANDS_SEPARATOR||",";var t=$(this).data("decimal-char")||window.GLOBAL_DECIMAL_CHAR||".";var i=window.GLOBAL_CURRENCY_SYMBOL||"$";var n=i;i=$(this).data("cursymbol")||n;$(this).formatCurrency({decimal:t,oldSymbol:$(this).data("oldcursymbol"),position:$(this).data("currencysymbolposition"),symbol:i,thousands:e}).trigger("bhr:format")}));$(document).on("blur",".percent-field",(function(){var e=$(this).val();var t=new RegExp("[^-?0-9.,]+","gi");var i=e.replace(t,"");var n=window.GLOBAL_DECIMAL_CHAR||".";if(i.indexOf(n)>0){i=i.replace(new RegExp("\\"+n+"*?(0)*$"),"")}if(i!=""){i+="%"}$(this).val(i)}));$("body").on("blur",".number-field:not(.no-commas)",(function(){this.value=m(this.value);$(this).trigger("bhr:format")}));$("body").on("click",`a[target!='_blank']:not('.history-modal,.no-form-changed-popup')`,(function(e){w(this.href,e)}));$("#quicksearchform").submit((function(){var e=$(this);if(window.formChanged){return modalDialogAlert($.__("Discard Changes"),$.__("Do you want to discard your changes?"),$.__("Yes"),(function(){window.formChanged=false;e.submit()}),"",{cancel_message:$.__("No")})}}));$("body").on("focus",".BhrForms input[type='text'], .BhrForms input[type='email']",(function(){$(this).parent(".inputIcons").addClass("focused");$(this).parent(".inputGrabHandle").addClass("focused")}));$("body").on("blur",".BhrForms input[type='text'], .BhrForms input[type='email']",(function(){$(this).parent(".inputIcons").removeClass("focused");$(this).parent(".inputGrabHandle").removeClass("focused")}))}));function b(e,t,i){const n=e.validate();if(g){window.BambooHR.Modal.setState({headline:$.__(`You haven't saved your changes`),dangerousContent:`<div class="Forms__confirmationMessage">${$.__("Your changes will be lost if you navigate away from this page without saving.")}</div>`,icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,isProcessing:false,primaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);if(typeof i==="function"){i()}else{e.submit();if(n.numberOfInvalids()>0){window.BambooHR.Modal.setState({isOpen:false})}}},primaryActionText:$.__("Save Changes"),secondaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);window.location=t},secondaryActionText:$.__(`Don't Save`),title:$.__("Just Checking...")});return}let s={title:$.__("Just Checking..."),html:window.microTemplate(h.default,{}),footer:{show:true,buttons:{primary:{show:true,text:$.__("Save Changes"),action:function(){if(typeof i==="function"){SimpleModal.Footer.Buttons.Primary.startProcessing();SimpleModal.Footer.Buttons.Secondary.disable();i()}else{e.submit();if(n.numberOfInvalids()===0){SimpleModal.Footer.Buttons.Primary.startProcessing();SimpleModal.Footer.Buttons.Secondary.disable()}}}},secondary:{show:true,text:$.__(`Don't Save`),action:function(){SimpleModal.Footer.Buttons.Primary.disable();SimpleModal.Footer.Buttons.Secondary.startProcessing();window.location=t}},cancel:{show:true}}}};window.SimpleModal.openModal(s)}function y(){window.formChanged=true}window.trackedFormId=(0,r.isUndefined)(window.trackedFormId)?false:window.trackedFormId;function S(e){let t=$(e);let i=t.attr("id");if(!t.length||!i){return}window.trackedFormId=t.attr("id");t.find("input,textarea,select").filter(":not(.control-field):not(.js-no-sticky-footer)").change(y);t.find("input[type=checkbox]").click(y);t.on("ba:selectChange",y)}function E(e,t,i,n,a,l){$(e).live("click",(function(){var e=$(this);var d={cancel_message:$.__("Cancel"),open_callback:function(){e.removeAttr("modalClicked")},initCompensationModal:function(){if($("#historyEdit.CompensationForm").length>0){window.Employees.Job.CompensationForm.initializeForm("updateCompensation")}}};if(!(0,r.isUndefined)(a)){$.extend(d,a)}if(e.attr("modalClicked")!=="true"){e.attr("modalClicked","true");let r="small";let u=null;let f=null;if(e.data("modal-size")){r=e.data("modal-size")}if(window.Employee){const{jobTitle:e,lastName:t,photoURL:i,preferredName:n}=window.Employee;const a=i||"/images/photo_person_150x150.png";const r=`${n} ${t}`;u=(0,s.default)("div",{className:"historyModalHeader"},void 0,(0,s.default)("img",{className:"historyModalHeader__avatar",src:(0,c.convertHTMLEntitiesInString)(a)}),(0,s.default)("span",{className:"historyModalHeader__info"},void 0,(0,s.default)("div",{className:"historyModalHeader__infoName",dangerouslySetInnerHTML:{__html:r}}),(0,s.default)("div",{className:"historyModalHeader__infoTitle",dangerouslySetInnerHTML:{__html:e}})));f="filled"}window.BambooHR.Modal.setState({alternativeActionText:d.cancel_message,biId:"employee-benefits-add-dependent",content:(0,s.default)("div",{id:"historyModalContent"}),isLoading:true,header:u,headerType:f,isOpen:true,primaryAction:function(){event.preventDefault();if(window.GLOBAL_IS_ASSUMED_USER){window.disabledForPermsTest()}else{var e=$("#fabricModalContent");var t=e.find("form[bhrvalidate-initiated]");window.modalIdSelector=e.selector;if(t.length>0&&!t.valid()){return}window.modalSubmit(n,l)}},primaryActionText:i,title:t,type:r});o.default.get(e.attr("url")).then((e=>{const t=$("#historyModalContent");t.html(e.data);const i=t.find("h3");const n=`${$.__("Update")} ${i.first().text()}`;i.remove();window.BambooHR.Modal.setState({isLoading:false,title:n},true);window.setTimeout((()=>{if($("#historyEdit.CompensationForm").length>0){window.Employees.Job.CompensationForm.setupForm("updateCompensation")}if($.isPlainObject(a)&&!a.omit_validation&&$.isFunction($.fn.bhrValidate)){t.find('.BhrForms:not(".js-noValidate")').bhrValidate({})}d.open_callback();d.initCompensationModal();t.initializeElements();if(typeof window.addTooltipsToDisabledRequestFields==="function"){window.addTooltipsToDisabledRequestFields()}if(t.find("div.js-EmploymentStatusForm").length===1){window.Employees.Job.EmploymentStatusModal.updateTaxTypeInitialOptions(t.find('[name="employmentStatusId"]').find("[selected]").attr("value"))}}))})).catch((()=>{window.BambooHR.Modal.setState({isLoading:false,isOpen:false});window.setMessage("An error has occurred while getting the data. Please reload the page and try again.","error")}))}return false}))}var C;function x(e){const t=e.siblings(".js-overtime-rate, .js-overtimeRate, .js-rate").length>0;return!t?{}:(0,u.getFormPayRollDetails)(e)}function T(e,t,i,n,s){const{employeeId:a,payScheduleId:o=null}=x($(e));let d=$(e).data("employee-id")||a;if(o!==null){d=null}var u=$(t);if((0,r.isUndefined)(i)){i=$(t+"_code")}C=$("#newCurrencyPickerWidget");if(C.length===0){$.getJSON("/ajax/get_currency",{field:t,employeeId:d,payScheduleId:o},(function(t){C=$('<div id="newCurrencyPickerWidget"><ul></ul></div>').hide();let a=C.find("ul");$.each(t.data,(function(t,r){let o;if(t==4){o=$('<li class="divider"><hr></li>');o.appendTo(a)}o=$(`\n\t\t\t\t\t<li class="linkColor baseBgColor-hover">\n\t\t\t\t\t\t<span class="code">${window.js(this.code)}</span> - ${this.name}\n\t\t\t\t\t</li>`);o.data("cursymbol",this.symbol).data("curid",this.id);o.bind("click.bhr.selectCurrency",(function(t){t.stopPropagation();var a=$(this);u.data("oldcursymbol",u.data("cursymbol"));u.data("cursymbol",a.data("cursymbol"));u.data("currencysymbolposition",r.symbolPosition);$(i).val(r.code).trigger("change");u.blur();$(e).text(r.code);if(s){$(s).text(r.code)}$(".pickerOn").removeClass("pickerOn");C.hide().remove();if(typeof n==="function"){n()}$(document).unbind("click.bhr.currencyHideWidget")}));o.appendTo(a)}));if($(".ui-dialog").length>0){C.css("z-index",$(".ui-dialog").css("z-index"))}C.appendTo("body");T(e,t.field,i)}))}else{e=$(e);e.addClass("pickerOn");k();C.show();var c=(0,l.getMaxZIndex)()+1;C.css("z-index",c);$(document).bind("click.bhr.currencyHideWidget",(function(t){e.removeClass("pickerOn");$("#newCurrencyPickerWidget").hide().remove();if(typeof n==="function"){n()}$(document).unbind("click.bhr.currencyHideWidget")}))}}function k(){var e=$(".pickerOn");let t=0;if(g){const e=getComputedStyle(document.body);if(e.position==="fixed"){t=parseInt(e.top.replace("px",""))}}if(e.length){C.css({top:(0,d.getRelativePosition)(e,"bottom")-t,left:(0,d.getRelativePosition)(e,"left")})}}function O(e){var t=$(e).data("params");const{countryId:i,stateId:n}=t;const s=$("[name=countryId]");$(":input[name=stateId]").attr("data-csz-value",n);if(i){s.val(i);s.trigger("ba:selectChange")}$.each(t,(function(e,t){if(e!="countryId"&&e!="stateId"){$("[name="+e+"]").val(t);if(t!==""){$("[name="+e+"]").trigger("paste")}}}))}$((function(){$(window).resize((function(){k()}))}));$(".js-pdf-export").bind("click",(function(e){e.preventDefault();const t=this.getAttribute("href");const i=this.getAttribute("hide-font-size");const n=this.dataset.orientations?this.dataset.orientations.split(/\s+/):[];const s={hideFontSize:i};if(n.length){s.orientations=n}window.Reports.exportPdf(t,s)}));function F(){return ajaxModalDialog($.__("Add a new tasklist"),"/ajax/dialog/manage/tasklist/add_tasklist.php",$.__("Save"),(function(){if($.trim($("#add_tasklist input").val())===""){var e=$.__("Please enter a tasklist name.");if($("#add_tasklist p.please").html()!=e){$("#add_tasklist").append("<p class='please'>"+e+"</p>")}}else{modalFormSubmit($("#add_tasklist")[0],(function(e){if(e.ret=="SAVED"){document.location.reload()}}))}}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function M(e){return ajaxModalDialog($.__("Rename Selected Tasklist"),"/ajax/dialog/manage/tasklist/rename_tasklist.php?id="+e,$.__("Save"),(function(){if($.trim($("#rename_tasklist input").val())===""){var e=$.__("Please enter a tasklist name.");if($("#rename_tasklist p.please").html()!=e){$("#rename_tasklist").append("<p class='please'>"+e+"</p>")}}else{modalFormSubmit($("#rename_tasklist")[0],(function(e){if(e.ret=="SAVED"){document.location.reload()}}))}}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function P(e){return ajaxModalDialog($.__("Delete Selected Tasklist"),"/ajax/dialog/manage/tasklist/delete_tasklist.php?id="+e,$.__("Yes"),(function(){modalFormSubmit($("#delete_tasklist")[0],(function(e){if(e.ret=="DELETED"){document.location.reload()}}))}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function I(e,t){var i=$(".BhrPage-wrap + footer:not(.SiteFooter)");$(e).addClass("BhrForms--view");if(!t){$(e).trigger("reset");const t=document.querySelector(e);if(t){t.querySelectorAll("ba-select").forEach((e=>e.__ba.resetSelect()));if($(e)&&$(e).data("validator")&&$(e).data("validator").resetForm){$(e).data("validator").resetForm()}}}$(e).addClass("BhrForms--view");$("select").trigger("liszt:updated");$(".fieldBox.masked_value").removeAttr("style");$(".fieldBox.masked").removeAttr("style");$(".fieldBox").children(".formNote.error").remove();$(".fieldGroup.validate-group-error").removeClass("validate-group-error");$(".fieldBox.error").removeClass("error");$(".js-country-value-initialized").removeClass("js-country-value-initialized");i.css("bottom","0px");i.addClass("fixedFooter");i.animate({bottom:"-60px"},400,(function(){$(this).removeClass("fixedFooter");$("#content").css("margin-bottom","0px");$("#footerHolder").remove()}));window.formChanged=false}$(document).on("reset",".BhrForms",(function(){var e=$(this).find(":input[data-initial-value]");setTimeout((function(){e.each((function(){var e=$(this);e.val(e.attr("data-initial-value"));if(e.is("select")){e.trigger("liszt:updated")}if(e.is("[class*=bhrToggle]")){e.trigger("change")}if(e.hasClass("currency-field")||e.hasClass("percent-field")){e.blur()}}))}),0)}));$((function(){if($(".BhrForms").find(document.activeElement).length>0){$(".BhrForms").removeClass("BhrForms--view")}$(".BhrForms--view").on("click chzn:chzn-choice-close","input[type=checkbox]:not(:disabled) + label, input[type=radio]:not(:disabled) + label, select:not(:disabled):not(.js-no-sticky-footer) + div.chzn-container, select:not(:disabled):not(.js-no-sticky-footer) + div.chzn-container + .chzn-single > .search-choice-close",(function(){$(this).closest(".BhrForms--view").trigger("focusin")}));$(".BhrForms--view").on("focusin",(function(e){if(this!==e.target&&!$(e.target).is(":focusable")){return false}if($(e.target).closest(".chzn-container").hasClass("js-no-sticky-footer")){e.stopPropagation();return false}if($(e.target).parent(".chzn-container").hasClass("chzn-disabled")||$(e.target).is("a")||$(e.target).parents("ba-select").hasClass("disabled")||$(e.target).parents("ba-select").attr("disabled")==="disabled"){return false}if($(e.target).closest(".js-no-sticky-footer").length===0){document.dispatchEvent(new CustomEvent("SiteFooter:open"))}var t=$("footer:not(.SiteFooter)");$(this).removeClass("BhrForms--view");if(!t.hasClass("fixedFooter")&&!$(this).hasClass("js-no-sticky-footer")){t.after('<div id="footerHolder" style="height: 60px"></div>');t.css("bottom","-60px").addClass("fixedFooter");t.css("display","block");t.animate({bottom:"0px"},400)}$("select:not(.ui-datepicker-month):not(.ui-datepicker-year):visible").chosen(bhrChosenOptions);if(e&&e.target.id&&/_masked$/.test(e.target.id)){$("#"+e.target.id.replace("_masked","")).focus()}$(this).initialTraxValidation()}));$(document).on("modalDialog:closed",(function(){$("#currencyPickerWidget").hide().remove()}));$(document).on("modalDialog:closed",(function(){$("#newCurrencyPickerWidget").hide().remove()}))}));(function(){var e={selector:"[name]",name:null,value:null,action:"show",method:"if",container:"form",class:null},t={show:"hide",hide:"show",addClass:"removeClass",removeClass:"addClass"};$.fn.toggleIf=function(i){i=$.extend({},e,i);i.target=$(this);i.action=(0,d.toCamelCase)(i.action);i.container=this.closest(i.container)||$(document.body);var n=i.container.find(i.selector).filter((function(){if(this.name){return i.name.split("|").indexOf(this.name.toLowerCase())>=0}}));n.each((function(){var e=$(this),s=e.data("toggleIf");if((0,r.isUndefined)(s)){e.data("toggleIf",{});e.on("change",(function(){$.each(e.data("toggleIf"),(function(i,s){$.each(s,(function(s,a){var r=[];$.each(n,(function(){var t=$(this).val();switch(a.method){case"if":r.push(a.value.split("|").indexOf(t)>=0);break;case"in":if(e.is([':not([type="checkbox"]:checked)',':not([type="radio"]:checked)'].join(", "))){r.push(t.indexOf(a.value)>=0)}break;case"re":var i=new RegExp(a.value,"g");r.push(i.exec(t));break;case"gt":break;case"lt":break}}));a.target[r.indexOf(true)>=0?i:t[i]](a.class)}))}))}))}s=e.data("toggleIf")||{};s[i.action]=s[i.action]||[];s[i.action].push(i);e.data("toggleIf",s)})).change()}})();$((function(){var e;if(!(0,r.isUndefined)(document.evaluate)){e=$([].concat((0,d.XPath)("//form//*[@*[starts-with(name(), 'ba-show-')]]"),(0,d.XPath)("//form//*[@*[starts-with(name(), 'ba-hide-')]]"),(0,d.XPath)("//form//*[@*[starts-with(name(), 'ba-add-class-')]]"),(0,d.XPath)("//form//*[@*[starts-with(name(), 'ba-remove-class-')]]"))).hide()}else{e=$("form *")}e.each((function(){var e=$(this);$.each((0,d.toArray)(this.attributes),(function(){var t=this,i=t.name.match(/^ba\W(show|hide|add-class|remove-class)\W?(.+)*?\W(if|in|re|gt|lt)\W(.+)$/);if(i){e.toggleIf({action:i[1],class:i[2],method:i[3],name:i[4],value:t.value})}}))}))}))},620831:(e,t,i)=>{"use strict";i(612931);i(374175);var n=a(i(80188));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(s=function(e){return e?i:t})(e)}function a(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=s(t);if(i&&i.has(e)){return i.get(e)}var n={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e){if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;if(o&&(o.get||o.set)){Object.defineProperty(n,r,o)}else{n[r]=e[r]}}}n.default=e;if(i){i.set(e,n)}return n}Object.assign(window,n)},866736:(e,t,i)=>{"use strict";var n=i(565862);var s=C(i(651745));var a=C(i(446034));var r=i(479706);i(243853);i(620831);i(807923);i(198115);i(886757);i(577193);var o=n(i(20026));var l=i(308127);var d=n(i(469861));var u=n(i(344355));var c=n(i(209365));var f=n(i(658489));var h=n(i(837223));var p=n(i(268069));var g=n(i(184712));var m=n(i(132621));i(511573);var v=C(i(283005));i(174670);i(173280);i(501777);i(440716);i(818114);i(832757);i(295119);i(171445);i(623484);i(988369);i(462804);i(738019);i(431940);var w=C(i(667695));var b=C(i(28e4));var y=i(861840);var S=i(556067);function E(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var i=new WeakMap;return(E=function(e){return e?i:t})(e)}function C(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var i=E(t);if(i&&i.has(e)){return i.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;if(r&&(r.get||r.set)){Object.defineProperty(n,a,r)}else{n[a]=e[a]}}}n.default=e;if(i){i.set(e,n)}return n}window.Fabric=s;window.Recoil=a;const x=(0,r.isEnabled)("jade");window.BambooHR=window.BambooHR||{};if(!x){window.SimpleModal=o.default}if(x){(0,l.initGlobalModal)();(0,l.initLockModal)()}window.lazySigs=function(e,t=null,n){if(typeof n==="function"){n(t)}Promise.resolve().then((()=>C(i(173484)))).then((i=>{window.Esignatures=i.default;e(window.Esignatures,t)}))};window.BambooScrollLock=d.default;window.BambooHR.VirtualPageView=u.default;window.BambooHR.HistoryTable=c.default;window.BambooHR.Balloon=h.default;window.BambooHR.Popover=p.default;window.BambooHR.Tooltip=g.default;window.BambooHR.icon=m.default;Object.assign(window,v);if((0,r.isEnabled)("login_flow")){Promise.resolve().then((()=>C(i(94055)))).then((e=>e))}else{Promise.resolve().then((()=>C(i(946969)))).then((e=>e))}Object.assign(window,w);const{Modal:T,...k}=b;Object.assign(window,k);if(!x){Object.assign(window,{Modal:T})}T.init();window.checkForCookieAcceptance=y.showCookieModal;window.checkAvailableRepeatedly=S.checkAvailableRepeatedly;window.toggleChatAvailability=S.toggleChatAvailability;window.loadSnapEngage=S.loadSnapEngage;window.wireSnapEngage=S.wireSnapEngage},738019:()=>{"use strict";const e=".js-SiteSearch__clear";const t="quicksearchquery";const i=`#${t}`;const n="SiteSearch__input--blurred";const s="SiteSearch__input--focused";const a="SiteSearch__clear--show";document.addEventListener("blur",r,true);document.addEventListener("focus",o,true);document.addEventListener("keyup",l);document.addEventListener("mousedown",d);function r({target:e}){if(e.id===t&&e.value!==""){c(e,"hide")}}function o({target:e}){if(e.id===t&&e.value!==""){c(e,"show")}}function l({target:i}){if(i.id===t){const t=i.parentElement.querySelector(e);if(t){t.classList.toggle(a,i.value)}}}function d({target:t}){const i=t.closest(e);if(i){u(i)}}function u(e){const t=e.parentElement.querySelector(i);t.classList.add(s);if(e.value!==""){c(t,"clear")}window.setTimeout((()=>{t.focus();t.classList.remove(s)}))}function c(t,s){const r=1500;const o=window.innerWidth;const l=t.parentElement.querySelector(i);const d=t.parentElement.querySelector(e);if(d){switch(s){case"clear":t.value="";d.classList.remove(a);break;case"hide":l.classList.add(n);d.classList.remove(a);break;case"show":l.classList.remove(n);d.classList.add(a);if(o<=r){setTimeout((()=>{t.selectionStart=t.value.length}),50)}break}}}},439103:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="',window.microTemplate.encodeHtml(extraClass),'">  <div style="font-family: hvm; opacity: 0; height: 0;">.</div>   <div class="bhrToggle bhrToggle--btn ',window.microTemplate.encodeHtml(extraClass),'__toggle js-eSignature-toggle">    <div class="bhrToggle bhrToggle--btn">     <input name="eSignatureToggle" type="radio" id="eSignature_toggle1" class="bhrToggle--btn-1" value="draw" checked="">    <label for="eSignature_toggle1" class="bhrToggle__label bhrToggle--btn__label">',window.microTemplate.encodeHtml($.__("Draw")),'</label>     <input name="eSignatureToggle" type="radio" id="eSignature_toggle2" class="bhrToggle--btn-2" value="type">    <label for="eSignature_toggle2" class="bhrToggle__label bhrToggle--btn__label">',window.microTemplate.encodeHtml($.__("Type")),'</label>     <span class="bhrToggle__handle bhrToggle--btn__handle brandedToggle"></span>   </div>   </div>   <div class="',window.microTemplate.encodeHtml(extraClass),'__actions">   <span class="',window.microTemplate.encodeHtml(extraClass),"__actions_tips ",window.microTemplate.encodeHtml(extraClass),'__actions_tips--type js-esignature-tip js-esignature-type">    ',window.microTemplate.encodeHtml(typeText),'   </span>    <span class="',window.microTemplate.encodeHtml(extraClass),"__actions_tips ",window.microTemplate.encodeHtml(extraClass),'__actions_tips--draw js-esignature-tip js-esignature-draw mobileHide">    ',window.microTemplate.encodeHtml(drawText),'   </span>   <span class="',window.microTemplate.encodeHtml(extraClass),"__actions_tips ",window.microTemplate.encodeHtml(extraClass),'__actions_tips--draw js-esignature-tip js-esignature-draw hidden mobileOnly--block">    ',window.microTemplate.encodeHtml($.__("Draw your signature with your finger…")),'   </span>  </div>   <span class="',window.microTemplate.encodeHtml(extraClass),'__actions_clear js-esignature-clear">',window.microTemplate.encodeHtml($.__("Clear")),'</span>   <div class="',window.microTemplate.encodeHtml(extraClass),'__pad"></div>   <canvas class="js-eSignature-canvas ',window.microTemplate.encodeHtml(extraClass),'__canvas" height="',window.microTemplate.encodeHtml(height),'"   width="',window.microTemplate.encodeHtml(width),'"></canvas>  <canvas class="js-eSignature-dummy ',window.microTemplate.encodeHtml(extraClass),'__canvas" style="display:none;" height="',window.microTemplate.encodeHtml(height),'"   width="',window.microTemplate.encodeHtml(width),'"></canvas>   <div class="js-eSignature-type ',window.microTemplate.encodeHtml(extraClass),'__type" contenteditable="true"></div>  </div> ')}return p.join("")}},45181:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(992005);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div style="padding: 20px 20px 25px;">  <div class="navigateAwayModal" style="width: 410px;">   <img src="/images/bicons/warning-icon-lrg.png"/>   <div class="navHeader">    ',window.microTemplate.encodeHtml($.__("You haven't saved your changes")),'   </div>   <p class="navMessage">    ',window.microTemplate.encodeHtml($.__("Your changes will be lost if you navigate away from this page without saving.")),"   </p>  </div> </div>")}return p.join("")}}},e=>{"use strict";var t=t=>e(e.s=t);e.O(0,[4736],(()=>t(866736)));var i=e.O()}])}catch(e){const message=e&&(e.message||"Exception contains no error message");if(window.Rollbar&&typeof window.Rollbar.error==="function"){console.log("Logging error to Rollbar.");window.Rollbar.error("Error Handler Plugin: global.cae608e4.dist.js - "+message,e)}else{console.log("Could not find Rollbar to log error.");throw e}}